"use strict";(self.webpackChunkTS24AppWeb=self.webpackChunkTS24AppWeb||[]).push([[179],{8267:(An,Dt,H)=>{H.d(Dt,{J8Z:()=>Xs,nv3:()=>ol,jkc:()=>Cu,$zI:()=>Io,H1u:()=>Rf,sJC:()=>yp,O_3:()=>yd,wSp:()=>z0,j_S:()=>ls,LQq:()=>S0,wGv:()=>Gh,h7_:()=>kf,nN0:()=>zf,Cvn:()=>wf,fsG:()=>ce,Nk3:()=>J2,Vu6:()=>bn,AS9:()=>yn,StC:()=>Na,Dkq:()=>$o,j_r:()=>Lr,Ilk:()=>Wo,sgG:()=>Rt,Exx:()=>Or,wA2:()=>ai,plv:()=>Pa,gTE:()=>St,fQL:()=>tp,jUB:()=>La,rvo:()=>Qs,POd:()=>ar,zW2:()=>Ye,nPL:()=>hc,rjZ:()=>em,wfB:()=>hr,fkf:()=>ns,poj:()=>Gl,VDZ:()=>Rn,D_6:()=>Yo,GXE:()=>_n,O3h:()=>jn,at1:()=>su,FiY:()=>Lt,RXH:()=>Ac,Gxm:()=>gd,NqP:()=>Gt,$j7:()=>qn,FXL:()=>vn,KTm:()=>fr,AGU:()=>cu,qaB:()=>We,cqo:()=>Pn,oh5:()=>pu,Fxk:()=>_i,NlK:()=>Hf,Lm6:()=>zd,Qk6:()=>$g,BxR:()=>Uc,WD6:()=>O8,QVL:()=>Gp,rwP:()=>Es,vA3:()=>sd,HO_:()=>Rc,CPJ:()=>Q2,_:()=>au});var M={};H.r(M),H.d(M,{attrToBoolean:()=>je,attrToNumber:()=>Ct,attrToString:()=>yt,defaultComparator:()=>ln,exists:()=>ue,jsonEquals:()=>Et,makeNull:()=>Yt,missing:()=>at,missingOrEmpty:()=>De,referenceCompare:()=>It,toStringOrNull:()=>Qe,values:()=>ht});var G={};H.r(G),H.d(G,{cloneObject:()=>Zt,copyPropertiesIfPresent:()=>gr,copyPropertyIfPresent:()=>_r,deepCloneDefinition:()=>Xt,deepCloneObject:()=>wt,deepFreeze:()=>Er,get:()=>Ii,getAllKeysInObjects:()=>mi,getAllValuesInObject:()=>ri,getProperty:()=>Kn,getValueUsingField:()=>Kr,isNonNullObject:()=>ci,iterateObject:()=>qe,mergeDeep:()=>Dr,missingOrEmptyObject:()=>Gi,removeAllReferences:()=>Ti,set:()=>Ni,setProperty:()=>or});var B={};H.r(B),H.d(B,{callIfPresent:()=>gn,compose:()=>en,debounce:()=>ze,doOnce:()=>Qn,executeAfter:()=>ye,executeInAWhile:()=>Re,executeNextVMTurn:()=>Me,getFunctionName:()=>Ht,getFunctionParameters:()=>Se,isFunction:()=>rt,waitUntil:()=>ut});var Le={};H.r(Le),H.d(Le,{areEqual:()=>Ge,compareArrays:()=>Wt,existsAndNotEmpty:()=>$e,firstExistingValue:()=>vt,flatten:()=>kn,forEachReverse:()=>Zi,includes:()=>Xr,insertArrayIntoArray:()=>Pr,insertIntoArray:()=>Mr,last:()=>bt,moveInArray:()=>Bi,pushAll:()=>Sr,removeAllFromArray:()=>pr,removeFromArray:()=>zn,removeRepeatsFromArray:()=>Tn,shallowCompare:()=>ge,sortNumerically:()=>Mt,toStrings:()=>ui});var Ne={};H.r(Ne),H.d(Ne,{addAgGridEventPath:()=>qi,addChangeListener:()=>ti,addSafePassiveEventListener:()=>Po,createEventPath:()=>zo,getCtrlForEvent:()=>Oo,getEventPath:()=>rn,isElementInEventPath:()=>mo,isEventSupported:()=>ko,isStopPropagationForAgGrid:()=>$i,stopPropagationForAgGrid:()=>Wi});var Ue={};H.r(Ue),H.d(Ue,{camelCaseToHumanText:()=>Hs,camelCaseToHyphen:()=>ms,capitalise:()=>ys,escapeString:()=>Co,hyphenToCamelCase:()=>oa,utf8_encode:()=>co});var Ze={};H.r(Ze),H.d(Ze,{convertToMap:()=>Ta,keys:()=>tc,mapById:()=>Pl});var nt={};H.r(nt),H.d(nt,{getBodyHeight:()=>mr,getBodyWidth:()=>io,getMaxDivHeight:()=>di,getScrollbarWidth:()=>ji,getTabIndex:()=>Yr,hasOverflowScrolling:()=>va,isBrowserChrome:()=>tr,isBrowserEdge:()=>an,isBrowserFirefox:()=>Si,isBrowserSafari:()=>mn,isIOSUserAgent:()=>ni,isInvisibleScrollbar:()=>Pi});var Je={};H.r(Je),H.d(Je,{addOrRemoveAttribute:()=>po,addStylesToElement:()=>He,appendHtml:()=>nn,clearElement:()=>j,copyNodeList:()=>wi,ensureDomOrder:()=>P,formatSize:()=>br,getAbsoluteHeight:()=>Rr,getAbsoluteWidth:()=>bo,getElementAttribute:()=>ir,getElementSize:()=>ie,getInnerHeight:()=>Kt,getInnerWidth:()=>Jn,getScrollLeft:()=>wo,insertWithDomOrder:()=>$,isElement:()=>wr,isElementChildOfClass:()=>K,isFocusableFormField:()=>ss,isHorizontalScrollShowing:()=>dt,isNode:()=>Wr,isNodeOrElement:()=>Fr,isRtlNegativeScroll:()=>Ao,isVerticalScrollShowing:()=>ft,isVisible:()=>Ve,iterateNamedNodeMap:()=>Qi,loadTemplate:()=>_t,nodeListForEach:()=>yi,offsetHeight:()=>Jr,offsetWidth:()=>se,prependDC:()=>me,radioCssClass:()=>Aa,removeElement:()=>ae,removeFromParent:()=>X,setCheckboxState:()=>oo,setDisabled:()=>q,setDisplayed:()=>Di,setDomChildOrder:()=>L,setElementHeight:()=>Gn,setElementWidth:()=>Bt,setFixedHeight:()=>Bn,setFixedWidth:()=>tn,setScrollLeft:()=>Ra,setVisible:()=>ne});var Fe={};H.r(Fe),H.d(Fe,{bindCellRendererToHtmlElement:()=>ao,cssStyleObjectToMarkup:()=>So,findLineByLeastSquares:()=>Oi,getNameOfClass:()=>Ro,message:()=>sa});var we={};H.r(we),H.d(we,{getAriaDescribedBy:()=>Tr,getAriaLevel:()=>Us,getAriaPosInSet:()=>nr,getAriaSortState:()=>js,removeAriaExpanded:()=>Fi,removeAriaSort:()=>Fh,setAriaChecked:()=>Mp,setAriaColCount:()=>Ys,setAriaColIndex:()=>fo,setAriaColSpan:()=>Gu,setAriaDescribedBy:()=>eo,setAriaDisabled:()=>Fo,setAriaExpanded:()=>Ui,setAriaLabel:()=>xr,setAriaLabelledBy:()=>sr,setAriaLevel:()=>Ya,setAriaMultiSelectable:()=>la,setAriaPosInSet:()=>iu,setAriaRole:()=>ro,setAriaRowCount:()=>Rl,setAriaRowIndex:()=>Fa,setAriaSelected:()=>Ks,setAriaSetSize:()=>Ka,setAriaSort:()=>Ed});var Ae={};H.r(Ae),H.d(Ae,{stringToArray:()=>Ss});var ot={};H.r(ot),H.d(ot,{cleanNumber:()=>Fl,createArrayOfNumbers:()=>Bu,decToHex:()=>Pp,formatNumberCommas:()=>z,formatNumberTwoDecimalPlacesAndCommas:()=>W,isNumeric:()=>Dd,padStartWidthZeros:()=>ma,sum:()=>N});var lt={};H.r(lt),H.d(lt,{parseDateTimeFromString:()=>Oe,serialiseDate:()=>re});var mt={};H.r(mt),H.d(mt,{fuzzyCheckStrings:()=>st,fuzzySuggestions:()=>Tt,get_bigrams:()=>pn,string_distances:()=>cr,string_weighted_distances:()=>oi});var zt={};H.r(zt),H.d(zt,{createIcon:()=>fi,createIconNoSpan:()=>Gr,iconNameClassMap:()=>yr});var gt={};H.r(gt),H.d(gt,{isEventFromPrintableCharacter:()=>Oc,isUserSuppressingHeaderKeyboardEvent:()=>xc,isUserSuppressingKeyboardEvent:()=>Tc});var fn={};H.r(fn),H.d(fn,{areEventsNear:()=>Ap});var w={};H.r(w),H.d(w,{sortRowNodesByOrder:()=>f1,traverseNodesWithKey:()=>Od});var Vn={};function Yt(u){return null==u||""===u?null:u}function ue(u,i){return void 0===i&&(i=!1),null!=u&&(""!==u||i)}function at(u){return!ue(u)}function De(u){return null==u||0===u.length}function Qe(u){return null!=u&&"function"==typeof u.toString?u.toString():null}function Ct(u){if(void 0!==u){if(null===u||""===u)return null;if("number"==typeof u)return isNaN(u)?void 0:u;var i=parseInt(u,10);return isNaN(i)?void 0:i}}function je(u){if(void 0!==u)return null!==u&&""!==u&&("boolean"==typeof u?u:/true/i.test(u))}function yt(u){if(null!=u&&""!==u)return u}function It(u,i){return null==u&&null==i||!(null==u&&null!=i||null!=u&&null==i)&&u===i}function Et(u,i){return(u?JSON.stringify(u):null)===(i?JSON.stringify(i):null)}function ln(u,i,n){void 0===n&&(n=!1);var a=null==u,c=null==i;if(u&&u.toNumber&&(u=u.toNumber()),i&&i.toNumber&&(i=i.toNumber()),a&&c)return 0;if(a)return-1;if(c)return 1;function d(v,C){return v>C?1:v<C?-1:0}if("string"!=typeof u||!n)return d(u,i);try{return u.localeCompare(i)}catch(v){return d(u,i)}}function ht(u){if(u instanceof Set||u instanceof Map){var i=[];return u.forEach(function(n){return i.push(n)}),i}return Object.values(u)}H.r(Vn),H.d(Vn,{convertToSet:()=>ou});var Sn=function(){function u(){this.existingKeys={}}return u.prototype.addExistingKeys=function(i){for(var n=0;n<i.length;n++)this.existingKeys[i[n]]=!0},u.prototype.getUniqueKey=function(i,n){i=Qe(i);for(var a=0;;){var c=void 0;if(i?(c=i,0!==a&&(c+="_"+a)):n?(c=n,0!==a&&(c+="_"+a)):c=""+a,!this.existingKeys[c])return this.existingKeys[c]=!0,c;a++}},u}();function qe(u,i){null!=u&&(Array.isArray(u)?u.forEach(function(n,a){return i(""+a,n)}):Object.keys(u).forEach(function(n){return i(n,u[n])}))}function Zt(u){for(var i={},n=Object.keys(u),a=0;a<n.length;a++){var c=n[a];i[c]=u[c]}return i}function wt(u){return JSON.parse(JSON.stringify(u))}function Xt(u,i){if(u){var n=u,a={};return Object.keys(n).forEach(function(c){if(!(i&&i.indexOf(c)>=0)){var d=n[c],v=ci(d)&&d.constructor===Object;a[c]=v?Xt(d):d}}),a}}function Kn(u,i){return u[i]}function or(u,i,n){u[i]=n}function gr(u,i){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];n.forEach(function(c){return _r(u,i,c)})}function _r(u,i,n,a){var c=Kn(u,n);void 0!==c&&or(i,n,a?a(c):c)}function mi(u){var i={};return u.filter(function(n){return null!=n}).forEach(function(n){Object.keys(n).forEach(function(a){return i[a]=null})}),Object.keys(i)}function ri(u){if(!u)return[];var i=Object;if("function"==typeof i.values)return i.values(u);var n=[];for(var a in u)u.hasOwnProperty(a)&&u.propertyIsEnumerable(a)&&n.push(u[a]);return n}function Dr(u,i,n,a){void 0===n&&(n=!0),void 0===a&&(a=!1),ue(i)&&qe(i,function(c,d){var v=u[c];v!==d&&(a&&null==v&&null!=d&&"object"==typeof d&&d.constructor===Object&&(u[c]=v={}),ci(d)&&ci(v)&&!Array.isArray(v)?Dr(v,d,n,a):(n||void 0!==d)&&(u[c]=d))})}function Gi(u){return at(u)||0===Object.keys(u).length}function Ii(u,i,n){if(null==u)return n;for(var a=i.split("."),c=u;a.length>1;)if(null==(c=c[a.shift()]))return n;var d=c[a[0]];return null!=d?d:n}function Ni(u,i,n){if(null!=u){for(var a=i.split("."),c=u;a.length>1;)if(null==(c=c[a.shift()]))return;c[a[0]]=n}}function Er(u){return Object.freeze(u),ht(u).forEach(function(i){(ci(i)||"function"==typeof i)&&Er(i)}),u}function Kr(u,i,n){if(i&&u){if(!n)return u[i];for(var a=i.split("."),c=u,d=0;d<a.length;d++){if(null==c)return;c=c[a[d]]}return c}}function Ti(u,i){Object.keys(u).forEach(function(c){"object"==typeof u[c]&&(u[c]=void 0)});var n=Object.getPrototypeOf(u),a={};Object.keys(n).forEach(function(c){"function"==typeof n[c]&&(a[c]={value:function(){console.warn("AG Grid: "+i+" function "+c+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(u,a)}function ci(u){return"object"==typeof u&&null!==u}var no=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Zn=/([^\s,]+)/g,Ur={};function Qn(u,i){Ur[i]||(u(),Ur[i]=!0)}function Ht(u){if(u.name)return u.name;var i=/function\s+([^\(]+)/.exec(u.toString());return i&&2===i.length?i[1].trim():null}function Se(u){var i=u.toString().replace(no,"");return i.slice(i.indexOf("(")+1,i.indexOf(")")).match(Zn)||[]}function rt(u){return!!(u&&u.constructor&&u.call&&u.apply)}function Re(u){ye(u,400)}var xe=[],oe=!1;function Me(u){xe.push(u),!oe&&(oe=!0,window.setTimeout(function(){var i=xe.slice();xe.length=0,oe=!1,i.forEach(function(n){return n()})},0))}function ye(u,i){void 0===i&&(i=0),u.length>0&&window.setTimeout(function(){return u.forEach(function(n){return n()})},i)}function ze(u,i,n){var a;return void 0===n&&(n=!1),function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var v=this,C=n&&!a;window.clearTimeout(a),a=window.setTimeout(function(){a=null,n||u.apply(v,c)},i),C&&u.apply(v,c)}}function ut(u,i,n,a){void 0===n&&(n=100);var c=(new Date).getTime(),d=null,v=!1,C=function(){var x=(new Date).getTime()-c>n;(u()||x)&&(i(),v=!0,null!=d&&(window.clearInterval(d),d=null),x&&a&&console.warn(a))};C(),v||(d=window.setInterval(C,10))}function en(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];return function(n){return u.reduce(function(a,c){return c(a)},n)}}function gn(u){u&&u()}var Nn=function(){function u(i,n){if(this.beanWrappers={},this.destroyed=!1,i&&i.beanClasses){this.contextParams=i,this.logger=n,this.logger.log(">> creating ag-Application Context"),this.createBeans();var a=this.getBeanInstances();this.wireBeans(a),this.logger.log(">> ag-Application Context ready - component is alive")}}return u.prototype.getBeanInstances=function(){return ht(this.beanWrappers).map(function(i){return i.beanInstance})},u.prototype.createBean=function(i,n){if(!i)throw Error("Can't wire to bean since it is null");return this.wireBeans([i],n),i},u.prototype.wireBeans=function(i,n){this.autoWireBeans(i),this.methodWireBeans(i),this.callLifeCycleMethods(i,"preConstructMethods"),ue(n)&&i.forEach(n),this.callLifeCycleMethods(i,"postConstructMethods")},u.prototype.createBeans=function(){var i=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),qe(this.beanWrappers,function(a,c){var d;c.bean.__agBeanMetaData&&c.bean.__agBeanMetaData.autowireMethods&&c.bean.__agBeanMetaData.autowireMethods.agConstructor&&(d=c.bean.__agBeanMetaData.autowireMethods.agConstructor);var v=i.getBeansForParameters(d,c.bean.name),C=function ur(u,i){var n=[null].concat(i);return new(u.bind.apply(u,n))}(c.bean,v);c.beanInstance=C});var n=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+n)},u.prototype.createBeanWrapper=function(i){var n=i.__agBeanMetaData;if(!n){var a;return a=i.prototype.constructor?Ht(i.prototype.constructor):""+i,void console.error("Context item "+a+" is not a bean")}this.beanWrappers[n.beanName]={bean:i,beanInstance:null,beanName:n.beanName}},u.prototype.autoWireBeans=function(i){var n=this;i.forEach(function(a){n.forEachMetaDataInHierarchy(a,function(c,d){var v=c.agClassAttributes;!v||v.forEach(function(C){var x=n.lookupBeanInstance(d,C.beanName,C.optional);a[C.attributeName]=x})})})},u.prototype.methodWireBeans=function(i){var n=this;i.forEach(function(a){n.forEachMetaDataInHierarchy(a,function(c,d){qe(c.autowireMethods,function(v,C){if("agConstructor"!==v){var x=n.getBeansForParameters(C,d);a[v].apply(a,x)}})})})},u.prototype.forEachMetaDataInHierarchy=function(i,n){for(var a=Object.getPrototypeOf(i);null!=a;){var c=a.constructor;c.hasOwnProperty("__agBeanMetaData")&&n(c.__agBeanMetaData,this.getBeanName(c)),a=Object.getPrototypeOf(a)}},u.prototype.getBeanName=function(i){if(i.__agBeanMetaData&&i.__agBeanMetaData.beanName)return i.__agBeanMetaData.beanName;var n=i.toString();return n.substring(9,n.indexOf("("))},u.prototype.getBeansForParameters=function(i,n){var a=this,c=[];return i&&qe(i,function(d,v){var C=a.lookupBeanInstance(n,v);c[Number(d)]=C}),c},u.prototype.lookupBeanInstance=function(i,n,a){if(void 0===a&&(a=!1),"context"===n)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(n))return this.contextParams.providedBeanInstances[n];var c=this.beanWrappers[n];return c?c.beanInstance:(a||console.error("AG Grid: unable to find bean reference "+n+" while initialising "+i),null)},u.prototype.callLifeCycleMethods=function(i,n){var a=this;i.forEach(function(c){return a.callLifeCycleMethodsOnBean(c,n)})},u.prototype.callLifeCycleMethodsOnBean=function(i,n,a){var c={};this.forEachMetaDataInHierarchy(i,function(v){var C=v[n];C&&C.forEach(function(x){x!=a&&(c[x]=!0)})}),Object.keys(c).forEach(function(v){return i[v]()})},u.prototype.getBean=function(i){return this.lookupBeanInstance("getBean",i,!0)},u.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var i=this.getBeanInstances();this.destroyBeans(i),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},u.prototype.destroyBean=function(i){!i||this.destroyBeans([i])},u.prototype.destroyBeans=function(i){var n=this;return i?(i.forEach(function(a){n.callLifeCycleMethodsOnBean(a,"preDestroyMethods","destroy"),"function"==typeof a.destroy&&a.destroy()}),[]):[]},u}();function qn(u,i,n){var a=kt(u.constructor);a.preConstructMethods||(a.preConstructMethods=[]),a.preConstructMethods.push(i)}function Gt(u,i,n){var a=kt(u.constructor);a.postConstructMethods||(a.postConstructMethods=[]),a.postConstructMethods.push(i)}function vn(u,i,n){var a=kt(u.constructor);a.preDestroyMethods||(a.preDestroyMethods=[]),a.preDestroyMethods.push(i)}function bn(u){return function(i){kt(i).beanName=u}}function ce(u){return function(i,n,a){pt(i,u,!1,0,n,null)}}function Lt(u){return function(i,n,a){pt(i,u,!0,0,n,null)}}function pt(u,i,n,a,c,d){if(null!==i)if("number"!=typeof d){var v=kt(u.constructor);v.agClassAttributes||(v.agClassAttributes=[]),v.agClassAttributes.push({attributeName:c,beanName:i,optional:n})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function We(u){return function(i,n,a){var d,c="function"==typeof i?i:i.constructor;if("number"==typeof a){var v=void 0;n?(d=kt(c),v=n):(d=kt(c),v="agConstructor"),d.autowireMethods||(d.autowireMethods={}),d.autowireMethods[v]||(d.autowireMethods[v]={}),d.autowireMethods[v][a]=u}}}function kt(u){return u.hasOwnProperty("__agBeanMetaData")||(u.__agBeanMetaData={}),u.__agBeanMetaData}var Qt=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Hn=function(u,i){return function(n,a){i(n,a,u)}},ar=function(){function u(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return u.prototype.setBeans=function(i,n,a,c){if(void 0===c&&(c=null),this.frameworkOverrides=a,c){var d=n.useAsyncEvents();this.addGlobalListener(c,d)}},u.prototype.getListeners=function(i,n,a){var c=n?this.allAsyncListeners:this.allSyncListeners,d=c.get(i);return!d&&a&&c.set(i,d=new Set),d},u.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},u.prototype.addEventListener=function(i,n,a){void 0===a&&(a=!1),this.getListeners(i,a,!0).add(n)},u.prototype.removeEventListener=function(i,n,a){void 0===a&&(a=!1);var c=this.getListeners(i,a,!1);c&&(c.delete(n),0===c.size)&&(a?this.allAsyncListeners:this.allSyncListeners).delete(i)},u.prototype.addGlobalListener=function(i,n){void 0===n&&(n=!1),(n?this.globalAsyncListeners:this.globalSyncListeners).add(i)},u.prototype.removeGlobalListener=function(i,n){void 0===n&&(n=!1),(n?this.globalAsyncListeners:this.globalSyncListeners).delete(i)},u.prototype.dispatchEvent=function(i){this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0},u.prototype.dispatchEventOnce=function(i){this.firedEvents[i.type]||this.dispatchEvent(i)},u.prototype.dispatchToListeners=function(i,n){var a=this,c=i.type,v=this.getListeners(c,n,!1);v&&v.forEach(function(I){n?a.dispatchAsync(function(){return I(i)}):I(i)}),(n?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(x){n?a.dispatchAsync(function(){return a.frameworkOverrides.dispatchEvent(c,function(){return x(c,i)},!0)}):a.frameworkOverrides.dispatchEvent(c,function(){return x(c,i)},!0)})},u.prototype.dispatchAsync=function(i){this.asyncFunctionsQueue.push(i),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},u.prototype.flushAsyncQueue=function(){this.scheduled=!1;var i=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],i.forEach(function(n){return n()})},Qt([Hn(0,We("loggerFactory")),Hn(1,We("gridOptionsWrapper")),Hn(2,We("frameworkOverrides")),Hn(3,We("globalEventListener"))],u.prototype,"setBeans",null),Qt([bn("eventService")],u)}(),St=function(){function u(){}return u.ROW_BUFFER_SIZE=10,u.LAYOUT_INTERVAL=500,u.BATCH_WAIT_MILLIS=50,u.EXPORT_TYPE_DRAG_COPY="dragCopy",u.EXPORT_TYPE_CLIPBOARD="clipboard",u.EXPORT_TYPE_EXCEL="excel",u.EXPORT_TYPE_CSV="csv",u.ROW_MODEL_TYPE_INFINITE="infinite",u.ROW_MODEL_TYPE_VIEWPORT="viewport",u.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",u.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",u.ALWAYS="always",u.ONLY_WHEN_GROUPING="onlyWhenGrouping",u.PINNED_TOP="top",u.PINNED_BOTTOM="bottom",u.DOM_LAYOUT_NORMAL="normal",u.DOM_LAYOUT_PRINT="print",u.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",u.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",u.SOURCE_PASTE="paste",u.PINNED_RIGHT="right",u.PINNED_LEFT="left",u.SORT_ASC="asc",u.SORT_DESC="desc",u.INPUT_SELECTOR="input, select, button, textarea",u.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",u.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",u}(),_n=(()=>{return(u=_n||(_n={})).CommunityCoreModule="@ag-grid-community/core",u.CommunityAllModules="@ag-grid-community/all",u.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",u.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",u.CsvExportModule="@ag-grid-community/csv-export",u.EnterpriseCoreModule="@ag-grid-enterprise/core",u.EnterpriseAllModules="@ag-grid-enterprise/all",u.RowGroupingModule="@ag-grid-enterprise/row-grouping",u.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",u.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",u.MenuModule="@ag-grid-enterprise/menu",u.SetFilterModule="@ag-grid-enterprise/set-filter",u.MultiFilterModule="@ag-grid-enterprise/multi-filter",u.StatusBarModule="@ag-grid-enterprise/status-bar",u.SideBarModule="@ag-grid-enterprise/side-bar",u.RangeSelectionModule="@ag-grid-enterprise/range-selection",u.MasterDetailModule="@ag-grid-enterprise/master-detail",u.RichSelectModule="@ag-grid-enterprise/rich-select",u.GridChartsModule="@ag-grid-enterprise/charts",u.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",u.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",u.ExcelExportModule="@ag-grid-enterprise/excel-export",u.ClipboardModule="@ag-grid-enterprise/clipboard",u.SparklinesModule="@ag-grid-enterprise/sparklines",u.AngularModule="@ag-grid-community/angular",u.ReactModule="@ag-grid-community/react",u.VueModule="@ag-grid-community/vue",u.PolymerModule="@ag-grid-community/polymer",_n;var u})(),jn=function(){function u(){}return u.register=function(i,n){void 0===n&&(n=!0),u.modulesMap[i.moduleName]=i,void 0===u.moduleBased?u.moduleBased=n:u.moduleBased!==n&&Qn(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},u.registerModules=function(i,n){void 0===n&&(n=!0),i&&i.forEach(function(a){return u.register(a,n)})},u.assertRegistered=function(i,n){return!!this.isRegistered(i)||(c=u.moduleBased?"AG Grid: unable to use "+n+" as module "+i+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+n+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",Qn(function(){console.warn(c)},n+i),!1);var c},u.isRegistered=function(i){return!!u.modulesMap[i]},u.getRegisteredModules=function(){return ht(u.modulesMap)},u.isPackageBased=function(){return!u.moduleBased},u.modulesMap={},u}(),pi=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$r=0,Rt=function(){function u(i,n,a,c){this.instanceId=$r++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new ar,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=i,this.userProvidedColDef=n,this.colId=a,this.primary=c,this.setState(i)}return u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.setState=function(i){void 0!==i.sort?(i.sort===St.SORT_ASC||i.sort===St.SORT_DESC)&&(this.sort=i.sort):(i.initialSort===St.SORT_ASC||i.initialSort===St.SORT_DESC)&&(this.sort=i.initialSort);var n=Ct(i.sortIndex),a=Ct(i.initialSortIndex);void 0!==n?null!==n&&(this.sortIndex=n):null!==a&&(this.sortIndex=a);var c=je(i.hide),d=je(i.initialHide);this.visible=void 0!==c?!c:!d,this.setPinned(void 0!==i.pinned?i.pinned:i.initialPinned);var v=Ct(i.flex),C=Ct(i.initialFlex);void 0!==v?this.flex=v:void 0!==C&&(this.flex=C)},u.prototype.setColDef=function(i,n){this.colDef=i,this.userProvidedColDef=n,this.initMinAndMaxWidths(),this.initDotNotation()},u.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},u.prototype.setParent=function(i){this.parent=i},u.prototype.getParent=function(){return this.parent},u.prototype.setOriginalParent=function(i){this.originalParent=i},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},u.prototype.initDotNotation=function(){var i=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=ue(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=ue(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!i},u.prototype.initMinAndMaxWidths=function(){var i=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(i),this.maxWidth=this.columnUtils.calculateColMaxWidth(i)},u.prototype.resetActualWidth=function(i){void 0===i&&(i="api");var n=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(n,i,!0)},u.prototype.isEmptyGroup=function(){return!1},u.prototype.isRowGroupDisplayed=function(i){return!(at(this.colDef)||at(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==i)},u.prototype.isPrimary=function(){return this.primary},u.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},u.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},u.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},u.prototype.validate=function(){var i=this.colDef;function n(v,C,x){Qn(function(){x?console.warn(v,x):Qn(function(){return console.warn(v)},C)},C)}this.gridOptionsWrapper.isRowModelDefault()&&!jn.isRegistered(_n.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(v){ue(i[v])&&(jn.isPackageBased()?n("AG Grid: "+v+" is only valid in ag-grid-enterprise, your column definition should not have "+v,"ColumnRowGroupingMissing"+v):n("AG Grid: "+v+" is only valid with AG Grid Enterprise Module "+_n.RowGroupingModule+" - your column definition should not have "+v,"ColumnRowGroupingMissing"+v))}),jn.isRegistered(_n.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(jn.isPackageBased()?n("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):n("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+_n.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(v){ue(i[v])&&n("AG Grid: "+v+" is not possible when doing tree data, your column definition should not have "+v,"TreeDataCannotRowGroup")}),ue(this.colDef.width)&&"number"!=typeof this.colDef.width&&n("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),i.pinnedRowCellRenderer&&n("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererParams&&n("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererFramework&&n("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowValueGetter&&n("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},u.prototype.addEventListener=function(i,n){this.eventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.eventService.removeEventListener(i,n)},u.prototype.createColumnFunctionCallbackParams=function(i){return{node:i,data:i.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},u.prototype.isSuppressNavigable=function(i){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var n=this.createColumnFunctionCallbackParams(i);return(0,this.colDef.suppressNavigable)(n)}return!1},u.prototype.isCellEditable=function(i){return!(i.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(i,this.colDef.editable)},u.prototype.isSuppressFillHandle=function(){return!!je(this.colDef.suppressFillHandle)},u.prototype.isAutoHeight=function(){return!!je(this.colDef.autoHeight)},u.prototype.isRowDrag=function(i){return this.isColumnFunc(i,this.colDef.rowDrag)},u.prototype.isDndSource=function(i){return this.isColumnFunc(i,this.colDef.dndSource)},u.prototype.isCellCheckboxSelection=function(i){return this.isColumnFunc(i,this.colDef.checkboxSelection)},u.prototype.isSuppressPaste=function(i){return this.isColumnFunc(i,this.colDef?this.colDef.suppressPaste:null)},u.prototype.isResizable=function(){return!!je(this.colDef.resizable)},u.prototype.isColumnFunc=function(i,n){return"boolean"==typeof n?n:"function"==typeof n&&n(this.createColumnFunctionCallbackParams(i))},u.prototype.setMoving=function(i,n){void 0===n&&(n="api"),this.moving=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MOVING_CHANGED,n))},u.prototype.createColumnEvent=function(i,n){return{api:this.gridApi,columnApi:this.columnApi,type:i,column:this,columns:[this],source:n}},u.prototype.isMoving=function(){return this.moving},u.prototype.getSort=function(){return this.sort},u.prototype.setSort=function(i,n){void 0===n&&(n="api"),this.sort!==i&&(this.sort=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_SORT_CHANGED,n)))},u.prototype.setMenuVisible=function(i,n){void 0===n&&(n="api"),this.menuVisible!==i&&(this.menuVisible=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MENU_VISIBLE_CHANGED,n)))},u.prototype.isMenuVisible=function(){return this.menuVisible},u.prototype.isSortAscending=function(){return this.sort===St.SORT_ASC},u.prototype.isSortDescending=function(){return this.sort===St.SORT_DESC},u.prototype.isSortNone=function(){return at(this.sort)},u.prototype.isSorting=function(){return ue(this.sort)},u.prototype.getSortIndex=function(){return this.sortIndex},u.prototype.setSortIndex=function(i){this.sortIndex=i},u.prototype.setAggFunc=function(i){this.aggFunc=i},u.prototype.getAggFunc=function(){return this.aggFunc},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.getRight=function(){return this.left+this.actualWidth},u.prototype.setLeft=function(i,n){void 0===n&&(n="api"),this.oldLeft=this.left,this.left!==i&&(this.left=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LEFT_CHANGED,n)))},u.prototype.isFilterActive=function(){return this.filterActive},u.prototype.setFilterActive=function(i,n,a){void 0===n&&(n="api"),this.filterActive!==i&&(this.filterActive=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FILTER_ACTIVE_CHANGED,n)));var c=this.createColumnEvent(u.EVENT_FILTER_CHANGED,n);a&&Dr(c,a),this.eventService.dispatchEvent(c)},u.prototype.setPinned=function(i){this.pinned=!0===i||i===St.PINNED_LEFT?St.PINNED_LEFT:i===St.PINNED_RIGHT?St.PINNED_RIGHT:null},u.prototype.setFirstRightPinned=function(i,n){void 0===n&&(n="api"),this.firstRightPinned!==i&&(this.firstRightPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FIRST_RIGHT_PINNED_CHANGED,n)))},u.prototype.setLastLeftPinned=function(i,n){void 0===n&&(n="api"),this.lastLeftPinned!==i&&(this.lastLeftPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LAST_LEFT_PINNED_CHANGED,n)))},u.prototype.isFirstRightPinned=function(){return this.firstRightPinned},u.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},u.prototype.isPinned=function(){return this.pinned===St.PINNED_LEFT||this.pinned===St.PINNED_RIGHT},u.prototype.isPinnedLeft=function(){return this.pinned===St.PINNED_LEFT},u.prototype.isPinnedRight=function(){return this.pinned===St.PINNED_RIGHT},u.prototype.getPinned=function(){return this.pinned},u.prototype.setVisible=function(i,n){void 0===n&&(n="api");var a=!0===i;this.visible!==a&&(this.visible=a,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VISIBLE_CHANGED,n)))},u.prototype.isVisible=function(){return this.visible},u.prototype.getColDef=function(){return this.colDef},u.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},u.prototype.getColId=function(){return this.colId},u.prototype.getId=function(){return this.getColId()},u.prototype.getUniqueId=function(){return this.getId()},u.prototype.getDefinition=function(){return this.colDef},u.prototype.getActualWidth=function(){return this.actualWidth},u.prototype.createBaseColDefParams=function(i){return{node:i,data:i.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},u.prototype.getColSpan=function(i){if(at(this.colDef.colSpan))return 1;var n=this.createBaseColDefParams(i),a=this.colDef.colSpan(n);return Math.max(a,1)},u.prototype.getRowSpan=function(i){if(at(this.colDef.rowSpan))return 1;var n=this.createBaseColDefParams(i),a=this.colDef.rowSpan(n);return Math.max(a,1)},u.prototype.setActualWidth=function(i,n,a){void 0===n&&(n="api"),void 0===a&&(a=!1),null!=this.minWidth&&(i=Math.max(i,this.minWidth)),null!=this.maxWidth&&(i=Math.min(i,this.maxWidth)),this.actualWidth!==i&&(this.actualWidth=i,this.flex&&"flex"!==n&&"gridInitializing"!==n&&(this.flex=null),a||this.fireColumnWidthChangedEvent(n))},u.prototype.fireColumnWidthChangedEvent=function(i){this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_WIDTH_CHANGED,i))},u.prototype.isGreaterThanMax=function(i){return null!=this.maxWidth&&i>this.maxWidth},u.prototype.getMinWidth=function(){return this.minWidth},u.prototype.getMaxWidth=function(){return this.maxWidth},u.prototype.getFlex=function(){return this.flex||0},u.prototype.setFlex=function(i){this.flex!==i&&(this.flex=i)},u.prototype.setMinimum=function(i){void 0===i&&(i="api"),ue(this.minWidth)&&this.setActualWidth(this.minWidth,i)},u.prototype.setRowGroupActive=function(i,n){void 0===n&&(n="api"),this.rowGroupActive!==i&&(this.rowGroupActive=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_ROW_GROUP_CHANGED,n)))},u.prototype.isRowGroupActive=function(){return this.rowGroupActive},u.prototype.setPivotActive=function(i,n){void 0===n&&(n="api"),this.pivotActive!==i&&(this.pivotActive=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_PIVOT_CHANGED,n)))},u.prototype.isPivotActive=function(){return this.pivotActive},u.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},u.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},u.prototype.setValueActive=function(i,n){void 0===n&&(n="api"),this.aggregationActive!==i&&(this.aggregationActive=i,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VALUE_CHANGED,n)))},u.prototype.isValueActive=function(){return this.aggregationActive},u.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},u.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},u.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},u.prototype.getMenuTabs=function(i){var n=this.getColDef().menuTabs;return null==n&&(n=i),n},u.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},u.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},u.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},u.EVENT_MOVING_CHANGED="movingChanged",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_WIDTH_CHANGED="widthChanged",u.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",u.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",u.EVENT_VISIBLE_CHANGED="visibleChanged",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",u.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_PIVOT_CHANGED="columnPivotChanged",u.EVENT_VALUE_CHANGED="columnValueChanged",pi([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),pi([ce("columnUtils")],u.prototype,"columnUtils",void 0),pi([ce("columnApi")],u.prototype,"columnApi",void 0),pi([ce("gridApi")],u.prototype,"gridApi",void 0),pi([ce("context")],u.prototype,"context",void 0),pi([Gt],u.prototype,"initialise",null),u}();function vt(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];for(var n=0;n<u.length;n++){var a=u[n];if(ue(a))return a}return null}function $e(u){return null!=u&&u.length>0}function bt(u){if(u&&u.length)return u[u.length-1]}function Ge(u,i,n){return null==u&&null==i||null!=u&&null!=i&&u.length===i.length&&u.every(function(a,c){return n?n(a,i[c]):i[c]===a})}function Wt(u,i){return Ge(u,i)}function ge(u,i){return Ge(u,i)}function Mt(u){return u.sort(function(i,n){return i-n})}function Tn(u,i){if(u)for(var n=u.length-2;n>=0;n--)u[n]===i&&u[n+1]===i&&u.splice(n+1,1)}function zn(u,i){var n=u.indexOf(i);n>=0&&u.splice(n,1)}function pr(u,i){i.forEach(function(n){return zn(u,n)})}function Mr(u,i,n){u.splice(n,0,i)}function Pr(u,i,n){if(null!=u&&null!=i)for(var a=i.length-1;a>=0;a--)Mr(u,i[a],n)}function Bi(u,i,n){pr(u,i),i.slice().reverse().forEach(function(a){return Mr(u,a,n)})}function Xr(u,i){return u.indexOf(i)>-1}function kn(u){return[].concat.apply([],u)}function Sr(u,i){null==i||null==u||i.forEach(function(n){return u.push(n)})}function ui(u){return u.map(Qe)}function Zi(u,i){if(null!=u)for(var n=u.length-1;n>=0;n--)i(u[n],n)}var Or=function(){function u(i,n,a,c){this.displayedChildren=[],this.localEventService=new ar,this.groupId=n,this.instanceId=a,this.providedColumnGroup=i,this.pinned=c}return u.createUniqueId=function(i,n){return i+"_"+n},u.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},u.prototype.getParent=function(){return this.parent},u.prototype.setParent=function(i){this.parent=i},u.prototype.getUniqueId=function(){return u.createUniqueId(this.groupId,this.instanceId)},u.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},u.prototype.isMoving=function(){var i=this.getProvidedColumnGroup().getLeafColumns();return!(!i||0===i.length)&&i.every(function(n){return n.isMoving()})},u.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(c){c instanceof u&&c.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var n=bt(this.displayedChildren).getLeft();this.setLeft(n)}else{var a=this.displayedChildren[0].getLeft();this.setLeft(a)}else this.setLeft(null)},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.setLeft=function(i){this.oldLeft=i,this.left!==i&&(this.left=i,this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_LEFT_CHANGED)))},u.prototype.getPinned=function(){return this.pinned},u.prototype.createAgEvent=function(i){return{type:i}},u.prototype.addEventListener=function(i,n){this.localEventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.localEventService.removeEventListener(i,n)},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.isChildInThisGroupDeepSearch=function(i){var n=!1;return this.children.forEach(function(a){i===a&&(n=!0),a instanceof u&&a.isChildInThisGroupDeepSearch(i)&&(n=!0)}),n},u.prototype.getActualWidth=function(){var i=0;return this.displayedChildren&&this.displayedChildren.forEach(function(n){i+=n.getActualWidth()}),i},u.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var i=!1;return this.displayedChildren.forEach(function(n){n.isResizable()&&(i=!0)}),i},u.prototype.getMinWidth=function(){var i=0;return this.displayedChildren.forEach(function(n){i+=n.getMinWidth()||0}),i},u.prototype.addChild=function(i){this.children||(this.children=[]),this.children.push(i)},u.prototype.getDisplayedChildren=function(){return this.displayedChildren},u.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},u.prototype.getDisplayedLeafColumns=function(){var i=[];return this.addDisplayedLeafColumns(i),i},u.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},u.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},u.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},u.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},u.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},u.prototype.setExpanded=function(i){this.providedColumnGroup.setExpanded(i)},u.prototype.addDisplayedLeafColumns=function(i){this.displayedChildren.forEach(function(n){n instanceof Rt?i.push(n):n instanceof u&&n.addDisplayedLeafColumns(i)})},u.prototype.addLeafColumns=function(i){this.children.forEach(function(n){n instanceof Rt?i.push(n):n instanceof u&&n.addLeafColumns(i)})},u.prototype.getChildren=function(){return this.children},u.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},u.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},u.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},u.prototype.getPaddingLevel=function(){var i=this.getParent();return this.isPadding()&&i&&i.isPadding()?1+i.getPaddingLevel():0},u.prototype.calculateDisplayedColumns=function(){var i=this;this.displayedChildren=[];for(var n=this;null!=n&&n.isPadding();)n=n.getParent();if(!n||!n.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(c){if(!(c instanceof u)||c.displayedChildren&&c.displayedChildren.length)switch(c.getColumnGroupShow()){case u.HEADER_GROUP_SHOW_OPEN:n.providedColumnGroup.isExpanded()&&i.displayedChildren.push(c);break;case u.HEADER_GROUP_SHOW_CLOSED:n.providedColumnGroup.isExpanded()||i.displayedChildren.push(c);break;default:i.displayedChildren.push(c)}}),this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED))},u.HEADER_GROUP_SHOW_OPEN="open",u.HEADER_GROUP_SHOW_CLOSED="closed",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),fr=function(){function u(i,n,a,c){this.localEventService=new ar,this.expandable=!1,this.colGroupDef=i,this.groupId=n,this.expanded=!!i&&!!i.openByDefault,this.padding=a,this.level=c}return u.prototype.setOriginalParent=function(i){this.originalParent=i},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.getLevel=function(){return this.level},u.prototype.isVisible=function(){return!!this.children&&this.children.some(function(i){return i.isVisible()})},u.prototype.isPadding=function(){return this.padding},u.prototype.setExpanded=function(i){this.expanded=void 0!==i&&i,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDED_CHANGED})},u.prototype.isExpandable=function(){return this.expandable},u.prototype.isExpanded=function(){return this.expanded},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getId=function(){return this.getGroupId()},u.prototype.setChildren=function(i){this.children=i},u.prototype.getChildren=function(){return this.children},u.prototype.getColGroupDef=function(){return this.colGroupDef},u.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},u.prototype.addLeafColumns=function(i){!this.children||this.children.forEach(function(n){n instanceof Rt?i.push(n):n instanceof u&&n.addLeafColumns(i)})},u.prototype.getColumnGroupShow=function(){var i=this.colGroupDef;if(i)return i.columnGroupShow},u.prototype.setupExpandable=function(){var i=this;this.setExpandable(),this.getLeafColumns().forEach(function(n){return n.addEventListener(Rt.EVENT_VISIBLE_CHANGED,i.onColumnVisibilityChanged.bind(i))})},u.prototype.setExpandable=function(){if(!this.isPadding()){for(var i=!1,n=!1,a=!1,c=this.findChildrenRemovingPadding(),d=0,v=c.length;d<v;d++){var C=c[d];if(C.isVisible()){var x=C.getColumnGroupShow();x===Or.HEADER_GROUP_SHOW_OPEN?(i=!0,a=!0):x===Or.HEADER_GROUP_SHOW_CLOSED?(n=!0,a=!0):(i=!0,n=!0)}}var I=i&&n&&a;this.expandable!==I&&(this.expandable=I,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDABLE_CHANGED}))}},u.prototype.findChildrenRemovingPadding=function(){var i=[],n=function(a){a.forEach(function(c){c instanceof u&&c.isPadding()?n(c.children):i.push(c)})};return n(this.children),i},u.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},u.prototype.addEventListener=function(i,n){this.localEventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.localEventService.removeEventListener(i,n)},u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_EXPANDABLE_CHANGED="expandableChanged",u}(),Zr={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},lo="__ag_Grid_Stop_Propagation",Qr=["touchstart","touchend","touchmove","touchcancel"],dr={};function Wi(u){u[lo]=!0}function $i(u){return!0===u[lo]}var u,ko=(u={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(n){if("boolean"==typeof dr[n])return dr[n];var a=document.createElement(u[n]||"div");return dr[n="on"+n]=n in a});function Oo(u,i,n){for(var a=i.target;a;){var c=u.getDomData(a,n);if(c)return c;a=a.parentElement}return null}function ti(u,i){u.addEventListener("changed",i),u.addEventListener("paste",i),u.addEventListener("input",i)}function mo(u,i){return!(!i||!u)&&rn(i).indexOf(u)>=0}function zo(u){for(var i=[],n=u.target;n;)i.push(n),n=n.parentElement;return i}function qi(u){u.__agGridEventPath=rn(u)}function rn(u){var i=u;return i.path?i.path:i.composedPath?i.composedPath():i.__agGridEventPath?i.__agGridEventPath:zo(u)}function Po(u,i,n,a){var c=Xr(Qr,n);u&&u.addEventListener&&u.addEventListener(i,n,a,c?{passive:!0}:void 0)}var yo=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},yn=function(){function u(){var i=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!i.destroyed}}return u.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},u.prototype.getContext=function(){return this.context},u.prototype.destroy=function(){this.destroyFunctions.forEach(function(i){return i()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:u.EVENT_DESTROYED})},u.prototype.addEventListener=function(i,n){this.localEventService||(this.localEventService=new ar),this.localEventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.localEventService&&this.localEventService.removeEventListener(i,n)},u.prototype.dispatchEventAsync=function(i){var n=this;window.setTimeout(function(){return n.dispatchEvent(i)},0)},u.prototype.dispatchEvent=function(i){this.localEventService&&this.localEventService.dispatchEvent(i)},u.prototype.addManagedListener=function(i,n,a){var c=this;if(!this.destroyed){i instanceof HTMLElement?Po(this.getFrameworkOverrides(),i,n,a):i.addEventListener(n,a);var d=function(){return i.removeEventListener(n,a),c.destroyFunctions=c.destroyFunctions.filter(function(v){return v!==d}),null};return this.destroyFunctions.push(d),d}},u.prototype.addDestroyFunc=function(i){this.isAlive()?this.destroyFunctions.push(i):i()},u.prototype.createManagedBean=function(i,n){var a=this.createBean(i,n);return this.addDestroyFunc(this.destroyBean.bind(this,i,n)),a},u.prototype.createBean=function(i,n,a){return(n||this.getContext()).createBean(i,a)},u.prototype.destroyBean=function(i,n){return(n||this.getContext()).destroyBean(i)},u.prototype.destroyBeans=function(i,n){var a=this;return i&&i.forEach(function(c){return a.destroyBean(c,n)}),[]},u.EVENT_DESTROYED="destroyed",yo([ce("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),yo([ce("context")],u.prototype,"context",void 0),yo([ce("eventService")],u.prototype,"eventService",void 0),yo([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),yo([vn],u.prototype,"destroy",null),u}(),bi=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ia=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Vo=function(u,i){return function(n,a){i(n,a,u)}},Ga=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return bi(i,u),i.prototype.setBeans=function(n){this.logger=n.create("ColumnFactory")},i.prototype.createColumnTree=function(n,a,c){var d=new Sn,v=this.extractExistingTreeData(c),C=v.existingCols,x=v.existingGroups;d.addExistingKeys(v.existingColKeys);var U=this.recursivelyCreateColumns(n,0,a,C,d,x),pe=this.findMaxDept(U,0);this.logger.log("Number of levels for grouped columns is "+pe);var _e=this.balanceColumnTree(U,0,pe,d);return this.columnUtils.depthFirstOriginalTreeSearch(null,_e,function(xt,Ut){xt instanceof fr&&xt.setupExpandable(),xt.setOriginalParent(Ut)}),{columnTree:_e,treeDept:pe}},i.prototype.extractExistingTreeData=function(n){var a=[],c=[],d=[];return n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(v){if(v instanceof fr)c.push(v);else{var x=v;d.push(x.getId()),a.push(x)}}),{existingCols:a,existingGroups:c,existingColKeys:d}},i.prototype.createForAutoGroups=function(n,a){var c=this,d=[];return n.forEach(function(v){var C=c.createAutoGroupTreeItem(a,v);d.push(C)}),d},i.prototype.createAutoGroupTreeItem=function(n,a){for(var d=a,v=this.findDepth(n)-1;v>=0;v--){var C=new fr(null,"FAKE_PATH_"+a.getId()+"}_"+v,!0,v);this.context.createBean(C),C.setChildren([d]),d.setOriginalParent(C),d=C}return d},i.prototype.findDepth=function(n){for(var a=0,c=n;c&&c[0]&&c[0]instanceof fr;)a++,c=c[0].getChildren();return a},i.prototype.balanceColumnTree=function(n,a,c,d){for(var v=[],C=0;C<n.length;C++){var x=n[C];if(x instanceof fr){var I=x,U=this.balanceColumnTree(I.getChildren(),a+1,c,d);I.setChildren(U),v.push(I)}else{for(var pe=void 0,_e=void 0,it=c-1;it>=a;it--){var xt=d.getUniqueKey(null,null),Ut=this.createMergedColGroupDef(null),sn=new fr(Ut,xt,!0,a);this.context.createBean(sn),_e&&_e.setChildren([sn]),_e=sn,pe||(pe=_e)}if(pe&&_e){if(v.push(pe),n.some(function(En){return En instanceof fr})){_e.setChildren([x]);continue}_e.setChildren(n);break}v.push(x)}}return v},i.prototype.findMaxDept=function(n,a){for(var c=a,d=0;d<n.length;d++){var v=n[d];if(v instanceof fr){var x=this.findMaxDept(v.getChildren(),a+1);c<x&&(c=x)}}return c},i.prototype.recursivelyCreateColumns=function(n,a,c,d,v,C){var x=this,I=[];return n&&n.forEach(function(U){var pe;pe=x.isColumnGroup(U)?x.createColumnGroup(c,U,a,d,v,C):x.createColumn(c,U,d,v),I.push(pe)}),I},i.prototype.createColumnGroup=function(n,a,c,d,v,C){var x=this.createMergedColGroupDef(a),I=v.getUniqueKey(x.groupId||null,null),U=new fr(x,I,!1,c);this.context.createBean(U);var pe=this.findExistingGroup(a,C);pe&&pe.isExpanded()&&U.setExpanded(!0);var _e=this.recursivelyCreateColumns(x.children,c+1,n,d,v,C);return U.setChildren(_e),U},i.prototype.createMergedColGroupDef=function(n){var a={};return Object.assign(a,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(a,n),this.checkForDeprecatedItems(a),a},i.prototype.createColumn=function(n,a,c,d){var v=this.mergeColDefs(a);this.checkForDeprecatedItems(v);var C=this.findExistingColumn(a,c);if(C)C.setColDef(v,a),this.applyColumnState(C,v);else{var x=d.getUniqueKey(v.colId,v.field);C=new Rt(v,a,x,n),this.context.createBean(C)}return C},i.prototype.applyColumnState=function(n,a){var c=Ct(a.flex);if(void 0!==c&&n.setFlex(c),n.getFlex()<=0){var v=Ct(a.width);if(null!=v)n.setActualWidth(v);else{var C=n.getActualWidth();n.setActualWidth(C)}}void 0!==a.sort&&n.setSort(a.sort==St.SORT_ASC||a.sort==St.SORT_DESC?a.sort:void 0);var x=Ct(a.sortIndex);void 0!==x&&n.setSortIndex(x);var I=je(a.hide);void 0!==I&&n.setVisible(!I),void 0!==a.pinned&&n.setPinned(a.pinned)},i.prototype.findExistingColumn=function(n,a){var c=(a||[]).find(function(d){var v=d.getUserProvidedColDef();if(!v)return!1;var x=null!=n.field;return null!=n.colId?d.getId()===n.colId:x?v.field===n.field:v===n});return a&&c&&zn(a,c),c||null},i.prototype.findExistingGroup=function(n,a){var c=a.find(function(d){return!(!d.getColGroupDef()||null==n.groupId||d.getId()!==n.groupId)});return c&&zn(a,c),c||null},i.prototype.mergeColDefs=function(n){var a={},c=this.gridOptionsWrapper.getDefaultColDef();Dr(a,c,!1,!0);var d=n.type;return d||(d=c&&c.type),d&&this.assignColumnTypes(d,a),Dr(a,n,!1,!0),a},i.prototype.assignColumnTypes=function(n,a){var c=[];if(n instanceof Array)n.some(function(x){return"string"!=typeof x})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):c=n;else{if("string"!=typeof n)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");c=n.split(",")}var v=Object.assign({},Zr);qe(this.gridOptionsWrapper.getColumnTypes()||{},function(x,I){x in v?console.warn("AG Grid: the column type '"+x+"' is a default column type and cannot be overridden."):v[x]=I}),c.forEach(function(x){var I=v[x.trim()];I?Dr(a,I,!1,!0):console.warn("AG Grid: colDef.type '"+x+"' does not correspond to defined gridOptions.columnTypes")})},i.prototype.checkForDeprecatedItems=function(n){if(n){var a=n;void 0!==a.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==a.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==a.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(a.suppressRowGroup||a.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),a.displayName&&(console.warn("AG Grid: Found displayName "+a.displayName+", please use headerName instead, displayName is deprecated."),a.headerName=a.displayName)}},i.prototype.isColumnGroup=function(n){return void 0!==n.children},ia([ce("columnUtils")],i.prototype,"columnUtils",void 0),ia([Vo(0,We("loggerFactory"))],i.prototype,"setBeans",null),ia([bn("columnFactory")],i)}(yn),Ye=function(){function u(){}return u.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",u.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",u.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",u.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",u.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",u.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",u.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",u.EVENT_COLUMN_MOVED="columnMoved",u.EVENT_COLUMN_VISIBLE="columnVisible",u.EVENT_COLUMN_PINNED="columnPinned",u.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",u.EVENT_COLUMN_RESIZED="columnResized",u.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",u.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",u.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",u.EVENT_ROW_GROUP_OPENED="rowGroupOpened",u.EVENT_ROW_DATA_CHANGED="rowDataChanged",u.EVENT_ROW_DATA_UPDATED="rowDataUpdated",u.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",u.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",u.EVENT_CHART_CREATED="chartCreated",u.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",u.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",u.EVENT_CHART_DESTROYED="chartDestroyed",u.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",u.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",u.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",u.EVENT_MODEL_UPDATED="modelUpdated",u.EVENT_PASTE_START="pasteStart",u.EVENT_PASTE_END="pasteEnd",u.EVENT_FILL_START="fillStart",u.EVENT_FILL_END="fillEnd",u.EVENT_CELL_CLICKED="cellClicked",u.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",u.EVENT_CELL_MOUSE_DOWN="cellMouseDown",u.EVENT_CELL_CONTEXT_MENU="cellContextMenu",u.EVENT_CELL_VALUE_CHANGED="cellValueChanged",u.EVENT_CELL_EDIT_REQUEST="cellEditRequest",u.EVENT_ROW_VALUE_CHANGED="rowValueChanged",u.EVENT_CELL_FOCUSED="cellFocused",u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_SELECTION_CHANGED="selectionChanged",u.EVENT_CELL_KEY_DOWN="cellKeyDown",u.EVENT_CELL_KEY_PRESS="cellKeyPress",u.EVENT_CELL_MOUSE_OVER="cellMouseOver",u.EVENT_CELL_MOUSE_OUT="cellMouseOut",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_MODIFIED="filterModified",u.EVENT_FILTER_OPENED="filterOpened",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",u.EVENT_ROW_CLICKED="rowClicked",u.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",u.EVENT_GRID_READY="gridReady",u.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",u.EVENT_VIEWPORT_CHANGED="viewportChanged",u.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",u.EVENT_FIRST_DATA_RENDERED="firstDataRendered",u.EVENT_DRAG_STARTED="dragStarted",u.EVENT_DRAG_STOPPED="dragStopped",u.EVENT_CHECKBOX_CHANGED="checkboxChanged",u.EVENT_ROW_EDITING_STARTED="rowEditingStarted",u.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",u.EVENT_CELL_EDITING_STARTED="cellEditingStarted",u.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",u.EVENT_BODY_SCROLL="bodyScroll",u.EVENT_BODY_SCROLL_END="bodyScrollEnd",u.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",u.EVENT_PAGINATION_CHANGED="paginationChanged",u.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",u.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",u.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",u.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",u.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",u.EVENT_FLASH_CELLS="flashCells",u.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",u.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",u.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",u.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",u.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",u.EVENT_ROW_DRAG_ENTER="rowDragEnter",u.EVENT_ROW_DRAG_MOVE="rowDragMove",u.EVENT_ROW_DRAG_LEAVE="rowDragLeave",u.EVENT_ROW_DRAG_END="rowDragEnd",u.EVENT_POPUP_TO_FRONT="popupToFront",u.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",u.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",u.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",u.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",u.EVENT_KEYBOARD_FOCUS="keyboardFocus",u.EVENT_MOUSE_FOCUS="mouseFocus",u.EVENT_STORE_UPDATED="storeUpdated",u}(),ns=function(){function u(){this.existingIds={}}return u.prototype.getInstanceIdForKey=function(i){var a,n=this.existingIds[i];return this.existingIds[i]=a="number"!=typeof n?0:n+1,a},u}(),Ba=/[&<>"']/g,vs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function co(u){var i=String.fromCharCode;function c(pe,_e){return i(pe>>_e&63|128)}function d(pe){if(pe>=0&&pe<=31&&10!==pe)return"_x"+pe.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&pe))return i(pe);var xt="";return 0==(4294965248&pe)?xt=i(pe>>6&31|192):0==(4294901760&pe)?(function a(pe){if(pe>=55296&&pe<=57343)throw Error("Lone surrogate U+"+pe.toString(16).toUpperCase()+" is not a scalar value")}(pe),xt=i(pe>>12&15|224),xt+=c(pe,6)):0==(4292870144&pe)&&(xt=i(pe>>18&7|240),xt+=c(pe,12),xt+=c(pe,6)),xt+i(63&pe|128)}for(var v=function n(pe){var _e=[];if(!pe)return[];for(var Ut,sn,it=pe.length,xt=0;xt<it;)(Ut=pe.charCodeAt(xt++))>=55296&&Ut<=56319&&xt<it?56320==(64512&(sn=pe.charCodeAt(xt++)))?_e.push(((1023&Ut)<<10)+(1023&sn)+65536):(_e.push(Ut),xt--):_e.push(Ut);return _e}(u),C=v.length,x=-1,U="";++x<C;)U+=d(v[x]);return U}function ms(u){return null==u?null:u.replace(/([A-Z])/g,function(i){return"-"+i[0].toLowerCase()})}function oa(u){return null==u?null:u.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()})}function ys(u){return u[0].toUpperCase()+u.substr(1).toLowerCase()}function Co(u){return null==u?null:u.toString().toString().replace(Ba,function(i){return vs[i]})}function Hs(u){return u&&null!=u?u.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(a){return a.substring(0,1).toUpperCase()+(a.length>1?a.substring(1,a.length):"")}).join(" "):null}function Ta(u){var i=new Map;return u.forEach(function(n){return i.set(n[0],n[1])}),i}function Pl(u,i){var n=new Map;return u.forEach(function(a){return n.set(i(a),a)}),n}function tc(u){var i=[];return u.forEach(function(n,a){return i.push(a)}),i}var fa=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),uo=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Cs=function(u,i){return function(n,a){i(n,a,u)}},dl=function(u){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&u[i],a=0;if(n)return n.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&a>=u.length&&(u=void 0),{value:u&&u[a++],done:!u}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},nc=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},_s=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(nc(arguments[i]));return u},Gs=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.primaryHeaderRowCount=0,n.secondaryHeaderRowCount=0,n.secondaryColumnsPresent=!1,n.gridHeaderRowCount=0,n.displayedColumnsLeft=[],n.displayedColumnsRight=[],n.displayedColumnsCenter=[],n.displayedColumns=[],n.displayedColumnsAndGroupsMap={},n.viewportColumns=[],n.viewportColumnsCenter=[],n.autoHeightActiveAtLeastOnce=!1,n.rowGroupColumns=[],n.valueColumns=[],n.pivotColumns=[],n.ready=!1,n.autoGroupsNeedBuilding=!1,n.forceRecreateAutoGroups=!1,n.pivotMode=!1,n.bodyWidth=0,n.leftWidth=0,n.rightWidth=0,n.bodyWidthDirty=!0,n.colDefVersion=0,n.flexColsCalculatedAtLestOnce=!1,n}return fa(i,u),i.prototype.init=function(){var n=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var a=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(a)&&(this.pivotMode=a),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return n.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return n.onDefaultColDefChanged()})},i.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},i.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},i.prototype.getColDefVersion=function(){return this.colDefVersion},i.prototype.setColumnDefs=function(n,a){void 0===a&&(a="api");var c=!!this.columnDefs;this.colDefVersion++,this.columnDefs=n,this.createColumnsFromColumnDefs(c,a)},i.prototype.createColumnsFromColumnDefs=function(n,a){var c=this;void 0===a&&(a="api");var d=n?this.compareColumnStatesAndRaiseEvents(a):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var v=this.primaryColumns,x=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=x.columnTree,this.primaryHeaderRowCount=x.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(pe){return c.primaryColumnsMap[pe.getId()]=pe}),this.extractRowGroupColumns(a,v),this.extractPivotColumns(a,v),this.extractValueColumns(a,v),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),n&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(a),this.checkViewportColumns()),this.dispatchEverythingChanged(a),d&&d(),this.dispatchNewColumnsLoaded()},i.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:Ye.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.dispatchEverythingChanged=function(n){void 0===n&&(n="api"),this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:n})},i.prototype.orderGridColumnsLikePrimary=function(){var n=this,a=this.primaryColumns;!a||this.gridColumns.sort(function(c,d){var v=a.indexOf(c),C=a.indexOf(d),x=v>=0,I=C>=0;return x&&I?v-C:x?1:I?-1:n.gridColumns.indexOf(c)-n.gridColumns.indexOf(d)})},i.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},i.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},i.prototype.getDisplayedColumnsStartingAt=function(n){for(var a=n,c=[];null!=a;)c.push(a),a=this.getDisplayedColAfter(a);return c},i.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var n=this.viewportColumns.map(function(d){return d.getId()}).join("#");this.extractViewport(),n!==this.viewportColumns.map(function(d){return d.getId()}).join("#")&&this.eventService.dispatchEvent({type:Ye.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},i.prototype.setViewportPosition=function(n,a){(n!==this.scrollWidth||a!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=n,this.scrollPosition=a,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},i.prototype.isPivotMode=function(){return this.pivotMode},i.prototype.isPivotSettingAllowed=function(n){return!n||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},i.prototype.setPivotMode=function(n,a){void 0===a&&(a="api"),n!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=n,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(a),this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getSecondaryPivotColumn=function(n,a){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var c=this.getPrimaryColumn(a),d=null;return this.secondaryColumns.forEach(function(v){var C=v.getColDef().pivotKeys,x=v.getColDef().pivotValueColumn;Ge(C,n)&&x===c&&(d=v)}),d},i.prototype.setBeans=function(n){this.logger=n.create("columnModel")},i.prototype.setFirstRightAndLastLeftPinned=function(n){var a,c;this.gridOptionsWrapper.isEnableRtl()?(a=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,c=this.displayedColumnsRight?bt(this.displayedColumnsRight):null):(a=this.displayedColumnsLeft?bt(this.displayedColumnsLeft):null,c=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(d){d.setLastLeftPinned(d===a,n),d.setFirstRightPinned(d===c,n)})},i.prototype.autoSizeColumns=function(n){var a=this,c=n.columns,d=n.skipHeader,v=n.skipHeaderGroups,C=n.stopAtGroup,x=n.source,I=void 0===x?"api":x;this.animationFrameService.flushAllFrames();for(var U=[],pe=-1,_e=null!=d?d:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),it=null!=v?v:_e;0!==pe;)pe=0,this.actionOnGridColumns(c,function(xt){if(U.indexOf(xt)>=0)return!1;var Ut=a.autoWidthCalculator.getPreferredWidthForColumn(xt,_e);if(Ut>0){var sn=a.normaliseColumnWidth(xt,Ut);xt.setActualWidth(sn,I),U.push(xt),pe++}return!0},I);it||this.autoSizeColumnGroupsByColumns(c,C),this.fireColumnResizedEvent(U,!0,"autosizeColumns")},i.prototype.fireColumnResizedEvent=function(n,a,c,d){void 0===d&&(d=null),n&&n.length&&this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_RESIZED,columns:n,column:1===n.length?n[0]:null,flexColumns:d,finished:a,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.autoSizeColumn=function(n,a,c){void 0===c&&(c="api"),n&&this.autoSizeColumns({columns:[n],skipHeader:a,skipHeaderGroups:!0,source:c})},i.prototype.autoSizeColumnGroupsByColumns=function(n,a){var c,d,v,C,U,x=new Set;this.getGridColumns(n).forEach(function(En){for(var xn=En.getParent();xn&&xn!=a;)xn.isPadding()||x.add(xn),xn=xn.getParent()});try{for(var _e=dl(x),it=_e.next();!it.done;it=_e.next()){var xt=it.value;try{for(var Ut=(v=void 0,dl(this.ctrlsService.getHeaderRowContainerCtrls())),sn=Ut.next();!sn.done&&!(U=sn.value.getHeaderCtrlForColumn(xt));sn=Ut.next());}catch(En){v={error:En}}finally{try{sn&&!sn.done&&(C=Ut.return)&&C.call(Ut)}finally{if(v)throw v.error}}U&&U.resizeLeafColumnsToFit()}}catch(En){c={error:En}}finally{try{it&&!it.done&&(d=_e.return)&&d.call(_e)}finally{if(c)throw c.error}}return[]},i.prototype.autoSizeAllColumns=function(n,a){void 0===a&&(a="api");var c=this.getAllDisplayedColumns();this.autoSizeColumns({columns:c,skipHeader:n,source:a})},i.prototype.getColumnsFromTree=function(n){var a=[],c=function(d){for(var v=0;v<d.length;v++){var C=d[v];C instanceof Rt?a.push(C):C instanceof fr&&c(C.getChildren())}};return c(n),a},i.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},i.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},i.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},i.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},i.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},i.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},i.prototype.isColumnDisplayed=function(n){return this.getAllDisplayedColumns().indexOf(n)>=0},i.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},i.prototype.getViewportColumns=function(){return this.viewportColumns},i.prototype.getDisplayedLeftColumnsForRow=function(n){return this.colSpanActive?this.getDisplayedColumnsForRow(n,this.displayedColumnsLeft):this.displayedColumnsLeft},i.prototype.getDisplayedRightColumnsForRow=function(n){return this.colSpanActive?this.getDisplayedColumnsForRow(n,this.displayedColumnsRight):this.displayedColumnsRight},i.prototype.getDisplayedColumnsForRow=function(n,a,c,d){for(var I,v=[],C=null,x=function(pe){var En,_e=a[pe],it=a.length-pe,xt=Math.min(_e.getColSpan(n),it),Ut=[_e];if(xt>1){for(var sn=xt-1,qt=1;qt<=sn;qt++)Ut.push(a[pe+qt]);pe+=sn}c?(En=!1,Ut.forEach(function(er){c(er)&&(En=!0)})):En=!0,En&&(0===v.length&&C&&d&&d(_e)&&v.push(C),v.push(_e)),C=_e,I=pe},U=0;U<a.length;U++)x(U),U=I;return v},i.prototype.getViewportCenterColumnsForRow=function(n){var a=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var d=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(n,this.displayedColumnsCenter,d,function(v){var C=v.getLeft();return ue(C)&&C>a.viewportLeft})},i.prototype.getAriaColumnIndex=function(n){return this.getAllGridColumns().indexOf(n)+1},i.prototype.isColumnInViewport=function(n){if(n.isAutoHeight())return!0;var a=n.getLeft()||0,c=a+n.getActualWidth(),d=this.viewportLeft-200,v=this.viewportRight+200;return!(a<d&&c<d||a>v&&c>v)},i.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},i.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},i.prototype.updatePrimaryColumnList=function(n,a,c,d,v,C){var x=this;if(void 0===C&&(C="api"),n&&!De(n)){var I=!1;n.forEach(function(pe){var _e=x.getPrimaryColumn(pe);if(_e){if(c){if(a.indexOf(_e)>=0)return;a.push(_e)}else{if(a.indexOf(_e)<0)return;zn(a,_e)}d(_e),I=!0}}),I&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(C),this.eventService.dispatchEvent({type:v,columns:a,column:1===a.length?a[0]:null,api:this.gridApi,columnApi:this.columnApi,source:C}))}},i.prototype.setRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(n,this.rowGroupColumns,Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),a)},i.prototype.setRowGroupActive=function(n,a,c){n!==a.isRowGroupActive()&&(a.setRowGroupActive(n,c),!n&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&a.setVisible(!0,c))},i.prototype.addRowGroupColumn=function(n,a){void 0===a&&(a="api"),n&&this.addRowGroupColumns([n],a)},i.prototype.addRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(n,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},i.prototype.removeRowGroupColumns=function(n,a){void 0===a&&(a="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(n,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,a)},i.prototype.removeRowGroupColumn=function(n,a){void 0===a&&(a="api"),n&&this.removeRowGroupColumns([n],a)},i.prototype.addPivotColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.pivotColumns,!0,function(c){return c.setPivotActive(!0,a)},Ye.EVENT_COLUMN_PIVOT_CHANGED,a)},i.prototype.setPivotColumns=function(n,a){void 0===a&&(a="api"),this.setPrimaryColumnList(n,this.pivotColumns,Ye.EVENT_COLUMN_PIVOT_CHANGED,function(c,d){d.setPivotActive(c,a)},a)},i.prototype.addPivotColumn=function(n,a){void 0===a&&(a="api"),this.addPivotColumns([n],a)},i.prototype.removePivotColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.pivotColumns,!1,function(c){return c.setPivotActive(!1,a)},Ye.EVENT_COLUMN_PIVOT_CHANGED,a)},i.prototype.removePivotColumn=function(n,a){void 0===a&&(a="api"),this.removePivotColumns([n],a)},i.prototype.setPrimaryColumnList=function(n,a,c,d,v){var C=this;a.length=0,ue(n)&&n.forEach(function(x){var I=C.getPrimaryColumn(x);I&&a.push(I)}),(this.primaryColumns||[]).forEach(function(x){var I=a.indexOf(x)>=0;d(I,x)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(v),this.fireColumnEvent(c,a,v)},i.prototype.setValueColumns=function(n,a){void 0===a&&(a="api"),this.setPrimaryColumnList(n,this.valueColumns,Ye.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),a)},i.prototype.setValueActive=function(n,a,c){if(n!==a.isValueActive()&&(a.setValueActive(n,c),n&&!a.getAggFunc())){var d=this.aggFuncService.getDefaultAggFunc(a);a.setAggFunc(d)}},i.prototype.addValueColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.valueColumns,!0,this.setValueActive.bind(this,!0),Ye.EVENT_COLUMN_VALUE_CHANGED,a)},i.prototype.addValueColumn=function(n,a){void 0===a&&(a="api"),n&&this.addValueColumns([n],a)},i.prototype.removeValueColumn=function(n,a){void 0===a&&(a="api"),this.removeValueColumns([n],a)},i.prototype.removeValueColumns=function(n,a){void 0===a&&(a="api"),this.updatePrimaryColumnList(n,this.valueColumns,!1,this.setValueActive.bind(this,!1),Ye.EVENT_COLUMN_VALUE_CHANGED,a)},i.prototype.normaliseColumnWidth=function(n,a){var c=n.getMinWidth();ue(c)&&a<c&&(a=c);var d=n.getMaxWidth();return ue(d)&&n.isGreaterThanMax(a)&&(a=d),a},i.prototype.getPrimaryOrGridColumn=function(n){return this.getPrimaryColumn(n)||this.getGridColumn(n)},i.prototype.setColumnWidths=function(n,a,c,d){var v=this;void 0===d&&(d="api");var C=[];n.forEach(function(x){var I=v.getPrimaryOrGridColumn(x.key);if(I&&(C.push({width:x.newWidth,ratios:[1],columns:[I]}),"shift"===v.gridOptionsWrapper.getColResizeDefault()&&(a=!a),a)){var pe=v.getDisplayedColAfter(I);if(!pe)return;var _e=I.getActualWidth()-x.newWidth,it=pe.getActualWidth()+_e;C.push({width:it,ratios:[1],columns:[pe]})}}),0!==C.length&&this.resizeColumnSets({resizeSets:C,finished:c,source:d})},i.prototype.checkMinAndMaxWidthsForSet=function(n){var c=n.width,d=0,v=0,C=!0;return n.columns.forEach(function(U){var pe=U.getMinWidth();d+=pe||0;var _e=U.getMaxWidth();ue(_e)&&_e>0?v+=_e:C=!1}),c>=d&&(!C||c<=v)},i.prototype.resizeColumnSets=function(n){var a=this,c=n.resizeSets,d=n.finished,v=n.source;if(!c||c.every(function(xt){return a.checkMinAndMaxWidthsForSet(xt)})){var I=[],U=[];c.forEach(function(xt){var Ut=xt.width,sn=xt.columns,qt=xt.ratios,En={},xn={};sn.forEach(function(ei){return U.push(ei)});for(var er=!0,Ar=0,hi=function(){if(++Ar>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";er=!1;var ei=[],Br=0,Ai=Ut;sn.forEach(function(da,Sl){xn[da.getId()]?Ai-=En[da.getId()]:(ei.push(da),Br+=qt[Sl])});var za=1/Br;ei.forEach(function(da,Sl){var ts;Sl===ei.length-1?ts=Ai:(ts=Math.round(qt[Sl]*Ut*za),Ai-=ts);var $f=da.getMinWidth(),Lu=da.getMaxWidth();ue($f)&&ts<$f?(ts=$f,xn[da.getId()]=!0,er=!0):ue(Lu)&&Lu>0&&ts>Lu&&(ts=Lu,xn[da.getId()]=!0,er=!0),En[da.getId()]=ts})};er&&"break"!==hi(););sn.forEach(function(ei){var Br=En[ei.getId()];ei.getActualWidth()!==Br&&(ei.setActualWidth(Br,v),I.push(ei))})});var pe=I.length>0,_e=this.refreshFlexedColumns({resizingCols:U,skipSetLeft:!0});pe&&(this.setLeftValues(v),this.updateBodyWidths(),this.checkViewportColumns());var it=U.concat(_e);(pe||d)&&this.fireColumnResizedEvent(it,d,v,_e)}else d&&this.fireColumnResizedEvent(c&&c.length>0?c[0].columns:null,d,v)},i.prototype.setColumnAggFunc=function(n,a,c){if(void 0===c&&(c="api"),n){var d=this.getPrimaryColumn(n);!d||(d.setAggFunc(a),this.fireColumnEvent(Ye.EVENT_COLUMN_VALUE_CHANGED,[d],c))}},i.prototype.fireColumnEvent=function(n,a,c){this.eventService.dispatchEvent({type:n,columns:a,column:a&&1==a.length?a[0]:null,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.moveRowGroupColumn=function(n,a,c){void 0===c&&(c="api");var d=this.rowGroupColumns[n];this.rowGroupColumns.splice(n,1),this.rowGroupColumns.splice(a,0,d),this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.moveColumns=function(n,a,c){if(void 0===c&&(c="api"),this.columnAnimationService.start(),a>this.gridColumns.length-n.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+a),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var d=this.getGridColumns(n);!this.doesMovePassRules(d,a)||(Bi(this.gridColumns,d,a),this.updateDisplayedColumns(c),this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_MOVED,columns:d,column:1===d.length?d[0]:null,toIndex:a,api:this.gridApi,columnApi:this.columnApi,source:c}),this.columnAnimationService.finish())},i.prototype.doesMovePassRules=function(n,a){var c=this.gridColumns.slice();return Bi(c,n,a),!(!this.doesMovePassMarryChildren(c)||!this.doesMovePassLockedPositions(c))},i.prototype.sortColumnsLikeGridColumns=function(n){var a=this;!n||n.length<=1||n.filter(function(d){return a.gridColumns.indexOf(d)<0}).length>0||n.sort(function(d,v){return a.gridColumns.indexOf(d)-a.gridColumns.indexOf(v)})},i.prototype.doesMovePassLockedPositions=function(n){var a=!1,c=!0;return n.forEach(function(d){d.getColDef().lockPosition?a&&(c=!1):a=!0}),c},i.prototype.doesMovePassMarryChildren=function(n){var a=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(c){if(c instanceof fr){var d=c,v=d.getColGroupDef();if(v&&v.marryChildren){var x=[];d.getLeafColumns().forEach(function(it){var xt=n.indexOf(it);x.push(xt)}),Math.max.apply(Math,x)-Math.min.apply(Math,x)>d.getLeafColumns().length-1&&(a=!1)}}}),a},i.prototype.moveColumn=function(n,a,c){void 0===c&&(c="api"),this.moveColumns([n],a,c)},i.prototype.moveColumnByIndex=function(n,a,c){void 0===c&&(c="api"),this.moveColumn(this.gridColumns[n],a,c)},i.prototype.getColumnDefs=function(){var n=this;if(this.primaryColumns){var a=this.primaryColumns.slice();return this.gridColsArePrimary?a.sort(function(c,d){return n.gridColumns.indexOf(c)-n.gridColumns.indexOf(d)}):this.lastPrimaryOrder&&a.sort(function(c,d){return n.lastPrimaryOrder.indexOf(c)-n.lastPrimaryOrder.indexOf(d)}),this.columnDefFactory.buildColumnDefs(a,this.rowGroupColumns,this.pivotColumns)}},i.prototype.getBodyContainerWidth=function(){return this.bodyWidth},i.prototype.getContainerWidth=function(n){switch(n){case St.PINNED_LEFT:return this.leftWidth;case St.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},i.prototype.updateBodyWidths=function(){var n=this.getWidthOfColsInList(this.displayedColumnsCenter),a=this.getWidthOfColsInList(this.displayedColumnsLeft),c=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==n,(this.bodyWidth!==n||this.leftWidth!==a||this.rightWidth!==c)&&(this.bodyWidth=n,this.leftWidth=a,this.rightWidth=c,this.eventService.dispatchEvent({type:Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},i.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},i.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},i.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},i.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},i.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},i.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},i.prototype.getDisplayedColumns=function(n){switch(n){case St.PINNED_LEFT:return this.getDisplayedLeftColumns();case St.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},i.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},i.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},i.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},i.prototype.getAllGridColumns=function(){return this.gridColumns},i.prototype.isEmpty=function(){return De(this.gridColumns)},i.prototype.isRowGroupEmpty=function(){return De(this.rowGroupColumns)},i.prototype.setColumnVisible=function(n,a,c){void 0===c&&(c="api"),this.setColumnsVisible([n],a,c)},i.prototype.setColumnsVisible=function(n,a,c){var d=this;void 0===a&&(a=!1),void 0===c&&(c="api"),this.columnAnimationService.start(),this.actionOnGridColumns(n,function(v){return v.isVisible()!==a&&(v.setVisible(a,c),!0)},c,function(){return{type:Ye.EVENT_COLUMN_VISIBLE,visible:a,column:null,columns:null,api:d.gridApi,columnApi:d.columnApi,source:c}}),this.columnAnimationService.finish()},i.prototype.setColumnPinned=function(n,a,c){void 0===c&&(c="api"),n&&this.setColumnsPinned([n],a,c)},i.prototype.setColumnsPinned=function(n,a,c){var v,d=this;void 0===c&&(c="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),v=!0===a||a===St.PINNED_LEFT?St.PINNED_LEFT:a===St.PINNED_RIGHT?St.PINNED_RIGHT:null,this.actionOnGridColumns(n,function(C){return C.getPinned()!==v&&(C.setPinned(v),!0)},c,function(){return{type:Ye.EVENT_COLUMN_PINNED,pinned:v,column:null,columns:null,api:d.gridApi,columnApi:d.columnApi,source:c}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},i.prototype.actionOnGridColumns=function(n,a,c,d){var v=this;if(!De(n)){var C=[];if(n.forEach(function(I){var U=v.getGridColumn(I);U&&!1!==a(U)&&C.push(U)}),C.length&&(this.updateDisplayedColumns(c),ue(d)&&d)){var x=d();x.columns=C,x.column=1===C.length?C[0]:null,this.eventService.dispatchEvent(x)}}},i.prototype.getDisplayedColBefore=function(n){var a=this.getAllDisplayedColumns(),c=a.indexOf(n);return c>0?a[c-1]:null},i.prototype.getDisplayedColAfter=function(n){var a=this.getAllDisplayedColumns(),c=a.indexOf(n);return c<a.length-1?a[c+1]:null},i.prototype.getDisplayedGroupAfter=function(n){return this.getDisplayedGroupAtDirection(n,"After")},i.prototype.getDisplayedGroupBefore=function(n){return this.getDisplayedGroupAtDirection(n,"Before")},i.prototype.getDisplayedGroupAtDirection=function(n,a){for(var c=n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel(),d=n.getDisplayedLeafColumns(),v="After"===a?bt(d):d[0],C="getDisplayedCol"+a;;){var x=this[C](v);if(!x)return null;var I=this.getColumnGroupAtLevel(x,c);if(I!==n)return I}},i.prototype.getColumnGroupAtLevel=function(n,a){for(var c=n.getParent();!(c.getProvidedColumnGroup().getLevel()+c.getPaddingLevel()<=a);)c=c.getParent();return c},i.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},i.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},i.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var n=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&ue(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(a){return n.push(a)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(a){return n.push(a)}),n},i.prototype.createStateItemFromColumn=function(n){var a=n.isRowGroupActive()?this.rowGroupColumns.indexOf(n):null,c=n.isPivotActive()?this.pivotColumns.indexOf(n):null,d=n.isValueActive()?n.getAggFunc():null,v=null!=n.getSort()?n.getSort():null,C=null!=n.getSortIndex()?n.getSortIndex():null,x=null!=n.getFlex()&&n.getFlex()>0?n.getFlex():null;return{colId:n.getColId(),width:n.getActualWidth(),hide:!n.isVisible(),pinned:n.getPinned(),sort:v,sortIndex:C,aggFunc:d,rowGroup:n.isRowGroupActive(),rowGroupIndex:a,pivot:n.isPivotActive(),pivotIndex:c,flex:x}},i.prototype.getColumnState=function(){if(at(this.primaryColumns)||!this.isAlive())return[];var a=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.pivotMode||this.orderColumnStateList(a),a},i.prototype.getPrimaryAndAutoGroupCols=function(){return this.groupAutoColumns?_s(this.primaryColumns||[],this.groupAutoColumns):this.primaryColumns},i.prototype.orderColumnStateList=function(n){var a=Ta(this.gridColumns.map(function(c,d){return[c.getColId(),d]}));n.sort(function(c,d){return(a.has(c.colId)?a.get(c.colId):-1)-(a.has(d.colId)?a.get(d.colId):-1)})},i.prototype.resetColumnState=function(n){void 0===n&&(n="api");var a=this.getColumnsFromTree(this.primaryColumnTree),c=[],d=1e3,v=1e3,C=[];this.groupAutoColumns&&(C=C.concat(this.groupAutoColumns)),a&&(C=C.concat(a)),C.forEach(function(x){var I=function(vi,ei){return null!=vi?vi:null!=ei?ei:null},U=x.getColDef(),pe=I(U.sort,U.initialSort),_e=I(U.sortIndex,U.initialSortIndex),it=I(U.hide,U.initialHide),xt=I(U.pinned,U.initialPinned),Ut=I(U.width,U.initialWidth),sn=I(U.flex,U.initialFlex),qt=I(U.rowGroupIndex,U.initialRowGroupIndex),En=I(U.rowGroup,U.initialRowGroup);null==qt&&(null==En||0==En)&&(qt=null,En=null);var xn=I(U.pivotIndex,U.initialPivotIndex),er=I(U.pivot,U.initialPivot);null==xn&&(null==er||0==er)&&(xn=null,er=null);var Ar=I(U.aggFunc,U.initialAggFunc),hi={colId:x.getColId(),sort:pe,sortIndex:_e,hide:it,pinned:xt,width:Ut,flex:sn,rowGroup:En,rowGroupIndex:qt,pivot:er,pivotIndex:xn,aggFunc:Ar};at(qt)&&En&&(hi.rowGroupIndex=d++),at(xn)&&er&&(hi.pivotIndex=v++),c.push(hi)}),this.applyColumnState({state:c,applyOrder:!0},n)},i.prototype.applyColumnState=function(n,a){var c=this;if(void 0===a&&(a="api"),De(this.primaryColumns))return!1;if(n&&n.state&&!n.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var d=this.compareColumnStatesAndRaiseEvents(a);this.autoGroupsNeedBuilding=!0;var v=this.primaryColumns.slice(),C=!0,x={},I={},U=[],pe=this.rowGroupColumns.slice(),_e=this.pivotColumns.slice();n.state&&n.state.forEach(function(sn){var En=sn.colId||"";if(En.startsWith(St.GROUP_AUTO_COLUMN_ID))U.push(sn);else{var er=c.getPrimaryColumn(En);er?(c.syncColumnWithStateItem(er,sn,n.defaultState,x,I,!1,a),zn(v,er)):C=!1}});var it=function(sn){return c.syncColumnWithStateItem(sn,null,n.defaultState,x,I,!1,a)};v.forEach(it);var xt=function(sn,qt,En,xn){var er=sn[En.getId()],Ar=sn[xn.getId()],hi=null!=er,vi=null!=Ar;if(hi&&vi)return er-Ar;if(hi)return-1;if(vi)return 1;var ei=qt.indexOf(En),Br=qt.indexOf(xn),Ai=ei>=0;return Ai&&Br>=0?ei-Br:Ai?-1:1};this.rowGroupColumns.sort(xt.bind(this,x,pe)),this.pivotColumns.sort(xt.bind(this,I,_e)),this.updateGridColumns();var Ut=this.groupAutoColumns?this.groupAutoColumns.slice():[];return U.forEach(function(sn){var qt=c.getAutoColumn(sn.colId);zn(Ut,qt),c.syncColumnWithStateItem(qt,sn,n.defaultState,null,null,!0,a)}),Ut.forEach(it),this.applyOrderAfterApplyState(n),this.updateDisplayedColumns(a),this.dispatchEverythingChanged(a),d(),this.columnAnimationService.finish(),C},i.prototype.applyOrderAfterApplyState=function(n){if(this.gridColsArePrimary&&n.applyOrder&&n.state){var a=[],c={},d={};this.gridColumns.forEach(function(C){return d[C.getId()]=C}),n.state.forEach(function(C){if(C.colId&&!c[C.colId]){var x=d[C.colId];x&&(a.push(x),c[C.colId]=!0)}});var v=0;if(this.gridColumns.forEach(function(C){var x=C.getColId();null!=c[x]||(x.startsWith(St.GROUP_AUTO_COLUMN_ID)?Mr(a,C,v++):a.push(C))}),a=this.putFixedColumnsFirst(a),!this.doesMovePassMarryChildren(a))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=a}},i.prototype.compareColumnStatesAndRaiseEvents=function(n){var a=this,c={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},d=this.getColumnState(),v={};return d.forEach(function(C){v[C.colId]=C}),function(){if(!a.gridOptionsWrapper.isSuppressColumnStateEvents()){var C=a.getPrimaryAndAutoGroupCols(),x=function(qt,En,xn,er){Ge(En.map(er),xn.map(er))||a.eventService.dispatchEvent({type:qt,columns:xn,column:1===xn.length?xn[0]:null,api:a.gridApi,columnApi:a.columnApi,source:n})},I=function(qt){var En=[];return(C||[]).forEach(function(xn){var er=v[xn.getColId()];er&&qt(er,xn)&&En.push(xn)}),En},U=function(qt){return qt.getColId()};x(Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,c.rowGroupColumns,a.rowGroupColumns,U),x(Ye.EVENT_COLUMN_PIVOT_CHANGED,c.pivotColumns,a.pivotColumns,U),I(function(qt,En){var xn=null!=qt.aggFunc,er=xn!=En.isValueActive(),Ar=xn&&qt.aggFunc!=En.getAggFunc();return er||Ar}).length>0&&a.fireColumnEvent(Ye.EVENT_COLUMN_VALUE_CHANGED,a.valueColumns,n),a.fireColumnResizedEvent(I(function(qt,En){return qt.width!=En.getActualWidth()}),!0,n),a.raiseColumnPinnedEvent(I(function(qt,En){return qt.pinned!=En.getPinned()}),n),a.raiseColumnVisibleEvent(I(function(qt,En){return qt.hide==En.isVisible()}),n),I(function(qt,En){return qt.sort!=En.getSort()||qt.sortIndex!=En.getSortIndex()}).length>0&&a.sortController.dispatchSortChangedEvents(),a.raiseColumnMovedEvent(d,n)}}},i.prototype.raiseColumnPinnedEvent=function(n,a){if(n.length){var c=1===n.length?n[0]:null,d=this.getCommonValue(n,function(C){return C.getPinned()});this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_PINNED,pinned:null!=d?d:null,columns:n,column:c,api:this.gridApi,columnApi:this.columnApi,source:a})}},i.prototype.getCommonValue=function(n,a){if(n&&0!=n.length){for(var c=a(n[0]),d=1;d<n.length;d++)if(c!==a(n[d]))return;return c}},i.prototype.raiseColumnVisibleEvent=function(n,a){if(n.length){var c=1===n.length?n[0]:null,d=this.getCommonValue(n,function(C){return C.isVisible()});this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_VISIBLE,visible:d,columns:n,column:c,api:this.gridApi,columnApi:this.columnApi,source:a})}},i.prototype.raiseColumnMovedEvent=function(n,a){var c=this,d=this.getColumnState(),v={};d.forEach(function(_e){return v[_e.colId]=_e});var C={};n.forEach(function(_e){v[_e.colId]&&(C[_e.colId]=!0)});var x=n.filter(function(_e){return C[_e.colId]}),I=d.filter(function(_e){return C[_e.colId]}),U=[];I.forEach(function(_e,it){var xt=x&&x[it];if(xt&&xt.colId!==_e.colId){var Ut=c.getGridColumn(xt.colId);Ut&&U.push(Ut)}}),U.length&&this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_MOVED,columns:U,column:null,api:this.gridApi,columnApi:this.columnApi,source:a})},i.prototype.syncColumnWithStateItem=function(n,a,c,d,v,C,x){if(n){var I=function(Br,Ai){var za={value1:void 0,value2:void 0},da=!1;return a&&(void 0!==a[Br]&&(za.value1=a[Br],da=!0),ue(Ai)&&void 0!==a[Ai]&&(za.value2=a[Ai],da=!0)),!da&&c&&(void 0!==c[Br]&&(za.value1=c[Br]),ue(Ai)&&void 0!==c[Ai]&&(za.value2=c[Ai])),za},U=I("hide").value1;void 0!==U&&n.setVisible(!U,x);var pe=I("pinned").value1;void 0!==pe&&n.setPinned(pe);var _e=this.columnUtils.calculateColMinWidth(n.getColDef()),it=I("flex").value1;if(void 0!==it&&n.setFlex(it),n.getFlex()<=0){var Ut=I("width").value1;null!=Ut&&null!=_e&&Ut>=_e&&n.setActualWidth(Ut,x)}var sn=I("sort").value1;void 0!==sn&&n.setSort(sn===St.SORT_DESC||sn===St.SORT_ASC?sn:void 0);var qt=I("sortIndex").value1;if(void 0!==qt&&n.setSortIndex(qt),!C){var En=I("aggFunc").value1;void 0!==En&&("string"==typeof En?(n.setAggFunc(En),n.isValueActive()||(n.setValueActive(!0,x),this.valueColumns.push(n))):(ue(En)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),n.isValueActive()&&(n.setValueActive(!1,x),zn(this.valueColumns,n))));var xn=I("rowGroup","rowGroupIndex"),er=xn.value1,Ar=xn.value2;(void 0!==er||void 0!==Ar)&&("number"==typeof Ar||er?(n.isRowGroupActive()||(n.setRowGroupActive(!0,x),this.rowGroupColumns.push(n)),d&&"number"==typeof Ar&&(d[n.getId()]=Ar)):n.isRowGroupActive()&&(n.setRowGroupActive(!1,x),zn(this.rowGroupColumns,n)));var hi=I("pivot","pivotIndex"),vi=hi.value1,ei=hi.value2;(void 0!==vi||void 0!==ei)&&("number"==typeof ei||vi?(n.isPivotActive()||(n.setPivotActive(!0,x),this.pivotColumns.push(n)),v&&"number"==typeof ei&&(v[n.getId()]=ei)):n.isPivotActive()&&(n.setPivotActive(!1,x),zn(this.pivotColumns,n)))}}},i.prototype.getGridColumns=function(n){return this.getColumns(n,this.getGridColumn.bind(this))},i.prototype.getColumns=function(n,a){var c=[];return n&&n.forEach(function(d){var v=a(d);v&&c.push(v)}),c},i.prototype.getColumnWithValidation=function(n){if(null==n)return null;var a=this.getGridColumn(n);return a||console.warn("AG Grid: could not find column "+n),a},i.prototype.getPrimaryColumn=function(n){return this.primaryColumns?this.getColumn(n,this.primaryColumns,this.primaryColumnsMap):null},i.prototype.getGridColumn=function(n){return this.getColumn(n,this.gridColumns,this.gridColumnsMap)},i.prototype.getColumn=function(n,a,c){if(!n)return null;if("string"==typeof n&&c[n])return c[n];for(var d=0;d<a.length;d++)if(this.columnsMatch(a[d],n))return a[d];return this.getAutoColumn(n)},i.prototype.getAutoColumn=function(n){var a=this;return this.groupAutoColumns&&ue(this.groupAutoColumns)&&!at(this.groupAutoColumns)&&this.groupAutoColumns.find(function(c){return a.columnsMatch(c,n)})||null},i.prototype.columnsMatch=function(n,a){var c=n===a,d=n.getColDef()===a,v=n.getColId()==a;return c||d||v},i.prototype.getDisplayNameForColumn=function(n,a,c){if(void 0===c&&(c=!1),!n)return null;var d=this.getHeaderName(n.getColDef(),n,null,null,a);return c?this.wrapHeaderNameWithAggFunc(n,d):d},i.prototype.getDisplayNameForProvidedColumnGroup=function(n,a,c){var d=a?a.getColGroupDef():null;return d?this.getHeaderName(d,null,n,a,c):null},i.prototype.getDisplayNameForColumnGroup=function(n,a){return this.getDisplayNameForProvidedColumnGroup(n,n.getProvidedColumnGroup(),a)},i.prototype.getHeaderName=function(n,a,c,d,v){var C=n.headerValueGetter;if(C){var x={colDef:n,column:a,columnGroup:c,providedColumnGroup:d,location:v,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof C?C(x):"string"==typeof C?this.expressionService.evaluate(C,x):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=n.headerName?n.headerName:n.field?Hs(n.field):""},i.prototype.wrapHeaderNameWithAggFunc=function(n,a){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return a;var C,c=n.getColDef().pivotValueColumn,v=null;if(ue(c))v=c?c.getAggFunc():null,C=!0;else{var x=n.isValueActive(),I=this.pivotMode||!this.isRowGroupEmpty();x&&I?(v=n.getAggFunc(),C=!0):C=!1}if(C){var U="string"==typeof v?v:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(U,U)+"("+a+")"}return a},i.prototype.getColumnGroup=function(n,a){if(!n)return null;if(n instanceof Or)return n;var c=this.getAllDisplayedTrees(),d="number"==typeof a,v=null;return this.columnUtils.depthFirstAllColumnTreeSearch(c,function(C){if(C instanceof Or){var x=C;(d?n===x.getGroupId()&&a===x.getInstanceId():n===x.getGroupId())&&(v=x)}}),v},i.prototype.isReady=function(){return this.ready},i.prototype.extractValueColumns=function(n,a){this.valueColumns=this.extractColumns(a,this.valueColumns,function(c,d){return c.setValueActive(d,n)},function(){},function(){},function(c){var d=c.aggFunc;return null===d||""===d?null:void 0!==d?!!d:void 0},function(c){return null!=c.initialAggFunc&&""!=c.initialAggFunc}),this.valueColumns.forEach(function(c){var d=c.getColDef();null!=d.aggFunc&&""!=d.aggFunc?c.setAggFunc(d.aggFunc):c.getAggFunc()||c.setAggFunc(d.initialAggFunc)})},i.prototype.extractRowGroupColumns=function(n,a){this.rowGroupColumns=this.extractColumns(a,this.rowGroupColumns,function(c,d){return c.setRowGroupActive(d,n)},function(c){return c.rowGroupIndex},function(c){return c.initialRowGroupIndex},function(c){return c.rowGroup},function(c){return c.initialRowGroup})},i.prototype.extractColumns=function(n,a,c,d,v,C,x){void 0===n&&(n=[]),void 0===a&&(a=[]);var I=[],U=[];(this.primaryColumns||[]).forEach(function(it){var xt=n.indexOf(it)<0,Ut=it.getColDef(),sn=je(C(Ut)),qt=je(x(Ut)),En=Ct(d(Ut)),xn=Ct(v(Ut));(void 0!==sn?sn:void 0!==En?null!==En&&En>=0:xt?void 0!==qt?qt:void 0!==xn&&null!=xn&&xn>=0:a.indexOf(it)>=0)&&((xt?null!=En||null!=xn:null!=En)?I.push(it):U.push(it))});var pe=function(it){var xt=d(it.getColDef()),Ut=v(it.getColDef());return null!=xt?xt:Ut};I.sort(function(it,xt){var Ut=pe(it),sn=pe(xt);return Ut===sn?0:Ut<sn?-1:1});var _e=[].concat(I);return a.forEach(function(it){U.indexOf(it)>=0&&_e.push(it)}),U.forEach(function(it){_e.indexOf(it)<0&&_e.push(it)}),a.forEach(function(it){_e.indexOf(it)<0&&c(it,!1)}),_e.forEach(function(it){a.indexOf(it)<0&&c(it,!0)}),_e},i.prototype.extractPivotColumns=function(n,a){this.pivotColumns=this.extractColumns(a,this.pivotColumns,function(c,d){return c.setPivotActive(d,n)},function(c){return c.pivotIndex},function(c){return c.initialPivotIndex},function(c){return c.pivot},function(c){return c.initialPivot})},i.prototype.resetColumnGroupState=function(n){void 0===n&&(n="api");var a=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(c){if(c instanceof fr){var d=c.getColGroupDef(),v={groupId:c.getGroupId(),open:d?d.openByDefault:void 0};a.push(v)}}),this.setColumnGroupState(a,n)},i.prototype.getColumnGroupState=function(){var n=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(a){if(a instanceof fr){var c=a;n.push({groupId:c.getGroupId(),open:c.isExpanded()})}}),n},i.prototype.setColumnGroupState=function(n,a){var c=this;void 0===a&&(a="api"),this.columnAnimationService.start();var d=[];n.forEach(function(v){var x=v.open,I=c.getProvidedColumnGroup(v.groupId);!I||I.isExpanded()!==x&&(c.logger.log("columnGroupOpened("+I.getGroupId()+","+x+")"),I.setExpanded(x),d.push(I))}),this.updateGroupsAndDisplayedColumns(a),this.setFirstRightAndLastLeftPinned(a),d.forEach(function(v){c.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_GROUP_OPENED,columnGroup:v,api:c.gridApi,columnApi:c.columnApi})}),this.columnAnimationService.finish()},i.prototype.setColumnGroupOpened=function(n,a,c){var d;void 0===c&&(c="api"),d=n instanceof fr?n.getId():n||"",this.setColumnGroupState([{groupId:d,open:a}],c)},i.prototype.getProvidedColumnGroup=function(n){"string"!=typeof n&&console.error("AG Grid: group key must be a string");var a=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(c){if(c instanceof fr){var d=c;d.getId()===n&&(a=d)}}),a},i.prototype.calculateColumnsForDisplay=function(){var n=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(c){var d=n.groupAutoColumns&&Xr(n.groupAutoColumns,c),v=n.valueColumns&&Xr(n.valueColumns,c);return d||v}:function(c){return n.groupAutoColumns&&Xr(n.groupAutoColumns,c)||c.isVisible()})},i.prototype.checkColSpanActiveInCols=function(n){var a=!1;return n.forEach(function(c){ue(c.getColDef().colSpan)&&(a=!0)}),a},i.prototype.calculateColumnsForGroupDisplay=function(){var n=this;this.groupDisplayColumns=[];var a=function(c){var d=c.getColDef();d&&ue(d.showRowGroup)&&n.groupDisplayColumns.push(c)};this.gridColumns.forEach(a),this.groupAutoColumns&&this.groupAutoColumns.forEach(a)},i.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},i.prototype.updateDisplayedColumns=function(n){var a=this.calculateColumnsForDisplay();this.buildDisplayedTrees(a),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n)},i.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},i.prototype.setSecondaryColumns=function(n,a){void 0===a&&(a="api");var c=n&&n.length>0;if(c||this.secondaryColumnsPresent){if(c){this.processSecondaryColumnDefinitions(n);var d=this.columnFactory.createColumnTree(n,!1);this.secondaryBalancedTree=d.columnTree,this.secondaryHeaderRowCount=d.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(a)}},i.prototype.processSecondaryColumnDefinitions=function(n){var a=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),c=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(a||c){var d=function(v){v.forEach(function(C){if(ue(C.children)){var I=C;c&&c(I),d(I.children)}else a&&a(C)})};n&&d(n)}},i.prototype.updateGridColumns=function(){var n=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(c){return n.gridColumnsMap[c.getId()]=c}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:Ye.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(d){return d.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var n=this.rowModel.getType();n!==St.ROW_MODEL_TYPE_CLIENT_SIDE&&n!==St.ROW_MODEL_TYPE_SERVER_SIDE&&Qn(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},i.prototype.orderGridColsLikeLastPrimary=function(){if(!at(this.lastPrimaryOrder)){var n=Ta(this.lastPrimaryOrder.map(function(I,U){return[I,U]})),a=!0;if(this.gridColumns.forEach(function(I){n.has(I)&&(a=!1)}),!a){var c=Ta(this.gridColumns.map(function(I){return[I,!0]})),d=this.lastPrimaryOrder.filter(function(I){return c.has(I)}),v=Ta(d.map(function(I){return[I,!0]})),C=this.gridColumns.filter(function(I){return!v.has(I)}),x=d.slice();C.forEach(function(I){var U=I.getOriginalParent();if(U){for(var pe=[];!pe.length&&U;)U.getLeafColumns().forEach(function(Ut){var sn=x.indexOf(Ut)>=0,qt=pe.indexOf(Ut)<0;sn&&qt&&pe.push(Ut)}),U=U.getOriginalParent();if(pe.length){var it=pe.map(function(Ut){return x.indexOf(Ut)}),xt=Math.max.apply(Math,_s(it));Mr(x,I,xt+1)}else x.push(I)}else x.push(I)}),this.gridColumns=x}}},i.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},i.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},i.prototype.putFixedColumnsFirst=function(n){var a=n.filter(function(d){return d.getColDef().lockPosition}),c=n.filter(function(d){return!d.getColDef().lockPosition});return a.concat(c)},i.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!at(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var n=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=n.concat(this.gridBalancedTree)}},i.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},i.prototype.updateGroupsAndDisplayedColumns=function(n){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(n),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.deriveDisplayedColumns=function(n){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(n),this.displayedAutoHeightCols=this.displayedColumns.filter(function(a){return a.isAutoHeight()})},i.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},i.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},i.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},i.prototype.setLeftValues=function(n){this.setLeftValuesOfColumns(n),this.setLeftValuesOfGroups()},i.prototype.setLeftValuesOfColumns=function(n){var a=this;if(this.primaryColumns){var c=this.primaryColumns.slice(0),d=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(v){if(d){var C=a.getWidthOfColsInList(v);v.forEach(function(I){C-=I.getActualWidth(),I.setLeft(C,n)})}else{var x=0;v.forEach(function(I){I.setLeft(x,n),x+=I.getActualWidth()})}pr(c,v)}),c.forEach(function(v){v.setLeft(null,n)})}},i.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(n){n.forEach(function(a){a instanceof Or&&a.checkLeft()})})},i.prototype.derivedDisplayedColumnsFromDisplayedTree=function(n,a){a.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(n,function(c){c instanceof Rt&&a.push(c)})},i.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},i.prototype.getVirtualHeaderGroupRow=function(n,a){var c;switch(n){case St.PINNED_LEFT:c=this.viewportRowLeft[a];break;case St.PINNED_RIGHT:c=this.viewportRowRight[a];break;default:c=this.viewportRowCenter[a]}return at(c)&&(c=[]),c},i.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var n={};this.viewportColumns.forEach(function(c){return n[c.getId()]=!0});var a=function(c,d,v){for(var C=!1,x=0;x<c.length;x++){var I=c[x],U=!1;if(I instanceof Rt)U=!0===n[I.getId()];else{var _e=I.getDisplayedChildren();_e&&(U=a(_e,d,v+1))}U&&(C=!0,d[v]||(d[v]=[]),d[v].push(I))}return C};a(this.displayedTreeLeft,this.viewportRowLeft,0),a(this.displayedTreeRight,this.viewportRowRight,0),a(this.displayedTreeCentre,this.viewportRowCenter,0)},i.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},i.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},i.prototype.refreshFlexedColumns=function(n){var a=this;void 0===n&&(n={});var c=n.source?n.source:"flex";if(null!=n.viewportWidth&&(this.flexViewportWidth=n.viewportWidth),!this.flexViewportWidth)return[];var d=-1;n.resizingCols&&n.resizingCols.forEach(function(er){var Ar=a.displayedColumnsCenter.indexOf(er);d<Ar&&(d=Ar)});var v=function(er){var Ar=a.displayedColumnsCenter.indexOf(er)>d;return er.getFlex()&&Ar},C=this.displayedColumnsCenter.filter(function(er){return!v(er)}),x=this.displayedColumnsCenter.filter(function(er){return v(er)}),I=[];if(!x.length)return[];var pe,U=[];e:for(;;){var _e=x.reduce(function(er,Ar){return er+Ar.getFlex()},0);pe=this.flexViewportWidth-this.getWidthOfColsInList(C);for(var it=0;it<x.length;it++){var xt=x[it],Ut=pe*xt.getFlex()/_e,sn=0,qt=xt.getMinWidth(),En=xt.getMaxWidth();if(ue(qt)&&Ut<qt?sn=qt:ue(En)&&Ut>En&&(sn=En),sn){xt.setActualWidth(sn,c),zn(x,xt),I.push(xt),C.push(xt);continue e}U[it]=Math.round(Ut)}break}var xn=pe;return x.forEach(function(er,Ar){er.setActualWidth(Math.min(U[Ar],xn),c),I.push(er),xn-=U[Ar]}),n.skipSetLeft||this.setLeftValues(c),n.updateBodyWidths&&this.updateBodyWidths(),n.fireResizedEvent&&this.fireColumnResizedEvent(I,!0,c,x),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),x},i.prototype.sizeColumnsToFit=function(n,a,c){void 0===a&&(a="sizeColumnsToFit");var d=this.getAllDisplayedColumns();if(!(n<=0)&&d.length){var v=[],C=[];d.forEach(function(xn){!0===xn.getColDef().suppressSizeToFit?C.push(xn):v.push(xn)});var x=v.slice(0),I=!1,U=function(xn){zn(v,xn),C.push(xn)};for(v.forEach(function(xn){return xn.resetActualWidth(a)});!I;){I=!0;var pe=n-this.getWidthOfColsInList(C);if(pe<=0)v.forEach(function(xn){xn.setMinimum(a)});else for(var _e=pe/this.getWidthOfColsInList(v),it=pe,xt=v.length-1;xt>=0;xt--){var Ut=v[xt],sn=Ut.getMinWidth(),qt=Ut.getMaxWidth(),En=Math.round(Ut.getActualWidth()*_e);ue(sn)&&En<sn?(En=sn,U(Ut),I=!1):ue(qt)&&Ut.isGreaterThanMax(En)?(En=qt,U(Ut),I=!1):0===xt&&(En=it),Ut.setActualWidth(En,a,!0),it-=En}}x.forEach(function(xn){xn.fireColumnWidthChangedEvent(a)}),this.setLeftValues(a),this.updateBodyWidths(),!c&&this.fireColumnResizedEvent(x,!0,a)}},i.prototype.buildDisplayedTrees=function(n){var a=[],c=[],d=[];n.forEach(function(C){switch(C.getPinned()){case"left":a.push(C);break;case"right":c.push(C);break;default:d.push(C)}});var v=new ns;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(a,this.gridBalancedTree,v,St.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,v,St.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(d,this.gridBalancedTree,v,null,this.displayedTreeCentre),this.updateDisplayedMap()},i.prototype.updateDisplayedMap=function(){var n=this;this.displayedColumnsAndGroupsMap={};var a=function(c){n.displayedColumnsAndGroupsMap[c.getUniqueId()]=c};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,a),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,a)},i.prototype.isDisplayed=function(n){return this.displayedColumnsAndGroupsMap[n.getUniqueId()]===n},i.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var n=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(n,function(a){a instanceof Or&&a.calculateDisplayedColumns()})},i.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},i.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),a=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||a||n)this.groupAutoColumns=null;else{var v=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(v,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=v)}}},i.prototype.autoColsEqual=function(n,a){return Ge(n,a,function(c,d){return c.getColId()===d.getColId()})},i.prototype.getWidthOfColsInList=function(n){return n.reduce(function(a,c){return a+c.getActualWidth()},0)},i.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},i.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(a){return a.getColDef().floatingFilter})},i.prototype.getFirstDisplayedColumn=function(){var n=this.gridOptionsWrapper.isEnableRtl(),a=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];n&&a.reverse();for(var c=0;c<a.length;c++){var d=this[a[c]]();if(d.length)return n?bt(d):d[0]}return null},uo([ce("expressionService")],i.prototype,"expressionService",void 0),uo([ce("columnFactory")],i.prototype,"columnFactory",void 0),uo([ce("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),uo([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),uo([ce("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),uo([ce("columnUtils")],i.prototype,"columnUtils",void 0),uo([ce("columnAnimationService")],i.prototype,"columnAnimationService",void 0),uo([ce("autoGroupColService")],i.prototype,"autoGroupColService",void 0),uo([Lt("aggFuncService")],i.prototype,"aggFuncService",void 0),uo([Lt("valueCache")],i.prototype,"valueCache",void 0),uo([Lt("animationFrameService")],i.prototype,"animationFrameService",void 0),uo([ce("rowModel")],i.prototype,"rowModel",void 0),uo([ce("columnApi")],i.prototype,"columnApi",void 0),uo([ce("gridApi")],i.prototype,"gridApi",void 0),uo([ce("sortController")],i.prototype,"sortController",void 0),uo([ce("columnDefFactory")],i.prototype,"columnDefFactory",void 0),uo([Gt],i.prototype,"init",null),uo([Cs(0,We("loggerFactory"))],i.prototype,"setBeans",null),uo([bn("columnModel")],i)}(yn),Wa=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ws=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Wa(i,u),i.prototype.calculateColMinWidth=function(n){return null!=n.minWidth?n.minWidth:this.gridOptionsWrapper.getMinColWidth()},i.prototype.calculateColMaxWidth=function(n){return null!=n.maxWidth?n.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},i.prototype.calculateColInitialWidth=function(n){var d,a=this.calculateColMinWidth(n),c=this.calculateColMaxWidth(n),v=Ct(n.width),C=Ct(n.initialWidth);return d=null!=v?v:null!=C?C:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(d,c),a)},i.prototype.getOriginalPathForColumn=function(n,a){var c=[],d=!1,v=function(C,x){for(var I=0;I<C.length;I++){if(d)return;var U=C[I];U instanceof fr?(v(U.getChildren(),x+1),c[x]=U):U===n&&(d=!0)}};return v(a,0),d?c:null},i.prototype.depthFirstOriginalTreeSearch=function(n,a,c){var d=this;!a||a.forEach(function(v){v instanceof fr&&d.depthFirstOriginalTreeSearch(v,v.getChildren(),c),c(v,n)})},i.prototype.depthFirstAllColumnTreeSearch=function(n,a){var c=this;!n||n.forEach(function(d){d instanceof Or&&c.depthFirstAllColumnTreeSearch(d.getChildren(),a),a(d)})},i.prototype.depthFirstDisplayedColumnTreeSearch=function(n,a){var c=this;!n||n.forEach(function(d){d instanceof Or&&c.depthFirstDisplayedColumnTreeSearch(d.getDisplayedChildren(),a),a(d)})},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([bn("columnUtils")],i),i}(yn),xa=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ma=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return xa(i,u),i.prototype.createDisplayedGroups=function(n,a,c,d,v){var I,U,C=this,x=[],pe=this.mapOldGroupsById(v);return n.forEach(function(_e){for(var it=C.getOriginalPathForColumn(a,_e),xt=[],Ut=!U,sn=0;sn<it.length;sn++)if(Ut||it[sn]!==U[sn]){var qt=C.createColumnGroup(it[sn],c,pe,d);xt[sn]=qt,0==sn?x.push(qt):xt[sn-1].addChild(qt)}else xt[sn]=I[sn];0===xt.length?x.push(_e):bt(xt).addChild(_e),I=xt,U=it}),this.setupParentsIntoColumns(x,null),x},i.prototype.createColumnGroup=function(n,a,c,d){var v=n.getGroupId(),C=a.getInstanceIdForKey(v),I=c[Or.createUniqueId(v,C)];return I&&I.getProvidedColumnGroup()!==n&&(I=null),ue(I)?I.reset():(I=new Or(n,v,C,d),this.context.createBean(I)),I},i.prototype.mapOldGroupsById=function(n){var a={},c=function(d){d.forEach(function(v){if(v instanceof Or){var C=v;a[v.getUniqueId()]=C,c(C.getChildren())}})};return n&&c(n),a},i.prototype.setupParentsIntoColumns=function(n,a){var c=this;n.forEach(function(d){if(d.setParent(a),d instanceof Or){var v=d;c.setupParentsIntoColumns(v.getChildren(),v)}})},i.prototype.getOriginalPathForColumn=function(n,a){var c=[],d=!1,v=function(C,x){for(var I=0;I<C.length;I++){if(d)return;var U=C[I];U instanceof fr?(v(U.getChildren(),x+1),c[x]=U):U===a&&(d=!0)}};return v(n,0),d?c:(console.warn("AG Grid: could not get path"),null)},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([bn("displayedGroupCreator")],i),i}(yn),rs=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},ga=function(){function u(){}return u.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],u.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],u.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],u.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],u.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation"],u.ALL_PROPERTIES=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(rs(arguments[i]));return u}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","loadingCellRendererSelector","getRowId"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),Bs=function(){return Bs=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Bs.apply(this,arguments)},os=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Bo=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(os(arguments[i]));return u},Pa=function(){function u(){}return u.getEventCallbacks=function(){return u.EVENT_CALLBACKS||(u.EVENT_CALLBACKS=u.EVENTS.map(function(i){return u.getCallbackForEvent(i)})),u.EVENT_CALLBACKS},u.copyAttributesToGridOptions=function(i,n,a){void 0===a&&(a=!1),"object"!=typeof i&&(i={});var c=i,d=function(v){return void 0!==n[v]};return Bo(u.ARRAY_PROPERTIES,u.STRING_PROPERTIES,u.OBJECT_PROPERTIES,u.FUNCTION_PROPERTIES,u.getEventCallbacks()).filter(d).forEach(function(v){return c[v]=n[v]}),u.BOOLEAN_PROPERTIES.filter(d).forEach(function(v){return c[v]=u.toBoolean(n[v])}),u.NUMBER_PROPERTIES.filter(d).forEach(function(v){return c[v]=u.toNumber(n[v])}),i},u.getCallbackForEvent=function(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substr(1)},u.processOnChange=function(i,n,a,c){if(i){var d=Bs({},i),v=n,C=function(U){return d[U]};Bo(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.getEventCallbacks()).filter(C).forEach(function(U){return v[U]=d[U].currentValue}),u.BOOLEAN_PROPERTIES.filter(C).forEach(function(U){return v[U]=u.toBoolean(d[U].currentValue)}),u.NUMBER_PROPERTIES.filter(C).forEach(function(U){return v[U]=u.toNumber(d[U].currentValue)}),d.enableCellTextSelection&&(a.setEnableCellTextSelection(u.toBoolean(d.enableCellTextSelection.currentValue)),delete d.enableCellTextSelection),d.quickFilterText&&(a.setQuickFilter(d.quickFilterText.currentValue),delete d.quickFilterText),d.autoGroupColumnDef&&(a.setAutoGroupColumnDef(d.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete d.autoGroupColumnDef),d.columnDefs&&(a.setColumnDefs(d.columnDefs.currentValue,"gridOptionsChanged"),delete d.columnDefs),d.defaultColDef&&(a.setDefaultColDef(d.defaultColDef.currentValue,"gridOptionsChanged"),delete d.defaultColDef),d.paginationPageSize&&(a.paginationSetPageSize(u.toNumber(d.paginationPageSize.currentValue)),delete d.paginationPageSize),d.pivotMode&&(c.setPivotMode(u.toBoolean(d.pivotMode.currentValue)),delete d.pivotMode),d.groupRemoveSingleChildren&&(a.setGroupRemoveSingleChildren(u.toBoolean(d.groupRemoveSingleChildren.currentValue)),delete d.groupRemoveSingleChildren),d.suppressRowDrag&&(a.setSuppressRowDrag(u.toBoolean(d.suppressRowDrag.currentValue)),delete d.suppressRowDrag),d.suppressMoveWhenRowDragging&&(a.setSuppressMoveWhenRowDragging(u.toBoolean(d.suppressMoveWhenRowDragging.currentValue)),delete d.suppressMoveWhenRowDragging),d.suppressRowClickSelection&&(a.setSuppressRowClickSelection(u.toBoolean(d.suppressRowClickSelection.currentValue)),delete d.suppressRowClickSelection),d.suppressClipboardPaste&&(a.setSuppressClipboardPaste(u.toBoolean(d.suppressClipboardPaste.currentValue)),delete d.suppressClipboardPaste),d.headerHeight&&(a.setHeaderHeight(u.toNumber(d.headerHeight.currentValue)),delete d.headerHeight);var x=a;Object.keys(d).forEach(function(U){var pe="set"+U.charAt(0).toUpperCase()+U.substring(1);x[pe]&&x[pe](i[U].currentValue)});var I={type:Ye.EVENT_COMPONENT_STATE_CHANGED,api:n.api,columnApi:n.columnApi};qe(i,function(U,pe){I[U]=pe}),a.dispatchEvent(I)}},u.toBoolean=function(i){return"boolean"==typeof i?i:"string"==typeof i&&("TRUE"===i.toUpperCase()||""==i)},u.toNumber=function(i){return"number"==typeof i?i:"string"==typeof i?Number(i):void 0},u.EVENTS=[],u.PUBLIC_EVENTS=[],u.EXCLUDED_INTERNAL_EVENTS=[],u.STRING_PROPERTIES=ga.STRING_PROPERTIES,u.OBJECT_PROPERTIES=ga.OBJECT_PROPERTIES,u.ARRAY_PROPERTIES=ga.ARRAY_PROPERTIES,u.NUMBER_PROPERTIES=ga.NUMBER_PROPERTIES,u.BOOLEAN_PROPERTIES=ga.BOOLEAN_PROPERTIES,u.FUNCTION_PROPERTIES=ga.FUNCTION_PROPERTIES,u.ALL_PROPERTIES=ga.ALL_PROPERTIES,u}();Pa.EVENTS=ht(Ye),Pa.EXCLUDED_INTERNAL_EVENTS=[Ye.EVENT_SCROLLBAR_WIDTH_CHANGED,Ye.EVENT_CHECKBOX_CHANGED,Ye.EVENT_HEIGHT_SCALE_CHANGED,Ye.EVENT_BODY_HEIGHT_CHANGED,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Ye.EVENT_SCROLL_VISIBILITY_CHANGED,Ye.EVENT_COLUMN_HOVER_CHANGED,Ye.EVENT_FLASH_CELLS,Ye.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Ye.EVENT_DISPLAYED_ROWS_CHANGED,Ye.EVENT_LEFT_PINNED_WIDTH_CHANGED,Ye.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Ye.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Ye.EVENT_POPUP_TO_FRONT,Ye.EVENT_KEYBOARD_FOCUS,Ye.EVENT_MOUSE_FOCUS,Ye.EVENT_STORE_UPDATED,Ye.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Ye.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Ye.EVENT_FILL_START,Ye.EVENT_FILL_END],Pa.PUBLIC_EVENTS=Pa.EVENTS.filter(function(u){return!Xr(Pa.EXCLUDED_INTERNAL_EVENTS,u)});var Zo,as,Ua,Mi,te,Ee,ee,Pe,jo,ja=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),To=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.componentsMappedByName={},n}return ja(i,u),i.prototype.setupComponents=function(n){var a=this;n&&n.forEach(function(c){return a.addComponent(c)})},i.prototype.addComponent=function(n){var c=n.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[c]=n.componentClass},i.prototype.getComponentClass=function(n){return this.componentsMappedByName[n]},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([bn("agStackComponentsRegistry")],i),i}(yn),hl=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},ho=function(){function u(){}return u.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],u.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],u.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],u.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],u.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],u.ALL_PROPERTIES=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(hl(arguments[i]));return u}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),Ws=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Wo=function(){function u(i,n,a,c){void 0===c&&(c=1),this.r=Math.min(1,Math.max(0,i||0)),this.g=Math.min(1,Math.max(0,n||0)),this.b=Math.min(1,Math.max(0,a||0)),this.a=Math.min(1,Math.max(0,c||0))}return u.fromString=function(i){if(i.indexOf("#")>=0)return u.fromHexString(i);var n=u.nameToHex[i];if(n)return u.fromHexString(n);if(i.indexOf("rgb")>=0)return u.fromRgbaString(i);throw new Error("Invalid color string: '"+i+"'")},u.parseHex=function(i){var n;switch((i=i.replace(/ /g,"").slice(1)).length){case 6:case 8:n=[];for(var a=0;a<i.length;a+=2)n.push(parseInt(""+i[a]+i[a+1],16));break;case 3:case 4:n=i.split("").map(function(c){return parseInt(c,16)}).map(function(c){return c+16*c})}if(n.length>=3&&n.every(function(c){return c>=0}))return 3===n.length&&n.push(255),n},u.fromHexString=function(i){var n=u.parseHex(i);if(n){var a=Ws(n,4);return new u(a[0]/255,a[1]/255,a[2]/255,a[3]/255)}throw new Error("Malformed hexadecimal color string: '"+i+"'")},u.stringToRgba=function(i){for(var n=Ws([NaN,NaN],2),a=n[0],c=n[1],d=0;d<i.length;d++){var v=i[d];if(a||"("!==v){if(")"===v){c=d;break}}else a=d}var C=a&&c&&i.substring(a+1,c);if(C){var x=C.split(","),I=[];for(d=0;d<x.length;d++){var U=x[d],pe=parseFloat(U);if(isNaN(pe))return;U.indexOf("%")>=0?(pe=Math.max(0,Math.min(100,pe)),pe/=100):3===d?pe=Math.max(0,Math.min(1,pe)):(pe=Math.max(0,Math.min(255,pe)),pe/=255),I.push(pe)}return I}},u.fromRgbaString=function(i){var n=u.stringToRgba(i);if(n){if(3===n.length)return new u(n[0],n[1],n[2]);if(4===n.length)return new u(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+i+"'")},u.fromArray=function(i){if(4===i.length)return new u(i[0],i[1],i[2],i[3]);if(3===i.length)return new u(i[0],i[1],i[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},u.fromHSB=function(i,n,a,c){void 0===c&&(c=1);var d=u.HSBtoRGB(i,n,a);return new u(d[0],d[1],d[2],c)},u.padHex=function(i){return 1===i.length?"0"+i:i},u.prototype.toHexString=function(){var i="#"+u.padHex(Math.round(255*this.r).toString(16))+u.padHex(Math.round(255*this.g).toString(16))+u.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(i+=u.padHex(Math.round(255*this.a).toString(16))),i},u.prototype.toRgbaString=function(i){void 0===i&&(i=3);var n=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],a=Math.pow(10,i);return 1!==this.a?(n.push(Math.round(this.a*a)/a),"rgba("+n.join(", ")+")"):"rgb("+n.join(", ")+")"},u.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},u.prototype.toHSB=function(){return u.RGBtoHSB(this.r,this.g,this.b)},u.RGBtoHSB=function(i,n,a){var c=Math.min(i,n,a),d=Math.max(i,n,a),C=NaN;if(c!==d){var x=d-c,I=(d-i)/x,U=(d-n)/x,pe=(d-a)/x;C=i===d?pe-U:n===d?2+I-pe:4+U-I,(C/=6)<0&&(C+=1)}return[360*C,0!==d?(d-c)/d:0,d]},u.HSBtoRGB=function(i,n,a){isNaN(i)&&(i=0),i=(i%360+360)%360/360;var c=0,d=0,v=0;if(0===n)c=d=v=a;else{var C=6*(i-Math.floor(i)),x=C-Math.floor(C),I=a*(1-n),U=a*(1-n*x),pe=a*(1-n*(1-x));switch(C>>0){case 0:c=a,d=pe,v=I;break;case 1:c=U,d=a,v=I;break;case 2:c=I,d=a,v=pe;break;case 3:c=I,d=U,v=a;break;case 4:c=pe,d=I,v=a;break;case 5:c=a,d=I,v=U}}return[c,d,v]},u.prototype.derive=function(i,n,a,c){var d=u.RGBtoHSB(this.r,this.g,this.b),v=d[2];0==v&&a>1&&(v=.05);var C=((d[0]+i)%360+360)%360,x=Math.max(Math.min(d[1]*n,1),0);v=Math.max(Math.min(v*a,1),0);var I=Math.max(Math.min(this.a*c,1),0),U=u.HSBtoRGB(C,x,v);return U.push(I),u.fromArray(U)},u.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},u.prototype.darker=function(){return this.derive(0,1,.7,1)},u.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),u}();function an(){return void 0===Ua&&(Ua=!function Ot(){return void 0===as&&(as=!!document.documentMode),as}()&&!!window.StyleMedia),Ua}function mn(){return void 0===Zo&&(Zo=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Zo}function tr(){if(void 0===Mi){var u=window;Mi=!!u.chrome&&(!!u.chrome.webstore||!!u.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Mi}function Si(){if(void 0===te){var u=window;te=void 0!==u.InstallTrigger}return te}function ni(){return void 0===Ee&&(Ee=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Ee}function Yr(u){if(!u)return null;var i=u.tabIndex,n=u.getAttribute("tabIndex");return-1!==i||null!==n&&(""!==n||Si())?i.toString():null}function di(){if(!document.body)return-1;var u=1e6,i=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var a=2*u;if(n.style.height=a+"px",a>i||n.clientHeight!==a)break;u=a}return document.body.removeChild(n),u}function ji(){return null==Pe&&Ei(),Pe}function Ei(){var u=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",u.appendChild(i);var n=i.offsetWidth-i.clientWidth;0===n&&0===i.clientWidth&&(n=null),i.parentNode&&i.parentNode.removeChild(i),null!=n&&(Pe=n,ee=0===n)}function Pi(){return null==ee&&Ei(),ee}function va(){var u,i,n=["webkit","moz","o","ms"],a=document.createElement("div"),d=!1;document.getElementsByTagName("body")[0].appendChild(a),a.setAttribute("style",n.map(function(U){return"-"+U+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var C=window.getComputedStyle(a);if("touch"===C.overflowScrolling&&(d=!0),!d)try{for(var x=function(u){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&u[i],a=0;if(n)return n.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&a>=u.length&&(u=void 0),{value:u&&u[a++],done:!u}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),I=x.next();!I.done;I=x.next())if("touch"===C[I.value+"OverflowScrolling"]){d=!0;break}}catch(U){u={error:U}}finally{try{I&&!I.done&&(i=x.return)&&i.call(x)}finally{if(u)throw u.error}}return a.parentNode&&a.parentNode.removeChild(a),d}function io(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function mr(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}function Aa(u,i,n){for(var a=u.parentElement,c=a&&a.firstChild;c;)i&&c.classList.toggle(i,c===u),n&&c.classList.toggle(n,c!==u),c=c.nextSibling}function ss(u){var i=Element.prototype.matches||Element.prototype.msMatchesSelector,n=i.call(u,St.INPUT_SELECTOR),a=i.call(u,St.FOCUSABLE_EXCLUDE),c=Ve(u);return n&&!a&&c}function Di(u,i){u.classList.toggle("ag-hidden",!i)}function ne(u,i){u.classList.toggle("ag-invisible",!i)}function q(u,i){var n="disabled",a=i?function(c){return c.setAttribute(n,"")}:function(c){return c.removeAttribute(n)};a(u),yi(u.querySelectorAll("input"),function(c){return a(c)})}function K(u,i,n){for(var a=0;u;){if(u.classList.contains(i))return!0;if(u=u.parentElement,n&&++a>n)break}return!1}function ie(u){var i=window.getComputedStyle(u),a=i.width,c=i.paddingTop,d=i.paddingRight,v=i.paddingBottom,C=i.paddingLeft,x=i.marginTop,I=i.marginRight,U=i.marginBottom,pe=i.marginLeft,_e=i.boxSizing;return{height:parseFloat(i.height),width:parseFloat(a),paddingTop:parseFloat(c),paddingRight:parseFloat(d),paddingBottom:parseFloat(v),paddingLeft:parseFloat(C),marginTop:parseFloat(x),marginRight:parseFloat(I),marginBottom:parseFloat(U),marginLeft:parseFloat(pe),boxSizing:_e}}function Kt(u){var i=ie(u);return"border-box"===i.boxSizing?i.height-i.paddingTop-i.paddingBottom:i.height}function Jn(u){var i=ie(u);return"border-box"===i.boxSizing?i.width-i.paddingLeft-i.paddingRight:i.width}function Rr(u){var i=ie(u);return Math.ceil(u.offsetHeight+(i.marginBottom+i.marginTop))}function bo(u){var i=ie(u);return Math.ceil(u.offsetWidth+(i.marginLeft+i.marginRight))}function Ao(){if("boolean"==typeof jo)return jo;var u=document.createElement("div");return u.style.direction="rtl",u.style.width="1px",u.style.height="1px",u.style.position="fixed",u.style.top="0px",u.style.overflow="hidden",u.dir="rtl",u.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(u),u.scrollLeft=1,jo=0===Math.floor(u.scrollLeft),document.body.removeChild(u),jo}function wo(u,i){var n=u.scrollLeft;return i&&(n=Math.abs(n),tr()&&!Ao()&&(n=u.scrollWidth-u.clientWidth-n)),n}function Ra(u,i,n){n&&(Ao()?i*=-1:(mn()||tr())&&(i=u.scrollWidth-u.clientWidth-i)),u.scrollLeft=i}function j(u){for(;u&&u.firstChild;)u.removeChild(u.firstChild)}function ae(u,i){X(u.querySelector(i))}function X(u){u&&u.parentNode&&u.parentNode.removeChild(u)}function Ve(u){return null!==u.offsetParent}function _t(u){if(null!==DOMParser)return(new DOMParser).parseFromString(u,"text/html").body.firstChild;var a=document.createElement("div");return a.innerHTML=(u||"").trim(),a.firstChild}function nn(u,i){u.lastChild?u.insertAdjacentHTML("afterbegin",i):u.innerHTML=i}function ir(u,i){return u.attributes&&u.attributes[i]?u.attributes[i].value:null}function Jr(u){return u&&u.clientHeight?u.clientHeight:0}function se(u){return u&&u.clientWidth?u.clientWidth:0}function P(u,i,n){n&&n.nextSibling===i||(n?n.nextSibling?u.insertBefore(i,n.nextSibling):u.appendChild(i):u.firstChild&&u.firstChild!==i&&u.insertAdjacentElement("afterbegin",i))}function L(u,i){for(var n=0;n<i.length;n++){var a=i[n],c=u.children[n];c!==a&&u.insertBefore(a,c)}}function $(u,i,n){n?n.insertAdjacentElement("afterend",i):u.firstChild?u.insertAdjacentElement("afterbegin",i):u.appendChild(i)}function me(u,i){ue(u.firstChild)?u.insertBefore(i,u.firstChild):u.appendChild(i)}function He(u,i){!i||Object.keys(i).forEach(function(n){var a=oa(n);a&&(u.style[a]=i[n])})}function dt(u){return u.clientWidth<u.scrollWidth}function ft(u){return u.clientHeight<u.scrollHeight}function Bt(u,i){"flex"===i?(u.style.removeProperty("width"),u.style.removeProperty("minWidth"),u.style.removeProperty("maxWidth"),u.style.flex="1 1 auto"):tn(u,i)}function tn(u,i){i=br(i),u.style.width=i.toString(),u.style.maxWidth=i.toString(),u.style.minWidth=i.toString()}function Gn(u,i){"flex"===i?(u.style.removeProperty("height"),u.style.removeProperty("minHeight"),u.style.removeProperty("maxHeight"),u.style.flex="1 1 auto"):Bn(u,i)}function Bn(u,i){i=br(i),u.style.height=i.toString(),u.style.maxHeight=i.toString(),u.style.minHeight=i.toString()}function br(u){return"number"==typeof u?u+"px":u}function Wr(u){return"function"==typeof Node?u instanceof Node:u&&"object"==typeof u&&"number"==typeof u.nodeType&&"string"==typeof u.nodeName}function wr(u){return"function"==typeof HTMLElement?u instanceof HTMLElement:u&&ci(u)&&1===u.nodeType&&"string"==typeof u.nodeName}function Fr(u){return Wr(u)||wr(u)}function wi(u){if(null==u)return[];var i=[];return yi(u,function(n){return i.push(n)}),i}function Qi(u,i){if(u)for(var n=0;n<u.length;n++){var a=u[n];i(a.name,a.value)}}function oo(u,i){"boolean"==typeof i?(u.checked=i,u.indeterminate=!1):u.indeterminate=!0}function po(u,i,n){null==n?u.removeAttribute(i):u.setAttribute(i,n.toString())}function yi(u,i){if(null!=u)for(var n=0;n<u.length;n++)i(u[n])}function Ro(u){var n=u.toString(),a=/function (.{1,})\(/.exec(n);return a&&a.length>1?a[1]:""}function Oi(u){var i=u.length,n=0;if(i<=1)return u;for(var a=0;a<u.length;a++){var c=u[a],d=c.toString().split("e-");d.length>1?n=Math.max(n,parseInt(d[1],10)):Math.floor(c)!==c&&(n=Math.max(n,c.toString().split(".")[1].length))}for(var v=0,C=0,x=0,I=0,U=0,pe=0;pe<i;pe++)v+=pe,C+=U=u[pe],I+=pe*pe,x+=pe*U;var _e=(i*x-v*C)/(i*I-v*v),it=C/i-_e*v/i,xt=[];for(pe=0;pe<=i;pe++)xt.push(parseFloat((pe*_e+it).toFixed(n)));return xt}function So(u){if(!u)return"";var i=[];return qe(u,function(n,a){var c=ms(n);i.push(c+": "+a+";")}),i.join(" ")}function sa(u){var i=document.createElement("div"),n=document.querySelector("#__ag__message");i.innerHTML=u,n||(n=_t('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(n)),n.insertBefore(i,n.children[0])}function ao(u,i){u.then(function(n){var a=n.getGui();null!=a&&("object"==typeof a?i.appendChild(a):i.innerHTML=a)})}function Ci(u,i,n){u.setAttribute(Al(i),n.toString())}function Ji(u,i){u.removeAttribute(Al(i))}function Al(u){return"aria-"+u}function ro(u,i){i?u.setAttribute("role",i):u.removeAttribute("role")}function js(u){return u.isSortAscending()?"ascending":u.isSortDescending()?"descending":"none"}function Us(u){return parseInt(u.getAttribute("aria-level"),10)}function nr(u){return parseInt(u.getAttribute("aria-posinset"),10)}function Tr(u){return u.getAttribute("aria-describedby")||""}function xr(u,i){var n="label";i?Ci(u,n,i):Ji(u,n)}function sr(u,i){var n="labelledby";i?Ci(u,n,i):Ji(u,n)}function eo(u,i){var n="describedby";i?Ci(u,n,i):Ji(u,n)}function Ya(u,i){Ci(u,"level",i)}function Fo(u,i){Ci(u,"disabled",i)}function Ui(u,i){Ci(u,"expanded",i)}function Fi(u){Ji(u,"expanded")}function Ka(u,i){Ci(u,"setsize",i)}function iu(u,i){Ci(u,"posinset",i)}function la(u,i){Ci(u,"multiselectable",i)}function Rl(u,i){Ci(u,"rowcount",i)}function Fa(u,i){Ci(u,"rowindex",i)}function Ys(u,i){Ci(u,"colcount",i)}function fo(u,i){Ci(u,"colindex",i)}function Gu(u,i){Ci(u,"colspan",i)}function Ed(u,i){Ci(u,"sort",i)}function Fh(u){Ji(u,"sort")}function Ks(u,i){var n="selected";i?Ci(u,n,i):Ji(u,n)}function Mp(u,i){Ci(u,"checked",void 0===i?"mixed":i)}function Ss(u,i){void 0===i&&(i=",");var n=[],a=function(_e){return"\r"===_e||"\n"===_e},c=!1;if(""===u)return[[""]];for(var v,C,x,d=function(_e,it,xt){var Ut=u[xt-1],sn=u[xt],qt=u[xt+1],En=function(){n[_e]||(n[_e]=[]),n[_e][it]||(n[_e][it]="")};if(En(),'"'===sn){if(c)return'"'===qt?(n[_e][it]+='"',xt++):c=!1,v=_e,C=it,x=xt,"continue";if(void 0===Ut||Ut===i||a(Ut))return c=!0,v=_e,C=it,x=xt,"continue"}if(!c){if(sn===i)return it++,En(),v=_e,C=it,x=xt,"continue";if(a(sn))return it=0,_e++,En(),"\r"===sn&&"\n"===qt&&xt++,v=_e,C=it,x=xt,"continue"}n[_e][it]+=sn,v=_e,C=it,x=xt},I=0,U=0,pe=0;pe<u.length;pe++)d(I,U,pe),I=v,U=C,pe=x;return n}function ma(u,i){return u.toString().padStart(i,"0")}function Bu(u,i){for(var n=[],a=u;a<=i;a++)n.push(a);return n}function Dd(u){return""!==u&&!isNaN(parseFloat(u))&&isFinite(u)}function Fl(u){return"string"==typeof u&&(u=parseInt(u,10)),"number"==typeof u?Math.floor(u):null}function Pp(u,i){for(var n="",a=0;a<i;a++)n+=String.fromCharCode(255&u),u>>>=8;return n}function W(u,i,n){return"number"!=typeof u?"":z(Math.round(100*u)/100,i,n)}function z(u,i,n){return"number"!=typeof u?"":u.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i)}function N(u){return null==u?null:u.reduce(function(i,n){return i+n},0)}var J=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d};function re(u,i,n){if(void 0===i&&(i=!0),void 0===n&&(n="-"),!u)return null;var a=[u.getFullYear(),u.getMonth()+1,u.getDate()].map(function(c){return ma(c,2)}).join(n);return i&&(a+=" "+[u.getHours(),u.getMinutes(),u.getSeconds()].map(function(c){return ma(c,2)}).join(":")),a}function Oe(u){if(!u)return null;var i=J(u.split(" "),2),n=i[0],a=i[1];if(!n)return null;var c=n.split("-").map(function(xt){return parseInt(xt,10)});if(3!==c.filter(function(xt){return!isNaN(xt)}).length)return null;var d=J(c,3),v=d[0],C=d[1],x=d[2],I=new Date(v,C-1,x);if(I.getFullYear()!==v||I.getMonth()!==C-1||I.getDate()!==x)return null;if(!a||"00:00:00"===a)return I;var U=J(a.split(":").map(function(xt){return parseInt(xt,10)}),3),pe=U[0],_e=U[1],it=U[2];return pe>=0&&pe<24&&I.setHours(pe),_e>=0&&_e<60&&I.setMinutes(_e),it>=0&&it<60&&I.setSeconds(it),I}function st(u,i,n){var a={},c=u.filter(function(d){return!i.some(function(v){return v===d})});return c.length>0&&c.forEach(function(d){return a[d]=Tt(d,n)}),a}function Tt(u,i,n,a){var c=a?oi:cr,d=i.map(function(v){return{value:v,relevance:c(u.toLowerCase(),v.toLocaleLowerCase())}});return d.sort(function(v,C){return C.relevance-v.relevance}),n&&(d=d.filter(function(v){return 0!==v.relevance})),d.map(function(v){return v.value})}function pn(u){var a,c,d,i=u.toLowerCase(),n=new Array(i.length-1);for(a=c=0,d=n.length;c<=d;a=c+=1)n[a]=i.slice(a,a+2);return n}function cr(u,i){if(0===u.length&&0===i.length)return 0;var v,C,n=pn(u),a=pn(i),c=n.length+a.length,d=0;for(v=0,C=n.length;v<C;v++){var U,x=n[v],I=void 0;for(I=0,U=a.length;I<U;I++)x===a[I]&&d++}return d>0?2*d/c:0}function oi(u,i){for(var n=u.replace(/\s/g,""),a=i.replace(/\s/g,""),c=0,d=0,v=0;v<n.length;v++){var C=a.indexOf(n[v],d);-1!==C&&(c+=100-100*(d=C)/1e4*100)}return c}var yr={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function fi(u,i,n){var a=Gr(u,i,n);if(a&&a.className.indexOf("ag-icon")>-1)return a;var c=document.createElement("span");return c.appendChild(a),c}function Gr(u,i,n,a){var c=null,d=n&&n.getColDef().icons;if(d&&(c=d[u]),i&&!c){var v=i.getIcons();v&&(c=v[u])}if(!c){var x=document.createElement("span"),I=yr[u];return I||(a?I=u:(console.warn("AG Grid: Did not find icon "+u),I="")),x.setAttribute("class","ag-icon ag-icon-"+I),x.setAttribute("unselectable","on"),ro(x,"presentation"),x}var C=void 0;if("function"==typeof c)C=c();else{if("string"!=typeof c)throw new Error("icon from grid options needs to be a string or a function");C=c}return"string"==typeof C?_t(C):Fr(C)?C:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}function Oc(u){if(u.altKey||u.ctrlKey||u.metaKey)return!1;var i=1===u.key.length,n=function Mc(u){return an()&&"Del"===u.key&&46===u.charCode}(u);return i||n}function Tc(u,i,n,a,c){var d=u.getSuppressKeyboardEventFunc(),v=a?a.getColDef().suppressKeyboardEvent:void 0;if(!d&&!v)return!1;var C={event:i,editing:c,column:a,api:u.getApi(),node:n,data:n.data,colDef:a.getColDef(),context:u.getContext(),columnApi:u.getColumnApi()};return!(!v||!v(C))||!!d&&d(C)}function xc(u,i,n,a){var c=a.getDefinition(),d=c&&c.suppressHeaderKeyboardEvent;return!!ue(d)&&!!d({api:u.getApi(),columnApi:u.getColumnApi(),context:u.getContext(),colDef:c,column:a,headerRowIndex:n,event:i})}function Ap(u,i,n){if(0===n)return!1;var a=Math.abs(u.clientX-i.clientX),c=Math.abs(u.clientY-i.clientY);return Math.max(a,c)<=n}function f1(u,i){if(u){for(var n=function(C,x){var I=i[C.id],U=i[x.id],pe=void 0!==I,_e=void 0!==U;return pe&&_e?I-U:pe||_e?pe?1:-1:C.__objectId-x.__objectId},d=!1,v=0;v<u.length-1;v++)if(n(u[v],u[v+1])>0){d=!0;break}d&&u.sort(n)}}function Od(u,i){var n=[];!function a(c){!c||c.forEach(function(d){if(d.group||d.hasChildren()){n.push(d.key);var v=n.join("|");i(d,v),a(d.childrenAfterGroup),n.pop()}})}(u)}function ou(u){var i=new Set;return u.forEach(function(n){return i.add(n)}),i}var go=function(){return go=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},go.apply(this,arguments)},au=go(go(go(go(go(go(go(go(go(go(go(go(go(go(go(go(go(go(go(go({},Fe),we),Le),nt),Ae),lt),Je),Ne),B),mt),M),zt),gt),Ze),fn),ot),G),w),Vn),Ue),su=function(){function u(i,n){void 0===i&&(i=0),void 0===n&&(n=1),this.nextValue=i,this.step=n}return u.prototype.next=function(){var i=this.nextValue;return this.nextValue+=this.step,i},u.prototype.peek=function(){return this.nextValue},u.prototype.skip=function(i){this.nextValue+=i},u}(),fl=(()=>(function(u){u[u.IN_PROGRESS=0]="IN_PROGRESS",u[u.RESOLVED=1]="RESOLVED"}(fl||(fl={})),fl))(),ls=function(){function u(i){var n=this;this.status=fl.IN_PROGRESS,this.resolution=null,this.waiters=[],i(function(a){return n.onDone(a)},function(a){return n.onReject(a)})}return u.all=function(i){return new u(function(n){var a=i.length,c=new Array(a);i.forEach(function(d,v){d.then(function(C){c[v]=C,0==--a&&n(c)})})})},u.resolve=function(i){return void 0===i&&(i=null),new u(function(n){return n(i)})},u.prototype.then=function(i){var n=this;return new u(function(a){n.status===fl.RESOLVED?a(i(n.resolution)):n.waiters.push(function(c){return a(i(c))})})},u.prototype.resolveNow=function(i,n){return this.status===fl.RESOLVED?n(this.resolution):i},u.prototype.onDone=function(i){this.status=fl.RESOLVED,this.resolution=i,this.waiters.forEach(function(n){return n(i)})},u.prototype.onReject=function(i){console.warn("TBI")},u}(),Uo=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Rp=function(){return Rp=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Rp.apply(this,arguments)},Lh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},gl=(()=>(function(u){u[u.NOTHING=0]="NOTHING",u[u.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",u[u.SHOWING=2]="SHOWING"}(gl||(gl={})),gl))(),g1=function(u){function i(n){var a=u.call(this)||this;return a.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,a.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,a.SHOW_QUICK_TOOLTIP_DIFF=1e3,a.FADE_OUT_TOOLTIP_TIMEOUT=1e3,a.state=gl.NOTHING,a.tooltipInstanceCount=0,a.tooltipMouseTrack=!1,a.parentComp=n,a}return Uo(i,u),i.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var n=this.parentComp.getGui();this.addManagedListener(n,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(n,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this))},i.prototype.destroy=function(){this.setToDoNothing(),u.prototype.destroy.call(this)},i.prototype.onMouseEnter=function(n){if(!ni()&&this.state==gl.NOTHING){var a=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),a),this.lastMouseEvent=n,this.state=gl.WAITING_TO_SHOW}},i.prototype.onMouseLeave=function(){this.setToDoNothing()},i.prototype.onKeyDown=function(){this.setToDoNothing()},i.prototype.setToDoNothing=function(){this.state===gl.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=gl.NOTHING},i.prototype.onMouseMove=function(n){this.lastMouseEvent=n,this.tooltipMouseTrack&&this.state===gl.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},i.prototype.onMouseDown=function(){this.setToDoNothing()},i.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),i.lastTooltipHideTime=(new Date).getTime()),this.state=gl.NOTHING},i.prototype.destroyTooltipComp=function(){var n=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var a=this.tooltipPopupDestroyFunc,c=this.tooltipComp;window.setTimeout(function(){a(),n.getContext().destroyBean(c)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},i.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-i.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},i.prototype.showTooltip=function(){var n=Rp({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(ue(n.value)){this.state=gl.SHOWING,this.tooltipInstanceCount++;var a=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(n).newAgStackInstance().then(a)}else this.setToDoNothing()},i.prototype.newTooltipComponentCallback=function(n,a){if(this.state!==gl.SHOWING||this.tooltipInstanceCount!==n)this.getContext().destroyBean(a);else{var d=a.getGui();this.tooltipComp=a,d.classList.contains("ag-tooltip")||d.classList.add("ag-tooltip-custom");var v=this.gridOptionsWrapper.getLocaleTextFunc(),C=this.popupService.addPopup({eChild:d,ariaLabel:v("ariaLabelTooltip","Tooltip")});C&&(this.tooltipPopupDestroyFunc=C.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},i.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},i.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Lh([ce("popupService")],i.prototype,"popupService",void 0),Lh([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Lh([ce("columnApi")],i.prototype,"columnApi",void 0),Lh([ce("gridApi")],i.prototype,"gridApi",void 0),Lh([Gt],i.prototype,"postConstruct",null),i}(yn),R3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_v=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ll=new su,Ih=function(){function u(i){this.cssClassStates={},this.getGui=i}return u.prototype.addCssClass=function(i){!0!==this.cssClassStates[i]&&i.length&&(this.getGui().classList.add(i),this.cssClassStates[i]=!0)},u.prototype.removeCssClass=function(i){!1!==this.cssClassStates[i]&&i.length&&(this.getGui().classList.remove(i),this.cssClassStates[i]=!1)},u.prototype.containsCssClass=function(i){return this.getGui().classList.contains(i)},u.prototype.addOrRemoveCssClass=function(i,n){this.cssClassStates[i]!==n&&i.length&&(this.getGui().classList.toggle(i,n),this.cssClassStates[i]=n)},u}(),ai=function(u){function i(n){var a=u.call(this)||this;return a.displayed=!0,a.visible=!0,a.compId=Ll.next(),a.cssClassManager=new Ih(function(){return a.eGui}),n&&a.setTemplate(n),a}return R3(i,u),i.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},i.prototype.getCompId=function(){return this.compId},i.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},i.prototype.setTooltip=function(n){var a=this;this.tooltipText!=n&&(this.tooltipText&&(a.usingBrowserTooltips?a.getGui().removeAttribute("title"):a.tooltipFeature=a.destroyBean(a.tooltipFeature)),null!=n&&(this.tooltipText=n,this.tooltipText&&(a.usingBrowserTooltips?a.getGui().setAttribute("title",a.tooltipText):a.tooltipFeature=a.createBean(new g1(a)))))},i.prototype.createChildComponentsFromTags=function(n,a){var c=this;wi(n.childNodes).forEach(function(v){if(v instanceof HTMLElement){var C=c.createComponentFromElement(v,function(I){I.getGui()&&c.copyAttributesFromNode(v,I.getGui())},a);if(C){if(C.addItems&&v.children.length){c.createChildComponentsFromTags(v,a);var x=Array.prototype.slice.call(v.children);C.addItems(x)}c.swapComponentForNode(C,n,v)}else v.childNodes&&c.createChildComponentsFromTags(v,a)}})},i.prototype.createComponentFromElement=function(n,a,c){var d=n.nodeName,v=c?c[n.getAttribute("ref")]:void 0,C=this.agStackComponentsRegistry.getComponentClass(d);if(C){i.elementGettingCreated=n;var x=new C(v);return x.setParentComponent(this),this.createBean(x,null,a),x}return null},i.prototype.copyAttributesFromNode=function(n,a){Qi(n.attributes,function(c,d){return a.setAttribute(c,d)})},i.prototype.swapComponentForNode=function(n,a,c){var d=n.getGui();a.replaceChild(d,c),a.insertBefore(document.createComment(c.nodeName),d),this.addDestroyFunc(this.destroyBean.bind(this,n)),this.swapInComponentForQuerySelectors(n,c)},i.prototype.swapInComponentForQuerySelectors=function(n,a){var c=this;this.iterateOverQuerySelectors(function(d){c[d.attributeName]===a&&(c[d.attributeName]=n)})},i.prototype.iterateOverQuerySelectors=function(n){for(var a=Object.getPrototypeOf(this);null!=a;){var c=a.__agComponentMetaData,d=Ht(a.constructor);c&&c[d]&&c[d].querySelectors&&c[d].querySelectors.forEach(function(v){return n(v)}),a=Object.getPrototypeOf(a)}},i.prototype.setTemplate=function(n,a){var c=_t(n);this.setTemplateFromElement(c,a)},i.prototype.setTemplateFromElement=function(n,a){this.eGui=n,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),a)},i.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},i.prototype.wireQuerySelectors=function(){var n=this;if(this.eGui){var a=this;this.iterateOverQuerySelectors(function(c){var d=function(x){return a[c.attributeName]=x};if(c.refSelector&&n.eGui.getAttribute("ref")===c.refSelector)d(n.eGui);else{var C=n.eGui.querySelector(c.querySelector);C&&d(C.__agComponent||C)}})}},i.prototype.getGui=function(){return this.eGui},i.prototype.getFocusableElement=function(){return this.eGui},i.prototype.setParentComponent=function(n){this.parentComponent=n},i.prototype.getParentComponent=function(){return this.parentComponent},i.prototype.setGui=function(n){this.eGui=n},i.prototype.queryForHtmlElement=function(n){return this.eGui.querySelector(n)},i.prototype.queryForHtmlInputElement=function(n){return this.eGui.querySelector(n)},i.prototype.appendChild=function(n,a){if(a||(a=this.eGui),null!=n)if(Fr(n))a.appendChild(n);else{var c=n;a.appendChild(c.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,c))}},i.prototype.isDisplayed=function(){return this.displayed},i.prototype.setVisible=function(n){n!==this.visible&&(this.visible=n,ne(this.eGui,n))},i.prototype.setDisplayed=function(n){n!==this.displayed&&(this.displayed=n,Di(this.eGui,n),this.dispatchEvent({type:i.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},i.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),u.prototype.destroy.call(this)},i.prototype.addGuiEventListener=function(n,a){var c=this;this.eGui.addEventListener(n,a),this.addDestroyFunc(function(){return c.eGui.removeEventListener(n,a)})},i.prototype.addCssClass=function(n){this.cssClassManager.addCssClass(n)},i.prototype.removeCssClass=function(n){this.cssClassManager.removeCssClass(n)},i.prototype.containsCssClass=function(n){return this.cssClassManager.containsCssClass(n)},i.prototype.addOrRemoveCssClass=function(n,a){this.cssClassManager.addOrRemoveCssClass(n,a)},i.prototype.getAttribute=function(n){var a=this.eGui;return a?a.getAttribute(n):null},i.prototype.getRefElement=function(n){return this.queryForHtmlElement('[ref="'+n+'"]')},i.EVENT_DISPLAYED_CHANGED="displayedChanged",_v([ce("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),_v([qn],i.prototype,"preConstructOnComponent",null),_v([qn],i.prototype,"createChildComponentsPreConstruct",null),i}(yn);function Pn(u){return Td.bind(this,"[ref="+u+"]",u)}function Td(u,i,n,a,c){null!==u?"number"!=typeof c?function rc(u,i,n){var a=function v1(u,i){return u.__agComponentMetaData||(u.__agComponentMetaData={}),u.__agComponentMetaData[i]||(u.__agComponentMetaData[i]={}),u.__agComponentMetaData[i]}(u,Ht(u.constructor));a[i]||(a[i]=[]),a[i].push(n)}(n,"querySelectors",{attributeName:a,querySelector:u,refSelector:i}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var vl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qa=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},m1=function(u){function i(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return vl(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){this.params=n;var a=this.columnModel.getDisplayNameForColumn(n.column,"header",!0),c=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(a+" "+c("ariaFilterInput","Filter Input"))},i.prototype.onParentModelChanged=function(n){var a=this;n?this.params.parentFilterInstance(function(c){if(c.getModelAsString){var d=c.getModelAsString(n);a.eFloatingFilterText.setValue(d)}}):this.eFloatingFilterText.setValue("")},qa([Pn("eFloatingFilterText")],i.prototype,"eFloatingFilterText",void 0),qa([ce("columnModel")],i.prototype,"columnModel",void 0),i}(ai),Nh=function(){function u(i,n,a,c){var d=this;this.alive=!0,this.context=i,this.eParent=c,n.getDateCompDetails(a).newAgStackInstance().then(function(x){d.alive?(d.dateComp=x,x&&(c.appendChild(x.getGui()),x.afterGuiAttached&&x.afterGuiAttached(),d.tempValue&&x.setDate(d.tempValue),null!=d.disabled&&d.setDateCompDisabled(d.disabled))):i.destroyBean(x)})}return u.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},u.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},u.prototype.setDate=function(i){this.dateComp?this.dateComp.setDate(i):this.tempValue=i},u.prototype.setDisabled=function(i){this.dateComp?this.setDateCompDisabled(i):this.disabled=i},u.prototype.setDisplayed=function(i){Di(this.eParent,i)},u.prototype.setInputPlaceholder=function(i){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(i)},u.prototype.setInputAriaLabel=function(i){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(i)},u.prototype.afterGuiAttached=function(i){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(i)},u.prototype.setDateCompDisabled=function(i){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(i)},u}(),ju=function(){return ju=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},ju.apply(this,arguments)},Fp=function(){function u(){this.customFilterOptions={}}return u.prototype.init=function(i,n){this.filterOptions=i.filterOptions||n,this.mapCustomOptions(),this.selectDefaultItem(i),this.checkForDeprecatedParams()},u.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},u.prototype.getFilterOptions=function(){return this.filterOptions},u.prototype.mapCustomOptions=function(){var i=this;!this.filterOptions||this.filterOptions.forEach(function(n){if("string"!=typeof n){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(C){return!!C.some(function(x){return null!=n[x]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+C+"'"),!1)}))return void(i.filterOptions=i.filterOptions.filter(function(C){return C===n})||[]);var d=n.test,v=ju({},n);null!=d&&null==n.predicate&&(v.predicate=function(C,x){return d(C[0],x)},delete v.test),v.hideFilterInput&&null==v.numberOfInputs&&(v.numberOfInputs=0,delete v.hideFilterInput),i.customFilterOptions[n.displayKey]=v}})},u.prototype.selectDefaultItem=function(i){if(i.defaultOption)this.defaultOption=i.defaultOption;else if(this.filterOptions.length>=1){var n=this.filterOptions[0];"string"==typeof n?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},u.prototype.getDefaultOption=function(){return this.defaultOption},u.prototype.getCustomOption=function(i){return this.customFilterOptions[i]},u}(),w4={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Rn=function(){function u(){}return u.BACKSPACE="Backspace",u.TAB="Tab",u.ENTER="Enter",u.ESCAPE="Escape",u.SPACE=" ",u.LEFT="ArrowLeft",u.UP="ArrowUp",u.RIGHT="ArrowRight",u.DOWN="ArrowDown",u.DELETE="Delete",u.A="A",u.C="C",u.V="V",u.D="D",u.Z="Z",u.Y="Y",u.F2="F2",u.PAGE_UP="PageUp",u.PAGE_DOWN="PageDown",u.PAGE_HOME="Home",u.PAGE_END="End",u}(),S4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wv=function(){return wv=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},wv.apply(this,arguments)},y1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Yo=function(u){function i(n,a){void 0===a&&(a={});var c=u.call(this)||this;return c.eFocusableElement=n,c.callbacks=a,c.callbacks=wv({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(d){if(!d.defaultPrevented){var v=c.focusService.findNextFocusableElement(c.eFocusableElement,!1,d.shiftKey);!v||(v.focus(),d.preventDefault())}}},a),c}return S4(i,u),i.prototype.postConstruct=function(){this.eFocusableElement.classList.add(i.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},i.prototype.addKeyDownListeners=function(n){var a=this;this.addManagedListener(n,"keydown",function(c){if(!c.defaultPrevented&&!$i(c)){if(a.callbacks.shouldStopEventPropagation(c))return void Wi(c);c.key===Rn.TAB?a.callbacks.onTabKeyDown(c):a.callbacks.handleKeyDown&&a.callbacks.handleKeyDown(c)}})},i.FOCUS_MANAGED_CLASS="ag-focus-managed",y1([ce("focusService")],i.prototype,"focusService",void 0),y1([Gt],i.prototype,"postConstruct",null),i}(yn),kh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},cu=function(u){function i(n){var a=u.call(this)||this;return a.filterNameKey=n,a.applyActive=!1,a.hidePopup=null,a.appliedModel=null,a}return kh(i,u),i.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Yo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},i.prototype.handleKeyDown=function(n){},i.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},i.prototype.isFilterActive=function(){return!!this.appliedModel},i.prototype.resetTemplate=function(n){var a='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(a,n)},i.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},i.prototype.init=function(n){var a=this;this.setParams(n),this.resetUiToDefaults(!0).then(function(){a.updateUiVisibility(),a.setupOnBtApplyDebounce()})},i.prototype.setParams=function(n){this.providedFilterParams=n,this.applyActive=i.isUseApplyButton(n),this.createButtonPanel()},i.prototype.createButtonPanel=function(){var n=this,a=this.providedFilterParams.buttons;if(!(!a||a.length<1||this.isReadOnly())){var c=document.createElement("div");c.classList.add("ag-filter-apply-panel"),ou(a).forEach(function(v){return function(v){var C,x;switch(v){case"apply":C=n.translate("applyFilter"),x=function(U){return n.onBtApply(!1,!1,U)};break;case"clear":C=n.translate("clearFilter"),x=function(){return n.onBtClear()};break;case"reset":C=n.translate("resetFilter"),x=function(){return n.onBtReset()};break;case"cancel":C=n.translate("cancelFilter"),x=function(U){n.onBtCancel(U)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var I=_t('<button\n                    type="button"\n                    ref="'+v+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+C+"\n                </button>");c.appendChild(I),n.addManagedListener(I,"click",x)}(v)}),this.getGui().appendChild(c)}},i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.setupOnBtApplyDebounce=function(){var n=i.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=ze(this.onBtApply.bind(this),n)},i.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},i.prototype.setModel=function(n){var a=this;return(null!=n?this.setModelIntoUi(n):this.resetUiToDefaults()).then(function(){a.updateUiVisibility(),a.applyModel()})},i.prototype.onBtCancel=function(n){var a=this,c=this.getModel(),d=function(){a.onUiChanged(!1,"prevent"),a.providedFilterParams.closeOnApply&&a.close(n)};null!=c?this.setModelIntoUi(c).then(d):this.resetUiToDefaults().then(d)},i.prototype.onBtClear=function(){var n=this;this.resetUiToDefaults().then(function(){return n.onUiChanged()})},i.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},i.prototype.applyModel=function(){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var a=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(a,n)},i.prototype.isModelValid=function(n){return!0},i.prototype.onBtApply=function(n,a,c){void 0===n&&(n=!1),void 0===a&&(a=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:n,afterDataChange:a}),this.providedFilterParams.closeOnApply&&this.applyActive&&!n&&!a&&this.close(c)},i.prototype.onNewRowsLoaded=function(){},i.prototype.close=function(n){if(this.hidePopup){var d,c=n&&n.key;("Enter"===c||"Space"===c)&&(d={keyboardEvent:n}),this.hidePopup(d),this.hidePopup=null}},i.prototype.onUiChanged=function(n,a){if(void 0===n&&(n=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var c=this.isModelValid(this.getModelFromUi());q(this.getRefElement("applyFilterButton"),!c)}n&&!a||"immediately"===a?this.onBtApply(n):(!this.applyActive&&!a||"debounce"===a)&&this.onBtApplyDebounce()},i.prototype.afterGuiAttached=function(n){null!=n&&(this.hidePopup=n.hidePopup)},i.getDebounceMs=function(n,a){return i.isUseApplyButton(n)?(null!=n.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=n.debounceMs?n.debounceMs:a},i.isUseApplyButton=function(n){return!!n.buttons&&n.buttons.indexOf("apply")>=0},i.prototype.destroy=function(){this.hidePopup=null,u.prototype.destroy.call(this)},i.prototype.translate=function(n){return this.gridOptionsWrapper.getLocaleTextFunc()(n,w4[n])},i.prototype.getCellValue=function(n){var a=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:a.api,colDef:a.colDef,column:a.column,columnApi:a.columnApi,context:a.context,data:n.data,getValue:function(I){return n.data[I]},node:n})},lu([ce("rowModel")],i.prototype,"rowModel",void 0),lu([ce("valueService")],i.prototype,"valueService",void 0),lu([Gt],i.prototype,"postConstruct",null),i}(ai),qs=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Uu=function(u){function i(n,a){var c=u.call(this,a)||this;return c.labelSeparator="",c.labelAlignment="left",c.label="",c.config=n||{},c}return qs(i,u),i.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var n=this.config,a=n.labelSeparator,c=n.label,d=n.labelWidth,v=n.labelAlignment;null!=a&&this.setLabelSeparator(a),null!=c&&this.setLabel(c),null!=d&&this.setLabelWidth(d),this.setLabelAlignment(v||this.labelAlignment),this.refreshLabel()},i.prototype.refreshLabel=function(){j(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),ro(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),ro(this.eLabel,null))},i.prototype.setLabelSeparator=function(n){return this.labelSeparator===n||(this.labelSeparator=n,null!=this.label&&this.refreshLabel()),this},i.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},i.prototype.getLabel=function(){return this.label},i.prototype.setLabel=function(n){return this.label===n||(this.label=n,this.refreshLabel()),this},i.prototype.setLabelAlignment=function(n){var c=this.getGui().classList;return c.toggle("ag-label-align-left","left"===n),c.toggle("ag-label-align-right","right"===n),c.toggle("ag-label-align-top","top"===n),this},i.prototype.setLabelWidth=function(n){return null==this.label||Bt(this.eLabel,n),this},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Gt],i.prototype,"postConstruct",null),i}(ai),Sv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xs=function(u){function i(n,a,c){var d=u.call(this,n,a)||this;return d.className=c,d.disabled=!1,d}return Sv(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},i.prototype.onValueChange=function(n){var a=this;return this.addManagedListener(this,i.EVENT_CHANGED,function(){return n(a.getValue())}),this},i.prototype.getWidth=function(){return this.getGui().clientWidth},i.prototype.setWidth=function(n){return tn(this.getGui(),n),this},i.prototype.getPreviousValue=function(){return this.previousValue},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(n,a){return this.value===n||(this.previousValue=this.value,this.value=n,a||this.dispatchEvent({type:i.EVENT_CHANGED})),this},i.prototype.setDisabled=function(n){n=!!n;var a=this.getGui();return q(a,n),a.classList.toggle("ag-disabled",n),this.disabled=n,this},i.prototype.isDisabled=function(){return!!this.disabled},i.EVENT_CHANGED="valueChange",i}(Uu),E4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Lp=function(u){function i(n,a,c,d){var v=u.call(this,n,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(d?'role="'+d+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',a)||this;return v.pickerIcon=c,v.isPickerDisplayed=!1,v.isDestroyingPicker=!1,v.skipClick=!1,v}return E4(i,u),i.prototype.postConstruct=function(){var n=this;u.prototype.postConstruct.call(this);var a=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",a),eo(this.eWrapper,a);var c=function(){n.skipClick?n.skipClick=!1:n.isDisabled()||(n.pickerComponent=n.showPicker())},d=this.getGui();if(this.addManagedListener(d,"mousedown",function(C){!n.skipClick&&n.pickerComponent&&n.pickerComponent.isAlive()&&Ve(n.pickerComponent.getGui())&&d.contains(C.target)&&(n.skipClick=!0)}),this.addManagedListener(d,"keydown",function(C){switch(C.key){case Rn.UP:case Rn.DOWN:case Rn.ENTER:case Rn.SPACE:c();case Rn.ESCAPE:n.isPickerDisplayed&&C.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",c),this.addManagedListener(this.eLabel,"click",c),this.pickerIcon){var v=Gr(this.pickerIcon,this.gridOptionsWrapper);v&&this.eIcon.appendChild(v)}},i.prototype.refreshLabel=function(){ue(this.getLabel())?sr(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},i.prototype.setAriaLabel=function(n){return xr(this.eWrapper,n),this},i.prototype.setInputWidth=function(n){return Bt(this.eWrapper,n),this},i.prototype.getFocusableElement=function(){return this.eWrapper},zh([Pn("eLabel")],i.prototype,"eLabel",void 0),zh([Pn("eWrapper")],i.prototype,"eWrapper",void 0),zh([Pn("eDisplayField")],i.prototype,"eDisplayField",void 0),zh([Pn("eIcon")],i.prototype,"eIcon",void 0),i}(Xs),Vh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),bs=function(u){function i(n){void 0===n&&(n="default");var a=u.call(this,'<div class="ag-list ag-'+n+'-list" role="listbox"></div>')||this;return a.cssIdentifier=n,a.options=[],a.itemEls=[],a}return Vh(i,u),i.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},i.prototype.handleKeyDown=function(n){var a=n.key;switch(a){case Rn.ENTER:if(this.highlightedEl){var c=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(c)}else this.setValue(this.getValue());break;case Rn.DOWN:case Rn.UP:var d=a===Rn.DOWN,v=void 0;if(n.preventDefault(),this.highlightedEl){var x=this.itemEls.indexOf(this.highlightedEl)+(d?1:-1);x=Math.min(Math.max(x,0),this.itemEls.length-1),v=this.itemEls[x]}else v=this.itemEls[d?0:this.itemEls.length-1];this.highlightItem(v)}},i.prototype.addOptions=function(n){var a=this;return n.forEach(function(c){return a.addOption(c)}),this},i.prototype.addOption=function(n){var a=n.value,d=Co(n.text||a);return this.options.push({value:a,text:d}),this.renderOption(a,d),this.updateIndices(),this},i.prototype.updateIndices=function(){var n=this.getGui().querySelectorAll(".ag-list-item");n.forEach(function(a,c){iu(a,c+1),Ka(a,n.length)})},i.prototype.renderOption=function(n,a){var c=this,d=document.createElement("div");ro(d,"option"),d.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),d.innerHTML="<span>"+a+"</span>",d.tabIndex=-1,this.itemEls.push(d),this.addManagedListener(d,"mouseover",function(){return c.highlightItem(d)}),this.addManagedListener(d,"mouseleave",function(){return c.clearHighlighted()}),this.addManagedListener(d,"click",function(){return c.setValue(n)}),this.getGui().appendChild(d)},i.prototype.setValue=function(n,a){if(this.value===n)return this.fireItemSelected(),this;if(null==n)return this.reset(),this;var c=this.options.findIndex(function(v){return v.value===n});if(-1!==c){var d=this.options[c];this.value=d.value,this.displayValue=null!=d.text?d.text:d.value,this.highlightItem(this.itemEls[c]),a||this.fireChangeEvent()}return this},i.prototype.setValueByIndex=function(n){return this.setValue(this.options[n].value)},i.prototype.getValue=function(){return this.value},i.prototype.getDisplayValue=function(){return this.displayValue},i.prototype.refreshHighlighted=function(){var n=this;this.clearHighlighted();var a=this.options.findIndex(function(c){return c.value===n.value});-1!==a&&this.highlightItem(this.itemEls[a])},i.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},i.prototype.highlightItem=function(n){!n.offsetParent||(this.clearHighlighted(),this.highlightedEl=n,this.highlightedEl.classList.add(i.ACTIVE_CLASS),Ks(this.highlightedEl,!0),this.highlightedEl.focus())},i.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(i.ACTIVE_CLASS),Ks(this.highlightedEl,!1),this.highlightedEl=null)},i.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Xs.EVENT_CHANGED}),this.fireItemSelected()},i.prototype.fireItemSelected=function(){this.dispatchEvent({type:i.EVENT_ITEM_SELECTED})},i.EVENT_ITEM_SELECTED="selectedItem",i.ACTIVE_CLASS="ag-active-item",function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Gt],i.prototype,"init",null),i}(ai),Ip=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Gh=function(u){function i(n){return u.call(this,n,"ag-select","smallDown","listbox")||this}return Ip(i,u),i.prototype.init=function(){var n=this;this.listComponent=this.createBean(new bs("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,bs.EVENT_ITEM_SELECTED,function(){n.hideList&&n.hideList()}),this.listComponent.addManagedListener(this.listComponent,Xs.EVENT_CHANGED,function(){n.setValue(n.listComponent.getValue(),!1,!0),n.hideList&&n.hideList()})},i.prototype.showPicker=function(){var n=this,a=this.listComponent.getGui(),c=this.gridOptionsWrapper.getDocument(),d=this.addManagedListener(c.body,"wheel",function(I){!a.contains(I.target)&&n.hideList&&n.hideList()}),v=this.addManagedListener(a,"focusout",function(I){!a.contains(I.relatedTarget)&&n.hideList&&n.hideList()}),C=this.gridOptionsWrapper.getLocaleTextFunc(),x=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(){n.hideList=null,n.isPickerDisplayed=!1,v(),d(),n.isAlive()&&(Ui(n.eWrapper,!1),n.getFocusableElement().focus())},ariaLabel:C("ariaLabelSelectField","Select Field")});return x&&(this.hideList=x.hideFunc),this.isPickerDisplayed=!0,Bt(a,bo(this.eWrapper)),Ui(this.eWrapper,!0),a.style.maxHeight=Kt(this.popupService.getPopupParent())+"px",a.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:a,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},i.prototype.addOptions=function(n){var a=this;return n.forEach(function(c){return a.addOption(c)}),this},i.prototype.addOption=function(n){return this.listComponent.addOption(n),this},i.prototype.setValue=function(n,a,c){return this.value===n?this:(c||this.listComponent.setValue(n,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),u.prototype.setValue.call(this,n,a)))},i.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),u.prototype.destroy.call(this)},Hh([ce("popupService")],i.prototype,"popupService",void 0),Hh([Gt],i.prototype,"init",null),i}(Lp),C1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ic=function(u){function i(n,a,c,d){void 0===c&&(c="text"),void 0===d&&(d="input");var v=u.call(this,n,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+d+' ref="eInput" class="ag-input-field-input"></'+d+">\n                </div>\n            </div>",a)||this;return v.inputType=c,v.displayFieldTag=d,v}return C1(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var n=this.config,a=n.width,c=n.value;null!=a&&this.setWidth(a),null!=c&&this.setValue(c),this.addInputListeners()},i.prototype.refreshLabel=function(){ue(this.getLabel())?sr(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},i.prototype.addInputListeners=function(){var n=this;this.addManagedListener(this.eInput,"input",function(a){return n.setValue(a.target.value)})},i.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},i.prototype.getInputElement=function(){return this.eInput},i.prototype.setInputWidth=function(n){return Bt(this.eWrapper,n),this},i.prototype.setInputName=function(n){return this.getInputElement().setAttribute("name",n),this},i.prototype.getFocusableElement=function(){return this.eInput},i.prototype.setMaxLength=function(n){return this.eInput.maxLength=n,this},i.prototype.setInputPlaceholder=function(n){return po(this.eInput,"placeholder",n),this},i.prototype.setInputAriaLabel=function(n){return xr(this.eInput,n),this},i.prototype.setDisabled=function(n){return q(this.eInput,n),u.prototype.setDisabled.call(this,n)},_1([Pn("eLabel")],i.prototype,"eLabel",void 0),_1([Pn("eWrapper")],i.prototype,"eWrapper",void 0),_1([Pn("eInput")],i.prototype,"eInput",void 0),i}(Xs),xd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Il=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ca=(()=>(function(u){u[u.One=0]="One",u[u.Two=1]="Two"}(Ca||(Ca={})),Ca))(),xo=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return xd(i,u),i.prototype.getNumberOfInputs=function(n){var a=this.optionsFactory.getCustomOption(n);if(a){var c=a.numberOfInputs;return null!=c?c:1}return n&&[i.EMPTY,i.NOT_BLANK,i.BLANK].indexOf(n)>=0?0:n===i.IN_RANGE?2:1},i.prototype.onFloatingFilterChanged=function(n,a){this.setTypeFromFloatingFilter(n),this.setValueFromFloatingFilter(a),this.onUiChanged(!0)},i.prototype.setTypeFromFloatingFilter=function(n){this.eType1.setValue(n),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},i.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Ca.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Ca.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Ca.One),condition2:this.createCondition(Ca.Two)}:this.createCondition(Ca.One):null},i.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},i.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},i.prototype.areModelsEqual=function(n,a){if(!n&&!a)return!0;if(!n&&a||n&&!a)return!1;var C,c=!n.operator,d=!a.operator;if(!c&&d||c&&!d)return!1;if(c)C=this.areSimpleModelsEqual(n,a);else{var U=n,pe=a;C=U.operator===pe.operator&&this.areSimpleModelsEqual(U.condition1,pe.condition1)&&this.areSimpleModelsEqual(U.condition2,pe.condition2)}return C},i.prototype.setModelIntoUi=function(n){if(n.operator){var c=n,d="OR"===c.operator;this.eJoinOperatorAnd.setValue(!d),this.eJoinOperatorOr.setValue(d),this.eType1.setValue(c.condition1.type),this.eType2.setValue(c.condition2.type),this.setConditionIntoUi(c.condition1,Ca.One),this.setConditionIntoUi(c.condition2,Ca.Two)}else{var v=n;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(v.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(v,Ca.One),this.setConditionIntoUi(null,Ca.Two)}return ls.resolve()},i.prototype.doesFilterPass=function(n){var a=this,c=this.getModel();if(null==c)return!0;var d=c.operator,v=[];return d?v.push(c.condition1,c.condition2):v.push(c),v[d&&"OR"===d?"some":"every"](function(I){return a.individualConditionPasses(n,I)})},i.prototype.setParams=function(n){u.prototype.setParams.call(this,n),this.optionsFactory=new Fp,this.optionsFactory.init(n,this.getDefaultFilterOptions()),this.allowTwoConditions=!n.suppressAndOrCondition,this.alwaysShowBothConditions=!!n.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(n.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},i.prototype.getDefaultJoinOperator=function(n){return Xr(["AND","OR"],n)?n:"AND"},i.prototype.putOptionsIntoDropdown=function(){var n=this,a=this.optionsFactory.getFilterOptions(),c=[this.eType1,this.eType2];a.forEach(function(d){var v="string"==typeof d?n.createBoilerplateListOption(d):n.createCustomListOption(d);c.forEach(function(C){return C.addOption(v)})}),c.forEach(function(d){return d.setDisabled(a.length<=1)})},i.prototype.createBoilerplateListOption=function(n){return{value:n,text:this.translate(n)}},i.prototype.createCustomListOption=function(n){var a=n.displayKey,c=this.optionsFactory.getCustomOption(n.displayKey);return{value:a,text:c?this.gridOptionsWrapper.getLocaleTextFunc()(c.displayKey,c.displayName):this.translate(a)}},i.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},i.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Ca.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Ca.Two)},i.prototype.getCssIdentifier=function(){return"simple-filter"},i.prototype.updateUiVisibility=function(){var n=this,c=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(d,v){var C=n.isConditionVisible(v),x=n.isConditionDisabled(v);d.forEach(function(I){I instanceof ic||I instanceof Gh?(I.setDisabled(x),I.setDisplayed(C)):(q(I,x),Di(I,C))})}),c.forEach(function(d,v){Di(d,n.isConditionBodyVisible(v))}),this.forEachInput(function(d,v,C,x){n.setElementDisplayed(d,v<x),n.setElementDisabled(d,n.isConditionDisabled(C))}),this.resetPlaceholder()},i.prototype.afterGuiAttached=function(n){if(u.prototype.afterGuiAttached.call(this,n),this.resetPlaceholder(),!n||!n.suppressFocus&&!this.isReadOnly()){var a=this.getInputs()[0][0];if(!a)return;a instanceof ic&&a.getInputElement().focus()}},i.prototype.resetPlaceholder=function(){var n=this,a=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(c,d,v,C){if(c instanceof ic){var x=0===d&&C>1?"inRangeStart":0===d?"filterOoo":"inRangeEnd",I=0===d&&C>1?a("ariaFilterFromValue","Filter from value"):0===d?a("ariaFilterValue","Filter Value"):a("ariaFilterToValue","Filter to Value");c.setInputPlaceholder(n.translate(x)),c.setInputAriaLabel(I)}})},i.prototype.setElementValue=function(n,a,c){n instanceof ic&&n.setValue(null!=a?String(a):null,c)},i.prototype.setElementDisplayed=function(n,a){n instanceof ai&&Di(n.getGui(),a)},i.prototype.setElementDisabled=function(n,a){n instanceof ai&&q(n.getGui(),a)},i.prototype.attachElementOnChange=function(n,a){n instanceof ic&&n.onValueChange(a)},i.prototype.forEachInput=function(n){var a=this,c=this.getInputs();this.getConditionTypes().forEach(function(d,v){for(var C=a.getNumberOfInputs(d),x=0;x<c[v].length;x++){var I=c[v][x];null!=I&&n(I,x,v,C)}})},i.prototype.isConditionVisible=function(n){return 0===n||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(n):!!this.alwaysShowBothConditions||this.isConditionUiComplete(n-1))},i.prototype.isConditionDisabled=function(n){return!(!this.isReadOnly()&&this.isConditionVisible(n))||0!==n&&!this.isConditionUiComplete(n-1)},i.prototype.isConditionBodyVisible=function(n){if(!this.isConditionVisible(n))return!1;var a=this.getConditionTypes()[n];return this.getNumberOfInputs(a)>0},i.prototype.isConditionUiComplete=function(n){return!(this.getConditionTypes()[n]===i.EMPTY||this.getValues(n).some(function(c){return null==c}))},i.prototype.resetUiToDefaults=function(n){var a=this,d=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),v="ag-simple-filter-and-or-"+this.getCompId(),C=this.optionsFactory.getDefaultOption();return this.eType1.setValue(C,n).setAriaLabel(d).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),n).setAriaLabel(d).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),n).setName(v).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),n).setName(v).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(x){a.setElementValue(x,null,n),a.setElementDisabled(x,a.isReadOnly())}),this.resetPlaceholder(),ls.resolve()},i.prototype.setConditionIntoUi=function(n,a){var c=this,d=this.mapValuesFromModel(n);this.forEachInput(function(v,C,x,I){x===a&&c.setElementValue(v,null!=d[C]?d[C]:null)})},i.prototype.setValueFromFloatingFilter=function(n){var a=this;this.forEachInput(function(c,d,v,C){a.setElementValue(c,0===d&&0===v?n:null)})},i.prototype.isDefaultOperator=function(n){return n===this.defaultJoinOperator},i.prototype.addChangedListeners=function(){var n=this;if(!this.isReadOnly()){var a=function(){return n.onUiChanged()};this.eType1.onValueChange(a),this.eType2.onValueChange(a),this.eJoinOperatorOr.onValueChange(a),this.eJoinOperatorAnd.onValueChange(a),this.forEachInput(function(c){n.attachElementOnChange(c,a)})}},i.prototype.individualConditionPasses=function(n,a){var c=this.getCellValue(n.node),d=this.mapValuesFromModel(a),v=this.optionsFactory.getCustomOption(a.type),C=this.evaluateCustomFilter(v,d,c);return null!=C?C:null==c?this.evaluateNullValue(a.type):this.evaluateNonNullValue(d,c,a,n)},i.prototype.evaluateCustomFilter=function(n,a,c){if(null!=n){var d=n.predicate;if(null!=d&&!a.some(function(v){return null==v}))return d(a,c)}},i.prototype.isBlank=function(n){return null==n||"string"==typeof n&&0===n.trim().length},i.EMPTY="empty",i.BLANK="blank",i.NOT_BLANK="notBlank",i.EQUALS="equals",i.NOT_EQUAL="notEqual",i.LESS_THAN="lessThan",i.LESS_THAN_OR_EQUAL="lessThanOrEqual",i.GREATER_THAN="greaterThan",i.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",i.IN_RANGE="inRange",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.STARTS_WITH="startsWith",i.ENDS_WITH="endsWith",Il([Pn("eOptions1")],i.prototype,"eType1",void 0),Il([Pn("eOptions2")],i.prototype,"eType2",void 0),Il([Pn("eJoinOperatorPanel")],i.prototype,"eJoinOperatorPanel",void 0),Il([Pn("eJoinOperatorAnd")],i.prototype,"eJoinOperatorAnd",void 0),Il([Pn("eJoinOperatorOr")],i.prototype,"eJoinOperatorOr",void 0),Il([Pn("eCondition1Body")],i.prototype,"eCondition1Body",void 0),Il([Pn("eCondition2Body")],i.prototype,"eCondition2Body",void 0),i}(cu),_a=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qo=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return _a(i,u),i.prototype.setParams=function(n){u.prototype.setParams.call(this,n),this.scalarFilterParams=n},i.prototype.evaluateNullValue=function(n){switch(n){case i.EQUALS:case i.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case i.GREATER_THAN:case i.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case i.LESS_THAN:case i.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case i.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case i.BLANK:return!0;case i.NOT_BLANK:return!1}return!1},i.prototype.evaluateNonNullValue=function(n,a,c){var d=this.comparator(),v=null!=n[0]?d(n[0],a):0;switch(c.type){case i.EQUALS:return 0===v;case i.NOT_EQUAL:return 0!==v;case i.GREATER_THAN:return v>0;case i.GREATER_THAN_OR_EQUAL:return v>=0;case i.LESS_THAN:return v<0;case i.LESS_THAN_OR_EQUAL:return v<=0;case i.IN_RANGE:var C=d(n[1],a);return this.scalarFilterParams.inRangeInclusive?v>=0&&C<=0:v>0&&C<0;case i.BLANK:return this.isBlank(a);case i.NOT_BLANK:return!this.isBlank(a);default:return console.warn('AG Grid: Unexpected type of filter "'+c.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},i}(xo),bv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Bh=function(){return Bh=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Bh.apply(this,arguments)},Nl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},uu=function(u){function i(){var n=u.call(this,"dateFilter")||this;return n.minValidYear=1e3,n.maxValidYear=1/0,n}return bv(i,u),i.prototype.afterGuiAttached=function(n){u.prototype.afterGuiAttached.call(this,n),this.dateCondition1FromComp.afterGuiAttached(n)},i.prototype.mapValuesFromModel=function(n){var a=n||{},c=a.dateFrom,d=a.dateTo,v=a.type;return[c&&Oe(c)||null,d&&Oe(d)||null].slice(0,this.getNumberOfInputs(v))},i.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},i.prototype.defaultComparator=function(n,a){return null==a||a<n?-1:a>n?1:0},i.prototype.setParams=function(n){u.prototype.setParams.call(this,n),this.dateFilterParams=n;var a=function(c,d){if(null!=n[c]){if(!isNaN(n[c]))return null==n[c]?d:Number(n[c]);console.warn("AG Grid: DateFilter "+c+" is not a number")}return d};this.minValidYear=a("minValidYear",1e3),this.maxValidYear=a("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},i.prototype.createDateComponents=function(){var n=this,a=function(c){return new Nh(n.getContext(),n.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:n.dateFilterParams},c)};this.dateCondition1FromComp=a(this.eCondition1PanelFrom),this.dateCondition1ToComp=a(this.eCondition1PanelTo),this.dateCondition2FromComp=a(this.eCondition2PanelFrom),this.dateCondition2ToComp=a(this.eCondition2PanelTo),this.addDestroyFunc(function(){n.forEachInput(function(c){return c.destroy()})})},i.prototype.setElementValue=function(n,a,c){n.setDate(a)},i.prototype.setElementDisplayed=function(n,a){n.setDisplayed(a)},i.prototype.setElementDisabled=function(n,a){n.setDisabled(a)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(n){var a=n===Ca.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+a+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+a+'PanelTo"></div>\n            </div>'},i.prototype.isConditionUiComplete=function(n){var a=this;if(!u.prototype.isConditionUiComplete.call(this,n))return!1;var d=!0;return this.forEachInput(function(v,C,x,I){x!==n||!d||C>=I||(d=d&&function(v){return null!=v&&v.getUTCFullYear()>=a.minValidYear&&v.getUTCFullYear()<=a.maxValidYear}(v.getDate()))}),d},i.prototype.areSimpleModelsEqual=function(n,a){return n.dateFrom===a.dateFrom&&n.dateTo===a.dateTo&&n.type===a.type},i.prototype.getFilterType=function(){return"date"},i.prototype.createCondition=function(n){var a=this.getConditionTypes()[n],c={},d=this.getValues(n);return d.length>0&&(c.dateFrom=re(d[0])),d.length>1&&(c.dateTo=re(d[1])),Bh({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:a},c)},i.prototype.resetPlaceholder=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.translate("dateFormatOoo"),c=n("ariaFilterValue","Filter Value");this.forEachInput(function(d){d.setInputPlaceholder(a),d.setInputAriaLabel(c)})},i.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},i.prototype.getValues=function(n){var a=[];return this.forEachInput(function(c,d,v,C){n===v&&d<C&&a.push(c.getDate())}),a},i.DEFAULT_FILTER_OPTIONS=[Qo.EQUALS,Qo.GREATER_THAN,Qo.LESS_THAN,Qo.NOT_EQUAL,Qo.IN_RANGE,Qo.BLANK,Qo.NOT_BLANK],Nl([Pn("eCondition1PanelFrom")],i.prototype,"eCondition1PanelFrom",void 0),Nl([Pn("eCondition1PanelTo")],i.prototype,"eCondition1PanelTo",void 0),Nl([Pn("eCondition2PanelFrom")],i.prototype,"eCondition2PanelFrom",void 0),Nl([Pn("eCondition2PanelTo")],i.prototype,"eCondition2PanelTo",void 0),Nl([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(Qo),Np=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),du=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Np(i,u),i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.getTextFromModel=function(n){if(!n)return null;if(null!=n.operator){var c=n,d=c||{},v=d.condition1,C=d.condition2,x=this.optionsFactory.getCustomOption(v.type),I=this.optionsFactory.getCustomOption(C.type);return[this.conditionToString(v,x),c.operator,this.conditionToString(C,I)].join(" ")}var U=n,pe=this.optionsFactory.getCustomOption(U.type),_e=pe||{},it=_e.displayKey,xt=_e.displayName;return it&&xt&&0===_e.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(it,xt),xt):this.conditionToString(U,pe)},i.prototype.isEventFromFloatingFilter=function(n){return n&&n.afterFloatingFilter},i.prototype.getLastType=function(){return this.lastType},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setLastTypeFromModel=function(n){n?this.lastType=(n.operator?n.condition1:n).type:this.lastType=this.optionsFactory.getDefaultOption()},i.prototype.canWeEditAfterModelFromParentFilter=function(n){return n?!n.operator&&this.isTypeEditable(n.type):this.isTypeEditable(this.lastType)},i.prototype.init=function(n){this.optionsFactory=new Fp,this.optionsFactory.init(n.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!n.filterParams.readOnly;var a=this.isTypeEditable(this.lastType);this.setEditable(a)},i.prototype.doesFilterHaveSingleInput=function(n){var c=(this.optionsFactory.getCustomOption(n)||{}).numberOfInputs;return null==c||1==c},i.prototype.isTypeEditable=function(n){var a=[xo.IN_RANGE,xo.EMPTY,xo.BLANK,xo.NOT_BLANK];return!!n&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(n)&&a.indexOf(n)<0},i}(ai),Dv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zs=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},D4=function(u){function i(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Dv(i,u),i.prototype.getDefaultFilterOptions=function(){return uu.DEFAULT_FILTER_OPTIONS},i.prototype.conditionToString=function(n,a){var c=n.type,v=c==xo.IN_RANGE||2===(a||{}).numberOfInputs,C=Oe(n.dateFrom),x=Oe(n.dateTo);return v?re(C,!1)+"-"+re(x,!1):null!=C?""+re(C,!1):""+c},i.prototype.init=function(n){u.prototype.init.call(this,n),this.params=n,this.createDateComponent();var a=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(a("ariaDateFilterInput","Date Filter Input"))},i.prototype.setEditable=function(n){Di(this.eDateWrapper,n),Di(this.eReadOnlyText.getGui(),!n)},i.prototype.onParentModelChanged=function(n,a){if(!this.isEventFromFloatingFilter(a)){u.prototype.setLastTypeFromModel.call(this,n);var c=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(n);this.setEditable(c),c?(this.dateComp.setDate(n?Oe(n.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(n)),this.dateComp.setDate(null))}},i.prototype.onDateChanged=function(){var n=this,c=re(this.dateComp.getDate());this.params.parentFilterInstance(function(d){if(d){var v=Oe(c);d.onFloatingFilterChanged(n.getLastType()||null,v)}})},i.prototype.createDateComponent=function(){var n=this,a=cu.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c={onDateChanged:ze(this.onDateChanged.bind(this),a),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Nh(this.getContext(),this.userComponentFactory,c,this.eDateWrapper),this.addDestroyFunc(function(){return n.dateComp.destroy()})},Zs([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Zs([Pn("eReadOnlyText")],i.prototype,"eReadOnlyText",void 0),Zs([Pn("eDateWrapper")],i.prototype,"eDateWrapper",void 0),i}(du),Ov=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zp=function(u){function i(){return u.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Ov(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){var a=this,c=this.gridOptionsWrapper.getDocument(),d=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(n)&&(d.type="date"),this.addManagedListener(d,"mousedown",function(){a.eDateInput.isDisabled()||d.focus()}),this.addManagedListener(d,"input",function(I){I.target===c.activeElement&&(a.eDateInput.isDisabled()||n.onDateChanged())});var v=n.filterParams||{},C=v.minValidYear,x=v.maxValidYear;C&&(d.min=C+"-01-01"),x&&(d.max=x+"-12-31")},i.prototype.getDate=function(){return Oe(this.eDateInput.getValue())},i.prototype.setDate=function(n){this.eDateInput.setValue(re(n,!1))},i.prototype.setInputPlaceholder=function(n){this.eDateInput.setInputPlaceholder(n)},i.prototype.setDisabled=function(n){this.eDateInput.setDisabled(n)},i.prototype.afterGuiAttached=function(n){(!n||!n.suppressFocus)&&this.eDateInput.getInputElement().focus()},i.prototype.shouldUseBrowserDatePicker=function(n){return n.filterParams&&null!=n.filterParams.browserDatePicker?n.filterParams.browserDatePicker:tr()||Si()},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Pn("eDateInput")],i.prototype,"eDateInput",void 0),i}(ai),S1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},b1=function(u){function i(){return u.call(this,"numberFilter")||this}return S1(i,u),i.prototype.mapValuesFromModel=function(n){var a=n||{},c=a.filter,d=a.filterTo;return[null==c?null:c,null==d?null:d].slice(0,this.getNumberOfInputs(a.type))},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.comparator=function(){return function(n,a){return n===a?0:n<a?1:-1}},i.prototype.setParams=function(n){this.numberFilterParams=n;var a=this.getAllowedCharPattern();if(a){var c={allowedCharPattern:a};this.resetTemplate({"eValue-index0-1":c,"eValue-index1-1":c,"eValue-index0-2":c,"eValue-index1-2":c})}u.prototype.setParams.call(this,n)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(n){var a=n===Ca.One?"1":"2",d=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body" role="presentation">\n                <'+d+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+a+'"></'+d+">\n                <"+d+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+a+'"></'+d+">\n            </div>"},i.prototype.getValues=function(n){var a=this,c=[];return this.forEachInput(function(d,v,C,x){n===C&&v<x&&c.push(a.stringToFloat(d.getValue()))}),c},i.prototype.areSimpleModelsEqual=function(n,a){return n.filter===a.filter&&n.filterTo===a.filterTo&&n.type===a.type},i.prototype.getFilterType=function(){return"number"},i.prototype.stringToFloat=function(n){if("number"==typeof n)return n;var a=Yt(n);return null!=a&&""===a.trim()&&(a=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(a):null==a||"-"===a.trim()?null:parseFloat(a)},i.prototype.createCondition=function(n){var a=this.getConditionTypes()[n],c={filterType:this.getFilterType(),type:a},d=this.getValues(n);return d.length>0&&(c.filter=d[0]),d.length>1&&(c.filterTo=d[1]),c},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(tr()||an()?null:"\\d\\-\\.")},i.DEFAULT_FILTER_OPTIONS=[Qo.EQUALS,Qo.NOT_EQUAL,Qo.LESS_THAN,Qo.LESS_THAN_OR_EQUAL,Qo.GREATER_THAN,Qo.GREATER_THAN_OR_EQUAL,Qo.IN_RANGE,Qo.BLANK,Qo.NOT_BLANK],Vp([Pn("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),Vp([Pn("eValue-index1-1")],i.prototype,"eValueTo1",void 0),Vp([Pn("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),Vp([Pn("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Qo),Pc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hu=function(){return hu=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},hu.apply(this,arguments)},Hp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Gp=function(u){function i(){return u.call(this,"textFilter")||this}return Pc(i,u),i.trimInput=function(n){var a=n&&n.trim();return""===a?n:a},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.setParams=function(n){u.prototype.setParams.call(this,n),this.textFilterParams=n,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?i.DEFAULT_FORMATTER:i.DEFAULT_LOWERCASE_FORMATTER)},i.prototype.getTextMatcher=function(){var n=this.textFilterParams.textCustomComparator;return n?(au.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(a){return n(a.filterOption,a.value,a.filterText)}):this.textFilterParams.textMatcher||i.DEFAULT_MATCHER},i.prototype.createCondition=function(n){var a=this.getConditionTypes()[n],c={filterType:this.getFilterType(),type:a},d=this.getValues(n);return d.length>0&&(c.filter=d[0]),d.length>1&&(c.filterTo=d[1]),c},i.prototype.getFilterType=function(){return"text"},i.prototype.areSimpleModelsEqual=function(n,a){return n.filter===a.filter&&n.filterTo===a.filterTo&&n.type===a.type},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getValues=function(n){var a=this,c=[];return this.forEachInput(function(d,v,C,x){if(n===C&&v<x){var I=Yt(d.getValue()),U=(a.textFilterParams.trimInput?i.trimInput(I):I)||null;c.push(U),d.setValue(U,!0)}}),c},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(n){var a=n===Ca.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+a+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+a+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+a+'"></ag-input-text-field>\n            </div>'},i.prototype.mapValuesFromModel=function(n){var a=n||{};return[a.filter||null,a.filterTo||null].slice(0,this.getNumberOfInputs(a.type))},i.prototype.evaluateNullValue=function(n){return!!n&&[xo.NOT_EQUAL,xo.NOT_CONTAINS,xo.BLANK].indexOf(n)>=0},i.prototype.evaluateNonNullValue=function(n,a,c,d){var v=this,C=n.map(function(qt){return v.formatter(qt)})||[],x=this.formatter(a),I=this.textFilterParams,U=I.api,pe=I.colDef,_e=I.column,it=I.columnApi,xt=I.context,Ut=I.textFormatter;if(c.type===xo.BLANK)return this.isBlank(a);if(c.type===xo.NOT_BLANK)return!this.isBlank(a);var sn={api:U,colDef:pe,column:_e,columnApi:it,context:xt,node:d.node,data:d.data,filterOption:c.type,value:x,textFormatter:Ut};return C.some(function(qt){return v.matcher(hu(hu({},sn),{filterText:qt}))})},i.DEFAULT_FILTER_OPTIONS=[xo.CONTAINS,xo.NOT_CONTAINS,xo.EQUALS,xo.NOT_EQUAL,xo.STARTS_WITH,xo.ENDS_WITH,xo.BLANK,xo.NOT_BLANK],i.DEFAULT_FORMATTER=function(n){return n},i.DEFAULT_LOWERCASE_FORMATTER=function(n){return null==n?null:n.toString().toLowerCase()},i.DEFAULT_MATCHER=function(n){var c=n.value,d=n.filterText;if(null==d)return!1;switch(n.filterOption){case i.CONTAINS:return c.indexOf(d)>=0;case i.NOT_CONTAINS:return c.indexOf(d)<0;case i.EQUALS:return c===d;case i.NOT_EQUAL:return c!=d;case i.STARTS_WITH:return 0===c.indexOf(d);case i.ENDS_WITH:var v=c.lastIndexOf(d);return v>=0&&v===c.length-d.length;default:return!1}},Hp([Pn("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),Hp([Pn("eValue-index1-1")],i.prototype,"eValueTo1",void 0),Hp([Pn("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),Hp([Pn("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(xo),kl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),E1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},O4=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return kl(i,u),i.prototype.postConstruct=function(){this.resetTemplate()},i.prototype.resetTemplate=function(n){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',n)},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.onParentModelChanged=function(n,a){this.isEventFromFloatingFilter(a)||(this.setLastTypeFromModel(n),this.eFloatingFilterInput.setValue(this.getTextFromModel(n)),this.setEditable(this.canWeEditAfterModelFromParentFilter(n)))},i.prototype.init=function(n){u.prototype.init.call(this,n),this.params=n,this.applyActive=cu.isUseApplyButton(this.params.filterParams);var a=this.params.filterParams.allowedCharPattern;if(null!=a&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:a}}),!this.isReadOnly()){var c=cu.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),d=ze(this.syncUpWithParentFilter.bind(this),c),v=this.eFloatingFilterInput.getGui();this.addManagedListener(v,"input",d),this.addManagedListener(v,"keypress",d),this.addManagedListener(v,"keydown",d)}var C=n.column.getDefinition();(this.isReadOnly()||C.filterParams&&C.filterParams.filterOptions&&1===C.filterParams.filterOptions.length&&"inRange"===C.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var x=this.columnModel.getDisplayNameForColumn(n.column,"header",!0),I=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(x+" "+I("ariaFilterInput","Filter Input"))},i.prototype.syncUpWithParentFilter=function(n){var a=this;if(!this.applyActive||n.key===Rn.ENTER){var d=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(d=Gp.trimInput(d),this.eFloatingFilterInput.setValue(d,!0)),this.params.parentFilterInstance(function(v){v&&v.onFloatingFilterChanged(a.getLastType()||null,d||null)})}},i.prototype.conditionToString=function(n,a){return n.type==xo.IN_RANGE||2===(a||{}).numberOfInputs?n.filter+"-"+n.filterTo:null!=n.filter?""+n.filter:""+n.type},i.prototype.setEditable=function(n){this.eFloatingFilterInput.setDisabled(!n)},E1([ce("columnModel")],i.prototype,"columnModel",void 0),E1([Pn("eFloatingFilterInput")],i.prototype,"eFloatingFilterInput",void 0),E1([Gt],i.prototype,"postConstruct",null),i}(du),T4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),x4=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return T4(i,u),i.prototype.getDefaultFilterOptions=function(){return b1.DEFAULT_FILTER_OPTIONS},i}(O4),M4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Bp=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return M4(i,u),i.prototype.getDefaultFilterOptions=function(){return Gp.DEFAULT_FILTER_OPTIONS},i}(O4),Es=function(){function u(i,n){var a=this;void 0===n&&(n=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new ar,this.eElement=i,this.preventMouseClick=n;var c=this.onTouchStart.bind(this),d=this.onTouchMove.bind(this),v=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",c,{passive:!0}),this.eElement.addEventListener("touchmove",d,{passive:!0}),this.eElement.addEventListener("touchend",v,{passive:!1}),this.destroyFuncs.push(function(){a.eElement.removeEventListener("touchstart",c,{passive:!0}),a.eElement.removeEventListener("touchmove",d,{passive:!0}),a.eElement.removeEventListener("touchend",v,{passive:!1})})}return u.prototype.getActiveTouch=function(i){for(var n=0;n<i.length;n++)if(i[n].identifier===this.touchStart.identifier)return i[n];return null},u.prototype.addEventListener=function(i,n){this.eventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){this.eventService.removeEventListener(i,n)},u.prototype.onTouchStart=function(i){var n=this;if(!this.touching){this.touchStart=i.touches[0],this.touching=!0,this.moved=!1;var a=this.touchStart;window.setTimeout(function(){n.touching&&n.touchStart===a&&!n.moved&&(n.moved=!0,n.eventService.dispatchEvent({type:u.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:i}))},500)}},u.prototype.onTouchMove=function(i){if(this.touching){var n=this.getActiveTouch(i.touches);n&&!Ap(n,this.touchStart,4)&&(this.moved=!0)}},u.prototype.onTouchEnd=function(i){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:u.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&i.preventDefault(),this.touching=!1)},u.prototype.checkForDoubleTap=function(){var i=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&i-this.lastTapTime>u.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:u.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=i},u.prototype.destroy=function(){this.destroyFuncs.forEach(function(i){return i()})},u.EVENT_TAP="tap",u.EVENT_DOUBLE_TAP="doubleTap",u.EVENT_LONG_TAP="longTap",u.DOUBLE_TAP_MILLIS=500,u}(),Md=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Vl=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.lastMovingChanged=0,n}return Md(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.refresh=function(n){return this.params=n,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(n),!0)},i.prototype.workOutTemplate=function(){var n=vt(this.params.template,i.TEMPLATE);return n&&n.trim?n.trim():n},i.prototype.init=function(n){this.params=n,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(n.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(n)},i.prototype.setDisplayName=function(n){if(this.currentDisplayName!=n.displayName){this.currentDisplayName=n.displayName;var a=Co(this.currentDisplayName);this.eText&&(this.eText.innerHTML=a)}},i.prototype.setupIcons=function(n){this.addInIcon("sortAscending",this.eSortAsc,n),this.addInIcon("sortDescending",this.eSortDesc,n),this.addInIcon("sortUnSort",this.eSortNone,n),this.addInIcon("menu",this.eMenu,n),this.addInIcon("filter",this.eFilter,n)},i.prototype.addInIcon=function(n,a,c){if(null!=a){var d=Gr(n,this.gridOptionsWrapper,c);d&&a.appendChild(d)}},i.prototype.setupTap=function(){var n=this,a=this.gridOptionsWrapper;if(!a.isSuppressTouch()){var c=new Es(this.getGui(),!0),d=a.isSuppressMenuHide(),v=d&&ue(this.eMenu),C=v?new Es(this.eMenu,!0):c;this.params.enableMenu&&this.addManagedListener(C,Es[v?"EVENT_TAP":"EVENT_LONG_TAP"],function(pe){a.getApi().showColumnMenuAfterMouseClick(n.params.column,pe.touchStart)}),this.params.enableSorting&&this.addManagedListener(c,Es.EVENT_TAP,function(pe){d&&n.eMenu.contains(pe.touchStart.target)||n.sortController.progressSort(n.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return c.destroy()}),v&&this.addDestroyFunc(function(){return C.destroy()})}},i.prototype.workOutShowMenu=function(){var n=!this.gridOptionsWrapper.isSuppressMenuHide(),a=ni()&&n;return this.params.enableMenu&&!a},i.prototype.setMenu=function(){var n=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void X(this.eMenu);var a=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return n.showMenu(n.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",a)}},i.prototype.showMenu=function(n){n||(n=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,n,"columnMenu")},i.prototype.removeSortIcons=function(){X(this.eSortAsc),X(this.eSortDesc),X(this.eSortNone),X(this.eSortOrder)},i.prototype.workOutSort=function(){return this.params.enableSorting},i.prototype.setupSort=function(){var n=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var a=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Rt.EVENT_MOVING_CHANGED,function(){n.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(c){var d=n.params.column.isMoving(),v=(new Date).getTime();d||v-n.lastMovingChanged<50||n.params.progressSort(a?c.ctrlKey||c.metaKey:c.shiftKey)}),this.addManagedListener(this.params.column,Rt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,Ye.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},i.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var n=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",n||!this.params.column.isSortNone())}},i.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var n=this.params.column,a=this.sortController.getColumnsWithSortingOrdered(),c=a.indexOf(n),d=a.length>1,v=n.isSorting()&&d;Di(this.eSortOrder,v),c>=0?this.eSortOrder.innerHTML=(c+1).toString():j(this.eSortOrder)}},i.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,Rt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},i.prototype.onFilterChanged=function(){var n=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!n)},i.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',zl([ce("sortController")],i.prototype,"sortController",void 0),zl([ce("menuFactory")],i.prototype,"menuFactory",void 0),zl([Pn("eFilter")],i.prototype,"eFilter",void 0),zl([Pn("eSortAsc")],i.prototype,"eSortAsc",void 0),zl([Pn("eSortDesc")],i.prototype,"eSortDesc",void 0),zl([Pn("eSortNone")],i.prototype,"eSortNone",void 0),zl([Pn("eSortOrder")],i.prototype,"eSortOrder",void 0),zl([Pn("eMenu")],i.prototype,"eMenu",void 0),zl([Pn("eLabel")],i.prototype,"eLabel",void 0),zl([Pn("eText")],i.prototype,"eText",void 0),i}(ai),P4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},D1=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return P4(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){this.params=n,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},i.prototype.checkWarnings=function(){this.params.template&&Qn(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},i.prototype.setupExpandIcons=function(){var n=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var a=function(v){if(!$i(v)){var C=!n.params.columnGroup.isExpanded();n.columnModel.setColumnGroupOpened(n.params.columnGroup.getProvidedColumnGroup(),C,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,a),this.addTouchAndClickListeners(this.eOpenIcon,a);var c=function(v){Wi(v)};this.addManagedListener(this.eCloseIcon,"dblclick",c),this.addManagedListener(this.eOpenIcon,"dblclick",c),this.addManagedListener(this.getGui(),"dblclick",a),this.updateIconVisibility();var d=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(d,fr.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(d,fr.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},i.prototype.addTouchAndClickListeners=function(n,a){var c=new Es(n,!0);this.addManagedListener(c,Es.EVENT_TAP,a),this.addDestroyFunc(function(){return c.destroy()}),this.addManagedListener(n,"click",a)},i.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var a=this.params.columnGroup.isExpanded();Di(this.eOpenIcon,a),Di(this.eCloseIcon,!a)}else Di(this.eOpenIcon,!1),Di(this.eCloseIcon,!1)},i.prototype.addInIcon=function(n,a){var c=Gr(n,this.gridOptionsWrapper,null);c&&this.getRefElement(a).appendChild(c)},i.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Di(this.eOpenIcon,!1),void Di(this.eCloseIcon,!1)},i.prototype.setupLabel=function(){var n=this.params.displayName;if(ue(n)){var a=Co(n);this.getRefElement("agLabel").innerHTML=a}},i.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Pd([ce("columnModel")],i.prototype,"columnModel",void 0),Pd([Pn("agOpened")],i.prototype,"eOpenIcon",void 0),Pd([Pn("agClosed")],i.prototype,"eCloseIcon",void 0),i}(ai),Tv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ac=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Tv(i,u),i.prototype.isPopup=function(){return!0},i.prototype.setParentComponent=function(n){n.addCssClass("ag-has-popup"),u.prototype.setParentComponent.call(this,n)},i.prototype.destroy=function(){var n=this.parentComponent;n&&n.isAlive()&&n.getGui().classList.remove("ag-has-popup"),u.prototype.destroy.call(this)},i}(ai),xv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Wp=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return xv(i,u),i.prototype.init=function(n){this.params=n,this.focusAfterAttached=n.cellStartedEdit,this.eTextArea.setMaxLength(n.maxLength||200).setCols(n.cols||60).setRows(n.rows||10),ue(n.value)&&this.eTextArea.setValue(n.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},i.prototype.onKeyDown=function(n){var a=n.key;(a===Rn.LEFT||a===Rn.UP||a===Rn.RIGHT||a===Rn.DOWN||n.shiftKey&&a===Rn.ENTER)&&n.stopPropagation()},i.prototype.afterGuiAttached=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},i.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},i.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Pn("eTextArea")],i.prototype,"eTextArea",void 0),i}(Ac),A4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},jp=function(u){function i(){var n=u.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return n.startedByEnter=!1,n}return A4(i,u),i.prototype.init=function(n){var a=this;if(this.focusAfterAttached=n.cellStartedEdit,at(n.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=n.eventKey&&n.eventKey===Rn.ENTER;var c=!1;n.values.forEach(function(d){var v={value:d},C=a.valueFormatterService.formatValue(n.column,null,null,d);v.text=null!=C?C:d,a.eSelect.addOption(v),c=c||n.value===d}),c?this.eSelect.setValue(n.value,!0):n.values.length&&this.eSelect.setValue(n.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return n.stopEditing()})}},i.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},i.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},i.prototype.getValue=function(){return this.eSelect.getValue()},i.prototype.isPopup=function(){return!1},Yu([ce("valueFormatterService")],i.prototype,"valueFormatterService",void 0),Yu([Pn("eSelect")],i.prototype,"eSelect",void 0),i}(Ac),R4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),oc=function(u){function i(){var n=u.call(this)||this;return Qn(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),n}return R4(i,u),i.prototype.isPopup=function(){return!0},i}(jp),Ad=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),T1=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return Ad(i,u),i.prototype.init=function(n){this.params=n;var c,a=this.eInput;n.cellStartedEdit?(this.focusAfterAttached=!0,n.eventKey===Rn.BACKSPACE||n.eventKey===Rn.DELETE?c="":n.charPress?c=n.charPress:(c=this.getStartValue(n),n.eventKey!==Rn.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,c=this.getStartValue(n)),null!=c&&a.setValue(c,!0),this.addManagedListener(a.getGui(),"keydown",function(d){var v=d.key;(v===Rn.PAGE_UP||v===Rn.PAGE_DOWN)&&d.preventDefault()})},i.prototype.afterGuiAttached=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.eInput;if(a.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached){mn()||a.getFocusableElement().focus();var c=a.getInputElement();if(this.highlightAllOnFocus)c.select();else{var d=a.getValue(),v=ue(d)&&d.length||0;v&&c.setSelectionRange(v,v)}}},i.prototype.focusIn=function(){var n=this.eInput,a=n.getFocusableElement(),c=n.getInputElement();a.focus(),c.select()},i.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},i.prototype.getStartValue=function(n){return n.useFormatter||n.column.getColDef().refData?n.formatValue(n.value):n.value},i.prototype.isPopup=function(){return!1},i.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Pn("eInput")],i.prototype,"eInput",void 0),i}(Ac),Rd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mv=function(u){function i(){var n=u.call(this)||this;return Qn(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),n}return Rd(i,u),i.prototype.isPopup=function(){return!0},i}(T1),F4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pv=function(u){function i(){var n=u.call(this,i.TEMPLATE)||this;return n.refreshCount=0,n}return F4(i,u),i.prototype.init=function(n){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(n)},i.prototype.showDelta=function(n,a){var c=Math.abs(a),d=n.formatValue(c),v=ue(d)?d:c,C=a>=0;this.eDelta.innerHTML=C?"\u2191"+v:"\u2193"+v,this.eDelta.classList.toggle("ag-value-change-delta-up",C),this.eDelta.classList.toggle("ag-value-change-delta-down",!C)},i.prototype.setTimerToRemoveDelta=function(){var n=this;this.refreshCount++;var a=this.refreshCount;window.setTimeout(function(){a===n.refreshCount&&n.hideDeltaValue()},2e3)},i.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),j(this.eDelta)},i.prototype.refresh=function(n){var a=n.value;return a!==this.lastValue&&(ue(n.valueFormatted)?this.eValue.innerHTML=n.valueFormatted:ue(n.value)?this.eValue.innerHTML=a:j(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof a&&"number"==typeof this.lastValue&&this.showDelta(n,a-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=a,!0)},i.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([ce("filterManager")],i.prototype,"filterManager",void 0),i}(ai),I4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),L3=function(u){function i(){var n=u.call(this,i.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return I4(i,u),i.prototype.init=function(n){this.refresh(n)},i.prototype.addSlideAnimation=function(){var n=this;this.refreshCount++;var a=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=_t('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){a===n.refreshCount&&n.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){a===n.refreshCount&&(n.getGui().removeChild(n.ePrevious),n.ePrevious=null)},3e3)},i.prototype.refresh=function(n){var a=n.value;return at(a)&&(a=""),a!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=a,ue(n.valueFormatted)?this.eCurrent.innerHTML=n.valueFormatted:ue(n.value)?this.eCurrent.innerHTML=a:j(this.eCurrent),!0)},i.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([ce("filterManager")],i.prototype,"filterManager",void 0),i}(ai),pu=(()=>(function(u){u[u.Above=0]="Above",u[u.Below=1]="Below"}(pu||(pu={})),pu))(),_i=function(){function u(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=u.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=i}return u.prototype.setData=function(i){this.setDataCommon(i,!1)},u.prototype.updateData=function(i){this.setDataCommon(i,!0)},u.prototype.setDataCommon=function(i,n){var a=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var c=this.createDataChangedEvent(i,a,n);this.dispatchLocalEvent(c)},u.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},u.prototype.createDataChangedEvent=function(i,n,a){return{type:u.EVENT_DATA_CHANGED,node:this,oldData:n,newData:i,update:a}},u.prototype.createLocalRowEvent=function(i){return{type:i,node:this}},u.prototype.getRowIndexString=function(){return this.rowPinned===St.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===St.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},u.prototype.createDaemonNode=function(){var i=new u(this.beans);return i.id=this.id,i.data=this.data,i.daemon=!0,i.selected=this.selected,i.level=this.level,i},u.prototype.setDataAndId=function(i,n){var a=ue(this.id)?this.createDaemonNode():null,c=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(n),this.beans.selectionService.syncInRowNode(this,a),this.checkRowSelectable();var d=this.createDataChangedEvent(i,c,!1);this.dispatchLocalEvent(d)},u.prototype.checkRowSelectable=function(){var i=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!i||i(this))},u.prototype.setRowSelectable=function(i){this.selectable!==i&&(this.selectable=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_SELECTABLE_CHANGED)))},u.prototype.setId=function(i){var n=this.beans.gridOptionsWrapper.getRowIdFunc();if(n)if(this.data){var a=this.getGroupKeys(!0);this.id=n({api:this.beans.gridApi,columnApi:this.beans.columnApi,data:this.data,parentKeys:a.length>0?a:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(u.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+u.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=i},u.prototype.getGroupKeys=function(i){void 0===i&&(i=!1);var n=[],a=this;for(i&&(a=a.parent);a&&a.level>=0;)n.push(a.key),a=a.parent;return n.reverse(),n},u.prototype.isPixelInRange=function(i){return!(!ue(this.rowTop)||!ue(this.rowHeight))&&i>=this.rowTop&&i<this.rowTop+this.rowHeight},u.prototype.setFirstChild=function(i){this.firstChild!==i&&(this.firstChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_FIRST_CHILD_CHANGED)))},u.prototype.setLastChild=function(i){this.lastChild!==i&&(this.lastChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_LAST_CHILD_CHANGED)))},u.prototype.setChildIndex=function(i){this.childIndex!==i&&(this.childIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_CHILD_INDEX_CHANGED)))},u.prototype.setRowTop=function(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_TOP_CHANGED)),this.setDisplayed(null!==i))},u.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},u.prototype.setDisplayed=function(i){this.displayed!==i&&(this.displayed=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DISPLAYED_CHANGED)))},u.prototype.setDragging=function(i){this.dragging!==i&&(this.dragging=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DRAGGING_CHANGED)))},u.prototype.setHighlighted=function(i){i!==this.highlighted&&(this.highlighted=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HIGHLIGHT_CHANGED)))},u.prototype.setAllChildrenCount=function(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},u.prototype.setMaster=function(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_MASTER_CHANGED)))},u.prototype.setGroup=function(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_GROUP_CHANGED)))},u.prototype.setRowHeight=function(i,n){void 0===n&&(n=!1),this.rowHeight=i,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HEIGHT_CHANGED))},u.prototype.setRowAutoHeight=function(i,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=i,null!=i&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=ze(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},u.prototype.checkAutoHeights=function(){var i=!1,n=!0,a=0,c=this.__autoHeights;if(null!=c&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(C){var x=c[C.getId()];null!=x?(n=!1,x>a&&(a=x)):i=!0}),!i&&((n||a<10)&&(a=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),a!=this.rowHeight))){this.setRowHeight(a);var v=this.beans.rowModel;v.onRowHeightChanged&&v.onRowHeightChanged()}},u.prototype.setRowIndex=function(i){this.rowIndex!==i&&(this.rowIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ROW_INDEX_CHANGED)))},u.prototype.setUiLevel=function(i){this.uiLevel!==i&&(this.uiLevel=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_UI_LEVEL_CHANGED)))},u.prototype.setExpanded=function(i){if(this.expanded!==i){this.expanded=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(Ye.EVENT_ROW_GROUP_OPENED),{expanded:i});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},u.prototype.createGlobalRowEvent=function(i){return{type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},u.prototype.dispatchLocalEvent=function(i){this.eventService&&this.eventService.dispatchEvent(i)},u.prototype.setDataValue=function(i,n,a){var c=this.beans.columnModel.getPrimaryColumn(i),d=this.beans.valueService.getValue(c,this);this.beans.valueService.setValue(this,c,n,a),this.dispatchCellChangedEvent(c,n,d)},u.prototype.setGroupValue=function(i,n){var a=this.beans.columnModel.getGridColumn(i);at(this.groupData)&&(this.groupData={});var c=a.getColId(),d=this.groupData[c];d!==n&&(this.groupData[c]=n,this.dispatchCellChangedEvent(a,n,d))},u.prototype.setAggData=function(i){var n=this,a=mi([this.aggData,i]),c=this.aggData;this.aggData=i,this.eventService&&a.forEach(function(d){var v=n.beans.columnModel.getGridColumn(d);n.dispatchCellChangedEvent(v,n.aggData?n.aggData[d]:void 0,c?c[d]:void 0)})},u.prototype.updateHasChildren=function(){var i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;i!==this.__hasChildren&&(this.__hasChildren=!!i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HAS_CHILDREN_CHANGED)))},u.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},u.prototype.isEmptyRowGroupNode=function(){return this.group&&De(this.childrenAfterGroup)},u.prototype.dispatchCellChangedEvent=function(i,n,a){this.dispatchLocalEvent({type:u.EVENT_CELL_CHANGED,node:this,column:i,newValue:n,oldValue:a})},u.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},u.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},u.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},u.prototype.depthFirstSearch=function(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(n){return n.depthFirstSearch(i)}),i(this)},u.prototype.calculateSelectedFromChildren=function(){var i=!1,n=!1,a=!1;if(this.childrenAfterGroup)for(var d=0;d<this.childrenAfterGroup.length;d++){var v=this.childrenAfterGroup[d];if(v.selectable)switch(v.isSelected()){case!0:i=!0;break;case!1:n=!0;break;default:a=!0}}this.selectThisNode(a?void 0:!(!i||n)||!(!i&&n)&&void 0)},u.prototype.setSelectedInitialValue=function(i){this.selected=i},u.prototype.setSelected=function(i,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1),this.setSelectedParams({newValue:i,clearSelection:n,suppressFinishActions:a,rangeSelect:!1})},u.prototype.isRowPinned=function(){return this.rowPinned===St.PINNED_TOP||this.rowPinned===St.PINNED_BOTTOM},u.prototype.setSelectedParams=function(i){var n=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),a=!0===i.newValue,c=!0===i.clearSelection,d=!0===i.suppressFinishActions,v=!0===i.rangeSelect,C=n&&!0===i.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(i);if(v&&this.beans.selectionService.getLastSelectedNode()){var x=this.beans.selectionService.getLastSelectedNode()!==this,I=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(x&&I){var U=this.doRowRangeSelection(i.newValue);return this.beans.selectionService.setLastSelectedNode(this),U}}var pe=0;return C&&this.group||this.selectThisNode(a)&&pe++,n&&this.group&&(pe+=this.selectChildNodes(a,C)),d||(a&&(c||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(pe+=this.beans.selectionService.clearOtherNodes(this)),pe>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:Ye.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),a&&this.beans.selectionService.setLastSelectedNode(this)),pe},u.prototype.doRowRangeSelection=function(i){var n=this;void 0===i&&(i=!0);var a=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),c=this.beans.selectionService.getLastSelectedNode(),d=this.beans.rowModel.getNodesInRangeForSelection(this,c),v=0;return d.forEach(function(x){x.group&&a||!1===i&&n===x||x.selectThisNode(i)&&v++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:Ye.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),v},u.prototype.isParentOfNode=function(i){for(var n=this.parent;n;){if(n===i)return!0;n=n.parent}return!1},u.prototype.selectThisNode=function(i){if(!this.selectable&&i||this.selected===i)return!1;this.selected=i,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_ROW_SELECTED));var c=this.createGlobalRowEvent(Ye.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(c),!0},u.prototype.selectChildNodes=function(i,n){var a=n?this.childrenAfterFilter:this.childrenAfterGroup;if(at(a))return 0;for(var c=0,d=0;d<a.length;d++)c+=a[d].setSelectedParams({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n});return c},u.prototype.addEventListener=function(i,n){this.eventService||(this.eventService=new ar),this.eventService.addEventListener(i,n)},u.prototype.removeEventListener=function(i,n){!this.eventService||(this.eventService.removeEventListener(i,n),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},u.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_ENTER))},u.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_LEAVE))},u.prototype.getFirstChildOfFirstChild=function(i){for(var n=this,a=!0,c=!1,d=null;a&&!c;){var v=n.parent;ue(v)&&n.firstChild?v.rowGroupColumn===i&&(c=!0,d=v):a=!1,n=v}return c?d:null},u.prototype.isFullWidthCell=function(){var i=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!i&&i(this)},u.prototype.getRoute=function(){if(null!=this.key){for(var i=[],n=this;null!=n.key;)i.push(n.key),n=n.parent;return i.reverse()}},u.ID_PREFIX_ROW_GROUP="row-group-",u.ID_PREFIX_TOP_PINNED="t-",u.ID_PREFIX_BOTTOM_PINNED="b-",u.OBJECT_ID_SEQUENCE=0,u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_DATA_CHANGED="dataChanged",u.EVENT_CELL_CHANGED="cellChanged",u.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",u.EVENT_MASTER_CHANGED="masterChanged",u.EVENT_GROUP_CHANGED="groupChanged",u.EVENT_MOUSE_ENTER="mouseEnter",u.EVENT_MOUSE_LEAVE="mouseLeave",u.EVENT_HEIGHT_CHANGED="heightChanged",u.EVENT_TOP_CHANGED="topChanged",u.EVENT_DISPLAYED_CHANGED="displayedChanged",u.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",u.EVENT_LAST_CHILD_CHANGED="lastChildChanged",u.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",u.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",u.EVENT_SELECTABLE_CHANGED="selectableChanged",u.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",u.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",u.EVENT_DRAGGING_CHANGED="draggingChanged",u}(),M1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Fd=function(u){function i(){return u.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return M1(i,u),i.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},i.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},i.prototype.onDataChanged=function(){this.onSelectionChanged()},i.prototype.onSelectableChanged=function(){this.showOrHideSelect()},i.prototype.onSelectionChanged=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),a=this.rowNode.isSelected(),c=void 0===a?n("ariaIndeterminate","indeterminate"):!0===a?n("ariaChecked","checked"):n("ariaUnchecked","unchecked"),d=n("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(a,!0),this.eCheckbox.setInputAriaLabel(d+" ("+c+")")},i.prototype.onCheckedClicked=function(n){var a=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:n.shiftKey,groupSelectsFiltered:a})},i.prototype.onUncheckedClicked=function(n){var a=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:n.shiftKey,groupSelectsFiltered:a})},i.prototype.init=function(n){var a=this;if(this.rowNode=n.rowNode,this.column=n.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(C){return Wi(C)}),this.addGuiEventListener("dblclick",function(C){return Wi(C)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(C){var x=a.eCheckbox.getValue();void 0===a.eCheckbox.getPreviousValue()||void 0===x?0===a.onUncheckedClicked(C||{})&&a.onCheckedClicked(C):x?a.onCheckedClicked(C):a.onUncheckedClicked(C||{})}),this.addManagedListener(this.rowNode,_i.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var v=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,v),this.addManagedListener(this.rowNode,_i.EVENT_DATA_CHANGED,v),this.addManagedListener(this.rowNode,_i.EVENT_CELL_CHANGED,v),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},i.prototype.showOrHideSelect=function(){var n=this.rowNode.selectable;n&&this.checkboxCallbackExists()&&(n=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(n)},i.prototype.checkboxCallbackExists=function(){var n=this.column?this.column.getColDef():null;return!!n&&"function"==typeof n.checkboxSelection},Hl([Pn("eCheckbox")],i.prototype,"eCheckbox",void 0),Hl([Gt],i.prototype,"postConstruct",null),i}(ai),wa=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Sa=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},P1=function(u){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&u[i],a=0;if(n)return n.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&a>=u.length&&(u=void 0),{value:u&&u[a++],done:!u}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Qs=(()=>(function(u){u[u.ToolPanel=0]="ToolPanel",u[u.HeaderCell=1]="HeaderCell",u[u.RowDrag=2]="RowDrag",u[u.ChartPanel=3]="ChartPanel"}(Qs||(Qs={})),Qs))(),Rc=(()=>(function(u){u[u.Up=0]="Up",u[u.Down=1]="Down"}(Rc||(Rc={})),Rc))(),Gl=(()=>(function(u){u[u.Left=0]="Left",u[u.Right=1]="Right"}(Gl||(Gl={})),Gl))(),La=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.dragSourceAndParamsList=[],a.dropTargets=[],a}var n;return wa(i,u),n=i,i.prototype.init=function(){this.ePinnedIcon=fi("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=fi("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=fi("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=fi("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=fi("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=fi("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=fi("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=fi("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=fi("dropNotAllowed",this.gridOptionsWrapper,null)},i.prototype.addDragSource=function(a,c){void 0===c&&(c=!1);var d={eElement:a.eElement,dragStartPixels:a.dragStartPixels,onDragStart:this.onDragStart.bind(this,a),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:d,dragSource:a}),this.dragService.addDragSource(d,c)},i.prototype.removeDragSource=function(a){var c=this.dragSourceAndParamsList.find(function(d){return d.dragSource===a});c&&(this.dragService.removeDragSource(c.params),zn(this.dragSourceAndParamsList,c))},i.prototype.clearDragSourceParamsList=function(){var a=this;this.dragSourceAndParamsList.forEach(function(c){return a.dragService.removeDragSource(c.params)}),this.dragSourceAndParamsList.length=0},i.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},i.prototype.onDragStart=function(a,c){this.dragging=!0,this.dragSource=a,this.eventLastTime=c,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},i.prototype.onDragStop=function(a){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var c=this.createDropTargetEvent(this.lastDropTarget,a,null,null,!1);this.lastDropTarget.onDragStop(c)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},i.prototype.onDragging=function(a,c){var d=this,v=this.getHorizontalDirection(a),C=this.getVerticalDirection(a);this.eventLastTime=a,this.positionGhost(a);var x=this.dropTargets.filter(function(_e){return d.isMouseOnDropTarget(a,_e)}),I=x.length,U=null;if(I>0&&(U=1===I?x[0]:x.reduce(function(_e,it){if(!_e)return it;var xt=_e.getContainer(),Ut=it.getContainer();return xt.contains(Ut)?it:_e})),U!==this.lastDropTarget)this.leaveLastTargetIfExists(a,v,C,c),this.enterDragTargetIfExists(U,a,v,C,c),this.lastDropTarget=U;else if(U&&U.onDragging){var pe=this.createDropTargetEvent(U,a,v,C,c);U.onDragging(pe)}},i.prototype.enterDragTargetIfExists=function(a,c,d,v,C){if(a){if(a.onDragEnter){var x=this.createDropTargetEvent(a,c,d,v,C);a.onDragEnter(x)}this.setGhostIcon(a.getIconName?a.getIconName():null)}},i.prototype.leaveLastTargetIfExists=function(a,c,d,v){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var C=this.createDropTargetEvent(this.lastDropTarget,a,c,d,v);this.lastDropTarget.onDragLeave(C)}this.setGhostIcon(null)}},i.prototype.getAllContainersFromDropTarget=function(a){var c=a.getSecondaryContainers?a.getSecondaryContainers():null,d=[[a.getContainer()]];return c?d.concat(c):d},i.prototype.allContainersIntersect=function(a,c){var d,v;try{for(var C=P1(c),x=C.next();!x.done;x=C.next()){var U=x.value.getBoundingClientRect();if(0===U.width||0===U.height)return!1;if(!(a.clientX>=U.left&&a.clientX<U.right&&a.clientY>=U.top&&a.clientY<U.bottom))return!1}}catch(it){d={error:it}}finally{try{x&&!x.done&&(v=C.return)&&v.call(C)}finally{if(d)throw d.error}}return!0},i.prototype.isMouseOnDropTarget=function(a,c){var d,v,C=this.getAllContainersFromDropTarget(c),x=!1;try{for(var I=P1(C),U=I.next();!U.done;U=I.next())if(this.allContainersIntersect(a,U.value)){x=!0;break}}catch(_e){d={error:_e}}finally{try{U&&!U.done&&(v=I.return)&&v.call(I)}finally{if(d)throw d.error}}return x&&c.isInterestedIn(this.dragSource.type)},i.prototype.addDropTarget=function(a){this.dropTargets.push(a)},i.prototype.removeDropTarget=function(a){this.dropTargets=this.dropTargets.filter(function(c){return c.getContainer()!==a.getContainer()})},i.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(a){return a.external})},i.prototype.findExternalZone=function(a){return this.dropTargets.filter(function(d){return d.external}).find(function(d){return d.getContainer()===a.getContainer()})||null},i.prototype.getHorizontalDirection=function(a){var c=this.eventLastTime&&this.eventLastTime.clientX,d=a.clientX;return c===d?null:c>d?Gl.Left:Gl.Right},i.prototype.getVerticalDirection=function(a){var c=this.eventLastTime&&this.eventLastTime.clientY,d=a.clientY;return c===d?null:c>d?Rc.Up:Rc.Down},i.prototype.createDropTargetEvent=function(a,c,d,v,C){var x=a.getContainer(),I=x.getBoundingClientRect(),U=this;return{event:c,x:c.clientX-I.left,y:c.clientY-I.top,vDirection:v,hDirection:d,dragSource:U.dragSource,fromNudge:C,dragItem:U.dragItem,api:U.gridApi,columnApi:U.columnApi,dropZoneTarget:x}},i.prototype.positionGhost=function(a){var c=this.eGhost;if(c){var v=c.getBoundingClientRect().height,C=io()-2,x=mr()-2,I=a.pageY-v/2,U=a.pageX-10,pe=this.gridOptionsWrapper.getDocument(),_e=pe.defaultView||window,it=_e.pageYOffset||pe.documentElement.scrollTop,xt=_e.pageXOffset||pe.documentElement.scrollLeft;C>0&&U+c.clientWidth>C+xt&&(U=C+xt-c.clientWidth),U<0&&(U=0),x>0&&I+c.clientHeight>x+it&&(I=x+it-c.clientHeight),I<0&&(I=0),c.style.left=U+"px",c.style.top=I+"px"}},i.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},i.prototype.createGhost=function(){this.eGhost=_t(n.GHOST_TEMPLATE);var a=this.environment.getTheme().theme;a&&this.eGhost.classList.add(a),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var c=this.eGhost.querySelector(".ag-dnd-ghost-label"),d=this.dragSource.dragItemName;rt(d)&&(d=d()),c.innerHTML=Co(d)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var v=this.gridOptionsWrapper.getDocument(),C=null;try{C=v.fullscreenElement}catch(x){}finally{C||(C=v.querySelector("body"))}this.eGhostParent=C,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},i.prototype.setGhostIcon=function(a,c){void 0===c&&(c=!1),j(this.eGhostIcon);var d=null;switch(a||(a=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),a){case n.ICON_PINNED:d=this.ePinnedIcon;break;case n.ICON_MOVE:d=this.eMoveIcon;break;case n.ICON_LEFT:d=this.eLeftIcon;break;case n.ICON_RIGHT:d=this.eRightIcon;break;case n.ICON_GROUP:d=this.eGroupIcon;break;case n.ICON_AGGREGATE:d=this.eAggregateIcon;break;case n.ICON_PIVOT:d=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:d=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:d=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",c),(d!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&d&&this.eGhostIcon.appendChild(d)},i.ICON_PINNED="pinned",i.ICON_MOVE="move",i.ICON_LEFT="left",i.ICON_RIGHT="right",i.ICON_GROUP="group",i.ICON_AGGREGATE="aggregate",i.ICON_PIVOT="pivot",i.ICON_NOT_ALLOWED="notAllowed",i.ICON_HIDE="hide",i.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Sa([ce("dragService")],i.prototype,"dragService",void 0),Sa([ce("environment")],i.prototype,"environment",void 0),Sa([ce("columnApi")],i.prototype,"columnApi",void 0),Sa([ce("gridApi")],i.prototype,"gridApi",void 0),Sa([Gt],i.prototype,"init",null),Sa([vn],i.prototype,"clearDragSourceParamsList",null),n=Sa([bn("dragAndDropService")],i)}(yn),Fc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),fu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},A1=function(u){function i(n,a,c,d,v,C){var x=u.call(this)||this;return x.cellValueFn=n,x.rowNode=a,x.column=c,x.customGui=d,x.dragStartPixels=v,x.suppressVisibilityChange=C,x.dragSource=null,x}return Fc(i,u),i.prototype.isCustomGui=function(){return null!=this.customGui},i.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Gr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var n=this.beans.gridOptionsWrapper.isRowDragManaged()?new N4(this,this.beans,this.rowNode,this.column):new Av(this,this.beans,this.rowNode,this.column);this.createManagedBean(n,this.beans.context)}},i.prototype.setDragElement=function(n,a){this.setTemplateFromElement(n),this.addDragSource(a)},i.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var a=this.beans.selectionService.getSelectedNodes();return-1!==a.indexOf(this.rowNode)?a.length:1},i.prototype.checkCompatibility=function(){var n=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&n&&Qn(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},i.prototype.addDragSource=function(n){var a=this;void 0===n&&(n=4),this.dragSource&&this.removeDragSource();var c={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},d=this.column&&this.column.getColDef().rowDragText,v=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:Qs.RowDrag,eElement:this.getGui(),dragItemName:function(){var C=a.getSelectedCount();return d?d(c,C):1===C?a.cellValueFn():C+" "+v("rowDragRows","rows")},getDragItem:function(){return c},dragStartPixels:n,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},i.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},fu([ce("beans")],i.prototype,"beans",void 0),fu([Gt],i.prototype,"postConstruct",null),fu([vn],i.prototype,"removeDragSource",null),i}(ai),R1=function(u){function i(n,a,c){var d=u.call(this)||this;return d.parent=n,d.rowNode=a,d.column=c,d}return Fc(i,u),i.prototype.setDisplayedOrVisible=function(n){if(n)this.parent.setDisplayed(!1);else{var a=!0,c=!1;this.column&&(a=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),c=rt(this.column.getColDef().rowDrag)),c?(this.parent.setDisplayed(!0),this.parent.setVisible(a)):(this.parent.setDisplayed(a),this.parent.setVisible(!0))}},i}(yn),Av=function(u){function i(n,a,c,d){var v=u.call(this,n,c,d)||this;return v.beans=a,v}return Fc(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ye.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var n=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(n)},fu([Gt],i.prototype,"postConstruct",null),i}(R1),N4=function(u){function i(n,a,c,d){var v=u.call(this,n,c,d)||this;return v.beans=a,v}return Fc(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Ye.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ye.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ye.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var a=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),c=a&&a.shouldPreventRowMove(),d=this.beans.gridOptionsWrapper.isSuppressRowDrag(),v=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(c&&!v||d)},fu([Gt],i.prototype,"postConstruct",null),i}(R1),Yp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Kp=function(){return Kp=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Kp.apply(this,arguments)},Wh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$p=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Yp(i,u),i.prototype.init=function(n,a,c,d,v,C,x){this.params=x,this.eGui=a,this.eCheckbox=c,this.eExpanded=d,this.eContracted=v,this.comp=n,this.compClass=C;var I=this.isTopLevelFooter(),U=this.isEmbeddedRowMismatch(),pe=null==x.value,_e=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var it=x.node;it.footer&&(_e=(x.colDef&&x.colDef.showRowGroup)!==(it.rowGroupColumn&&it.rowGroupColumn.getColId()))}this.cellIsBlank=!I&&(U||pe||_e),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},i.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var n=this.params.colDef;if(null==n||!0===n.showRowGroup)return!0;var c=this.columnModel.getRowGroupColumns();return!c||0===c.length||c[0].getId()===n.showRowGroup},i.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var n=this.params.pinned===St.PINNED_LEFT,a=this.params.pinned===St.PINNED_RIGHT,c=!n&&!a;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!a:!c:this.columnModel.isPinningLeft()?!n:!c},i.prototype.findDisplayedGroupNode=function(){var n=this.params.column,a=this.params.node;if(this.showingValueForOpenedParent)for(var c=a.parent;null!=c;){if(c.rowGroupColumn&&n.isRowGroupDisplayed(c.rowGroupColumn.getId())){this.displayedGroupNode=c;break}c=c.parent}at(this.displayedGroupNode)&&(this.displayedGroupNode=a)},i.prototype.setupShowingValueForOpenedParent=function(){var n=this.params.node,a=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(n.groupData){if(null!=n.rowGroupColumn){var d=n.rowGroupColumn.getId();if(a.isRowGroupDisplayed(d))return void(this.showingValueForOpenedParent=!1)}var C=null!=n.groupData[a.getId()];this.showingValueForOpenedParent=C}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},i.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},i.prototype.addGroupValue=function(){var n=this.adjustParamsWithDetailsFromRelatedColumn(),a=this.getInnerCompDetails(n),c=n.valueFormatted;this.comp.setInnerRenderer(a,null!=c?c:n.value)},i.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var n=this.displayedGroupNode.rowGroupColumn,a=this.params.column;if(!n)return this.params;if(null!=a&&!a.isRowGroupDisplayed(n.getId()))return this.params;var v=this.params,C=this.params,pe=this.valueFormatterService.formatValue(n,C.node,C.scope,C.value);return Kp(Kp({},v),{valueFormatted:pe})},i.prototype.addFooterValue=function(){var n=this.params.footerValueGetter,a="";if(n){var c=Zt(this.params);c.value=this.params.value,"function"==typeof n?a=n(c):"string"==typeof n?a=this.expressionService.evaluate(n,c):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else a="Total "+(null!=this.params.value?this.params.value:"");var d=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(d,a)},i.prototype.getInnerCompDetails=function(n){var a=this;if(n.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,n);var c=this.userComponentFactory.getInnerRendererDetails(n,n),d=function(U){return U&&U.componentClass==a.compClass};if(c&&!d(c))return c;var v=this.displayedGroupNode.rowGroupColumn,C=v?v.getColDef():void 0;if(C){var x=this.userComponentFactory.getCellRendererDetails(C,n);if(x&&!d(x))return x;if(d(x)&&C.cellRendererParams&&C.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(C.cellRendererParams,n)}},i.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,_i.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},i.prototype.updateChildCount=function(){var n=this.displayedGroupNode.allChildrenCount,a=this.isShowRowGroupForThisRow();this.comp.setChildCount(a&&null!=n&&n>=0?"("+n+")":"")},i.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var n=this.displayedGroupNode.rowGroupColumn;if(!n)return!1;var a=this.params.column;return null==a||a.isRowGroupDisplayed(n.getId())},i.prototype.addExpandAndContract=function(){var n=this.params,a=Gr("groupExpanded",this.gridOptionsWrapper,null),c=Gr("groupContracted",this.gridOptionsWrapper,null);a&&this.eExpanded.appendChild(a),c&&this.eContracted.appendChild(c);var d=n.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(d,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(d,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,_i.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var v=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,_i.EVENT_ALL_CHILDREN_COUNT_CHANGED,v),this.addManagedListener(this.displayedGroupNode,_i.EVENT_MASTER_CHANGED,v),this.addManagedListener(this.displayedGroupNode,_i.EVENT_GROUP_CHANGED,v),this.addManagedListener(this.displayedGroupNode,_i.EVENT_HAS_CHILDREN_CHANGED,v)},i.prototype.onExpandClicked=function(n){$i(n)||(Wi(n),this.onExpandOrContract())},i.prototype.onExpandOrContract=function(){var n=this.displayedGroupNode;n.setExpanded(!n.expanded)},i.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var n=this.displayedGroupNode,a=this.columnModel.isPivotMode()&&n.leafGroup;if(!n.isExpandable()||n.footer||a)return!1;var d=this.params.column;return null==d||"string"!=typeof d.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},i.prototype.showExpandAndContractIcons=function(){var n=this,c=n.displayedGroupNode,d=n.columnModel,v=n.params.node,C=this.isExpandable();if(C){var x=!!this.showingValueForOpenedParent||v.expanded;this.comp.setExpandedDisplayed(x),this.comp.setContractedDisplayed(!x)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var I=d.isPivotMode(),U=I&&c.leafGroup,pe=C&&!U,_e=v.footer&&-1===v.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",pe),this.comp.addOrRemoveCssClass("ag-row-group",pe),I?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",U):_e||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!pe)},i.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},i.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,_i.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},i.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var n=this.params,a=n.node,c=!!n.colDef,d=this.gridOptionsWrapper.isTreeData(),C=!c||d||!0===n.colDef.showRowGroup?a.uiLevel:0;n.padding>=0&&Qn(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+C,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},i.prototype.addFullWidthRowDraggerIfNeeded=function(){var n=this;if(this.params.fullWidth&&this.params.rowDrag){var a=new A1(function(){return n.params.value},this.params.node);this.createManagedBean(a,this.context),this.eGui.insertAdjacentElement("afterbegin",a.getGui())}},i.prototype.isUserWantsSelected=function(){var n=this.params.checkbox;return"function"==typeof n?n(this.params):!0===n},i.prototype.addCheckboxIfNeeded=function(){var n=this,a=this.displayedGroupNode,c=this.isUserWantsSelected()&&!a.footer&&!a.rowPinned&&!a.detail;if(c){var d=new Fd;this.getContext().createBean(d),d.init({rowNode:a,column:this.params.column}),this.eCheckbox.appendChild(d.getGui()),this.addDestroyFunc(function(){return n.getContext().destroyBean(d)})}this.comp.setCheckboxVisible(c)},i.prototype.onKeyDown=function(n){n.key!==Rn.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract()},i.prototype.onCellDblClicked=function(n){$i(n)||mo(this.eExpanded,n)||mo(this.eContracted,n)||this.onExpandOrContract()},Wh([ce("expressionService")],i.prototype,"expressionService",void 0),Wh([ce("valueFormatterService")],i.prototype,"valueFormatterService",void 0),Wh([ce("columnModel")],i.prototype,"columnModel",void 0),Wh([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Wh([ce("gridOptions")],i.prototype,"gridOptions",void 0),i}(yn),qp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ld=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Lc=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return qp(i,u),i.prototype.init=function(n){var a=this,c={setInnerRenderer:function(x,I){return a.setRenderDetails(x,I)},setChildCount:function(x){return a.eChildCount.innerHTML=x},addOrRemoveCssClass:function(x,I){return a.addOrRemoveCssClass(x,I)},setContractedDisplayed:function(x){return Di(a.eContracted,x)},setExpandedDisplayed:function(x){return Di(a.eExpanded,x)},setCheckboxVisible:function(x){return a.eCheckbox.classList.toggle("ag-invisible",!x)}},d=this.createManagedBean(new $p),v=!n.colDef,C=this.getGui();d.init(c,C,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,n),v&&ro(C,"gridcell")},i.prototype.setRenderDetails=function(n,a){var c=this;if(n){var d=n.newAgStackInstance();if(!d)return;d.then(function(v){if(v){var C=function(){return c.context.destroyBean(v)};c.isAlive()?(c.eValue.appendChild(v.getGui()),c.addDestroyFunc(C)):C()}})}else this.eValue.innerText=a},i.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),u.prototype.destroy.call(this)},i.prototype.refresh=function(){return!1},i.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Ld([Pn("eExpanded")],i.prototype,"eExpanded",void 0),Ld([Pn("eContracted")],i.prototype,"eContracted",void 0),Ld([Pn("eCheckbox")],i.prototype,"eCheckbox",void 0),Ld([Pn("eValue")],i.prototype,"eValue",void 0),Ld([Pn("eChildCount")],i.prototype,"eChildCount",void 0),i}(ai),k4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ho=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Rv=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return k4(i,u),i.prototype.init=function(n){n.node.failedLoad?this.setupFailed():this.setupLoading()},i.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},i.prototype.setupLoading=function(){var n=Gr("groupLoading",this.gridOptionsWrapper,null);n&&this.eLoadingIcon.appendChild(n);var a=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=a("loadingOoo","Loading")},i.prototype.refresh=function(n){return!1},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Ho([Pn("eLoadingIcon")],i.prototype,"eLoadingIcon",void 0),Ho([Pn("eLoadingText")],i.prototype,"eLoadingText",void 0),i}(ai),z4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jh=function(u){function i(){return u.call(this)||this}return z4(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){var a=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():i.DEFAULT_LOADING_OVERLAY_TEMPLATE,c=this.gridOptionsWrapper.getLocaleTextFunc(),d=a.replace("[LOADING...]",c("loadingOoo","Loading..."));this.setTemplate(d)},i.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',i}(ai),F1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),V4=function(u){function i(){return u.call(this)||this}return F1(i,u),i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.init=function(n){var a=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():i.DEFAULT_NO_ROWS_TEMPLATE,c=this.gridOptionsWrapper.getLocaleTextFunc(),d=a.replace("[NO_ROWS_TO_SHOW]",c("noRowsToShow","No Rows To Show"));this.setTemplate(d)},i.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',i}(ai),Xp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),H4=function(u){function i(){return u.call(this,'<div class="ag-tooltip"></div>')||this}return Xp(i,u),i.prototype.init=function(n){var a=n.value;this.getGui().innerHTML=Co(a)},i}(Ac),G4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ic=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.agGridDefaults={agDateInput:zp,agColumnHeader:Vl,agColumnGroupHeader:D1,agTextColumnFloatingFilter:Bp,agNumberColumnFloatingFilter:x4,agDateColumnFloatingFilter:D4,agReadOnlyFloatingFilter:m1,agAnimateShowChangeCellRenderer:Pv,agAnimateSlideCellRenderer:L3,agGroupCellRenderer:Lc,agGroupRowRenderer:Lc,agLoadingCellRenderer:Rv,agCellEditor:T1,agTextCellEditor:T1,agSelectCellEditor:jp,agPopupTextCellEditor:Mv,agPopupSelectCellEditor:oc,agLargeTextCellEditor:Wp,agTextColumnFilter:Gp,agNumberColumnFilter:b1,agDateColumnFilter:uu,agLoadingOverlay:jh,agNoRowsOverlay:V4,agTooltipComponent:H4},n.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},n.jsComps={},n.fwComps={},n}return G4(i,u),i.prototype.init=function(){var n=this;null!=this.gridOptions.components&&qe(this.gridOptions.components,function(a,c){return n.registerJsComponent(a,c)}),null!=this.gridOptions.frameworkComponents&&qe(this.gridOptions.frameworkComponents,function(a,c){return n.registerFwComponent(a,c)})},i.prototype.registerDefaultComponent=function(n,a){var c=this.translateIfDeprecated(n);this.agGridDefaults[c]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[c]=a},i.prototype.registerJsComponent=function(n,a){var c=this.translateIfDeprecated(n);this.fwComps[c]?console.error("Trying to register a component that you have already registered for frameworks: "+c):this.jsComps[c]=a},i.prototype.registerFwComponent=function(n,a){Qn(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var d=this.translateIfDeprecated(n);this.fwComps[d]=a},i.prototype.retrieve=function(n){var a=this.translateIfDeprecated(n),c=function(U,pe){return{componentFromFramework:pe,component:U}},d=this.getFrameworkOverrides().frameworkComponent(a);if(null!=d)return c(d,!0);var v=this.fwComps[a];if(v)return c(v,!0);var C=this.jsComps[a];if(C)return c(C,this.getFrameworkOverrides().isFrameworkComponent(C));var I=this.agGridDefaults[a];return I?c(I,!1):(Object.keys(this.agGridDefaults).indexOf(a)<0&&console.warn("AG Grid: Looking for component ["+a+"] but it wasn't found."),null)},i.prototype.translateIfDeprecated=function(n){var a=this.agDeprecatedNames[n];return null!=a?(Qn(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+a.propertyHolder+":"+n+" to "+a.propertyHolder+":"+a.newComponentName)},"DEPRECATE_COMPONENT_"+n),a.newComponentName):n},Zp([ce("gridOptions")],i.prototype,"gridOptions",void 0),Zp([ce("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Zp([Gt],i.prototype,"init",null),Zp([bn("userComponentRegistry")],i)}(yn),I3={propertyName:"dateComponent",cellRenderer:!1},Uh={propertyName:"headerComponent",cellRenderer:!1},cs={propertyName:"headerGroupComponent",cellRenderer:!1},Nc={propertyName:"cellRenderer",cellRenderer:!0},Fv={propertyName:"cellEditor",cellRenderer:!1},L1={propertyName:"innerRenderer",cellRenderer:!0},Ko={propertyName:"loadingOverlayComponent",cellRenderer:!1},Yh={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Id={propertyName:"tooltipComponent",cellRenderer:!1},$u={propertyName:"filter",cellRenderer:!1},Qp={propertyName:"floatingFilterComponent",cellRenderer:!1},Xa={propertyName:"toolPanel",cellRenderer:!1},un={propertyName:"statusPanel",cellRenderer:!1},Lv={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Jp={propertyName:"loadingCellRenderer",cellRenderer:!0},Nd={propertyName:"groupRowRenderer",cellRenderer:!0},Jo={propertyName:"detailCellRenderer",cellRenderer:!0},Kh=function(){function u(){}return u.getFloatingFilterType=function(i){return this.filterToFloatingFilterMapping[i]},u.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},u}(),ac=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Bl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},us=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return ac(i,u),i.prototype.getHeaderCompDetails=function(n,a){return this.getCompDetails(n,Uh,"agColumnHeader",a)},i.prototype.getHeaderGroupCompDetails=function(n){var a=n.columnGroup.getColGroupDef();return this.getCompDetails(a,cs,"agColumnGroupHeader",n)},i.prototype.getFullWidthCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,Lv,null,n,!0)},i.prototype.getFullWidthLoadingCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,Jp,"agLoadingCellRenderer",n,!0)},i.prototype.getFullWidthGroupCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,Nd,"agGroupRowRenderer",n,!0)},i.prototype.getFullWidthDetailCellRendererDetails=function(n){return this.getCompDetails(this.gridOptions,Jo,"agDetailCellRenderer",n,!0)},i.prototype.getInnerRendererDetails=function(n,a){return this.getCompDetails(n,L1,null,a)},i.prototype.getFullWidthGroupRowInnerCellRenderer=function(n,a){return this.getCompDetails(n,L1,null,a)},i.prototype.getCellRendererDetails=function(n,a){return this.getCompDetails(n,Nc,null,a)},i.prototype.getCellEditorDetails=function(n,a){return this.getCompDetails(n,Fv,"agCellEditor",a,!0)},i.prototype.getFilterDetails=function(n,a,c){return this.getCompDetails(n,$u,c,a,!0)},i.prototype.getDateCompDetails=function(n){return this.getCompDetails(this.gridOptions,I3,"agDateInput",n,!0)},i.prototype.getLoadingOverlayCompDetails=function(n){return this.getCompDetails(this.gridOptions,Ko,"agLoadingOverlay",n,!0)},i.prototype.getNoRowsOverlayCompDetails=function(n){return this.getCompDetails(this.gridOptions,Yh,"agNoRowsOverlay",n,!0)},i.prototype.getTooltipCompDetails=function(n){return this.getCompDetails(n.colDef,Id,"agTooltipComponent",n,!0)},i.prototype.getSetFilterCellRendererDetails=function(n,a){return this.getCompDetails(n,Nc,null,a)},i.prototype.getFloatingFilterCompDetails=function(n,a,c){return this.getCompDetails(n,Qp,c,a)},i.prototype.getToolPanelCompDetails=function(n,a){return this.getCompDetails(n,Xa,null,a,!0)},i.prototype.getStatusPanelCompDetails=function(n,a){return this.getCompDetails(n,un,null,a,!0)},i.prototype.getCompDetails=function(n,a,c,d,v){var C=this;void 0===v&&(v=!1);var x=a.propertyName,I=a.cellRenderer,U=this.getCompKeys(n,a,d),pe=U.compName,_e=U.jsComp,it=U.fwComp,xt=U.paramsFromSelector,Ut=U.popupFromSelector,sn=U.popupPositionFromSelector,qt=function(Ar){var hi=C.userComponentRegistry.retrieve(Ar);hi&&(_e=hi.componentFromFramework?void 0:hi.component,it=hi.componentFromFramework?hi.component:void 0)};if(null!=pe&&qt(pe),null==_e&&null==it&&null!=c&&qt(c),_e&&I&&!this.agComponentUtils.doesImplementIComponent(_e)&&(_e=this.agComponentUtils.adaptFunction(x,_e)),_e||it){var En=this.mergeParamsWithApplicationProvidedParams(n,a,d,xt),xn=null==_e,er=_e||it;return{componentFromFramework:xn,componentClass:er,params:En,type:a,popupFromSelector:Ut,popupPositionFromSelector:sn,newAgStackInstance:function(){return C.newAgStackInstance(er,xn,En,a)}}}v&&console.error("Could not find component "+pe+", did you forget to configure this component?")},i.prototype.getCompKeys=function(n,a,c){var C,x,I,U,pe,_e,d=this,v=a.propertyName;if(n){var it=n,xt=it[v+"Selector"],Ut=xt?xt(c):null,sn=function(En,xn){var er=function(){var hi="AG Grid: As of v27, the property "+v+"Framework is deprecated. The property "+v+" can now be used for JavaScript AND Framework Components.";Qn(function(){return console.warn(hi)},"UserComponentFactory."+v+"FrameworkDeprecated")};"string"==typeof En?C=En:"string"==typeof xn?(er(),C=xn):null!=En&&!0!==En?d.getFrameworkOverrides().isFrameworkComponent(En)?I=En:x=En:null!=xn&&(er(),I=xn)};if(Ut){if(null!=Ut.frameworkComponent){var qt="AG Grid: As of v27, the return for "+v+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";Qn(function(){return console.warn(qt)},"UserComponentFactory."+v+"FrameworkSelectorDeprecated"),sn(Ut.frameworkComponent,void 0)}else sn(Ut.component,void 0);U=Ut.params,pe=Ut.popup,_e=Ut.popupPosition}else sn(it[v],it[v+"Framework"])}return{compName:C,jsComp:x,fwComp:I,paramsFromSelector:U,popupFromSelector:pe,popupPositionFromSelector:_e}},i.prototype.newAgStackInstance=function(n,a,c,d){var x;if(a){var I=this.componentMetadataProvider.retrieve(d.propertyName);x=this.frameworkComponentWrapper.wrap(n,I.mandatoryMethodList,I.optionalMethodList,d)}else x=new n;var U=this.initComponent(x,c);return null==U?ls.resolve(x):U.then(function(){return x})},i.prototype.mergeParamsWithApplicationProvidedParams=function(n,a,c,d){void 0===d&&(d=null);var v={};Dr(v,c);var x=n&&n[a.propertyName+"Params"];return"function"==typeof x?Dr(v,x(c)):"object"==typeof x&&Dr(v,x),Dr(v,d),v},i.prototype.initComponent=function(n,a){if(this.context.createBean(n),null!=n.init)return n.init(a)},i.prototype.getDefaultFloatingFilterType=function(n){if(null==n)return null;var a=null,c=this.getCompKeys(n,$u),d=c.compName,v=c.jsComp,C=c.fwComp;return d?a=Kh.getFloatingFilterType(d):null==v&&null==C&&!0===n.filter&&(a=jn.isRegistered(_n.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),a},Bl([ce("gridOptions")],i.prototype,"gridOptions",void 0),Bl([ce("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Bl([ce("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),Bl([ce("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),Bl([Lt("frameworkComponentWrapper")],i.prototype,"frameworkComponentWrapper",void 0),Bl([bn("userComponentFactory")],i)}(yn),sc=function(){function u(){}return u.parse=function(i){if(!i)return null;if(!0===i)return{toolPanels:[u.DEFAULT_COLUMN_COMP,u.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof i)return u.parse([i]);if(Array.isArray(i)){var n=[];return i.forEach(function(c){var d=u.DEFAULT_BY_KEY[c];d?n.push(d):console.warn("AG Grid: the key "+c+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","))}),0===n.length?null:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:u.parseComponents(i.toolPanels),defaultToolPanel:i.defaultToolPanel,hiddenByDefault:i.hiddenByDefault,position:i.position}},u.parseComponents=function(i){var n=[];return i&&i.forEach(function(a){var c=null;if("string"==typeof a){var d=u.DEFAULT_BY_KEY[a];if(!d)return void console.warn("AG Grid: the key "+a+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","));c=d}else c=a;n.push(c)}),n},u.DEFAULT_BY_KEY={columns:u.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:u.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},u}(),Wl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$h=function(u,i){return function(n,a){i(n,a,u)}},B4=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},qu=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(B4(arguments[i]));return u};function Cn(u){return!0===u||"true"===u}function N1(u){return"number"==typeof u?u:"string"==typeof u?parseInt(u,10):void 0}function kv(u,i){var n=parseInt(u,10);return Dd(n)&&n>0?n:i}var hr=function(){function u(){this.propertyEventService=new ar,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var i;return i=u,u.prototype.agWire=function(n,a){this.gridOptions.api=n,this.gridOptions.columnApi=a,this.checkForDeprecated(),this.checkForViolations()},u.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},u.prototype.init=function(){var n=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=sc.parse(this.gridOptions.sideBar));var a=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),a),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var c=function(v){return"AG Grid: '"+v+"' is not supported on the Server-Side Row Model"};ue(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupDefaultExpanded")),ue(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupIncludeFooter")),ue(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&jn.assertRegistered(_n.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var d=function(v){n.gridOptions.icons&&n.gridOptions.icons[v]&&console.warn("gridOptions.icons."+v+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};d("radioButtonOff"),d("radioButtonOn"),d("checkboxChecked"),d("checkboxUnchecked"),d("checkboxIndeterminate"),this.getScrollbarWidth()},u.prototype.checkColumnDefProperties=function(){var n=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(a){var c=Object.getOwnPropertyNames(a),d=qu(ho.ALL_PROPERTIES,ho.FRAMEWORK_PROPERTIES);n.checkProperties(c,d,d,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},u.prototype.checkGridOptionsProperties=function(){var n=Object.getOwnPropertyNames(this.gridOptions),a=qu(ga.ALL_PROPERTIES,ga.FRAMEWORK_PROPERTIES,ht(Ye).map(function(d){return Pa.getCallbackForEvent(d)})),c=qu(a,["api","columnApi"]);this.checkProperties(n,c,a,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},u.prototype.checkProperties=function(n,a,c,d,v){var C=st(n,a,c);qe(C,function(x,I){console.warn("ag-grid: invalid "+d+" property '"+x+"' did you mean any of these: "+I.slice(0,8).join(", "))}),Object.keys(C).length>0&&console.warn("ag-grid: to see all the valid "+d+" properties please check: "+v)},u.prototype.getDomDataKey=function(){return this.domDataKey},u.prototype.getDomData=function(n,a){var c=n[this.getDomDataKey()];return c?c[a]:void 0},u.prototype.setDomData=function(n,a,c){var d=this.getDomDataKey(),v=n[d];at(v)&&(n[d]=v={}),v[a]=c},u.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},u.prototype.isSuppressRowDeselection=function(){return Cn(this.gridOptions.suppressRowDeselection)},u.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},u.prototype.isRowMultiSelectWithClick=function(){return Cn(this.gridOptions.rowMultiSelectWithClick)},u.prototype.getContext=function(){return this.gridOptions.context},u.prototype.isPivotMode=function(){return Cn(this.gridOptions.pivotMode)},u.prototype.isSuppressExpandablePivotGroups=function(){return Cn(this.gridOptions.suppressExpandablePivotGroups)},u.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},u.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},u.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===St.ROW_MODEL_TYPE_INFINITE},u.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===St.ROW_MODEL_TYPE_VIEWPORT},u.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===St.ROW_MODEL_TYPE_SERVER_SIDE},u.prototype.isRowModelDefault=function(){return at(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===St.ROW_MODEL_TYPE_CLIENT_SIDE},u.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},u.prototype.isSuppressFocusAfterRefresh=function(){return Cn(this.gridOptions.suppressFocusAfterRefresh)},u.prototype.isSuppressBrowserResizeObserver=function(){return Cn(this.gridOptions.suppressBrowserResizeObserver)},u.prototype.isSuppressMaintainUnsortedOrder=function(){return Cn(this.gridOptions.suppressMaintainUnsortedOrder)},u.prototype.isSuppressClearOnFillReduction=function(){return Cn(this.gridOptions.suppressClearOnFillReduction)},u.prototype.isShowToolPanel=function(){return Cn(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},u.prototype.getSideBar=function(){return this.gridOptions.sideBar},u.prototype.isSuppressTouch=function(){return Cn(this.gridOptions.suppressTouch)},u.prototype.isMaintainColumnOrder=function(){return Cn(this.gridOptions.maintainColumnOrder)},u.prototype.isSuppressRowTransform=function(){return Cn(this.gridOptions.suppressRowTransform)},u.prototype.isSuppressColumnStateEvents=function(){return Cn(this.gridOptions.suppressColumnStateEvents)},u.prototype.isAllowDragFromColumnsToolPanel=function(){return Cn(this.gridOptions.allowDragFromColumnsToolPanel)},u.prototype.useAsyncEvents=function(){return!Cn(this.gridOptions.suppressAsyncEvents)},u.prototype.isEnableCellChangeFlash=function(){return Cn(this.gridOptions.enableCellChangeFlash)},u.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},u.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},u.prototype.isGroupSelectsChildren=function(){var n=Cn(this.gridOptions.groupSelectsChildren);return n&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):n},u.prototype.isSuppressRowHoverHighlight=function(){return Cn(this.gridOptions.suppressRowHoverHighlight)},u.prototype.isColumnHoverHighlight=function(){return Cn(this.gridOptions.columnHoverHighlight)},u.prototype.isGroupSelectsFiltered=function(){return Cn(this.gridOptions.groupSelectsFiltered)},u.prototype.isGroupHideOpenParents=function(){return Cn(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupMaintainOrder=function(){return Cn(this.gridOptions.groupMaintainOrder)},u.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},u.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Cn(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupUseEntireRow=function(n){return!n&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},u.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},u.prototype.isGroupRemoveSingleChildren=function(){return Cn(this.gridOptions.groupRemoveSingleChildren)},u.prototype.isGroupRemoveLowestSingleChildren=function(){return Cn(this.gridOptions.groupRemoveLowestSingleChildren)},u.prototype.isGroupIncludeFooter=function(){return Cn(this.gridOptions.groupIncludeFooter)},u.prototype.isGroupIncludeTotalFooter=function(){return Cn(this.gridOptions.groupIncludeTotalFooter)},u.prototype.isGroupSuppressBlankHeader=function(){return Cn(this.gridOptions.groupSuppressBlankHeader)},u.prototype.isSuppressRowClickSelection=function(){return Cn(this.gridOptions.suppressRowClickSelection)},u.prototype.isSuppressCellFocus=function(){return Cn(this.gridOptions.suppressCellFocus)},u.prototype.isSuppressMultiSort=function(){return Cn(this.gridOptions.suppressMultiSort)},u.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},u.prototype.isPivotSuppressAutoColumn=function(){return Cn(this.gridOptions.pivotSuppressAutoColumn)},u.prototype.isSuppressDragLeaveHidesColumns=function(){return Cn(this.gridOptions.suppressDragLeaveHidesColumns)},u.prototype.isSuppressScrollOnNewData=function(){return Cn(this.gridOptions.suppressScrollOnNewData)},u.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Cn(this.gridOptions.suppressScrollWhenPopupsAreOpen)},u.prototype.isRowDragEntireRow=function(){return Cn(this.gridOptions.rowDragEntireRow)},u.prototype.isSuppressRowDrag=function(){return Cn(this.gridOptions.suppressRowDrag)},u.prototype.isRowDragManaged=function(){return Cn(this.gridOptions.rowDragManaged)},u.prototype.isSuppressMoveWhenRowDragging=function(){return Cn(this.gridOptions.suppressMoveWhenRowDragging)},u.prototype.isRowDragMultiRow=function(){return Cn(this.gridOptions.rowDragMultiRow)},u.prototype.getDomLayout=function(){var n=this.gridOptions.domLayout||St.DOM_LAYOUT_NORMAL;return-1===[St.DOM_LAYOUT_PRINT,St.DOM_LAYOUT_AUTO_HEIGHT,St.DOM_LAYOUT_NORMAL].indexOf(n)?(Qn(function(){return console.warn("AG Grid: "+n+" is not valid for DOM Layout, valid values are "+St.DOM_LAYOUT_NORMAL+", "+St.DOM_LAYOUT_AUTO_HEIGHT+" and "+St.DOM_LAYOUT_PRINT)},"warn about dom layout values"),St.DOM_LAYOUT_NORMAL):n},u.prototype.isSuppressHorizontalScroll=function(){return Cn(this.gridOptions.suppressHorizontalScroll)},u.prototype.isSuppressMaxRenderedRowRestriction=function(){return Cn(this.gridOptions.suppressMaxRenderedRowRestriction)},u.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Cn(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},u.prototype.isAlwaysShowHorizontalScroll=function(){return Cn(this.gridOptions.alwaysShowHorizontalScroll)},u.prototype.isAlwaysShowVerticalScroll=function(){return Cn(this.gridOptions.alwaysShowVerticalScroll)},u.prototype.isDebounceVerticalScrollbar=function(){return Cn(this.gridOptions.debounceVerticalScrollbar)},u.prototype.isSuppressLoadingOverlay=function(){return Cn(this.gridOptions.suppressLoadingOverlay)},u.prototype.isSuppressNoRowsOverlay=function(){return Cn(this.gridOptions.suppressNoRowsOverlay)},u.prototype.isSuppressFieldDotNotation=function(){return Cn(this.gridOptions.suppressFieldDotNotation)},u.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},u.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},u.prototype.isFunctionsPassive=function(){return Cn(this.gridOptions.functionsPassive)},u.prototype.isSuppressChangeDetection=function(){return Cn(this.gridOptions.suppressChangeDetection)},u.prototype.isSuppressAnimationFrame=function(){return Cn(this.gridOptions.suppressAnimationFrame)},u.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},u.prototype.isCacheQuickFilter=function(){return Cn(this.gridOptions.cacheQuickFilter)},u.prototype.isUnSortIcon=function(){return Cn(this.gridOptions.unSortIcon)},u.prototype.isSuppressMenuHide=function(){return Cn(this.gridOptions.suppressMenuHide)},u.prototype.isEnterMovesDownAfterEdit=function(){return Cn(this.gridOptions.enterMovesDownAfterEdit)},u.prototype.isEnterMovesDown=function(){return Cn(this.gridOptions.enterMovesDown)},u.prototype.isUndoRedoCellEditing=function(){return Cn(this.gridOptions.undoRedoCellEditing)},u.prototype.getUndoRedoCellEditingLimit=function(){return N1(this.gridOptions.undoRedoCellEditingLimit)},u.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},u.prototype.getRowClass=function(){return this.gridOptions.rowClass},u.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},u.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},u.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},u.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},u.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},u.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},u.prototype.getPopupParent=function(){return this.gridOptions.popupParent},u.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},u.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},u.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},u.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},u.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},u.prototype.getDefaultGroupOrderComparator=function(){return this.gridOptions.defaultGroupOrderComparator},u.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},u.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},u.prototype.isEmbedFullWidthRows=function(){return Cn(this.gridOptions.embedFullWidthRows)||Cn(this.gridOptions.deprecatedEmbedFullWidthRows)},u.prototype.isDetailRowAutoHeight=function(){return Cn(this.gridOptions.detailRowAutoHeight)},u.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},u.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},u.prototype.getApi=function(){return this.gridOptions.api},u.prototype.getColumnApi=function(){return this.gridOptions.columnApi},u.prototype.isReadOnlyEdit=function(){return Cn(this.gridOptions.readOnlyEdit)},u.prototype.isImmutableData=function(){return null!=this.gridOptions.getRowId||Cn(this.gridOptions.immutableData)},u.prototype.isEnsureDomOrder=function(){return Cn(this.gridOptions.ensureDomOrder)},u.prototype.isEnableCharts=function(){return!!Cn(this.gridOptions.enableCharts)&&jn.assertRegistered(_n.GridChartsModule,"enableCharts")},u.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},u.prototype.isSingleClickEdit=function(){return Cn(this.gridOptions.singleClickEdit)},u.prototype.isSuppressClickEdit=function(){return Cn(this.gridOptions.suppressClickEdit)},u.prototype.isStopEditingWhenCellsLoseFocus=function(){return Cn(this.gridOptions.stopEditingWhenCellsLoseFocus)},u.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},u.prototype.getMaxConcurrentDatasourceRequests=function(){var n=N1(this.gridOptions.maxConcurrentDatasourceRequests);return null==n?2:n<=0?void 0:n},u.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},u.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},u.prototype.getPaginationPageSize=function(){return N1(this.gridOptions.paginationPageSize)},u.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Cn(this.gridOptions.paginateChildRows)},u.prototype.getCacheBlockSize=function(){return kv(this.gridOptions.cacheBlockSize)},u.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},u.prototype.isPurgeClosedRowNodes=function(){return Cn(this.gridOptions.purgeClosedRowNodes)},u.prototype.isSuppressPaginationPanel=function(){return Cn(this.gridOptions.suppressPaginationPanel)},u.prototype.getRowData=function(){return this.gridOptions.rowData},u.prototype.isEnableRtl=function(){return Cn(this.gridOptions.enableRtl)},u.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},u.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},u.prototype.isAngularCompileRows=function(){return Cn(this.gridOptions.angularCompileRows)},u.prototype.isAngularCompileFilters=function(){return Cn(this.gridOptions.angularCompileFilters)},u.prototype.isDebug=function(){return Cn(this.gridOptions.debug)},u.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},u.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},u.prototype.getDatasource=function(){return this.gridOptions.datasource},u.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},u.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},u.prototype.isAccentedSort=function(){return Cn(this.gridOptions.accentedSort)},u.prototype.isEnableBrowserTooltips=function(){return Cn(this.gridOptions.enableBrowserTooltips)},u.prototype.isEnableCellExpressions=function(){return Cn(this.gridOptions.enableCellExpressions)},u.prototype.isEnableGroupEdit=function(){return Cn(this.gridOptions.enableGroupEdit)},u.prototype.isSuppressMiddleClickScrolls=function(){return Cn(this.gridOptions.suppressMiddleClickScrolls)},u.prototype.isPreventDefaultOnContextMenu=function(){return Cn(this.gridOptions.preventDefaultOnContextMenu)},u.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Cn(this.gridOptions.suppressPreventDefaultOnMouseWheel)},u.prototype.isSuppressColumnVirtualisation=function(){return Cn(this.gridOptions.suppressColumnVirtualisation)},u.prototype.isSuppressRowVirtualisation=function(){return Cn(this.gridOptions.suppressRowVirtualisation)},u.prototype.isSuppressContextMenu=function(){return Cn(this.gridOptions.suppressContextMenu)},u.prototype.isAllowContextMenuWithControlKey=function(){return Cn(this.gridOptions.allowContextMenuWithControlKey)},u.prototype.isSuppressCopyRowsToClipboard=function(){return Cn(this.gridOptions.suppressCopyRowsToClipboard)},u.prototype.isCopyHeadersToClipboard=function(){return Cn(this.gridOptions.copyHeadersToClipboard)},u.prototype.isCopyGroupHeadersToClipboard=function(){return Cn(this.gridOptions.copyGroupHeadersToClipboard)},u.prototype.isSuppressClipboardPaste=function(){return Cn(this.gridOptions.suppressClipboardPaste)},u.prototype.isSuppressLastEmptyLineOnPaste=function(){return Cn(this.gridOptions.suppressLastEmptyLineOnPaste)},u.prototype.isPagination=function(){return Cn(this.gridOptions.pagination)},u.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Cn(this.gridOptions.suppressEnterpriseResetOnNewColumns)},u.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},u.prototype.getAsyncTransactionWaitMillis=function(){return ue(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:St.BATCH_WAIT_MILLIS},u.prototype.isSuppressMovableColumns=function(){return Cn(this.gridOptions.suppressMovableColumns)},u.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Cn(this.gridOptions.animateRows)},u.prototype.isSuppressColumnMoveAnimation=function(){return Cn(this.gridOptions.suppressColumnMoveAnimation)},u.prototype.isSuppressAggFuncInHeader=function(){return Cn(this.gridOptions.suppressAggFuncInHeader)},u.prototype.isSuppressAggAtRootLevel=function(){return Cn(this.gridOptions.suppressAggAtRootLevel)},u.prototype.isSuppressAggFilteredOnly=function(){return Cn(this.gridOptions.suppressAggFilteredOnly)},u.prototype.isShowOpenedGroup=function(){return Cn(this.gridOptions.showOpenedGroup)},u.prototype.isReactUi=function(){return Cn(this.gridOptions.reactUi)},u.prototype.isSuppressReactUi=function(){return Cn(this.gridOptions.suppressReactUi)},u.prototype.isEnableRangeSelection=function(){return jn.isRegistered(_n.RangeSelectionModule)&&Cn(this.gridOptions.enableRangeSelection)},u.prototype.isEnableRangeHandle=function(){return Cn(this.gridOptions.enableRangeHandle)},u.prototype.isEnableFillHandle=function(){return Cn(this.gridOptions.enableFillHandle)},u.prototype.getFillHandleDirection=function(){var n=this.gridOptions.fillHandleDirection;return n?"x"!==n&&"y"!==n&&"xy"!==n?(Qn(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):n:"xy"},u.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},u.prototype.isSuppressMultiRangeSelection=function(){return Cn(this.gridOptions.suppressMultiRangeSelection)},u.prototype.isPaginationAutoPageSize=function(){return Cn(this.gridOptions.paginationAutoPageSize)},u.prototype.isRememberGroupStateWhenNewData=function(){return Cn(this.gridOptions.rememberGroupStateWhenNewData)},u.prototype.getIcons=function(){return this.gridOptions.icons},u.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},u.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},u.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},u.prototype.isMasterDetail=function(){return!!Cn(this.gridOptions.masterDetail)&&jn.assertRegistered(_n.MasterDetailModule,"masterDetail")},u.prototype.isKeepDetailRows=function(){return Cn(this.gridOptions.keepDetailRows)},u.prototype.getKeepDetailRowsCount=function(){var n=this.gridOptions.keepDetailRowsCount;return ue(n)&&n>0?this.gridOptions.keepDetailRowsCount:10},u.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},u.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},u.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},u.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},u.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},u.prototype.isSuppressAutoSize=function(){return Cn(this.gridOptions.suppressAutoSize)},u.prototype.isEnableCellTextSelection=function(){return Cn(this.gridOptions.enableCellTextSelection)},u.prototype.isSuppressParentsInRowNodes=function(){return Cn(this.gridOptions.suppressParentsInRowNodes)},u.prototype.isSuppressClipboardApi=function(){return Cn(this.gridOptions.suppressClipboardApi)},u.prototype.isFunctionsReadOnly=function(){return Cn(this.gridOptions.functionsReadOnly)},u.prototype.isEnableCellTextSelect=function(){return Cn(this.gridOptions.enableCellTextSelection)},u.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},u.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},u.prototype.getDefaultExportParams=function(n){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+ys(n)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===n&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===n&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},u.prototype.isSuppressCsvExport=function(){return Cn(this.gridOptions.suppressCsvExport)},u.prototype.isAllowShowChangeAfterFilter=function(){return Cn(this.gridOptions.allowShowChangeAfterFilter)},u.prototype.isSuppressExcelExport=function(){return Cn(this.gridOptions.suppressExcelExport)},u.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Cn(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},u.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},u.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},u.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},u.prototype.getIsGroupOpenByDefaultFunc=function(){return this.gridOptions.isGroupOpenByDefault},u.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},u.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},u.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},u.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},u.prototype.getRowIdFunc=function(){var n=this.gridOptions,c=n.getRowNodeId;return n.getRowId||(c?function(d){return c(d.data)}:void 0)},u.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},u.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},u.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},u.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},u.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},u.prototype.isTreeData=function(){return!!Cn(this.gridOptions.treeData)&&jn.assertRegistered(_n.RowGroupingModule,"Tree Data")},u.prototype.isValueCache=function(){return Cn(this.gridOptions.valueCache)},u.prototype.isValueCacheNeverExpires=function(){return Cn(this.gridOptions.valueCacheNeverExpires)},u.prototype.isDeltaSort=function(){return Cn(this.gridOptions.deltaSort)},u.prototype.isAggregateOnlyChangedColumns=function(){return Cn(this.gridOptions.aggregateOnlyChangedColumns)},u.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},u.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},u.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},u.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},u.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},u.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},u.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.gridOptions.processGroupHeaderForClipboard},u.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},u.prototype.getViewportRowModelPageSize=function(){return kv(this.gridOptions.viewportRowModelPageSize,5)},u.prototype.getViewportRowModelBufferSize=function(){return function Nv(u,i){return u>=0?u:i}(this.gridOptions.viewportRowModelBufferSize,5)},u.prototype.isServerSideSortingAlwaysResets=function(){return Cn(this.gridOptions.serverSideSortingAlwaysResets)},u.prototype.isServerSideFilteringAlwaysResets=function(){return Cn(this.gridOptions.serverSideFilteringAlwaysResets)},u.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},u.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},u.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},u.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},u.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},u.prototype.getClipboardDelimiter=function(){return ue(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},u.prototype.setProperty=function(n,a,c){void 0===c&&(c=!1);var d=this.gridOptions,v=d[n];(c||v!==a)&&(d[n]=a,this.propertyEventService.dispatchEvent({type:n,currentValue:a,previousValue:v}))},u.prototype.addEventListener=function(n,a){this.propertyEventService.addEventListener(n,a)},u.prototype.removeEventListener=function(n,a){this.propertyEventService.removeEventListener(n,a)},u.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},u.prototype.getAutoSizePadding=function(){var n=this.gridOptions.autoSizePadding;return null!=n&&n>=0?n:20},u.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},u.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},u.prototype.doesExternalFilterPass=function(n){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(n)},u.prototype.getTooltipDelay=function(n){var a=this.gridOptions,v="show"===n?a.tooltipShowDelay:a.tooltipHideDelay,C=ys(n);return ue(v)?(v<0&&Qn(function(){return console.warn("ag-grid: tooltip"+C+"Delay should not be lower than 0")},"tooltip"+C+"DelayWarn"),Math.max(200,v)):null},u.prototype.isTooltipMouseTrack=function(){return Cn(this.gridOptions.tooltipMouseTrack)},u.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Cn(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},u.prototype.getDocument=function(){var n=null;return this.gridOptions.getDocument&&ue(this.gridOptions.getDocument)?n=this.gridOptions.getDocument():this.eGridDiv&&(n=this.eGridDiv.ownerDocument),n&&ue(n)?n:document},u.prototype.getMinColWidth=function(){var n=this.gridOptions.minColWidth;if(ue(n)&&n>i.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var a=this.getFromTheme(null,"headerCellMinWidth");return ue(a)?Math.max(a,i.MIN_COL_WIDTH):i.MIN_COL_WIDTH},u.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>i.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},u.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<i.MIN_COL_WIDTH?200:this.gridOptions.colWidth},u.prototype.getRowBuffer=function(){var n=this.gridOptions.rowBuffer;return"number"==typeof n?n<0&&(Qn(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=n=0):n=St.ROW_BUFFER_SIZE,n},u.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},u.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var a="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:ji();null!=a&&(this.scrollbarWidth=a,this.eventService.dispatchEvent({type:Ye.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},u.prototype.checkForDeprecated=function(){var n=this.gridOptions;n.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),n.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),n.enableMultiRowDragging&&(n.rowDragMultiRow=!0,delete n.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var a=function(v,C,x){null!=n[v]&&(console.warn("ag-grid: since version "+x+", '"+v+"' is deprecated / renamed, please use the new property name '"+C+"' instead."),null==n[C]&&(n[C]=n[v]))};if(a("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),a("deltaRowDataMode","immutableData","23.1.x"),(n.immutableColumns||n.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),a("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),n.groupRowInnerRenderer||n.groupRowInnerRendererParams||n.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),n.groupRowRendererParams||(n.groupRowRendererParams={});var c=n.groupRowRendererParams;n.groupRowInnerRenderer&&(c.innerRenderer=n.groupRowInnerRenderer),n.groupRowInnerRendererParams&&(c.innerRendererParams=n.groupRowInnerRendererParams),n.groupRowInnerRendererFramework&&(c.innerRendererFramework=n.groupRowInnerRendererFramework)}n.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),n.detailCellRendererParams&&n.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),n.detailRowAutoHeight=!0),n.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),n.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),n.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),n.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),n.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),n.stopEditingWhenCellsLoseFocus=!0),n.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),n.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),n.groupDisplayType="multipleColumns"),n.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),n.groupDisplayType="groupRows"),n.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(n.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),n.groupDisplayType="custom"),n.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `defaultGroupOrderComparator`"),n.defaultGroupOrderComparator=n.defaultGroupSortComparator),n.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),n.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),n.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),n.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),n.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),n.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),n.suppressCellFocus=n.suppressCellSelection),n.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecate and has been replaced by `getRowId`. The difference is if getRowId() is implemented, immutable data is on by default."),n.immutableData&&console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To turn on, implement `getRowId` has been replaced by `getRowId`. The difference is if getRowId() is implemented, immutable data is on by default."),n.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),n.clipboardDelimiter=n.clipboardDeliminator)},u.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},u.prototype.treeDataViolations=function(){this.isRowModelDefault()&&at(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(at(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),at(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},u.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var n=this.gridOptions.localeText;return function(a,c){var d=n&&n[a];return null!=d?d:c}},u.prototype.globalEventHandler=function(n,a){if(!this.destroyed){var c=Pa.getCallbackForEvent(n);"function"==typeof this.gridOptions[c]&&this.gridOptions[c](a)}},u.prototype.setRowHeightVariable=function(n){var c=n+"px";this.eGridDiv.style.getPropertyValue("--ag-row-height").trim()!=c&&this.eGridDiv.style.setProperty("--ag-row-height",c)},u.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||at(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var n=this.gridOptions.rowHeight;return n&&this.isNumeric(n)?(this.setRowHeightVariable(n),n):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},u.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getRowHeightForNode=function(n,a,c){if(void 0===a&&(a=!1),null==c&&(c=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(a)return{height:c,estimated:!0};var v=this.gridOptions.getRowHeight({node:n,data:n.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(v))return 0===v&&Qn(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,v),estimated:!1}}return n.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:c,estimated:!1}},u.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},u.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},u.prototype.isNumeric=function(n){return!isNaN(n)&&"number"==typeof n&&isFinite(n)},u.prototype.getFromTheme=function(n,a){var c=this.environment.getTheme().theme;return c&&0===c.indexOf("ag-theme")?this.environment.getSassVariable(c,a):n},u.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},u.prototype.matchesGroupDisplayType=function(n,a){var c=["groupRows","multipleColumns","custom","singleColumn"];return c.indexOf(a)<0?(console.warn("AG Grid: '"+a+"' is not a valid groupDisplayType value - possible values are: '"+c.join("', '")+"'"),!1):a===n},u.prototype.matchesTreeDataDisplayType=function(n,a){var c=["auto","custom"];return c.indexOf(a)<0?(console.warn("AG Grid: '"+a+"' is not a valid treeDataDisplayType value - possible values are: '"+c.join("', '")+"'"),!1):a===n},u.MIN_COL_WIDTH=10,u.PROP_HEADER_HEIGHT="headerHeight",u.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",u.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",u.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",u.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",u.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",u.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",u.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",u.PROP_TAB_TO_NEXT_CELL="tabToNextCell",u.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",u.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",u.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",u.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",u.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",u.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",u.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",u.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",u.PROP_GET_ROW_CLASS="getRowClass",u.PROP_GET_ROW_STYLE="getRowStyle",u.PROP_GET_ROW_HEIGHT="getRowHeight",u.PROP_POPUP_PARENT="popupParent",u.PROP_DOM_LAYOUT="domLayout",u.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",u.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",u.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",u.PROP_GET_CHILD_COUNT="getChildCount",u.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",u.PROP_GET_ROW_NODE_ID="getRowNodeId",u.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",u.PROP_IS_ROW_SELECTABLE="isRowSelectable",u.PROP_IS_ROW_MASTER="isRowMaster",u.PROP_POST_SORT="postSort",u.PROP_GET_DOCUMENT="getDocument",u.PROP_POST_PROCESS_POPUP="postProcessPopup",u.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",u.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",u.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",u.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",u.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",u.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",u.PROP_SEND_TO_CLIPBOARD="sendToClipboard",u.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",u.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",u.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",u.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",u.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",u.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",u.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",u.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Wl([ce("gridOptions")],u.prototype,"gridOptions",void 0),Wl([ce("eventService")],u.prototype,"eventService",void 0),Wl([ce("environment")],u.prototype,"environment",void 0),Wl([ce("eGridDiv")],u.prototype,"eGridDiv",void 0),Wl([$h(0,We("gridApi")),$h(1,We("columnApi"))],u.prototype,"agWire",null),Wl([vn],u.prototype,"destroy",null),Wl([Gt],u.prototype,"init",null),i=Wl([bn("gridOptionsWrapper")],u)}(),$o=function(){function u(i,n){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=i,this.pathRoot={rowNode:n,children:null},this.mapToItems[n.id]=this.pathRoot}return u.prototype.setInactive=function(){this.active=!1},u.prototype.isActive=function(){return this.active},u.prototype.depthFirstSearchChangedPath=function(i,n){if(i.children)for(var a=0;a<i.children.length;a++)this.depthFirstSearchChangedPath(i.children[a],n);n(i.rowNode)},u.prototype.depthFirstSearchEverything=function(i,n,a){if(i.childrenAfterGroup)for(var c=0;c<i.childrenAfterGroup.length;c++){var d=i.childrenAfterGroup[c];d.childrenAfterGroup?this.depthFirstSearchEverything(i.childrenAfterGroup[c],n,a):a&&n(d)}n(i)},u.prototype.forEachChangedNodeDepthFirst=function(i,n){void 0===n&&(n=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,i):this.depthFirstSearchEverything(this.pathRoot.rowNode,i,n)},u.prototype.executeFromRootNode=function(i){i(this.pathRoot.rowNode)},u.prototype.createPathItems=function(i){for(var n=i,a=0;!this.mapToItems[n.id];)this.mapToItems[n.id]={rowNode:n,children:null},a++,n=n.parent;return a},u.prototype.populateColumnsMap=function(i,n){var a=this;if(this.keepingColumns&&n)for(var c=i;c;)this.nodeIdsToColumns[c.id]||(this.nodeIdsToColumns[c.id]={}),n.forEach(function(d){return a.nodeIdsToColumns[c.id][d.getId()]=!0}),c=c.parent},u.prototype.linkPathItems=function(i,n){for(var a=i,c=0;c<n;c++){var d=this.mapToItems[a.id],v=this.mapToItems[a.parent.id];v.children||(v.children=[]),v.children.push(d),a=a.parent}},u.prototype.addParentNode=function(i,n){if(i&&!i.isRowPinned()){var a=this.createPathItems(i);this.linkPathItems(i,a),this.populateColumnsMap(i,n)}},u.prototype.canSkip=function(i){return this.active&&!this.mapToItems[i.id]},u.prototype.getValueColumnsForNode=function(i,n){if(!this.keepingColumns)return n;var a=this.nodeIdsToColumns[i.id];return n.filter(function(d){return a[d.getId()]})},u.prototype.getNotValueColumnsForNode=function(i,n){if(!this.keepingColumns)return null;var a=this.nodeIdsToColumns[i.id];return n.filter(function(d){return!a[d.getId()]})},u}(),k1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ia=function(u,i){return function(n,a){i(n,a,u)}},kd=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return k1(i,u),i.prototype.setBeans=function(n){this.logger=n.create("selectionService"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,Ye.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Ye.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},i.prototype.setLastSelectedNode=function(n){this.lastSelectedNode=n},i.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},i.prototype.getSelectedNodes=function(){var n=[];return qe(this.selectedNodes,function(a,c){c&&n.push(c)}),n},i.prototype.getSelectedRows=function(){var n=[];return qe(this.selectedNodes,function(a,c){c&&c.data&&n.push(c.data)}),n},i.prototype.removeGroupsFromSelection=function(){var n=this;qe(this.selectedNodes,function(a,c){c&&c.group&&(n.selectedNodes[c.id]=void 0)})},i.prototype.updateGroupsFromChildrenSelections=function(n){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===St.ROW_MODEL_TYPE_CLIENT_SIDE){var c=this.rowModel.getRootNode();n||(n=new $o(!0,c)).setInactive(),n.forEachChangedNodeDepthFirst(function(d){d!==c&&d.calculateSelectedFromChildren()})}},i.prototype.getNodeForIdIfSelected=function(n){return this.selectedNodes[n]},i.prototype.clearOtherNodes=function(n){var a=this,c={},d=0;return qe(this.selectedNodes,function(v,C){C&&C.id!==n.id&&(d+=a.selectedNodes[C.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),a.groupSelectsChildren&&C.parent&&(c[C.parent.id]=C.parent))}),qe(c,function(v,C){C.calculateSelectedFromChildren()}),d},i.prototype.onRowSelected=function(n){var a=n.node;this.groupSelectsChildren&&a.group||(this.selectedNodes[a.id]=a.isSelected()?a:void 0)},i.prototype.syncInRowNode=function(n,a){this.syncInOldRowNode(n,a),this.syncInNewRowNode(n)},i.prototype.syncInOldRowNode=function(n,a){ue(a)&&n.id!==a.id&&a&&this.selectedNodes[a.id]==n&&(this.selectedNodes[a.id]=a)},i.prototype.syncInNewRowNode=function(n){ue(this.selectedNodes[n.id])?(n.setSelectedInitialValue(!0),this.selectedNodes[n.id]=n):n.setSelectedInitialValue(!1)},i.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},i.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===St.ROW_MODEL_TYPE_CLIENT_SIDE){var a=this.rowModel.getTopLevelNodes();if(null!==a){var c=[];return function d(v){for(var C=0,x=v.length;C<x;C++){var I=v[C];I.isSelected()?c.push(I):I.group&&I.children&&d(I.children)}}(a),c}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},i.prototype.setRowModel=function(n){this.rowModel=n},i.prototype.isEmpty=function(){var n=0;return qe(this.selectedNodes,function(a,c){c&&n++}),0===n},i.prototype.deselectAllRowNodes=function(n){void 0===n&&(n=!1);var a=function(C){return C.selectThisNode(!1)},c=this.rowModel.getType()===St.ROW_MODEL_TYPE_CLIENT_SIDE;if(n){if(!c)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(a)}else qe(this.selectedNodes,function(C,x){x&&a(x)}),this.reset();c&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Ye.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectAllRowNodes=function(n){if(void 0===n&&(n=!1),this.rowModel.getType()!==St.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var a=this.rowModel,c=function(v){return v.selectThisNode(!0)};n?a.forEachNodeAfterFilter(c):a.forEachNode(c),this.rowModel.getType()===St.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Ye.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectNode=function(n,a){n&&n.setSelectedParams({newValue:!0,clearSelection:!a})},i.prototype.deselectIndex=function(n){var a=this.rowModel.getRow(n);this.deselectNode(a)},i.prototype.deselectNode=function(n){n&&n.setSelectedParams({newValue:!1,clearSelection:!1})},i.prototype.selectIndex=function(n,a){var c=this.rowModel.getRow(n);this.selectNode(c,a)},jl([ce("rowModel")],i.prototype,"rowModel",void 0),jl([ce("columnApi")],i.prototype,"columnApi",void 0),jl([ce("gridApi")],i.prototype,"gridApi",void 0),jl([Ia(0,We("loggerFactory"))],i.prototype,"setBeans",null),jl([Gt],i.prototype,"init",null),jl([bn("selectionService")],i)}(yn),zv=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Za=function(){function u(){}return u.prototype.sizeColumnsToFit=function(i){void 0===i&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(i,"api")},u.prototype.setColumnGroupOpened=function(i,n){this.columnModel.setColumnGroupOpened(i,n,"api")},u.prototype.getColumnGroup=function(i,n){return this.columnModel.getColumnGroup(i,n)},u.prototype.getProvidedColumnGroup=function(i){return this.columnModel.getProvidedColumnGroup(i)},u.prototype.getDisplayNameForColumn=function(i,n){return this.columnModel.getDisplayNameForColumn(i,n)||""},u.prototype.getDisplayNameForColumnGroup=function(i,n){return this.columnModel.getDisplayNameForColumnGroup(i,n)||""},u.prototype.getColumn=function(i){return this.columnModel.getPrimaryColumn(i)},u.prototype.applyColumnState=function(i){return this.columnModel.applyColumnState(i,"api")},u.prototype.getColumnState=function(){return this.columnModel.getColumnState()},u.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},u.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},u.prototype.setColumnGroupState=function(i){this.columnModel.setColumnGroupState(i,"api")},u.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},u.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},u.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},u.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},u.prototype.getDisplayedColAfter=function(i){return this.columnModel.getDisplayedColAfter(i)},u.prototype.getDisplayedColBefore=function(i){return this.columnModel.getDisplayedColBefore(i)},u.prototype.setColumnVisible=function(i,n){this.columnModel.setColumnVisible(i,n,"api")},u.prototype.setColumnsVisible=function(i,n){this.columnModel.setColumnsVisible(i,n,"api")},u.prototype.setColumnPinned=function(i,n){this.columnModel.setColumnPinned(i,n,"api")},u.prototype.setColumnsPinned=function(i,n){this.columnModel.setColumnsPinned(i,n,"api")},u.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},u.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},u.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},u.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},u.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},u.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},u.prototype.moveColumn=function(i,n){"number"==typeof i?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(i,n,"api")):this.columnModel.moveColumn(i,n,"api")},u.prototype.moveColumnByIndex=function(i,n){this.columnModel.moveColumnByIndex(i,n,"api")},u.prototype.moveColumns=function(i,n){this.columnModel.moveColumns(i,n,"api")},u.prototype.moveRowGroupColumn=function(i,n){this.columnModel.moveRowGroupColumn(i,n)},u.prototype.setColumnAggFunc=function(i,n){this.columnModel.setColumnAggFunc(i,n)},u.prototype.setColumnWidth=function(i,n,a,c){void 0===a&&(a=!0),this.columnModel.setColumnWidths([{key:i,newWidth:n}],!1,a,c)},u.prototype.setColumnWidths=function(i,n,a){void 0===n&&(n=!0),this.columnModel.setColumnWidths(i,!1,n,a)},u.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},u.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},u.prototype.getSecondaryPivotColumn=function(i,n){return this.columnModel.getSecondaryPivotColumn(i,n)},u.prototype.setValueColumns=function(i){this.columnModel.setValueColumns(i,"api")},u.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},u.prototype.removeValueColumn=function(i){this.columnModel.removeValueColumn(i,"api")},u.prototype.removeValueColumns=function(i){this.columnModel.removeValueColumns(i,"api")},u.prototype.addValueColumn=function(i){this.columnModel.addValueColumn(i,"api")},u.prototype.addValueColumns=function(i){this.columnModel.addValueColumns(i,"api")},u.prototype.setRowGroupColumns=function(i){this.columnModel.setRowGroupColumns(i,"api")},u.prototype.removeRowGroupColumn=function(i){this.columnModel.removeRowGroupColumn(i,"api")},u.prototype.removeRowGroupColumns=function(i){this.columnModel.removeRowGroupColumns(i,"api")},u.prototype.addRowGroupColumn=function(i){this.columnModel.addRowGroupColumn(i,"api")},u.prototype.addRowGroupColumns=function(i){this.columnModel.addRowGroupColumns(i,"api")},u.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},u.prototype.setPivotColumns=function(i){this.columnModel.setPivotColumns(i,"api")},u.prototype.removePivotColumn=function(i){this.columnModel.removePivotColumn(i,"api")},u.prototype.removePivotColumns=function(i){this.columnModel.removePivotColumns(i,"api")},u.prototype.addPivotColumn=function(i){this.columnModel.addPivotColumn(i,"api")},u.prototype.addPivotColumns=function(i){this.columnModel.addPivotColumns(i,"api")},u.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},u.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},u.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},u.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},u.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},u.prototype.autoSizeColumn=function(i,n){return this.columnModel.autoSizeColumn(i,n,"api")},u.prototype.autoSizeColumns=function(i,n){this.columnModel.autoSizeColumns({columns:i,skipHeader:n})},u.prototype.autoSizeAllColumns=function(i){this.columnModel.autoSizeAllColumns(i,"api")},u.prototype.setSecondaryColumns=function(i){this.columnModel.setSecondaryColumns(i,"api")},u.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},u.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(au.removeAllReferences.bind(window,this,"Column API"),100)},u.prototype.columnGroupOpened=function(i,n){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(i,n)},u.prototype.hideColumns=function(i,n){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(i,!n,"api")},u.prototype.hideColumn=function(i,n){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(i,!n,"api")},u.prototype.setState=function(i){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(i)},u.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},u.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},u.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},u.prototype.removeAggregationColumn=function(i){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(i,"api")},u.prototype.removeAggregationColumns=function(i){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(i,"api")},u.prototype.addAggregationColumn=function(i){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(i,"api")},u.prototype.addAggregationColumns=function(i){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(i,"api")},u.prototype.setColumnAggFunction=function(i,n){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(i,n,"api")},u.prototype.getDisplayNameForCol=function(i){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(i,null)},u.prototype.setColumnState=function(i){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:i,applyOrder:!0},"api")},u.prototype.getOriginalColumnGroup=function(i){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(i)},zv([ce("columnModel")],u.prototype,"columnModel",void 0),zv([vn],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),zv([bn("columnApi")],u)}(),zd=(()=>(function(u){u[u.FILL=0]="FILL",u[u.RANGE=1]="RANGE"}(zd||(zd={})),zd))(),Na=(()=>(function(u){u[u.VALUE=0]="VALUE",u[u.DIMENSION=1]="DIMENSION"}(Na||(Na={})),Na))(),gu="ag-cell-range-selected",z1=function(){function u(i,n){this.beans=i,this.cellCtrl=n}return u.prototype.setComp=function(i,n){this.cellComp=i,this.eGui=n,this.onRangeSelectionChanged()},u.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(gu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(gu+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(gu+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(gu+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(gu+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Ks(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},u.prototype.updateRangeBorders=function(){var i=this.getRangeBorders(),n=this.isSingleCell(),c=!n&&i.right,d=!n&&i.bottom,v=!n&&i.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!n&&i.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",d),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",v)},u.prototype.isSingleCell=function(){var i=this.beans.rangeService;return 1===this.rangeCount&&i&&!i.isMoreThanOneCell()},u.prototype.getHasChartRange=function(){var i=this.beans.rangeService;if(!this.rangeCount||!i)return!1;var n=i.getCellRanges();return n.length>0&&n.every(function(a){return Xr([Na.DIMENSION,Na.VALUE],a.type)})},u.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},u.prototype.getRangeBorders=function(){var pe,_e,i=this,n=this.beans.gridOptionsWrapper.isEnableRtl(),a=!1,c=!1,d=!1,v=!1,C=this.cellCtrl.getCellPosition().column,x=this.beans,I=x.rangeService,U=x.columnModel;n?(pe=U.getDisplayedColAfter(C),_e=U.getDisplayedColBefore(C)):(pe=U.getDisplayedColBefore(C),_e=U.getDisplayedColAfter(C));var it=I.getCellRanges().filter(function(En){return I.isCellInSpecificRange(i.cellCtrl.getCellPosition(),En)});pe||(v=!0),_e||(c=!0);for(var xt=0;xt<it.length&&!(a&&c&&d&&v);xt++){var Ut=it[xt],sn=I.getRangeStartRow(Ut),qt=I.getRangeEndRow(Ut);!a&&this.beans.rowPositionUtils.sameRow(sn,this.cellCtrl.getCellPosition())&&(a=!0),!d&&this.beans.rowPositionUtils.sameRow(qt,this.cellCtrl.getCellPosition())&&(d=!0),!v&&pe&&Ut.columns.indexOf(pe)<0&&(v=!0),!c&&_e&&Ut.columns.indexOf(_e)<0&&(c=!0)}return{top:a,right:c,bottom:d,left:v}},u.prototype.refreshHandle=function(){if(this.beans.rangeService){var i=this.shouldHaveSelectionHandle();this.selectionHandle&&!i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),i&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},u.prototype.shouldHaveSelectionHandle=function(){var i=this.beans,n=i.gridOptionsWrapper,a=i.rangeService,c=a.getCellRanges(),d=c.length;if(this.rangeCount<1||d<1)return!1;var v=bt(c),C=this.cellCtrl.getCellPosition(),x=n.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),I=n.isEnableRangeHandle(),U=1===d&&!this.cellCtrl.isEditing()&&(x||I);if(this.hasChartRange){var _e=c[0].type===Na.DIMENSION&&a.isCellInSpecificRange(C,c[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",_e),U=v.type===Na.VALUE}return U&&null!=v.endRow&&a.isContiguousRange(v)&&a.isBottomRightCell(v,C)},u.prototype.addSelectionHandle=function(){var i=this.beans,n=i.gridOptionsWrapper,c=bt(i.rangeService.getCellRanges()).type,v=n.isEnableFillHandle()&&at(c)?zd.FILL:zd.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==v&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(v)),this.selectionHandle.refresh(this.cellCtrl)},u.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},u}(),k3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vd=function(u){function i(n,a){var c=u.call(this)||this;return c.cellCtrl=n,c.beans=a,c.column=n.getColumn(),c.rowNode=n.getRowNode(),c.setupColSpan(),c.setupRowSpan(),c}return k3(i,u),i.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},i.prototype.setComp=function(n){this.eGui=n,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},i.prototype.onDisplayColumnsChanged=function(){var n=this.getColSpanningList();Ge(this.colsSpanning,n)||(this.colsSpanning=n,this.onWidthChanged(),this.onLeftChanged())},i.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},i.prototype.onWidthChanged=function(){if(this.eGui){var n=this.getCellWidth();this.eGui.style.width=n+"px"}},i.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(n,a){return n+a.getActualWidth()},0):this.column.getActualWidth()},i.prototype.getColSpanningList=function(){var n=this.column.getColSpan(this.rowNode),a=[];if(1===n)a.push(this.column);else for(var c=this.column,d=this.column.getPinned(),v=0;c&&v<n&&(a.push(c),(c=this.beans.columnModel.getDisplayedColAfter(c))&&!at(c)&&d===c.getPinned());v++);return a},i.prototype.onLeftChanged=function(){if(this.eGui){var n=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=n+"px"}},i.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?bt(this.colsSpanning):this.column).getLeft()},i.prototype.modifyLeftForPrintLayout=function(n){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===St.PINNED_LEFT)return n;var a=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===St.PINNED_RIGHT?a+this.beans.columnModel.getBodyContainerWidth()+(n||0):a+(n||0)},i.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var n=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=n*this.rowSpan+"px",this.eGui.style.zIndex="1"}},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i}(yn),V1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),H1=function(u){function i(n,a){var c=u.call(this)||this;return c.staticClasses=[],c.cellCtrl=n,c.beans=a,c.column=n.getColumn(),c.rowNode=n.getRowNode(),c}return V1(i,u),i.prototype.setComp=function(n,a){this.cellComp=n,this.scope=a,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},i.prototype.applyCellClassRules=function(){var n=this,a=this.column.getColDef(),c={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:a,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(a.cellClassRules,c,function(d){return n.cellComp.addOrRemoveCssClass(d,!0)},function(d){return n.cellComp.addOrRemoveCssClass(d,!1)})},i.prototype.applyUserStyles=function(){var n=this.column.getColDef();if(n.cellStyle){var a;if("function"==typeof n.cellStyle){var c={column:this.column,value:this.cellCtrl.getValue(),colDef:n,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};a=(0,n.cellStyle)(c)}else a=n.cellStyle;this.cellComp.setUserStyles(a)}},i.prototype.applyClassesFromColDef=function(){var n=this,a=this.column.getColDef(),c={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:a,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(d){return n.cellComp.addOrRemoveCssClass(d,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(a,c),this.staticClasses.length&&this.staticClasses.forEach(function(d){return n.cellComp.addOrRemoveCssClass(d,!0)})},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i}(yn),K4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qh=function(u){function i(n,a){var c=u.call(this)||this;return c.ctrl=n,c.beans=a,c}return K4(i,u),i.prototype.setComp=function(n){this.comp=n,this.setupTooltip()},i.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},i.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},i.prototype.createTooltipFeatureIfNeeded=function(){var n=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new g1({getTooltipParams:function(){return n.getTooltipParams()},getGui:function(){return n.ctrl.getGui()}}),this.beans.context))},i.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},i.prototype.getTooltipParams=function(){var n=this.ctrl,a=n.getColumn?n.getColumn():void 0,c=n.getColDef?n.getColDef():void 0,d=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:c,column:a,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:d,data:d?d.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0}},i.prototype.getTooltipText=function(){return this.tooltip},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i}(yn),si=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},vu=function(){function u(){}return u.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},si([ce("resizeObserverService")],u.prototype,"resizeObserverService",void 0),si([ce("paginationProxy")],u.prototype,"paginationProxy",void 0),si([ce("context")],u.prototype,"context",void 0),si([ce("columnApi")],u.prototype,"columnApi",void 0),si([ce("gridApi")],u.prototype,"gridApi",void 0),si([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),si([ce("expressionService")],u.prototype,"expressionService",void 0),si([ce("rowRenderer")],u.prototype,"rowRenderer",void 0),si([ce("$compile")],u.prototype,"$compile",void 0),si([ce("templateService")],u.prototype,"templateService",void 0),si([ce("valueService")],u.prototype,"valueService",void 0),si([ce("eventService")],u.prototype,"eventService",void 0),si([ce("columnModel")],u.prototype,"columnModel",void 0),si([ce("headerNavigationService")],u.prototype,"headerNavigationService",void 0),si([ce("navigationService")],u.prototype,"navigationService",void 0),si([ce("columnAnimationService")],u.prototype,"columnAnimationService",void 0),si([Lt("rangeService")],u.prototype,"rangeService",void 0),si([ce("focusService")],u.prototype,"focusService",void 0),si([Lt("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),si([ce("popupService")],u.prototype,"popupService",void 0),si([ce("valueFormatterService")],u.prototype,"valueFormatterService",void 0),si([ce("stylingService")],u.prototype,"stylingService",void 0),si([ce("columnHoverService")],u.prototype,"columnHoverService",void 0),si([ce("userComponentFactory")],u.prototype,"userComponentFactory",void 0),si([ce("userComponentRegistry")],u.prototype,"userComponentRegistry",void 0),si([ce("animationFrameService")],u.prototype,"animationFrameService",void 0),si([ce("dragAndDropService")],u.prototype,"dragAndDropService",void 0),si([ce("sortController")],u.prototype,"sortController",void 0),si([ce("filterManager")],u.prototype,"filterManager",void 0),si([ce("rowContainerHeightService")],u.prototype,"rowContainerHeightService",void 0),si([ce("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),si([ce("cellPositionUtils")],u.prototype,"cellPositionUtils",void 0),si([ce("rowPositionUtils")],u.prototype,"rowPositionUtils",void 0),si([ce("selectionService")],u.prototype,"selectionService",void 0),si([Lt("selectionHandleFactory")],u.prototype,"selectionHandleFactory",void 0),si([ce("rowCssClassCalculator")],u.prototype,"rowCssClassCalculator",void 0),si([ce("rowModel")],u.prototype,"rowModel",void 0),si([ce("ctrlsService")],u.prototype,"ctrlsService",void 0),si([ce("ctrlsFactory")],u.prototype,"ctrlsFactory",void 0),si([ce("agStackComponentsRegistry")],u.prototype,"agStackComponentsRegistry",void 0),si([ce("valueCache")],u.prototype,"valueCache",void 0),si([ce("rowNodeEventThrottle")],u.prototype,"rowNodeEventThrottle",void 0),si([Gt],u.prototype,"postConstruct",null),si([bn("beans")],u)}(),$4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vv=function(u){function i(n,a,c){var d=u.call(this)||this;return d.cellCtrl=n,d.beans=a,d.column=c,d}return $4(i,u),i.prototype.onMouseEvent=function(n,a){if(!$i(a))switch(n){case"click":this.onCellClicked(a);break;case"mousedown":case"touchstart":this.onMouseDown(a);break;case"dblclick":this.onCellDoubleClicked(a);break;case"mouseout":this.onMouseOut(a);break;case"mouseover":this.onMouseOver(a)}},i.prototype.onCellClicked=function(n){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(n),void n.preventDefault();var a=this.beans,c=a.eventService,d=a.gridOptionsWrapper,v=this.cellCtrl.createEvent(n,Ye.EVENT_CELL_CLICKED);c.dispatchEvent(v);var C=this.column.getColDef();C.onCellClicked&&window.setTimeout(function(){return C.onCellClicked(v)},0),(d.isSingleClickEdit()||C.singleClickEdit)&&!d.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},i.prototype.isDoubleClickOnIPad=function(){if(!ni()||ko("dblclick"))return!1;var n=(new Date).getTime(),a=n-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=n,a},i.prototype.onCellDoubleClicked=function(n){var a=this.column.getColDef(),c=this.cellCtrl.createEvent(n,Ye.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(c),"function"==typeof a.onCellDoubleClicked&&window.setTimeout(function(){return a.onCellDoubleClicked(c)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,n)},i.prototype.onMouseDown=function(n){var a=n.ctrlKey,c=n.metaKey,d=n.shiftKey,v=n.target,C=this.beans,x=C.eventService,I=C.rangeService;if(!this.isRightClickInExistingRange(n)){var U=I&&0!=I.getCellRanges().length;if(!d||!U){var pe=an()&&!this.cellCtrl.isEditing()&&!ss(v);this.cellCtrl.focusCell(pe)}if(d&&U&&n.preventDefault(),!this.containsWidget(v)){if(I){var _e=this.cellCtrl.getCellPosition();d?I.extendLatestRangeToCell(_e):I.setRangeToCell(_e,a||c)}x.dispatchEvent(this.cellCtrl.createEvent(n,Ye.EVENT_CELL_MOUSE_DOWN))}}},i.prototype.isRightClickInExistingRange=function(n){var a=this.beans.rangeService;return!(!a||!a.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==n.button)},i.prototype.containsWidget=function(n){return K(n,"ag-selection-checkbox",3)},i.prototype.onMouseOut=function(n){if(!this.mouseStayingInsideCell(n)){var a=this.cellCtrl.createEvent(n,Ye.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.clearMouseOver()}},i.prototype.onMouseOver=function(n){if(!this.mouseStayingInsideCell(n)){var a=this.cellCtrl.createEvent(n,Ye.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(a),this.beans.columnHoverService.setMouseOver([this.column])}},i.prototype.mouseStayingInsideCell=function(n){if(!n.target||!n.relatedTarget)return!1;var a=this.cellCtrl.getGui(),c=a.contains(n.target),d=a.contains(n.relatedTarget);return c&&d},i.prototype.destroy=function(){},i}(vu),q4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hv=function(u){function i(n,a,c,d,v,C){var x=u.call(this)||this;return x.cellCtrl=n,x.beans=a,x.rowNode=d,x.rowCtrl=C,x}return q4(i,u),i.prototype.setComp=function(n){this.eGui=n},i.prototype.onKeyDown=function(n){var a=n.key;switch(a){case Rn.ENTER:this.onEnterKeyDown(n);break;case Rn.F2:this.onF2KeyDown(n);break;case Rn.ESCAPE:this.onEscapeKeyDown(n);break;case Rn.TAB:this.onTabKeyDown(n);break;case Rn.BACKSPACE:case Rn.DELETE:this.onBackspaceOrDeleteKeyPressed(a,n);break;case Rn.DOWN:case Rn.UP:case Rn.RIGHT:case Rn.LEFT:this.onNavigationKeyPressed(n,a)}},i.prototype.onNavigationKeyPressed=function(n,a){this.cellCtrl.isEditing()||(n.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(a):this.beans.navigationService.navigateToNextCell(n,a,this.cellCtrl.getCellPosition(),!0),n.preventDefault())},i.prototype.onShiftRangeSelect=function(n){if(this.beans.rangeService){var a=this.beans.rangeService.extendLatestRangeInDirection(n);a&&this.beans.navigationService.ensureCellVisible(a)}},i.prototype.onTabKeyDown=function(n){this.beans.navigationService.onTabKeyDown(this.cellCtrl,n)},i.prototype.onBackspaceOrDeleteKeyPressed=function(n,a){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(n,void 0,a)},i.prototype.onEnterKeyDown=function(n){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,Rn.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Rn.ENTER,void 0,n),this.cellCtrl.isEditing()&&n.preventDefault())},i.prototype.onF2KeyDown=function(n){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Rn.F2,void 0,n)},i.prototype.onEscapeKeyDown=function(n){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},i.prototype.onKeyPress=function(n){if(n.target===this.eGui&&!this.cellCtrl.isEditing()){var d=String.fromCharCode(n.charCode);" "===d?this.onSpaceKeyPressed(n):Oc(n)&&(this.cellCtrl.startRowOrCellEdit(null,d,n),n.preventDefault())}},i.prototype.onSpaceKeyPressed=function(n){var a=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&a.isRowSelection()){var c=this.rowNode.isSelected(),d=!c;if(d||!a.isSuppressRowDeselection()){var v=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),C=this.rowNode.setSelectedParams({newValue:d,rangeSelect:n.shiftKey,groupSelectsFiltered:v});void 0===c&&0===C&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:n.shiftKey,groupSelectsFiltered:v})}}n.preventDefault()},i.prototype.destroy=function(){},i}(yn),lc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),rf=function(u){function i(n,a,c,d){var v=u.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return v.rowNode=n,v.column=a,v.beans=c,v.eCell=d,v}return lc(i,u),i.prototype.postConstruct=function(){this.getGui().appendChild(Gr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(a){a.stopPropagation()}),this.addDragSource(),this.checkVisibility()},i.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},i.prototype.onDragStart=function(n){var a=this,c=this.column.getColDef().dndSourceOnRowDrag;n.dataTransfer.setDragImage(this.eCell,0,0),c?c({rowNode:this.rowNode,dragEvent:n}):function(){try{var v=JSON.stringify(a.rowNode.data);n.dataTransfer.setData("application/json",v),n.dataTransfer.setData("text/plain",v)}catch(C){}}()},i.prototype.checkVisibility=function(){var n=this.column.isDndSource(this.rowNode);this.setDisplayed(n)},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Gt],i.prototype,"postConstruct",null),i}(ai),af=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),G1=function(){return G1=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},G1.apply(this,arguments)},Qu="ag-cell-not-inline-editing",W1=0,Ul=function(u){function i(n,a,c,d){var v=u.call(this)||this;return v.suppressRefreshCell=!1,v.column=n,v.rowNode=a,v.beans=c,v.rowCtrl=d,v.instanceId=n.getId()+"-"+W1++,v.createCellPosition(),v.addFeatures(),v}return af(i,u),i.prototype.addFeatures=function(){var n=this;this.cellPositionFeature=new Vd(this,this.beans),this.addDestroyFunc(function(){return n.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new H1(this,this.beans),this.addDestroyFunc(function(){return n.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new Vv(this,this.beans,this.column),this.addDestroyFunc(function(){return n.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new Hv(this,this.beans,this.column,this.rowNode,this.scope,this.rowCtrl),this.addDestroyFunc(function(){return n.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new z1(this.beans,this),this.addDestroyFunc(function(){return n.cellRangeFeature.destroy()})),this.addTooltipFeature()},i.prototype.addTooltipFeature=function(){var n=this;this.tooltipFeature=new Qh({getColumn:function(){return n.column},getColDef:function(){return n.column.getColDef()},getRowIndex:function(){return n.cellPosition.rowIndex},getRowNode:function(){return n.rowNode},getGui:function(){return n.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var d=n.column.getColDef(),v=n.rowNode.data;if(d.tooltipField&&ue(v))return Kr(v,d.tooltipField,n.column.isTooltipFieldContainsDots());var C=d.tooltipValueGetter;return C?C({location:"cell",api:n.beans.gridOptionsWrapper.getApi(),columnApi:n.beans.gridOptionsWrapper.getColumnApi(),context:n.beans.gridOptionsWrapper.getContext(),colDef:n.column.getColDef(),column:n.column,rowIndex:n.cellPosition.rowIndex,node:n.rowNode,data:n.rowNode.data,value:n.value,valueFormatted:n.valueFormatted}):null},getValueFormatted:function(){return n.valueFormatted}},this.beans),this.addDestroyFunc(function(){return n.tooltipFeature.destroy()})},i.prototype.setComp=function(n,a,c,d,v,C){this.cellComp=n,this.gow=this.beans.gridOptionsWrapper,this.scope=a,this.eGui=c,this.eCellWrapper=d,this.printLayout=v,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var x=Co(this.column.getId());this.cellComp.setColId(x),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(c),this.cellCustomStyleFeature.setComp(n,a),this.tooltipFeature.setComp(n),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(n,c),C&&this.isCellEditable()?this.startEditing():this.showValue()},i.prototype.setupAutoHeight=function(){var n=this;if(this.column.isAutoHeight()){var a=this.eCellWrapper,c=a.parentElement,d=this.beans.gridOptionsWrapper.getRowHeightAsNumber(),v=function(I){if(!n.editing){var U=n.beans.gridOptionsWrapper.getDocument();if((!U||!U.contains(a))&&I<5)return void n.beans.frameworkOverrides.setTimeout(function(){return v(I+1)},0);var pe=ie(c),sn=Math.max(a.offsetHeight+pe.paddingTop+pe.paddingBottom,d);n.rowNode.setRowAutoHeight(sn,n.column)}},C=function(){return v(0)};C();var x=this.beans.resizeObserverService.observeResize(a,C);this.addDestroyFunc(function(){x(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.showValue=function(n){void 0===n&&(n=!1);var a=null!=this.valueFormatted?this.valueFormatted:this.value,c=this.createCellRendererParams(),d=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),c);this.cellComp.setRenderDetails(d,a,n),this.refreshHandle()},i.prototype.setupControlComps=function(){var n=this.column.getColDef();this.includeSelection=this.isIncludeControl(n.checkboxSelection),this.includeRowDrag=this.isIncludeControl(n.rowDrag),this.includeDndSource=this.isIncludeControl(n.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},i.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},i.prototype.isIncludeControl=function(n){return!(null!=this.rowNode.rowPinned||"function"!=typeof n&&!0!==n)},i.prototype.setupAriaExpanded=function(){var n=this,a=this.column.getColDef();if(this.rowNode.isExpandable()){var c=a.showRowGroup,d=this.rowNode.rowGroupColumn,v=!0===c,C=d&&d.getColId()===c;if(v||C){var I=function(){Ui(n.eGui,!!n.rowNode.expanded)};this.addManagedListener(this.rowNode,_i.EVENT_EXPANDED_CHANGED,I),I()}}},i.prototype.refreshShouldDestroy=function(){var n=this.column.getColDef(),a=this.includeSelection!=this.isIncludeControl(n.checkboxSelection),c=this.includeRowDrag!=this.isIncludeControl(n.rowDrag),d=this.includeDndSource!=this.isIncludeControl(n.dndSource);return a||c||d},i.prototype.startEditing=function(n,a,c,d){var v,C;if(void 0===n&&(n=null),void 0===a&&(a=null),void 0===c&&(c=!1),void 0===d&&(d=null),this.isCellEditable()&&!this.editing){var x=this.createCellEditorParams(n,a,c),I=this.column.getColDef(),U=this.beans.userComponentFactory.getCellEditorDetails(I,x),pe=null!=(null===(v=U)||void 0===v?void 0:v.popupFromSelector)?U.popupFromSelector:!!I.cellEditorPopup,_e=null!=(null===(C=U)||void 0===C?void 0:C.popupPositionFromSelector)?U.popupPositionFromSelector:I.cellEditorPopupPosition;this.setEditing(!0,pe),this.cellComp.setEditDetails(U,pe,_e);var it=this.createEvent(d,Ye.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(it)}},i.prototype.setEditing=function(n,a){void 0===a&&(a=!1),this.editing!==n&&(this.editing=n,this.editingInPopup=a,this.setInlineEditingClass())},i.prototype.stopRowOrCellEdit=function(n){void 0===n&&(n=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(n):this.stopEditing(n)},i.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},i.prototype.takeValueFromCellEditor=function(n){var a={newValueExists:!1};if(n)return a;var c=this.cellComp.getCellEditor();return c?c.isCancelAfterEnd&&c.isCancelAfterEnd()?a:{newValue:c.getValue(),newValueExists:!0}:a},i.prototype.saveNewValue=function(n,a){if(a!==n){if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return void this.dispatchEventForSaveValueReadOnly(n,a);this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,a),this.suppressRefreshCell=!1}},i.prototype.dispatchEventForSaveValueReadOnly=function(n,a){var c=this.rowNode,d={type:Ye.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:c.data,node:c,oldValue:n,newValue:a,value:a,source:void 0};this.beans.eventService.dispatchEvent(d)},i.prototype.stopEditing=function(n){if(void 0===n&&(n=!1),this.editing){var a=this.takeValueFromCellEditor(n),c=a.newValue,d=a.newValueExists,v=this.getValueFromValueService();d&&this.saveNewValue(v,c),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(v,c)}},i.prototype.dispatchEditingStoppedEvent=function(n,a){var c=G1(G1({},this.createEvent(null,Ye.EVENT_CELL_EDITING_STOPPED)),{oldValue:n,newValue:a});this.beans.eventService.dispatchEvent(c)},i.prototype.setInlineEditingClass=function(){if(this.isAlive()){var n=this.editing&&!this.editingInPopup,a=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",n),this.cellComp.addOrRemoveCssClass(Qu,!n),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",a),this.rowCtrl.setInlineEditingCss(this.editing)}},i.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},i.prototype.createCellEditorParams=function(n,a,c){var d={value:this.getValueFromValueService(),key:n,eventKey:n,charPress:a,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:c,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return this.scope&&(d.$scope=this.scope),d},i.prototype.createCellRendererParams=function(){var n=this,c={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(d){return n.beans.valueService.setValue(n.rowNode,n.column,d)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(d,v,C,x){return n.registerRowDragger(d,v,x)},addRowCompListener:function(d,v){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),n.rowCtrl.addEventListener(d,v)}};return this.scope&&(c.$scope=this.scope),c},i.prototype.parseValue=function(n){var a=this.column.getColDef(),c={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:n,colDef:a,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},d=a.valueParser;return ue(d)?this.beans.expressionService.evaluate(d,c):n},i.prototype.setFocusOutOnEditor=function(){if(this.editing){var n=this.cellComp.getCellEditor();n&&n.focusOut&&n.focusOut()}},i.prototype.setFocusInOnEditor=function(){if(this.editing){var n=this.cellComp.getCellEditor();n&&n.focusIn?n.focusIn():this.focusCell(!0)}},i.prototype.onCellChanged=function(n){this.cellComp&&n.column===this.column&&this.refreshCell({})},i.prototype.refreshCell=function(n){if(!this.suppressRefreshCell&&!this.editing){var a=this.column.getColDef(),c=null!=n&&!!n.newData,d=null!=n&&!!n.suppressFlash||!!a.suppressCellFlash,C=n&&n.forceRefresh||null==a.field&&null==a.valueGetter&&null==a.showRowGroup||c,x=this.updateAndFormatValue();if(C||x){this.showValue(c);var U=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!d&&!U&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||a.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},i.prototype.stopEditingAndFocus=function(n){void 0===n&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),n||this.navigateAfterEdit()},i.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,Rn.DOWN,this.getCellPosition(),!1)},i.prototype.flashCell=function(n){this.animateCell("data-changed",n&&n.flashDelay,n&&n.fadeDelay)},i.prototype.animateCell=function(n,a,c){var d=this,v="ag-cell-"+n,C="ag-cell-"+n+"-animation",x=this.beans.gridOptionsWrapper;a||(a=x.getCellFlashDelay()),ue(c)||(c=x.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(v,!0),this.cellComp.addOrRemoveCssClass(C,!1),window.setTimeout(function(){d.cellComp.addOrRemoveCssClass(v,!1),d.cellComp.addOrRemoveCssClass(C,!0),d.eGui.style.transition="background-color "+c+"ms",window.setTimeout(function(){d.cellComp.addOrRemoveCssClass(C,!1),d.eGui.style.transition=""},c)},a)},i.prototype.onFlashCells=function(n){if(this.cellComp){var a=this.beans.cellPositionUtils.createId(this.getCellPosition());n.cells[a]&&this.animateCell("highlight")}},i.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},i.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},i.prototype.formatValue=function(n){var a=this.callValueFormatter(n);return null!=a?a:n},i.prototype.callValueFormatter=function(n){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,n)},i.prototype.updateAndFormatValue=function(n){void 0===n&&(n=!1);var a=this.value,c=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!n||!this.valuesAreEqual(a,this.value)||this.valueFormatted!=c},i.prototype.valuesAreEqual=function(n,a){var c=this.column.getColDef();return c.equals?c.equals(n,a):n===a},i.prototype.getComp=function(){return this.cellComp},i.prototype.getValueFromValueService=function(){var n=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),a=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!n,c=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),d=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,a&&c&&!d)},i.prototype.getValue=function(){return this.value},i.prototype.getValueFormatted=function(){return this.valueFormatted},i.prototype.addDomData=function(){var n=this,a=this.getGui();this.beans.gridOptionsWrapper.setDomData(a,i.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return n.beans.gridOptionsWrapper.setDomData(a,i.DOM_DATA_KEY_CELL_CTRL,null)})},i.prototype.createEvent=function(n,a){var c={type:a,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:n,rowIndex:this.rowNode.rowIndex};return this.scope&&(c.$scope=this.scope),c},i.prototype.onKeyPress=function(n){this.cellKeyboardListenerFeature.onKeyPress(n)},i.prototype.onKeyDown=function(n){this.cellKeyboardListenerFeature.onKeyDown(n)},i.prototype.onMouseEvent=function(n,a){this.cellMouseListenerFeature.onMouseEvent(n,a)},i.prototype.getGui=function(){return this.eGui},i.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},i.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},i.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},i.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},i.prototype.setAriaColIndex=function(){var n=this.beans.columnModel.getAriaColumnIndex(this.column);fo(this.getGui(),n)},i.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},i.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},i.prototype.getColumn=function(){return this.column},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getBeans=function(){return this.beans},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.appendChild=function(n){this.eGui.appendChild(n)},i.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},i.prototype.getCellPosition=function(){return this.cellPosition},i.prototype.isEditing=function(){return this.editing},i.prototype.startRowOrCellEdit=function(n,a,c){void 0===c&&(c=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(n,a,this):this.startEditing(n,a,!0,c)},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},i.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},i.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},i.prototype.focusCell=function(n){void 0===n&&(n=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,n)},i.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var n=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",n)}},i.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var n=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",n)}},i.prototype.onCellFocused=function(n){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var a=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",a),a&&n&&n.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var d=this.beans.gridOptionsWrapper.isFullRowEdit();!a&&!d&&this.editing&&this.stopRowOrCellEdit()}},i.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},i.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Qu,!0);var n=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",n),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!n)},i.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var n=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",n)}},i.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},i.prototype.setWrapText=function(){var n=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",n)},i.prototype.dispatchCellContextMenuEvent=function(n){var a=this.column.getColDef(),c=this.createEvent(n,Ye.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(c),a.onCellContextMenu&&window.setTimeout(function(){return a.onCellContextMenu(c)},0)},i.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},i.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},i.prototype.destroy=function(){u.prototype.destroy.call(this)},i.prototype.createSelectionCheckbox=function(){var n=new Fd;return this.beans.context.createBean(n),n.init({rowNode:this.rowNode,column:this.column}),n},i.prototype.createDndSource=function(){var n=new rf(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(n),n},i.prototype.registerRowDragger=function(n,a,c){var d=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(n,a);else{var v=this.createRowDragComp(n,a,c);v&&(this.customRowDragComp=v,this.addDestroyFunc(function(){return d.beans.context.destroyBean(v)}))}},i.prototype.createRowDragComp=function(n,a,c){var d=this,v=this.beans.gridOptionsWrapper.isPagination(),C=this.beans.gridOptionsWrapper.isRowDragManaged(),x=this.beans.gridOptionsWrapper.isRowModelDefault();if(C){if(!x)return void Qn(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(v)return void Qn(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var I=new A1(function(){return d.value},this.rowNode,this.column,n,a,c);return this.beans.context.createBean(I),I},i.DOM_DATA_KEY_CELL_CTRL="cellCtrl",i}(yn),sf=function(){return sf=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},sf.apply(this,arguments)},Jh=function(){function u(){}return u.createChildScopeOrNull=function(i,n,a){if(!a.isAngularCompileRows())return null;var d=n.$new();return d.data=sf({},i.data),d.rowNode=i,d.context=a.getContext(),{scope:d,scopeDestroyFunc:function(){d.$destroy(),d.data=null,d.rowNode=null,d.context=null}}},u}(),Hd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ds=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Uv=function(u){function i(n){var a=u.call(this)||this;return a.element=n,a}return Hd(i,u),i.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},i.prototype.addKeyboardEvents=function(){var n=this;["keydown","keypress"].forEach(function(c){var d=n.processKeyboardEvent.bind(n,c);n.addManagedListener(n.element,c,d)})},i.prototype.addMouseListeners=function(){var n=this;["dblclick","contextmenu","mouseover","mouseout","click",ko("touchstart")?"touchstart":"mousedown"].forEach(function(d){var v=n.processMouseEvent.bind(n,d);n.addManagedListener(n.element,d,v)})},i.prototype.processMouseEvent=function(n,a){if(this.mouseEventService.isEventFromThisGrid(a)&&!$i(a)){var c=this.getRowForEvent(a),d=this.mouseEventService.getRenderedCellForEvent(a);"contextmenu"===n?this.handleContextMenuMouseEvent(a,null,c,d):(d&&d.onMouseEvent(n,a),c&&c.onMouseEvent(n,a))}},i.prototype.mockContextMenuForIPad=function(){var n=this;if(ni()){var a=new Es(this.element);this.addManagedListener(a,Es.EVENT_LONG_TAP,function(d){var v=n.getRowForEvent(d.touchEvent),C=n.mouseEventService.getRenderedCellForEvent(d.touchEvent);n.handleContextMenuMouseEvent(null,d.touchEvent,v,C)}),this.addDestroyFunc(function(){return a.destroy()})}},i.prototype.getRowForEvent=function(n){for(var a=n.target;a;){var c=this.gridOptionsWrapper.getDomData(a,Vc.DOM_DATA_KEY_ROW_CTRL);if(c)return c;a=a.parentElement}return null},i.prototype.handleContextMenuMouseEvent=function(n,a,c,d){var v=c?c.getRowNode():null,C=d?d.getColumn():null,x=null;C&&(d.dispatchCellContextMenuEvent(n||a),x=this.valueService.getValue(C,v));var U=this.ctrlsService.getGridBodyCtrl(),pe=d?d.getGui():U.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(n,a,v,C,x,pe)},i.prototype.processKeyboardEvent=function(n,a){var c=Oo(this.gridOptionsWrapper,a,Ul.DOM_DATA_KEY_CELL_CTRL),d=Oo(this.gridOptionsWrapper,a,Vc.DOM_DATA_KEY_ROW_CTRL);a.defaultPrevented||(c?this.processCellKeyboardEvent(c,n,a):d&&d.isFullWidth()&&this.processFullWidthRowKeyboardEvent(d,n,a))},i.prototype.processCellKeyboardEvent=function(n,a,c){var d=n.getRowNode(),v=n.getColumn(),C=n.isEditing();if(!Tc(this.gridOptionsWrapper,c,d,v,C))switch(a){case"keydown":!C&&this.navigationService.handlePageScrollingKey(c)||n.onKeyDown(c),this.doGridOperations(c,n.isEditing());break;case"keypress":n.onKeyPress(c)}if("keydown"===a){var U=n.createEvent(c,Ye.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(U)}if("keypress"===a){var pe=n.createEvent(c,Ye.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(pe)}},i.prototype.processFullWidthRowKeyboardEvent=function(n,a,c){var d=n.getRowNode(),v=this.focusService.getFocusedCell();if(!Tc(this.gridOptionsWrapper,c,d,v&&v.column,!1)&&"keydown"===a)switch(c.key){case Rn.UP:case Rn.DOWN:n.onKeyboardNavigate(c);break;case Rn.TAB:n.onTabKeyDown(c)}if("keydown"===a){var U=n.createRowEvent(Ye.EVENT_CELL_KEY_DOWN,c);this.eventService.dispatchEvent(U)}if("keypress"===a){var pe=n.createRowEvent(Ye.EVENT_CELL_KEY_PRESS,c);this.eventService.dispatchEvent(pe)}},i.prototype.doGridOperations=function(n,a){if((n.ctrlKey||n.metaKey)&&!a&&this.mouseEventService.isEventFromThisGrid(n))switch(n.key.toUpperCase()){case Rn.A:return this.onCtrlAndA(n);case Rn.C:return this.onCtrlAndC(n);case Rn.V:return this.onCtrlAndV();case Rn.D:return this.onCtrlAndD(n);case Rn.Z:return n.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Rn.Y:return this.undoRedoService.redo()}},i.prototype.onCtrlAndA=function(n){var a=this,c=a.pinnedRowModel,v=a.rangeService,C=St.PINNED_BOTTOM,x=St.PINNED_TOP;if(v&&a.paginationProxy.isRowsToRender()){var I=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d}([c.isEmpty(x),c.isEmpty(C)],2),_e=I[0]?null:x,it=void 0,xt=void 0;I[1]?(it=null,xt=this.paginationProxy.getRowCount()-1):(it=C,xt=c.getPinnedBottomRowData().length-1);var Ut=this.columnModel.getAllDisplayedColumns();if(De(Ut))return;v.setCellRange({rowStartIndex:0,rowStartPinned:_e,rowEndIndex:xt,rowEndPinned:it,columnStart:Ut[0],columnEnd:bt(Ut)})}n.preventDefault()},i.prototype.onCtrlAndC=function(n){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),n.preventDefault())},i.prototype.onCtrlAndV=function(){jn.isRegistered(_n.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},i.prototype.onCtrlAndD=function(n){jn.isRegistered(_n.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),n.preventDefault()},Ds([ce("mouseEventService")],i.prototype,"mouseEventService",void 0),Ds([ce("valueService")],i.prototype,"valueService",void 0),Ds([Lt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Ds([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Ds([ce("navigationService")],i.prototype,"navigationService",void 0),Ds([ce("focusService")],i.prototype,"focusService",void 0),Ds([ce("undoRedoService")],i.prototype,"undoRedoService",void 0),Ds([ce("columnModel")],i.prototype,"columnModel",void 0),Ds([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),Ds([ce("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ds([Lt("rangeService")],i.prototype,"rangeService",void 0),Ds([Lt("clipboardService")],i.prototype,"clipboardService",void 0),Ds([Gt],i.prototype,"postConstruct",null),i}(yn),j1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),cc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Q4=function(u){function i(n){var a=u.call(this)||this;return a.centerContainerCon=n,a}return j1(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(){n.gridBodyCon=n.ctrlsService.getGridBodyCtrl(),n.listenForResize()}),this.addManagedListener(this.eventService,Ye.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},i.prototype.listenForResize=function(){var n=this.onCenterViewportResized.bind(this);this.centerContainerCon.registerViewportResizeListener(n),this.gridBodyCon.registerBodyViewportResizeListener(n)},i.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},i.prototype.onCenterViewportResized=function(){if(this.centerContainerCon.isViewportVisible()){this.checkViewportAndScrolls();var n=this.centerContainerCon.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},i.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCon.getScrollFeature().checkScrollLeft()},i.prototype.getBodyHeight=function(){return this.bodyHeight},i.prototype.checkBodyHeight=function(){var a=Kt(this.gridBodyCon.getBodyViewportElement());this.bodyHeight!==a&&(this.bodyHeight=a,this.eventService.dispatchEvent({type:Ye.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},i.prototype.updateScrollVisibleServiceImpl=function(){var n={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCon.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(n),this.gridBodyCon.setVerticalScrollPaddingVisible(n.verticalScrollShowing)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCon.isViewportHScrollShowing()},i.prototype.onHorizontalViewportChanged=function(){var n=this.centerContainerCon.getCenterWidth(),a=this.centerContainerCon.getViewportScrollLeft();this.columnModel.setViewportPosition(n,a)},cc([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),cc([ce("columnModel")],i.prototype,"columnModel",void 0),cc([ce("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),cc([ce("columnApi")],i.prototype,"columnApi",void 0),cc([ce("gridApi")],i.prototype,"gridApi",void 0),cc([Gt],i.prototype,"postConstruct",null),i}(yn),Yv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),U1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},lf=function(u){function i(n){var a=u.call(this)||this;return a.element=n,a}return Yv(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ye.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},i.prototype.onPinnedLeftWidthChanged=function(){var n=this.pinnedWidthService.getPinnedLeftWidth(),a=n>0;Di(this.element,a),a&&tn(this.element,n)},U1([ce("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),U1([Gt],i.prototype,"postConstruct",null),i}(yn),Y1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Gd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},cf=function(u){function i(n){var a=u.call(this)||this;return a.element=n,a}return Y1(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ye.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},i.prototype.onPinnedRightWidthChanged=function(){var n=this.pinnedWidthService.getPinnedRightWidth(),a=n>0;Di(this.element,a),a&&tn(this.element,n)},Gd([ce("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Gd([Gt],i.prototype,"postConstruct",null),i}(yn),J4=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),uf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Bd=function(u){function i(n,a){var c=u.call(this)||this;return c.eContainer=n,c.eWrapper=a,c}return J4(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ye.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},i.prototype.onHeightChanged=function(){var n=this.maxDivHeightScaler.getUiContainerHeight(),a=null!=n?n+"px":"";this.eContainer.style.height=a,this.eWrapper&&(this.eWrapper.style.height=a)},uf([ce("rowContainerHeightService")],i.prototype,"maxDivHeightScaler",void 0),uf([Gt],i.prototype,"postConstruct",null),i}(yn),Kv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),K1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},e2=function(u){function i(n){var a=u.call(this)||this;return a.eContainer=n,a}return Kv(i,u),i.prototype.postConstruct=function(){var n=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!at(this.rangeService)){var a={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(a),this.addDestroyFunc(function(){return n.dragService.removeDragSource(a)})}},K1([Lt("rangeService")],i.prototype,"rangeService",void 0),K1([ce("dragService")],i.prototype,"dragService",void 0),K1([Gt],i.prototype,"postConstruct",null),i}(yn),Yl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$v=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Go=function(u){function i(n){var a=u.call(this)||this;return a.callback=n,a}return Yl(i,u),i.prototype.postConstruct=function(){var n=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,hr.PROP_DOM_LAYOUT,n),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.setWidth()},i.prototype.setWidth=function(){var n=this.columnModel,a=this.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_PRINT,c=n.getBodyContainerWidth(),d=n.getDisplayedColumnsLeftWidth(),v=n.getDisplayedColumnsRightWidth();this.callback(a?c+d+v:c)},$v([ce("columnModel")],i.prototype,"columnModel",void 0),$v([Gt],i.prototype,"postConstruct",null),i}(yn),t2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},z3=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Ln=(()=>(function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth",u.TOP_LEFT="topLeft",u.TOP_RIGHT="topRight",u.TOP_CENTER="topCenter",u.TOP_FULL_WIDTH="topFullWidth",u.BOTTOM_LEFT="bottomLeft",u.BOTTOM_RIGHT="bottomRight",u.BOTTOM_CENTER="bottomCenter",u.BOTTOM_FULL_WIDTH="bottomFullWidth"}(Ln||(Ln={})),Ln))(),Os=(()=>(function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth"}(Os||(Os={})),Os))(),yu=Ta([[Ln.CENTER,"ag-center-cols-container"],[Ln.LEFT,"ag-pinned-left-cols-container"],[Ln.RIGHT,"ag-pinned-right-cols-container"],[Ln.FULL_WIDTH,"ag-full-width-container"],[Ln.TOP_CENTER,"ag-floating-top-container"],[Ln.TOP_LEFT,"ag-pinned-left-floating-top"],[Ln.TOP_RIGHT,"ag-pinned-right-floating-top"],[Ln.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Ln.BOTTOM_CENTER,"ag-floating-bottom-container"],[Ln.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Ln.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Ln.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),li=Ta([[Ln.CENTER,"ag-center-cols-viewport"],[Ln.TOP_CENTER,"ag-floating-top-viewport"],[Ln.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Xv=Ta([[Ln.CENTER,"ag-center-cols-clipper"]]),df=function(u){function i(n){var a=u.call(this)||this;return a.name=n,a}return t2(i,u),i.getRowContainerCssClasses=function(n){return{container:yu.get(n),viewport:li.get(n),wrapper:Xv.get(n)}},i.getPinned=function(n){switch(n){case Ln.BOTTOM_LEFT:case Ln.TOP_LEFT:case Ln.LEFT:return St.PINNED_LEFT;case Ln.BOTTOM_RIGHT:case Ln.TOP_RIGHT:case Ln.RIGHT:return St.PINNED_RIGHT;default:return null}},i.prototype.postConstruct=function(){var n=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.addManagedListener(this.eventService,Ye.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_ROWS_CHANGED,this.onDisplayedRowsChanged.bind(this)),this.forContainers([Ln.CENTER],function(){return n.viewportSizeFeature=n.createManagedBean(new Q4(n))}),this.registerWithCtrlsService()},i.prototype.registerWithCtrlsService=function(){switch(this.name){case Ln.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Ln.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Ln.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Ln.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Ln.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Ln.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Ln.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Ln.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Ln.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},i.prototype.forContainers=function(n,a){n.indexOf(this.name)>=0&&a()},i.prototype.getContainerElement=function(){return this.eContainer},i.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},i.prototype.setComp=function(n,a,c,d){var v=this;this.comp=n,this.eContainer=a,this.eViewport=c,this.eWrapper=d,this.createManagedBean(new Uv(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var U=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(z3(arguments[i]));return u}([Ln.TOP_CENTER,Ln.TOP_LEFT,Ln.TOP_RIGHT],[Ln.BOTTOM_CENTER,Ln.BOTTOM_LEFT,Ln.BOTTOM_RIGHT],[Ln.CENTER,Ln.LEFT,Ln.RIGHT]),pe=[Ln.CENTER,Ln.LEFT,Ln.RIGHT,Ln.FULL_WIDTH],_e=[Ln.CENTER,Ln.TOP_CENTER,Ln.BOTTOM_CENTER],xt=[Ln.RIGHT,Ln.BOTTOM_RIGHT,Ln.TOP_RIGHT];this.forContainers([Ln.LEFT,Ln.BOTTOM_LEFT,Ln.TOP_LEFT],function(){return v.createManagedBean(new lf(v.eContainer))}),this.forContainers(xt,function(){return v.createManagedBean(new cf(v.eContainer))}),this.forContainers(pe,function(){return v.createManagedBean(new Bd(v.eContainer,v.eWrapper))}),this.forContainers(U,function(){return v.createManagedBean(new e2(v.eContainer))}),this.forContainers(_e,function(){return v.createManagedBean(new Go(function(Ut){return v.comp.setContainerWidth(Ut+"px")}))})},i.prototype.listenOnDomOrder=function(){var n=this,a=function(){return n.comp.setDomOrder(n.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,hr.PROP_DOM_LAYOUT,a),a()},i.prototype.stopHScrollOnPinnedRows=function(){var n=this;this.forContainers([Ln.TOP_CENTER,Ln.BOTTOM_CENTER],function(){n.addManagedListener(n.eViewport,"scroll",function(){return n.eViewport.scrollLeft=0})})},i.prototype.onDisplayedColumnsChanged=function(){var n=this;this.forContainers([Ln.CENTER],function(){return n.onHorizontalViewportChanged()})},i.prototype.onDisplayedColumnsWidthChanged=function(){var n=this;this.forContainers([Ln.CENTER],function(){return n.onHorizontalViewportChanged()})},i.prototype.onScrollVisibilityChanged=function(){if(this.name===Ln.CENTER){var a=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==a?"100%":"calc(100% + "+a+"px)")}},i.prototype.addPreventScrollWhileDragging=function(){var n=this,a=function(c){n.dragService.isDragging()&&c.cancelable&&c.preventDefault()};this.eContainer.addEventListener("touchmove",a,{passive:!1}),this.addDestroyFunc(function(){return n.eContainer.removeEventListener("touchmove",a)})},i.prototype.onHorizontalViewportChanged=function(){var n=this.getCenterWidth(),a=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,a)},i.prototype.getCenterWidth=function(){return Jn(this.eViewport)},i.prototype.getCenterViewportScrollLeft=function(){return wo(this.eViewport,this.enableRtl)},i.prototype.registerViewportResizeListener=function(n){var a=this.resizeObserverService.observeResize(this.eViewport,n);this.addDestroyFunc(function(){return a()})},i.prototype.isViewportVisible=function(){return Ve(this.eViewport)},i.prototype.isViewportHScrollShowing=function(){return dt(this.eViewport)},i.prototype.getViewportScrollLeft=function(){return wo(this.eViewport,this.enableRtl)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||dt(this.eViewport)},i.prototype.getViewportElement=function(){return this.eViewport},i.prototype.setContainerTranslateX=function(n){this.eContainer.style.transform="translateX("+n+"px)"},i.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},i.prototype.setCenterViewportScrollLeft=function(n){Ra(this.eViewport,n,this.enableRtl)},i.prototype.onDisplayedRowsChanged=function(){var n=this,a=this.name===Ln.TOP_FULL_WIDTH||this.name===Ln.BOTTOM_FULL_WIDTH||this.name===Ln.FULL_WIDTH,v=this.getRowCtrls().filter(function(C){var x=C.isFullWidth(),I=n.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_PRINT,U=n.embedFullWidthRows||I;return a?!U&&x:U||!x});this.comp.setRowCtrls(v)},i.prototype.getRowCtrls=function(){switch(this.name){case Ln.TOP_CENTER:case Ln.TOP_LEFT:case Ln.TOP_RIGHT:case Ln.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Ln.BOTTOM_CENTER:case Ln.BOTTOM_LEFT:case Ln.BOTTOM_RIGHT:case Ln.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},zc([ce("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),zc([ce("dragService")],i.prototype,"dragService",void 0),zc([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),zc([ce("columnModel")],i.prototype,"columnModel",void 0),zc([ce("resizeObserverService")],i.prototype,"resizeObserverService",void 0),zc([ce("rowRenderer")],i.prototype,"rowRenderer",void 0),zc([Gt],i.prototype,"postConstruct",null),i}(yn),hf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pf=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Xi=(()=>(function(u){u.Normal="Normal",u.FullWidth="FullWidth",u.FullWidthLoading="FullWidthLoading",u.FullWidthGroup="FullWidthGroup",u.FullWidthDetail="FullWidthDetail"}(Xi||(Xi={})),Xi))(),V3=0,Vc=function(u){function i(n,a,c,d,v,C){var x=u.call(this)||this;return x.allRowGuis=[],x.active=!0,x.centerCellCtrls={list:[],map:{}},x.leftCellCtrls={list:[],map:{}},x.rightCellCtrls={list:[],map:{}},x.lastMouseDownOnDragger=!1,x.updateColumnListsPending=!1,x.parentScope=n,x.beans=c,x.rowNode=a,x.paginationPage=x.beans.paginationProxy.getCurrentPage(),x.useAnimationFrameForCreate=v,x.printLayout=C,x.instanceId=a.id+"-"+V3++,x.setAnimateFlags(d),x.rowFocused=x.beans.focusService.isRowFocused(x.rowNode.rowIndex,x.rowNode.rowPinned),x.setupAngular1Scope(),x.rowLevel=x.beans.rowCssClassCalculator.calculateRowLevel(x.rowNode),x.setRowType(),x.addListeners(),x.setInitialRowTop(),x}return hf(i,u),i.prototype.getBeans=function(){return this.beans},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(n,a,c){var d={rowComp:n,element:a,containerType:c};this.allRowGuis.push(d),c===Os.LEFT?this.leftGui=d:c===Os.RIGHT?this.rightGui=d:c===Os.FULL_WIDTH?this.fullWidthGui=d:this.centerGui=d,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},i.prototype.isCacheable=function(){return this.rowType===Xi.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},i.prototype.setCached=function(n){var a=n?"none":"";this.allRowGuis.forEach(function(c){return c.element.style.display=a})},i.prototype.initialiseRowComps=function(){var n=this,a=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),a.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&Me(this.onTopChanged.bind(this)),this.fadeRowIn&&Me(function(){n.allRowGuis.forEach(function(C){return C.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var c=this.getRowBusinessKey(),d=Co(this.rowNode.id),v=Co(c);this.allRowGuis.forEach(function(C){var x=C.rowComp;x.setRole("row"),n.getInitialRowClasses(C.containerType).forEach(function(U){return x.addOrRemoveCssClass(U,!0)}),n.rowNode.group&&Ui(C.element,1==n.rowNode.expanded),null!=d&&x.setRowId(d),null!=v&&x.setRowBusinessKey(v),n.isFullWidth()&&!n.beans.gridOptionsWrapper.isSuppressCellFocus()&&x.setTabIndex(-1),a.setDomData(C.element,i.DOM_DATA_KEY_ROW_CTRL,n),n.addDestroyFunc(function(){return a.setDomData(C.element,i.DOM_DATA_KEY_ROW_CTRL,null)}),n.useAnimationFrameForCreate?n.beans.animationFrameService.createTask(n.addHoverFunctionality.bind(n,C.element),n.rowNode.rowIndex,"createTasksP2"):n.addHoverFunctionality(C.element),n.isFullWidth()&&n.setupFullWidth(C),a.isRowDragEntireRow()&&n.addRowDraggerToRow(C),n.useAnimationFrameForCreate&&n.beans.animationFrameService.addDestroyTask(function(){!n.isAlive()||C.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},i.prototype.addRowDraggerToRow=function(n){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())Qn(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var c=new A1(function(){return"1 row"},this.rowNode,void 0,n.element,void 0,!0);this.createManagedBean(c,this.beans.context)}},i.prototype.setupFullWidth=function(n){var a=this.getPinnedForContainer(n.containerType),c=this.createFullWidthParams(n.element,a),d=jn.isRegistered(_n.MasterDetailModule);if(this.rowType!=Xi.FullWidthDetail||d){var v;switch(this.rowType){case Xi.FullWidthDetail:v=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(c);break;case Xi.FullWidthGroup:v=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(c);break;case Xi.FullWidthLoading:v=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(c);break;default:v=this.beans.userComponentFactory.getFullWidthCellRendererDetails(c)}n.rowComp.showFullWidth(v)}else jn.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+_n.MasterDetailModule)},i.prototype.getScope=function(){return this.scope},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.setupAngular1Scope=function(){var n=Jh.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);n&&(this.scope=n.scope,this.addDestroyFunc(n.scopeDestroyFunc))},i.prototype.getCellElement=function(n){var a=this.getCellCtrl(n);return a?a.getGui():null},i.prototype.executeProcessRowPostCreateFunc=function(){var n=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();n&&n({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},i.prototype.setRowType=function(){var n=this.rowNode.stub,a=this.rowNode.isFullWidthCell(),c=this.beans.doingMasterDetail&&this.rowNode.detail,d=this.beans.columnModel.isPivotMode(),C=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(d);this.rowType=n?Xi.FullWidthLoading:c?Xi.FullWidthDetail:a?Xi.FullWidth:C?Xi.FullWidthGroup:Xi.Normal},i.prototype.updateColumnLists=function(n){var a=this;if(void 0===n&&(n=!1),!this.isFullWidth()){if(n||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!a.active||a.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},i.prototype.createCellCtrls=function(n,a,c){var d=this;void 0===c&&(c=null);var v={list:[],map:{}},C=function(x,I){v.list.push(I),v.map[x]=I};return a.forEach(function(x){var I=x.getInstanceId(),U=n.map[I];U||(U=new Ul(x,d.rowNode,d.beans,d)),C(I,U)}),n.list.forEach(function(x){if(null==v.map[x.getColumn().getInstanceId()]){if(!d.isCellEligibleToBeRemoved(x,c))return void C(x.getColumn().getInstanceId(),x);x.destroy()}}),v},i.prototype.updateColumnListsImpl=function(){var n=this;this.updateColumnListsPending=!1;var a=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,a.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var c=a.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c);var d=a.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,d,St.PINNED_LEFT);var v=a.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,v,St.PINNED_RIGHT)}this.allRowGuis.forEach(function(C){C.rowComp.setCellCtrls((C.containerType===Os.LEFT?n.leftCellCtrls:C.containerType===Os.RIGHT?n.rightCellCtrls:n.centerCellCtrls).list)})},i.prototype.isCellEligibleToBeRemoved=function(n,a){var c=!0;if(n.getColumn().getPinned()!=a)return c;var C=n.isEditing(),x=this.beans.focusService.isCellFocused(n.getCellPosition());if(C||x){var U=n.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(U)>=0)&&c}return c},i.prototype.setAnimateFlags=function(n){if(n){var a=ue(this.rowNode.oldRowTop);this.slideRowIn=a,this.fadeRowIn=!a}else this.slideRowIn=!1,this.fadeRowIn=!1},i.prototype.isEditing=function(){return this.editingRow},i.prototype.stopRowEditing=function(n){this.stopEditing(n)},i.prototype.isFullWidth=function(){return this.rowType!==Xi.Normal},i.prototype.getRowType=function(){return this.rowType},i.prototype.refreshFullWidth=function(){var n=this,a=function(I,U){if(!I)return!0;var pe=I.rowComp.getFullWidthCellRenderer();if(!pe||!pe.refresh)return!1;var _e=n.createFullWidthParams(I.element,U);return pe.refresh(_e)},c=a(this.fullWidthGui,null),d=a(this.centerGui,null),v=a(this.leftGui,St.PINNED_LEFT),C=a(this.rightGui,St.PINNED_RIGHT);return c&&d&&v&&C},i.prototype.addListeners=function(){this.addManagedListener(this.rowNode,_i.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,_i.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,Ye.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,Ye.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,Ye.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,Ye.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(n,Ye.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,Ye.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(n,Ye.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},i.prototype.onColumnMoved=function(){this.updateColumnLists()},i.prototype.addListenersForCellComps=function(){var n=this;this.addManagedListener(this.rowNode,_i.EVENT_ROW_INDEX_CHANGED,function(){n.getAllCellCtrls().forEach(function(a){return a.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,_i.EVENT_CELL_CHANGED,function(a){n.getAllCellCtrls().forEach(function(c){return c.onCellChanged(a)})})},i.prototype.onRowNodeDataChanged=function(n){this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!n.update,newData:!n.update})}),this.onRowSelected(),this.postProcessCss()},i.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},i.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},i.prototype.onRowNodeHighlightChanged=function(){var n=this.rowNode.highlighted;this.allRowGuis.forEach(function(a){var d=n===pu.Below;a.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n===pu.Above),a.rowComp.addOrRemoveCssClass("ag-row-highlight-below",d)})},i.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},i.prototype.postProcessRowDragging=function(){var n=this.rowNode.dragging;this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-row-dragging",n)})},i.prototype.updateExpandedCss=function(){var n=this.rowNode.isExpandable(),a=1==this.rowNode.expanded;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-group",n),c.rowComp.addOrRemoveCssClass("ag-row-group-expanded",n&&a),c.rowComp.addOrRemoveCssClass("ag-row-group-contracted",n&&!a),Ui(c.element,n&&a)})},i.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},i.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},i.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyboardNavigate=function(n){var a=this.allRowGuis.find(function(I){return I.element.contains(n.target)});if((a?a.element:null)===n.target){var v=this.rowNode,C=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(n,n.key,{rowIndex:v.rowIndex,rowPinned:v.rowPinned,column:C&&C.column},!0),n.preventDefault()}},i.prototype.onTabKeyDown=function(n){if(!n.defaultPrevented&&!$i(n)){var a=this.allRowGuis.find(function(C){return C.element.contains(n.target)}),c=a?a.element:null,d=c===n.target,v=null;d||(v=this.beans.focusService.findNextFocusableElement(c,!1,n.shiftKey)),(this.isFullWidth()&&d||!v)&&this.beans.navigationService.onTabKeyDown(this,n)}},i.prototype.onFullWidthRowFocused=function(n){var a,c=this.rowNode,d=this.isFullWidth()&&n.rowIndex===c.rowIndex&&n.rowPinned==c.rowPinned,v=this.fullWidthGui?this.fullWidthGui.element:null===(a=this.centerGui)||void 0===a?void 0:a.element;!v||(v.classList.toggle("ag-full-width-focus",d),d&&v.focus({preventScroll:!0}))},i.prototype.refreshCell=function(n){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,n),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,n),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,n),this.updateColumnLists()},i.prototype.removeCellCtrl=function(n,a){var c={list:[],map:{}};return n.list.forEach(function(d){d!==a&&(c.list.push(d),c.map[d.getInstanceId()]=d)}),c},i.prototype.onMouseEvent=function(n,a){switch(n){case"dblclick":this.onRowDblClick(a);break;case"click":this.onRowClick(a);break;case"touchstart":case"mousedown":this.onRowMouseDown(a)}},i.prototype.createRowEvent=function(n,a){return{type:n,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:a}},i.prototype.createRowEventWithSource=function(n,a){var c=this.createRowEvent(n,a);return c.source=this,c},i.prototype.onRowDblClick=function(n){if(!$i(n)){var a=this.createRowEventWithSource(Ye.EVENT_ROW_DOUBLE_CLICKED,n);this.beans.eventService.dispatchEvent(a)}},i.prototype.onRowMouseDown=function(n){if(this.lastMouseDownOnDragger=K(n.target,"ag-row-drag",3),this.isFullWidth()){var a=this.rowNode;this.beans.focusService.setFocusedCell(a.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],a.rowPinned,!0)}},i.prototype.onRowClick=function(n){if(!$i(n)&&!this.lastMouseDownOnDragger){var c=this.createRowEventWithSource(Ye.EVENT_ROW_CLICKED,n);this.beans.eventService.dispatchEvent(c);var d=n.ctrlKey||n.metaKey,v=n.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var x=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),I=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?x?this.rowNode.setSelectedParams({newValue:!1}):d?I&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!v,clearSelection:!v,rangeSelect:v}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!x&&!d,rangeSelect:v})}}},i.prototype.setupDetailRowAutoHeight=function(n){var a=this;if(this.rowType===Xi.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var c=function(){var v=n.clientHeight;null!=v&&v>0&&a.beans.frameworkOverrides.setTimeout(function(){a.rowNode.setRowHeight(v),a.beans.clientSideRowModel?a.beans.clientSideRowModel.onRowHeightChanged():a.beans.serverSideRowModel&&a.beans.serverSideRowModel.onRowHeightChanged()},0)},d=this.beans.resizeObserverService.observeResize(n,c);this.addDestroyFunc(d),c()}},i.prototype.createFullWidthParams=function(n,a){var c=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:n,eParentOfValue:n,pinned:a,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(v,C,x,I){return c.addFullWidthRowDragging(v,C,x,I)}}},i.prototype.addFullWidthRowDragging=function(n,a,c,d){if(void 0===c&&(c=""),this.isFullWidth()){var v=new A1(function(){return c},this.rowNode,void 0,n,a,d);this.createManagedBean(v,this.beans.context)}},i.prototype.onUiLevelChanged=function(){var n=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=n){var a="ag-row-level-"+n,c="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(d){d.rowComp.addOrRemoveCssClass(a,!0),d.rowComp.addOrRemoveCssClass(c,!1)})}this.rowLevel=n},i.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},i.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},i.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},i.prototype.refreshFirstAndLastRowStyles=function(){var n=this.isFirstRowOnPage(),a=this.isLastRowOnPage();this.firstRowOnPage!==n&&(this.firstRowOnPage=n,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-first",n)})),this.lastRowOnPage!==a&&(this.lastRowOnPage=a,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-last",a)}))},i.prototype.stopEditing=function(n){if(void 0===n&&(n=!1),this.getAllCellCtrls().forEach(function(c){return c.stopEditing(n)}),this.editingRow){if(!n){var a=this.createRowEvent(Ye.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(a)}this.setEditingRow(!1)}},i.prototype.setInlineEditingCss=function(n){this.allRowGuis.forEach(function(a){a.rowComp.addOrRemoveCssClass("ag-row-inline-editing",n),a.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!n)})},i.prototype.setEditingRow=function(n){this.editingRow=n,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-editing",n)});var a=this.createRowEvent(n?Ye.EVENT_ROW_EDITING_STARTED:Ye.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(a)},i.prototype.startRowEditing=function(n,a,c,d){void 0===n&&(n=null),void 0===a&&(a=null),void 0===c&&(c=null),void 0===d&&(d=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(v){var C=v===c;C?v.startEditing(n,a,C,d):v.startEditing(null,null,C,d)}),this.setEditingRow(!0))},i.prototype.getAllCellCtrls=function(){var n=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(pf(arguments[i]));return u}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return n},i.prototype.postProcessClassesFromGridOptions=function(){var n=this,a=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);!a||!a.length||a.forEach(function(c){n.allRowGuis.forEach(function(d){return d.rowComp.addOrRemoveCssClass(c,!0)})})},i.prototype.postProcessRowClassRules=function(){var n=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(a){n.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(a,!0)})},function(a){n.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(a,!1)})})},i.prototype.setStylesFromGridOptions=function(){var n=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(a){return a.rowComp.setUserStyles(n)})},i.prototype.getRowBusinessKey=function(){var n=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof n)return n(this.rowNode)},i.prototype.getPinnedForContainer=function(n){return n===Os.LEFT?St.PINNED_LEFT:n===Os.RIGHT?St.PINNED_RIGHT:null},i.prototype.getInitialRowClasses=function(n){var a=this.getPinnedForContainer(n),c={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope,pinned:a};return this.beans.rowCssClassCalculator.getInitialRowClasses(c)},i.prototype.processStylesFromGridOptions=function(){var n=this.beans.gridOptionsWrapper.getRowStyle();if(!n||"function"!=typeof n){var c,a=this.beans.gridOptionsWrapper.getRowStyleFunc();return a&&(c=a({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})),Object.assign({},n,c)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},i.prototype.onRowSelected=function(){var n=this,a=this.rowNode.isSelected();this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-selected",a),Ks(c.element,!!a||void 0);var d=n.createAriaLabel();xr(c.element,null==d?"":d)})},i.prototype.createAriaLabel=function(){var n=this.rowNode.isSelected();if(!n||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(n?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(n?"deselect":"select")+" this row.")},i.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},i.prototype.addHoverFunctionality=function(n){var a=this;!this.active||(this.addManagedListener(n,"mouseenter",function(){return a.rowNode.onMouseEnter()}),this.addManagedListener(n,"mouseleave",function(){return a.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,_i.EVENT_MOUSE_ENTER,function(){a.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||n.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,_i.EVENT_MOUSE_LEAVE,function(){n.classList.remove("ag-row-hover")}))},i.prototype.roundRowTopToBounds=function(n){var c=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.applyPaginationOffset(c.top,!0)-100,v=this.applyPaginationOffset(c.bottom,!0)+100;return Math.min(Math.max(d,n),v)},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var n=this.beans.gridOptionsWrapper.isGetRowHeightFunction(),a=this.rowNode.rowHeight,c=this.beans.gridOptionsWrapper.getDefaultRowHeight();this.allRowGuis.forEach(function(d){d.element.style.height=a+"px",n&&d.element.style.setProperty("--ag-row-height",Math.min(c,a)-2+"px")})}},i.prototype.addEventListener=function(n,a){("renderedRowRemoved"===n||"rowRemoved"===n)&&(n=Ye.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+Ye.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.addEventListener.call(this,n,a)},i.prototype.removeEventListener=function(n,a){("renderedRowRemoved"===n||"rowRemoved"===n)&&(n=Ye.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Ye.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.removeEventListener.call(this,n,a)},i.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var n=this.createRowEvent(Ye.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(n),this.beans.eventService.dispatchEvent(n),u.prototype.destroy.call(this)},i.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var a=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(a)}else this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},i.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var n=function(a){return a.list.forEach(function(c){return c.destroy()}),{list:[],map:{}}};this.centerCellCtrls=n(this.centerCellCtrls),this.leftCellCtrls=n(this.leftCellCtrls),this.rightCellCtrls=n(this.rightCellCtrls)},i.prototype.setFocusedClasses=function(){var n=this;this.allRowGuis.forEach(function(a){a.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),a.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},i.prototype.onCellFocusChanged=function(){var n=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editingRow&&this.stopEditing(!1)},i.prototype.onPaginationChanged=function(){var n=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==n&&(this.paginationPage=n,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},i.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},i.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},i.prototype.applyPaginationOffset=function(n,a){return void 0===a&&(a=!1),this.rowNode.isRowPinned()?n:n+this.beans.paginationProxy.getPixelOffset()*(a?1:-1)},i.prototype.setRowTop=function(n){if(!this.printLayout&&ue(n)){var a=this.applyPaginationOffset(n),c=this.rowNode.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a);this.setRowTopStyle(c+"px")}},i.prototype.getInitialRowTop=function(){return this.initialTop},i.prototype.getInitialTransform=function(){return this.initialTransform},i.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var n=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,a=this.applyPaginationOffset(n),d=(this.rowNode.isRowPinned()?a:this.beans.rowContainerHeightService.getRealPixelPosition(a))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=d:this.initialTransform="translateY("+d+")"},i.prototype.setRowTopStyle=function(n){var a=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(c){return a?c.rowComp.setTop(n):c.rowComp.setTransform("translateY("+n+")")})},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getCellCtrl=function(n){var a=null;return this.getAllCellCtrls().forEach(function(c){c.getColumn()==n&&(a=c)}),null!=a||this.getAllCellCtrls().forEach(function(c){c.getColSpanningList().indexOf(n)>=0&&(a=c)}),a},i.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},i.prototype.updateRowIndexes=function(){var n=this.rowNode.getRowIndexString(),a=this.beans.headerNavigationService.getHeaderRowCount(),c=this.rowNode.rowIndex%2==0,d=a+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(v){v.rowComp.setRowIndex(n),v.rowComp.addOrRemoveCssClass("ag-row-even",c),v.rowComp.addOrRemoveCssClass("ag-row-odd",!c),Fa(v.element,d)})},i.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},i.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},i.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},i.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},i.DOM_DATA_KEY_ROW_CTRL="renderedRow",i}(yn),so=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qa=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ea=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},ff=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(ea(arguments[i]));return u},uc=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.destroyFuncsForColumnListeners=[],n.rowCtrlsByRowIndex={},n.zombieRowCtrls={},n.allRowCtrls=[],n.topRowCtrls=[],n.bottomRowCtrls=[],n.refreshInProgress=!1,n}return so(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(){n.gridBodyCtrl=n.ctrlsService.getGridBodyCtrl(),n.initialise()})},i.prototype.initialise=function(){this.addManagedListener(this.eventService,Ye.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},i.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var n=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new $1(null!=n?n:3)}},i.prototype.getRowCtrls=function(){return this.allRowCtrls},i.prototype.updateAllRowCtrls=function(){var n=ri(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&n.sort(function(d,v){return d.getRowNode().rowIndex-v.getRowNode.rowIndex});var a=ri(this.zombieRowCtrls),c=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=ff(n,a,c)},i.prototype.registerCellEventListeners=function(){var n=this;this.addManagedListener(this.eventService,Ye.EVENT_CELL_FOCUSED,function(c){n.getAllCellCtrls().forEach(function(d){return d.onCellFocused(c)}),n.getFullWidthRowCtrls().forEach(function(d){d.onFullWidthRowFocused(c)})}),this.addManagedListener(this.eventService,Ye.EVENT_FLASH_CELLS,function(c){n.getAllCellCtrls().forEach(function(d){return d.onFlashCells(c)})}),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_HOVER_CHANGED,function(){n.getAllCellCtrls().forEach(function(c){return c.onColumnHover()})}),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){n.getAllCellCtrls().forEach(function(c){return c.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){n.printLayout&&n.getAllCellCtrls().forEach(function(c){return c.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Ye.EVENT_RANGE_SELECTION_CHANGED,function(){n.getAllCellCtrls().forEach(function(c){return c.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_MOVED,function(){n.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_PINNED,function(){n.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_VISIBLE,function(){n.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Ye.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},i.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(n){return n()}),this.destroyFuncsForColumnListeners.length=0},i.prototype.refreshListenersToColumnsForCellComps=function(){var n=this;this.removeGridColumnListeners();var a=this.columnModel.getAllGridColumns();!a||a.forEach(function(c){var d=function(U){n.getAllCellCtrls().forEach(function(pe){pe.getColumn()===c&&U(pe)})},v=function(){d(function(U){return U.onLeftChanged()})},C=function(){d(function(U){return U.onWidthChanged()})},x=function(){d(function(U){return U.onFirstRightPinnedChanged()})},I=function(){d(function(U){return U.onLastLeftPinnedChanged()})};c.addEventListener(Rt.EVENT_LEFT_CHANGED,v),c.addEventListener(Rt.EVENT_WIDTH_CHANGED,C),c.addEventListener(Rt.EVENT_FIRST_RIGHT_PINNED_CHANGED,x),c.addEventListener(Rt.EVENT_LAST_LEFT_PINNED_CHANGED,I),n.destroyFuncsForColumnListeners.push(function(){c.removeEventListener(Rt.EVENT_LEFT_CHANGED,v),c.removeEventListener(Rt.EVENT_WIDTH_CHANGED,C),c.removeEventListener(Rt.EVENT_FIRST_RIGHT_PINNED_CHANGED,x),c.removeEventListener(Rt.EVENT_LAST_LEFT_PINNED_CHANGED,I)})})},i.prototype.onDomLayoutChanged=function(){var n=this.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_PRINT,a=n||this.gridOptionsWrapper.isEmbedFullWidthRows(),c=a!==this.embedFullWidthRows||this.printLayout!==n;this.printLayout=n,this.embedFullWidthRows=a,c&&this.redrawAfterModelUpdate()},i.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var n=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(n)},i.prototype.onPageLoaded=function(n){this.redrawAfterModelUpdate({recycleRows:n.keepRenderedRows,animate:n.animate,newData:n.newData,newPage:n.newPage,onlyBody:!0})},i.prototype.getAllCellsForColumn=function(n){var a=[];return this.getAllRowCtrls().forEach(function(c){var d=c.getCellElement(n);d&&a.push(d)}),a},i.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},i.prototype.getTopRowCtrls=function(){return this.topRowCtrls},i.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},i.prototype.refreshFloatingRows=function(n,a){var c=this;n.forEach(function(d){d.destroyFirstPass(),d.destroySecondPass()}),n.length=0,a&&a.forEach(function(d){var v=new Vc(c.$scope,d,c.beans,!1,!1,c.printLayout);n.push(v)})},i.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},i.prototype.getRenderedIndexesForRowNodes=function(n){var a=[];return at(n)||qe(this.rowCtrlsByRowIndex,function(c,d){var v=d.getRowNode();n.indexOf(v)>=0&&a.push(c)}),a},i.prototype.redrawRows=function(n){var a=null!=n&&n.length>0;if(a){var c=this.getRenderedIndexesForRowNodes(n);this.removeRowCtrls(c)}this.redrawAfterModelUpdate({recycleRows:a})},i.prototype.getCellToRestoreFocusToAfterRefresh=function(n){var a=n.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==a)return null;var d=this.gridOptionsWrapper.getDocument().activeElement,v=this.gridOptionsWrapper.getDomData(d,Ul.DOM_DATA_KEY_CELL_CTRL),C=this.gridOptionsWrapper.getDomData(d,Vc.DOM_DATA_KEY_ROW_CTRL);return v||C?a:null},i.prototype.redrawAfterModelUpdate=function(n){void 0===n&&(n={}),this.getLockOnRefresh();var a=this.getCellToRestoreFocusToAfterRefresh(n);this.updateContainerHeights(),this.scrollToTopIfNewData(n);var c=!this.printLayout&&!!n.recycleRows,d=n.animate&&this.gridOptionsWrapper.isAnimateRows(),v=c?this.recycleRows():null;c||this.removeAllRowComps();var x=function(){if(null==a||null==v)return!1;var I=!1;return qe(v,function(U,pe){var _e=pe.getRowNode();_e.rowIndex==a.rowIndex&&_e.rowPinned==a.rowPinned&&(I=!0)}),I}();this.redraw(v,d),n.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),x||this.restoreFocusedCell(a),this.releaseLockOnRefresh()},i.prototype.scrollToTopIfNewData=function(n){var a=n.newData||n.newPage,c=this.gridOptionsWrapper.isSuppressScrollOnNewData();a&&!c&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},i.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var n=this.paginationProxy.getCurrentPageHeight();0===n&&(n=1),this.rowContainerHeightService.setModelHeight(n)}},i.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},i.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},i.prototype.restoreFocusedCell=function(n){n&&this.focusService.setFocusedCell(n.rowIndex,n.column,n.rowPinned,!0)},i.prototype.stopEditing=function(n){void 0===n&&(n=!1),this.getAllRowCtrls().forEach(function(a){a.stopEditing(n)})},i.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(n){return n.onNewColumnsLoaded()})},i.prototype.getAllCellCtrls=function(){var n=[];return this.getAllRowCtrls().forEach(function(a){return n=n.concat(a.getAllCellCtrls())}),n},i.prototype.getAllRowCtrls=function(){var n=this,a=ff(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(c){return a.push(n.rowCtrlsByRowIndex[c])}),a},i.prototype.addRenderedRowListener=function(n,a,c){var d=this.rowCtrlsByRowIndex[a];d&&d.addEventListener(n,c)},i.prototype.flashCells=function(n){void 0===n&&(n={});var a=n.flashDelay,c=n.fadeDelay;this.getCellCtrls(n.rowNodes,n.columns).forEach(function(d){return d.flashCell({flashDelay:a,fadeDelay:c})})},i.prototype.refreshCells=function(n){void 0===n&&(n={});var a={forceRefresh:n.force,newData:!1,suppressFlash:n.suppressFlash};this.getCellCtrls(n.rowNodes,n.columns).forEach(function(c){if(c.refreshShouldDestroy()){var d=c.getRowCtrl();d&&d.refreshCell(c)}else c.refreshCell(a)}),this.getFullWidthRowCtrls(n.rowNodes).forEach(function(c){c.refreshFullWidth()})},i.prototype.getCellRendererInstances=function(n){return this.getCellCtrls(n.rowNodes,n.columns).map(function(c){return c.getCellRenderer()}).filter(function(c){return null!=c})},i.prototype.getCellEditorInstances=function(n){var a=[];return this.getCellCtrls(n.rowNodes,n.columns).forEach(function(c){var d=c.getCellEditor();d&&a.push(d)}),a},i.prototype.getEditingCells=function(){var n=[];return this.getAllCellCtrls().forEach(function(a){if(a.isEditing()){var c=a.getCellPosition();n.push(c)}}),n},i.prototype.mapRowNodes=function(n){if(n){var a={top:{},bottom:{},normal:{}};return n.forEach(function(c){var d=c.id;c.rowPinned===St.PINNED_TOP?a.top[d]=c:c.rowPinned===St.PINNED_BOTTOM?a.bottom[d]=c:a.normal[d]=c}),a}},i.prototype.isRowInMap=function(n,a){var c=n.id,d=n.rowPinned;return d===St.PINNED_BOTTOM?null!=a.bottom[c]:d===St.PINNED_TOP?null!=a.top[c]:null!=a.normal[c]},i.prototype.getCellCtrls=function(n,a){var C,c=this,d=this.mapRowNodes(n),v=[];ue(a)&&(C={},a.forEach(function(I){var U=c.columnModel.getGridColumn(I);ue(U)&&(C[U.getId()]=!0)}));var x=function(I){var U=I.getRowNode();null!=d&&!c.isRowInMap(U,d)||I.getAllCellCtrls().forEach(function(pe){var _e=pe.getColumn().getId();C&&!C[_e]||v.push(pe)})};return qe(this.rowCtrlsByRowIndex,function(I,U){x(U)}),this.topRowCtrls&&this.topRowCtrls.forEach(x),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(x),v},i.prototype.destroy=function(){this.removeAllRowComps(),u.prototype.destroy.call(this)},i.prototype.removeAllRowComps=function(){var n=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(n)},i.prototype.recycleRows=function(){var n=[];qe(this.rowCtrlsByRowIndex,function(c,d){null==d.getRowNode().id&&n.push(c)}),this.removeRowCtrls(n);var a={};return qe(this.rowCtrlsByRowIndex,function(c,d){var v=d.getRowNode();a[v.id]=d}),this.rowCtrlsByRowIndex={},a},i.prototype.removeRowCtrls=function(n){var a=this;n.forEach(function(c){var d=a.rowCtrlsByRowIndex[c];d&&(d.destroyFirstPass(),d.destroySecondPass()),delete a.rowCtrlsByRowIndex[c]})},i.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},i.prototype.removeRowCompsNotToDraw=function(n){var a={};n.forEach(function(v){return a[v]=!0});var d=Object.keys(this.rowCtrlsByRowIndex).filter(function(v){return!a[v]});this.removeRowCtrls(d)},i.prototype.calculateIndexesToDraw=function(n){var a=this,c=Bu(this.firstRenderedRow,this.lastRenderedRow),d=function(v,C){var x=C.getRowNode().rowIndex;null!=x&&(x<a.firstRenderedRow||x>a.lastRenderedRow)&&a.doNotUnVirtualiseRow(C)&&c.push(x)};return qe(this.rowCtrlsByRowIndex,d),qe(n,d),c.sort(function(v,C){return v-C}),c},i.prototype.redraw=function(n,a,c){var d=this;void 0===a&&(a=!1),void 0===c&&(c=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var v=this.calculateIndexesToDraw(n);this.removeRowCompsNotToDraw(v),this.printLayout&&(a=!1);var C=[];v.forEach(function(I){var U=d.createOrUpdateRowCtrl(I,n,a,c);ue(U)&&C.push(U)}),n&&(!c||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(n,a):this.beans.animationFrameService.addDestroyTask(function(){d.destroyRowCtrls(n,a),d.updateAllRowCtrls(),d.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.checkAngularCompile(),this.gridBodyCtrl.updateRowCount()},i.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:Ye.EVENT_DISPLAYED_ROWS_CHANGED})},i.prototype.onDisplayedColumnsChanged=function(){var n=this.columnModel.isPinningLeft(),a=this.columnModel.isPinningRight();(this.pinningLeft!==n||a!==this.pinningRight)&&(this.pinningLeft=n,this.pinningRight=a,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},i.prototype.redrawFullWidthEmbeddedRows=function(){var n=[];this.getFullWidthRowCtrls().forEach(function(a){var c=a.getRowNode().rowIndex;n.push(c.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(n),this.redrawAfterScroll()},i.prototype.getFullWidthRowCtrls=function(n){var a=this,c=this.mapRowNodes(n);return ri(this.rowCtrlsByRowIndex).filter(function(d){if(!d.isFullWidth())return!1;var v=d.getRowNode();return!(null!=c&&!a.isRowInMap(v,c))})},i.prototype.refreshFullWidthRows=function(n){var a=[],c=!!n,d=c?{}:void 0;c&&d&&n.forEach(function(v){return d[v.id]=!0}),this.getFullWidthRowCtrls().forEach(function(v){var C=v.getRowNode();if((!c||!d||d[C.id]||d[C.level>0&&C.parent?C.parent.id:void 0])&&!v.refreshFullWidth()){var pe=v.getRowNode().rowIndex;a.push(pe.toString())}}),this.removeRowCtrls(a),this.redrawAfterScroll()},i.prototype.createOrUpdateRowCtrl=function(n,a,c,d){var v,C=this.rowCtrlsByRowIndex[n];if(C||ue(v=this.paginationProxy.getRow(n))&&ue(a)&&a[v.id]&&v.alreadyRendered&&(C=a[v.id],a[v.id]=null),!C){if(v||(v=this.paginationProxy.getRow(n)),!ue(v))return;C=this.createRowCon(v,c,d)}return v&&(v.alreadyRendered=!0),this.rowCtrlsByRowIndex[n]=C,C},i.prototype.destroyRowCtrls=function(n,a){var c=this,d=[];qe(n,function(v,C){if(C){if(c.cachedRowCtrls&&C.isCacheable())return void c.cachedRowCtrls.addRow(C);C.destroyFirstPass(),a?(c.zombieRowCtrls[C.getInstanceId()]=C,d.push(function(){C.destroySecondPass(),delete c.zombieRowCtrls[C.getInstanceId()]})):C.destroySecondPass()}}),a&&(d.push(function(){c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()}),Re(d))},i.prototype.checkAngularCompile=function(){var n=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){n.$scope.$apply()},0)},i.prototype.workOutFirstAndLastRowsToRender=function(){var a,c,n=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)a=this.paginationProxy.getPageFirstRow(),c=this.paginationProxy.getPageLastRow();else{var d=this.gridOptionsWrapper.getRowBufferInPixels(),v=this.ctrlsService.getGridBodyCtrl(),C=this.gridOptionsWrapper.isSuppressRowVirtualisation(),x=!1,I=void 0,U=void 0;do{var pe=this.paginationProxy.getPixelOffset(),_e=this.paginationProxy.getCurrentPagePixelRange(),it=_e.pageFirstPixel,xt=_e.pageLastPixel,Ut=this.rowContainerHeightService.getDivStretchOffset();if(C)I=it+Ut,U=xt+Ut;else{var sn=v.getScrollFeature().getVScrollPosition(),En=sn.bottom;I=Math.max(sn.top+pe-d,it)+Ut,U=Math.min(En+pe+d,xt)+Ut}x=this.ensureAllRowsInRangeHaveHeightsCalculated(I,U)}while(x);var xn=this.paginationProxy.getRowIndexAtPixel(I),er=this.paginationProxy.getRowIndexAtPixel(U),Ar=this.paginationProxy.getPageFirstRow(),hi=this.paginationProxy.getPageLastRow();xn<Ar&&(xn=Ar),er>hi&&(er=hi),a=xn,c=er}else a=0,c=-1;var vi=this.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_NORMAL,ei=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),Br=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(vi&&!ei&&c-a>Br&&(c=a+Br),(a!==this.firstRenderedRow||c!==this.lastRenderedRow)&&(this.firstRenderedRow=a,this.lastRenderedRow=c,this.eventService.dispatchEvent({type:Ye.EVENT_VIEWPORT_CHANGED,firstRow:a,lastRow:c,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var Sl={type:Ye.EVENT_FIRST_DATA_RENDERED,firstRow:a,lastRow:c,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return n.eventService.dispatchEventOnce(Sl)},50)}},i.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(n,a){var c=this.paginationProxy.ensureRowHeightsValid(n,a,-1,-1);return c&&this.updateContainerHeights(),c},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},i.prototype.doNotUnVirtualiseRow=function(n){var d=n.getRowNode(),v=this.focusService.isRowNodeFocused(d),C=n.isEditing();return!!(v||C||d.detail)&&!!this.paginationProxy.isRowPresent(d)},i.prototype.createRowCon=function(n,a,c){var d=this.cachedRowCtrls?this.cachedRowCtrls.getRow(n):null;if(d)return d;var v=this.gridOptionsWrapper.isSuppressAnimationFrame();return new Vc(this.$scope,n,this.beans,a,c&&!v&&!this.printLayout,this.printLayout)},i.prototype.getRenderedNodes=function(){var n=this.rowCtrlsByRowIndex;return Object.keys(n).map(function(a){return n[a].getRowNode()})},i.prototype.getRowByPosition=function(n){var a;switch(n.rowPinned){case St.PINNED_TOP:a=this.topRowCtrls[n.rowIndex];break;case St.PINNED_BOTTOM:a=this.bottomRowCtrls[n.rowIndex];break;default:a=this.rowCtrlsByRowIndex[n.rowIndex]}return a},i.prototype.getRowNode=function(n){switch(n.rowPinned){case St.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case St.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},i.prototype.isRangeInRenderedViewport=function(n,a){return!(null==n||null==a||a<this.firstRenderedRow||n>this.lastRenderedRow)},Qa([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),Qa([ce("columnModel")],i.prototype,"columnModel",void 0),Qa([ce("$scope")],i.prototype,"$scope",void 0),Qa([ce("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Qa([ce("rowModel")],i.prototype,"rowModel",void 0),Qa([ce("focusService")],i.prototype,"focusService",void 0),Qa([ce("columnApi")],i.prototype,"columnApi",void 0),Qa([ce("gridApi")],i.prototype,"gridApi",void 0),Qa([ce("beans")],i.prototype,"beans",void 0),Qa([ce("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Qa([Lt("ctrlsService")],i.prototype,"ctrlsService",void 0),Qa([Gt],i.prototype,"postConstruct",null),Qa([bn("rowRenderer")],i)}(yn),$1=function(){function u(i){this.entriesMap={},this.entriesList=[],this.maxCount=i}return u.prototype.addRow=function(i){if(this.entriesMap[i.getRowNode().id]=i,this.entriesList.push(i),i.setCached(!0),this.entriesList.length>this.maxCount){var n=this.entriesList[0];n.destroyFirstPass(),n.destroySecondPass(),this.removeFromCache(n)}},u.prototype.getRow=function(i){if(null==i||null==i.id)return null;var n=this.entriesMap[i.id];return n?(this.removeFromCache(n),n.setCached(!1),n.getRowNode()!=i?null:n):null},u.prototype.removeFromCache=function(i){var n=i.getRowNode().id;delete this.entriesMap[n],zn(this.entriesList,i)},u.prototype.getEntries=function(){return this.entriesList},u}(),H3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Wd=function(u){function i(n,a){var c=u.call(this,n)||this;return c.ctrl=a,c}return H3(i,u),i.prototype.getCtrl=function(){return this.ctrl},i}(ai),gf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ju=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},q1=function(u){function i(n){var a=u.call(this,i.TEMPLATE,n)||this;return a.headerCompVersion=0,a.column=n.getColumnGroupChild(),a.pinned=n.getPinned(),a}return gf(i,u),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),c=function(C,x,I){var U=I||a;null!=x&&""!=x?U.setAttribute(C,x):U.removeAttribute(C)};this.ctrl.setComp({setWidth:function(C){return a.style.width=C},addOrRemoveCssClass:function(C,x){return n.addOrRemoveCssClass(C,x)},setAriaSort:function(C){return C?Ed(a,C):Fh(a)},setColId:function(C){return c("col-id",C)},setTitle:function(C){return c("title",C)},setAriaDescribedBy:function(C){return eo(a,C)},setUserCompDetails:function(C){return n.setUserCompDetails(C)},getUserCompInstance:function(){return n.headerComp}},this.getGui(),this.eResize);var v=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",v)},i.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},i.prototype.setUserCompDetails=function(n){var a=this;this.headerCompVersion++;var c=this.headerCompVersion;n.newAgStackInstance().then(function(d){return a.afterCompCreated(c,d)})},i.prototype.afterCompCreated=function(n,a){n==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=a,this.headerCompGui=a.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(a)},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Ju([Pn("eResize")],i.prototype,"eResize",void 0),Ju([Gt],i.prototype,"postConstruct",null),Ju([vn],i.prototype,"destroyHeaderComp",null),i}(Wd),vf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),X1=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},r2=function(u){function i(n){return u.call(this,i.TEMPLATE,n)||this}return vf(i,u),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),c=function(v,C){return null!=C?a.setAttribute(v,C):a.removeAttribute(v)};this.ctrl.setComp({addOrRemoveCssClass:function(v,C){return n.addOrRemoveCssClass(v,C)},addOrRemoveResizableCssClass:function(v,C){return n.eResize.classList.toggle(v,C)},setWidth:function(v){return a.style.width=v},setColId:function(v){return a.setAttribute("col-id",v)},setAriaExpanded:function(v){return c("aria-expanded",v)},setTitle:function(v){return c("title",v)},setUserCompDetails:function(v){return n.setUserCompDetails(v)}},a,this.eResize)},i.prototype.setUserCompDetails=function(n){var a=this;n.newAgStackInstance().then(function(c){return a.afterHeaderCompCreated(c)})},i.prototype.afterHeaderCompCreated=function(n){var a=this,c=function(){return a.destroyBean(n)};this.isAlive()?(this.getGui().appendChild(n.getGui()),this.addDestroyFunc(c),this.ctrl.setDragSource(n.getGui())):c()},i.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',X1([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),X1([Pn("eResize")],i.prototype,"eResize",void 0),X1([Gt],i.prototype,"postConstruct",null),i}(Wd),Ts=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Js=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Kl=function(u){function i(n){return u.call(this,i.TEMPLATE,n)||this}return Ts(i,u),i.prototype.postConstruct=function(){var n=this,a=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(d,v){return n.addOrRemoveCssClass(d,v)},addOrRemoveBodyCssClass:function(d,v){return n.eFloatingFilterBody.classList.toggle(d,v)},addOrRemoveButtonWrapperCssClass:function(d,v){return n.eButtonWrapper.classList.toggle(d,v)},setCompDetails:function(d){return n.setCompDetails(d)},getFloatingFilterComp:function(){return n.compPromise},setWidth:function(d){return a.style.width=d},setMenuIcon:function(d){return n.eButtonShowMainFilter.appendChild(d)}},a,this.eButtonShowMainFilter,this.eFloatingFilterBody)},i.prototype.setCompDetails=function(n){var a=this;this.compPromise=n.newAgStackInstance(),this.compPromise.then(function(c){return a.afterCompCreated(c)})},i.prototype.afterCompCreated=function(n){var a=this;!n||(this.addDestroyFunc(function(){return a.context.destroyBean(n)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(n.getGui()),n.afterGuiAttached&&n.afterGuiAttached()))},i.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Js([Pn("eFloatingFilterBody")],i.prototype,"eFloatingFilterBody",void 0),Js([Pn("eButtonWrapper")],i.prototype,"eButtonWrapper",void 0),Js([Pn("eButtonShowMainFilter")],i.prototype,"eButtonShowMainFilter",void 0),Js([Gt],i.prototype,"postConstruct",null),i}(Wd),Zv=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),o2=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ki=(()=>(function(u){u.COLUMN_GROUP="group",u.COLUMN="column",u.FLOATING_FILTER="filter"}(ki||(ki={})),ki))(),E8=function(u){function i(n){var a=u.call(this)||this;a.headerComps={};var c=n.getType()==ki.COLUMN_GROUP?"ag-header-row-column-group":n.getType()==ki.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return a.setTemplate('<div class="ag-header-row '+c+'" role="row"></div>'),a.ctrl=n,a}return Zv(i,u),i.prototype.init=function(){var n=this;this.ctrl.setComp({setTransform:function(c){return n.getGui().style.transform=c},setHeight:function(c){return n.getGui().style.height=c},setTop:function(c){return n.getGui().style.top=c},setHeaderCtrls:function(c){return n.setHeaderCtrls(c)},setWidth:function(c){return n.getGui().style.width=c},setAriaRowIndex:function(c){return Fa(n.getGui(),c)}})},i.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},i.prototype.setHeaderCtrls=function(n){var a=this;if(this.isAlive()){var c=this.headerComps;if(this.headerComps={},n.forEach(function(x){var I=x.getInstanceId(),U=c[I];delete c[I],null==U&&(U=a.createHeaderComp(x),a.getGui().appendChild(U.getGui())),a.headerComps[I]=U}),qe(c,function(x,I){a.getGui().removeChild(I.getGui()),a.destroyBean(I)}),this.gridOptionsWrapper.isEnsureDomOrder()){var v=ri(this.headerComps);v.sort(function(x,I){return x.getCtrl().getColumnGroupChild().getLeft()-I.getCtrl().getColumnGroupChild().getLeft()});var C=v.map(function(x){return x.getGui()});L(this.getGui(),C)}}},i.prototype.createHeaderComp=function(n){var a;switch(this.ctrl.getType()){case ki.COLUMN_GROUP:a=new r2(n);break;case ki.FLOATING_FILTER:a=new Kl(n);break;default:a=new q1(n)}return this.createBean(a),a.setParentComponent(this),a},o2([Gt],i.prototype,"init",null),o2([vn],i.prototype,"destroyHeaderCtrls",null),i}(ai),Z1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$l=(()=>(function(u){u[u.UP=0]="UP",u[u.DOWN=1]="DOWN",u[u.LEFT=2]="LEFT",u[u.RIGHT=3]="RIGHT"}($l||($l={})),$l))(),mf=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Z1(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.gridBodyCon=a.gridBodyCtrl})},i.prototype.getHeaderRowCount=function(){var n=this.ctrlsService.getHeaderRowContainerCtrl();return n?n.getRowCount():0},i.prototype.getHeaderRowType=function(n){var a=this.ctrlsService.getHeaderRowContainerCtrl();if(a)return a.getRowType(n)},i.prototype.navigateVertically=function(n,a,c){if(a||(a=this.focusService.getFocusedHeader()),!a)return!1;var d=a.headerRowIndex,v=a.column,C=this.getHeaderRowCount(),x=n===$l.UP,I=x?d-1:d+1,U=null,pe=!1;I<0&&(I=0,U=v,pe=!0),I>=C&&(I=-1);var _e=this.getHeaderRowType(d);if(!pe){if(_e===ki.COLUMN_GROUP){var it=v;U=x?v.getParent():it.getDisplayedChildren()[0]}else _e===ki.FLOATING_FILTER?U=v:(it=v,U=x?it.getParent():it);if(!U)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:I,column:U},allowUserOverride:!0,event:c})},i.prototype.navigateHorizontally=function(n,a,c){void 0===a&&(a=!1);var x,I,d=this.focusService.getFocusedHeader();return(x=n===$l.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(d,I="Before"):this.headerPositionUtils.findHeader(d,I="After"))?this.focusService.focusHeaderPosition({headerPosition:x,direction:I,fromTab:a,allowUserOverride:!0,event:c}):!a||this.focusNextHeaderRow(d,I,c)},i.prototype.focusNextHeaderRow=function(n,a,c){var d=n.headerRowIndex,v=null;return"Before"===a?d>0&&(v=this.headerPositionUtils.findColAtEdgeForHeaderRow(d-1,"end")):v=this.headerPositionUtils.findColAtEdgeForHeaderRow(d+1,"start"),this.focusService.focusHeaderPosition({headerPosition:v,direction:a,fromTab:!0,allowUserOverride:!0,event:c})},i.prototype.scrollToColumn=function(n,a){if(void 0===a&&(a="After"),!n.getPinned()){var c;if(n instanceof Or){var d=n.getDisplayedLeafColumns();c="Before"===a?bt(d):d[0]}else c=n;this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Hc([ce("focusService")],i.prototype,"focusService",void 0),Hc([ce("headerPositionUtils")],i.prototype,"headerPositionUtils",void 0),Hc([ce("animationFrameService")],i.prototype,"animationFrameService",void 0),Hc([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Hc([Gt],i.prototype,"postConstruct",null),Hc([bn("headerNavigationService")],i)}(yn),D8=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qv=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},G3=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return D8(i,u),i.prototype.setComp=function(n,a,c){this.comp=n,this.eGui=a,this.createManagedBean(new Yo(c,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},i.prototype.setupHeaderHeight=function(){var n=this.setHeaderHeight.bind(this);n(),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_HEADER_HEIGHT,n),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_PIVOT_HEADER_HEIGHT,n),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_GROUP_HEADER_HEIGHT,n),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_PIVOT_GROUP_HEADER_HEIGHT,n),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_FLOATING_FILTERS_HEIGHT,n),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,n)},i.prototype.setHeaderHeight=function(){var C,x,I,a=this.columnModel,c=this.gridOptionsWrapper,d=0,v=a.getHeaderRowCount();a.isPivotMode()?(x=c.getPivotGroupHeaderHeight(),I=c.getPivotHeaderHeight()):(a.hasFloatingFilters()&&(v++,d=1),x=c.getGroupHeaderHeight(),I=c.getHeaderHeight());var _e=v-(1+d);C=d*c.getFloatingFiltersHeight(),C+=_e*x,this.comp.setHeightAndMinHeight((C+=I)+1+"px")},i.prototype.onPivotModeChanged=function(){var n=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",n),this.comp.addOrRemoveCssClass("ag-pivot-off",!n)},i.prototype.onTabKeyDown=function(n){var a=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(n.shiftKey!==a?$l.LEFT:$l.RIGHT,!0,n)||this.focusService.focusNextGridCoreContainer(n.shiftKey))&&n.preventDefault()},i.prototype.handleKeyDown=function(n){var a=null;switch(n.key){case Rn.LEFT:a=$l.LEFT;case Rn.RIGHT:ue(a)||(a=$l.RIGHT),this.headerNavigationService.navigateHorizontally(a,!1,n);break;case Rn.UP:a=$l.UP;case Rn.DOWN:ue(a)||(a=$l.DOWN),this.headerNavigationService.navigateVertically(a,null,n)&&n.preventDefault();break;default:return}},i.prototype.onFocusOut=function(n){var a=this.gridOptionsWrapper.getDocument(),c=n.relatedTarget;!c&&this.eGui.contains(a.activeElement)||this.eGui.contains(c)||this.focusService.clearFocusedHeader()},Qv([ce("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Qv([ce("focusService")],i.prototype,"focusService",void 0),Qv([ce("columnModel")],i.prototype,"columnModel",void 0),Qv([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(yn),dc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Jv=function(){function u(i,n){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=i,this.eContainer=n,this.centerContainer=!ue(i)}return u.prototype.init=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},u.prototype.getIconName=function(){return this.pinned?La.ICON_PINNED:La.ICON_MOVE},u.prototype.onDragEnter=function(i){var n=i.dragItem.columns;if(i.dragSource.type===Qs.ToolPanel)this.setColumnsVisible(n,!0,"uiColumnDragged");else{var c=i.dragItem.visibleState,d=(n||[]).filter(function(v){return c[v.getId()]});this.setColumnsVisible(d,!0,"uiColumnDragged")}this.setColumnsPinned(n,this.pinned,"uiColumnDragged"),this.onDragging(i,!0)},u.prototype.onDragLeave=function(i){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!i.fromNudge){var a=i.dragSource.getDragItem();this.setColumnsVisible(a.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},u.prototype.setColumnsVisible=function(i,n,a){if(void 0===a&&(a="api"),i){var c=i.filter(function(d){return!d.getColDef().lockVisible});this.columnModel.setColumnsVisible(c,n,a)}},u.prototype.setColumnsPinned=function(i,n,a){if(void 0===a&&(a="api"),i){var c=i.filter(function(d){return!d.getColDef().lockPinned});this.columnModel.setColumnsPinned(c,n,a)}},u.prototype.onDragStop=function(){this.ensureIntervalCleared()},u.prototype.normaliseX=function(i){return this.gridOptionsWrapper.isEnableRtl()&&(i=this.eContainer.clientWidth-i),this.centerContainer&&(i+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),i},u.prototype.checkCenterForScrolling=function(i){if(this.centerContainer){var n=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),a=n+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=i<n+50,this.needToMoveLeft=i>a-50):(this.needToMoveLeft=i<n+50,this.needToMoveRight=i>a-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},u.prototype.onDragging=function(i,n){var a=this;if(void 0===n&&(n=!1),this.lastDraggingEvent=i,!at(i.hDirection)){var c=this.normaliseX(i.x);n||this.checkCenterForScrolling(c);var d=this.normaliseDirection(i.hDirection),v=i.dragSource.type,C=i.dragSource.getDragItem().columns;C=C.filter(function(x){return!x.getColDef().lockPinned||x.getPinned()==a.pinned}),this.attemptMoveColumns(v,C,d,c,n)}},u.prototype.normaliseDirection=function(i){if(!this.gridOptionsWrapper.isEnableRtl())return i;switch(i){case Gl.Left:return Gl.Right;case Gl.Right:return Gl.Left;default:console.error("AG Grid: Unknown direction "+i)}},u.prototype.calculateOldIndex=function(i){var n=this.columnModel.getAllGridColumns(),a=Mt(i.map(function(x){return n.indexOf(x)})),c=a[0];return bt(a)-c!=a.length-1?null:c},u.prototype.attemptMoveColumns=function(i,n,a,c,d){var v=a===Gl.Left,C=a===Gl.Right,x=n.slice();this.columnModel.sortColumnsLikeGridColumns(x);var I=this.calculateValidMoves(x,C,c),U=this.calculateOldIndex(x);if(0!==I.length){var pe=I[0],_e=null!==U&&!d;if(i==Qs.HeaderCell&&(_e=null!==U),!_e||!(v&&pe>=U||C&&pe<=U))for(var it=0;it<I.length;it++){var xt=I[it];if(this.columnModel.doesMovePassRules(x,xt))return void this.columnModel.moveColumns(x,xt,"uiColumnDragged")}}},u.prototype.calculateValidMoves=function(i,n,a){if(this.gridOptionsWrapper.isSuppressMovableColumns()||i.some(function(vi){return vi.getColDef().suppressMovable}))return[];var Ut,d=this.columnModel.getDisplayedColumns(this.pinned),v=this.columnModel.getAllGridColumns(),C=d.filter(function(vi){return Xr(i,vi)}),x=d.filter(function(vi){return!Xr(i,vi)}),I=v.filter(function(vi){return!Xr(i,vi)}),U=0,pe=a;if(n){var _e=0;C.forEach(function(vi){return _e+=vi.getActualWidth()}),pe-=_e}if(pe>0){for(var it=0;it<x.length&&!((pe-=x[it].getActualWidth())<0);it++)U++;n&&U++}U>0?Ut=I.indexOf(x[U-1])+1:-1===(Ut=I.indexOf(x[0]))&&(Ut=0);var qt=[Ut],En=function(vi,ei){return vi-ei};if(n){for(var xn=Ut+1,er=v.length-1;xn<=er;)qt.push(xn),xn++;qt.sort(En)}else{er=v.length-1;for(var Ar=v[xn=Ut];xn<=er&&this.isColumnHidden(d,Ar);)xn++,qt.push(xn),Ar=v[xn];for(xn=Ut-1;xn>=0;)qt.push(xn),xn--;qt.sort(En).reverse()}return qt},u.prototype.isColumnHidden=function(i,n){return i.indexOf(n)<0},u.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?La.ICON_LEFT:La.ICON_RIGHT,!0))},u.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(La.ICON_MOVE))},u.prototype.moveInterval=function(){var i;this.intervalCount++,(i=10+5*this.intervalCount)>100&&(i=100);var n=null,a=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?n=a.scrollHorizontally(-i):this.needToMoveRight&&(n=a.scrollHorizontally(i)),0!==n)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var d=this.lastDraggingEvent.dragItem.columns.filter(function(C){return!C.getColDef().lockPinned});d.length>0&&(this.dragAndDropService.setGhostIcon(La.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(d,this.needToMoveLeft?St.PINNED_LEFT:St.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},dc([ce("columnModel")],u.prototype,"columnModel",void 0),dc([ce("dragAndDropService")],u.prototype,"dragAndDropService",void 0),dc([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),dc([ce("ctrlsService")],u.prototype,"ctrlsService",void 0),dc([Gt],u.prototype,"init",null),u}(),e0=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},a2=function(){function u(i){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=i}return u.prototype.onDragEnter=function(i){var n=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var a=i.dragItem.columns;!a||a.forEach(function(c){!c.isPrimary()||c.isAnyFunctionActive()||(c.isAllowValue()?n.columnsToAggregate.push(c):c.isAllowRowGroup()?n.columnsToGroup.push(c):c.isAllowPivot()&&n.columnsToPivot.push(c))})}},u.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?La.ICON_PINNED:La.ICON_MOVE:null},u.prototype.onDragLeave=function(i){this.clearColumnsList()},u.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},u.prototype.onDragging=function(i){},u.prototype.onDragStop=function(i){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},e0([ce("columnModel")],u.prototype,"columnModel",void 0),e0([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),B3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),yl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},W3=function(u){function i(n,a){var c=u.call(this)||this;return c.pinned=n,c.eContainer=a,c}return B3(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){switch(n.pinned){case St.PINNED_LEFT:n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.leftRowContainerCtrl.getContainerElement()],[a.bottomLeftRowContainerCtrl.getContainerElement()],[a.topLeftRowContainerCtrl.getContainerElement()]];break;case St.PINNED_RIGHT:n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.rightRowContainerCtrl.getContainerElement()],[a.bottomRightRowContainerCtrl.getContainerElement()],[a.topRightRowContainerCtrl.getContainerElement()]];break;default:n.eSecondaryContainers=[[a.gridBodyCtrl.getBodyViewportElement(),a.centerRowContainerCtrl.getViewportElement()],[a.bottomCenterRowContainerCtrl.getViewportElement()],[a.topCenterRowContainerCtrl.getViewportElement()]]}})},i.prototype.isInterestedIn=function(n){return n===Qs.HeaderCell||n===Qs.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},i.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},i.prototype.getContainer=function(){return this.eContainer},i.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Jv(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new a2(this.pinned)),this.dragAndDropService.addDropTarget(this)},i.prototype.getIconName=function(){return this.currentDropListener.getIconName()},i.prototype.isDropColumnInPivotMode=function(n){return this.columnModel.isPivotMode()&&n.dragSource.type===Qs.ToolPanel},i.prototype.onDragEnter=function(n){this.currentDropListener=this.isDropColumnInPivotMode(n)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(n)},i.prototype.onDragLeave=function(n){this.currentDropListener.onDragLeave(n)},i.prototype.onDragging=function(n){this.currentDropListener.onDragging(n)},i.prototype.onDragStop=function(n){this.currentDropListener.onDragStop(n)},yl([ce("dragAndDropService")],i.prototype,"dragAndDropService",void 0),yl([ce("columnModel")],i.prototype,"columnModel",void 0),yl([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),yl([Gt],i.prototype,"postConstruct",null),yl([Gt],i.prototype,"init",null),i}(yn),Gc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),s2=0,zi=function(u){function i(n,a){var c=u.call(this)||this;return c.lastFocusEvent=null,c.columnGroupChild=n,c.parentRowCtrl=a,c.instanceId=n.getUniqueId()+"-"+s2++,c}return Gc(i,u),i.prototype.shouldStopEventPropagation=function(n){var a=this.focusService.getFocusedHeader();return xc(this.gridOptionsWrapper,n,a.headerRowIndex,a.column)},i.prototype.setGui=function(n){this.eGui=n,this.addDomData()},i.prototype.addDomData=function(){var n=this,a=i.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,a,this),this.addDestroyFunc(function(){return n.gridOptionsWrapper.setDomData(n.eGui,a,null)})},i.prototype.getGui=function(){return this.eGui},i.prototype.focus=function(n){return!!this.eGui&&(this.lastFocusEvent=n||null,this.eGui.focus(),!0)},i.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},i.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},i.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.getColumnGroupChild=function(){return this.columnGroupChild},i.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([ce("focusService")],i.prototype,"focusService",void 0),i}(yn),hc=(()=>(function(u){u[u.SINGLE_SHEET=0]="SINGLE_SHEET",u[u.MULTI_SHEET=1]="MULTI_SHEET"}(hc||(hc={})),hc))(),Lr=(()=>(function(u){u.EVERYTHING="group",u.FILTER="filter",u.SORT="sort",u.MAP="map",u.AGGREGATE="aggregate",u.PIVOT="pivot",u.NOTHING="nothing"}(Lr||(Lr={})),Lr))(),gi=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d};function ed(u){return null!=u&&null!=u.getFrameworkComponentInstance?u.getFrameworkComponentInstance():u}var Bc=function(){function u(){this.detailGridInfoMap={},this.destroyCalled=!1}return u.prototype.registerOverlayWrapperComp=function(i){this.overlayWrapperComp=i},u.prototype.registerSideBarComp=function(i){this.sideBarComp=i},u.prototype.init=function(){var i=this;switch(this.rowModel.getType()){case St.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case St.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case St.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},u.prototype.__getAlignedGridService=function(){return this.alignedGridsService},u.prototype.__getContext=function(){return this.context},u.prototype.addDetailGridInfo=function(i,n){this.detailGridInfoMap[i]=n},u.prototype.removeDetailGridInfo=function(i){this.detailGridInfoMap[i]=void 0},u.prototype.getDetailGridInfo=function(i){return this.detailGridInfoMap[i]},u.prototype.forEachDetailGridInfo=function(i){var n=0;qe(this.detailGridInfoMap,function(a,c){ue(c)&&(i(c,n),n++)})},u.prototype.getDataAsCsv=function(i){if(jn.assertRegistered(_n.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(i)},u.prototype.exportDataAsCsv=function(i){jn.assertRegistered(_n.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(i)},u.prototype.getExcelExportMode=function(i){var n=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},n,i).exportMode},u.prototype.getDataAsExcel=function(i){if(jn.assertRegistered(_n.ExcelExportModule,"api.getDataAsExcel")){var n=this.getExcelExportMode(i);return this.excelCreator.getFactoryMode(n)===hc.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(i)}},u.prototype.exportDataAsExcel=function(i){if(jn.assertRegistered(_n.ExcelExportModule,"api.exportDataAsExcel")){var n=this.getExcelExportMode(i);if(this.excelCreator.getFactoryMode(n)===hc.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(i)}},u.prototype.getSheetDataForExcel=function(i){if(jn.assertRegistered(_n.ExcelExportModule,"api.getSheetDataForExcel")){var n=this.getExcelExportMode(i);return this.excelCreator.setFactoryMode(hc.MULTI_SHEET,n),this.excelCreator.getSheetDataForExcel(i)}},u.prototype.getMultipleSheetsAsExcel=function(i){if(jn.assertRegistered(_n.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(i)},u.prototype.exportMultipleSheetsAsExcel=function(i){if(jn.assertRegistered(_n.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(i)},u.prototype.setEnterpriseDatasource=function(i){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(i)},u.prototype.setGridAriaProperty=function(i,n){if(i){var a=this.ctrlsService.getGridBodyCtrl().getGui(),c="aria-"+i;null===n?a.removeAttribute(c):a.setAttribute(c,n)}},u.prototype.setServerSideDatasource=function(i){this.serverSideRowModel?this.serverSideRowModel.setDatasource(i):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+St.ROW_MODEL_TYPE_SERVER_SIDE+"'")},u.prototype.setDatasource=function(i){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(i):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+St.ROW_MODEL_TYPE_INFINITE+"'")},u.prototype.setViewportDatasource=function(i){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(i):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+St.ROW_MODEL_TYPE_VIEWPORT+"'")},u.prototype.setRowData=function(i){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(i):(this.selectionService.reset(),this.clientSideRowModel.setRowData(i))},u.prototype.setFloatingTopRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(i)},u.prototype.setFloatingBottomRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(i)},u.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},u.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},u.prototype.getFloatingTopRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(i)},u.prototype.getFloatingBottomRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(i)},u.prototype.setPinnedTopRowData=function(i){this.pinnedRowModel.setPinnedTopRowData(i)},u.prototype.setPinnedBottomRowData=function(i){this.pinnedRowModel.setPinnedBottomRowData(i)},u.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},u.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},u.prototype.getPinnedTopRow=function(i){return this.pinnedRowModel.getPinnedTopRow(i)},u.prototype.getPinnedBottomRow=function(i){return this.pinnedRowModel.getPinnedBottomRow(i)},u.prototype.setColumnDefs=function(i,n){void 0===n&&(n="api"),this.columnModel.setColumnDefs(i,n)},u.prototype.setAutoGroupColumnDef=function(i,n){void 0===n&&(n="api"),this.gridOptionsWrapper.setProperty("autoGroupColumnDef",i,!0)},u.prototype.setDefaultColDef=function(i,n){void 0===n&&(n="api"),this.gridOptionsWrapper.setProperty("defaultColDef",i,!0)},u.prototype.expireValueCache=function(){this.valueCache.expire()},u.prototype.getVerticalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getVScrollPosition()},u.prototype.getHorizontalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getHScrollPosition()},u.prototype.setAlwaysShowHorizontalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",i)},u.prototype.setAlwaysShowVerticalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",i)},u.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},u.prototype.refreshCells=function(i){void 0===i&&(i={}),Array.isArray(i)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(i)},u.prototype.flashCells=function(i){void 0===i&&(i={}),this.rowRenderer.flashCells(i)},u.prototype.redrawRows=function(i){void 0===i&&(i={}),this.rowRenderer.redrawRows(i?i.rowNodes:void 0)},u.prototype.setFunctionsReadOnly=function(i){this.gridOptionsWrapper.setProperty("functionsReadOnly",i)},u.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){return i.refresh()})},u.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},u.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},u.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},u.prototype.getModel=function(){return this.rowModel},u.prototype.setRowNodeExpanded=function(i,n){i&&i.setExpanded(n)},u.prototype.onGroupExpandedOrCollapsed=function(i){at(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),ue(i)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:Lr.MAP})},u.prototype.refreshInMemoryRowModel=function(i){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(i)},u.prototype.refreshClientSideRowModel=function(i){at(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var n=Lr.EVERYTHING,a={group:Lr.EVERYTHING,filter:Lr.FILTER,map:Lr.MAP,aggregate:Lr.AGGREGATE,sort:Lr.SORT,pivot:Lr.PIVOT};if(ue(i)&&(n=a[i]),at(n))console.error("AG Grid: invalid step "+i+", available steps are "+Object.keys(a).join(", "));else{var c=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:c})}},u.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},u.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},u.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},u.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},u.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.getToolPanelInstance=function(i){if(this.sideBarComp)return ed(this.sideBarComp.getToolPanelInstance(i));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.addVirtualRowListener=function(i,n,a){"string"!=typeof i&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(i,n,a)},u.prototype.addRenderedRowListener=function(i,n,a){"virtualRowSelected"===i&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(i,n,a)},u.prototype.setQuickFilter=function(i){this.filterManager.setQuickFilter(i)},u.prototype.selectIndex=function(i,n,a){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),a&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(i,n)},u.prototype.deselectIndex=function(i,n){void 0===n&&(n=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(i)},u.prototype.selectNode=function(i,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),a&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!0,clearSelection:!n})},u.prototype.deselectNode=function(i,n){void 0===n&&(n=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),n&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!1})},u.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},u.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},u.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},u.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},u.prototype.recomputeAggregates=function(){at(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:Lr.AGGREGATE})},u.prototype.sizeColumnsToFit=function(){this.gridBodyCon.sizeColumnsToFit()},u.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},u.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},u.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},u.prototype.isNodeSelected=function(i){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),i.isSelected()},u.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},u.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},u.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},u.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},u.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},u.prototype.ensureColIndexVisible=function(i){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},u.prototype.ensureColumnVisible=function(i,n){void 0===n&&(n="auto"),this.gridBodyCon.getScrollFeature().ensureColumnVisible(i,n)},u.prototype.ensureIndexVisible=function(i,n){this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n)},u.prototype.ensureNodeVisible=function(i,n){void 0===n&&(n=null),this.gridBodyCon.getScrollFeature().ensureNodeVisible(i,n)},u.prototype.forEachLeafNode=function(i){at(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(i)},u.prototype.forEachNode=function(i){this.rowModel.forEachNode(i)},u.prototype.forEachNodeAfterFilter=function(i){at(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(i)},u.prototype.forEachNodeAfterFilterAndSort=function(i){at(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(i)},u.prototype.getFilterInstance=function(i,n){var a=this.getFilterInstanceImpl(i,function(d){if(n){var v=ed(d);n(v)}});return ed(a)},u.prototype.getFilterInstanceImpl=function(i,n){var a=this.columnModel.getPrimaryColumn(i);if(a){var c=this.filterManager.getFilterComponent(a,"NO_UI"),d=c&&c.resolveNow(null,function(v){return v});return d?setTimeout(n,0,d):c&&c.then(function(v){n(v)}),d}},u.prototype.destroyFilter=function(i){var n=this.columnModel.getPrimaryColumn(i);if(n)return this.filterManager.destroyFilter(n,"filterDestroyed")},u.prototype.getStatusPanel=function(i){if(this.statusBarService)return ed(this.statusBarService.getStatusPanel(i))},u.prototype.getColumnDef=function(i){var n=this.columnModel.getPrimaryColumn(i);return n?n.getColDef():null},u.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},u.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},u.prototype.onSortChanged=function(){this.sortController.onSortChanged()},u.prototype.setFilterModel=function(i){this.filterManager.setFilterModel(i)},u.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},u.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},u.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},u.prototype.setFocusedCell=function(i,n,a){this.focusService.setFocusedCell(i,n,a,!0)},u.prototype.setSuppressRowDrag=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_SUPPRESS_ROW_DRAG,i)},u.prototype.setSuppressMoveWhenRowDragging=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,i)},u.prototype.setSuppressRowClickSelection=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_SUPPRESS_ROW_CLICK_SELECTION,i)},u.prototype.addRowDropZone=function(i){this.gridBodyCon.getRowDragFeature().addRowDropZone(i)},u.prototype.removeRowDropZone=function(i){var n=this.dragAndDropService.findExternalZone(i);n&&this.dragAndDropService.removeDropTarget(n)},u.prototype.getRowDropZoneParams=function(i){return this.gridBodyCon.getRowDragFeature().getRowDropZone(i)},u.prototype.setHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_HEADER_HEIGHT,i)},u.prototype.setDomLayout=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_DOM_LAYOUT,i)},u.prototype.setEnableCellTextSelection=function(i){this.gridBodyCon.setCellTextSelection(i)},u.prototype.setFillHandleDirection=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_FILL_HANDLE_DIRECTION,i)},u.prototype.setGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GROUP_HEADER_HEIGHT,i)},u.prototype.setFloatingFiltersHeight=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_FLOATING_FILTERS_HEIGHT,i)},u.prototype.setPivotHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_PIVOT_HEADER_HEIGHT,i)},u.prototype.setPivotGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_PIVOT_GROUP_HEADER_HEIGHT,i)},u.prototype.setIsExternalFilterPresent=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_IS_EXTERNAL_FILTER_PRESENT,i)},u.prototype.setDoesExternalFilterPass=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_DOES_EXTERNAL_FILTER_PASS,i)},u.prototype.setNavigateToNextCell=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_NAVIGATE_TO_NEXT_CELL,i)},u.prototype.setTabToNextCell=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_TAB_TO_NEXT_CELL,i)},u.prototype.setTabToNextHeader=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_TAB_TO_NEXT_HEADER,i)},u.prototype.setNavigateToNextHeader=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_NAVIGATE_TO_NEXT_HEADER,i)},u.prototype.setGroupRowAggNodes=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GROUP_ROW_AGG_NODES,i)},u.prototype.setGetBusinessKeyForNode=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_BUSINESS_KEY_FOR_NODE,i)},u.prototype.setGetChildCount=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_CHILD_COUNT,i)},u.prototype.setProcessRowPostCreate=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_PROCESS_ROW_POST_CREATE,i)},u.prototype.setGetRowNodeId=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_ROW_NODE_ID,i)},u.prototype.setGetRowClass=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_ROW_CLASS,i)},u.prototype.setIsFullWidthCell=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_IS_FULL_WIDTH_CELL,i)},u.prototype.setIsRowSelectable=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_IS_ROW_SELECTABLE,i)},u.prototype.setIsRowMaster=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_IS_ROW_MASTER,i)},u.prototype.setPostSort=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_POST_SORT,i)},u.prototype.setGetDocument=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_DOCUMENT,i)},u.prototype.setGetContextMenuItems=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_CONTEXT_MENU_ITEMS,i)},u.prototype.setGetMainMenuItems=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_MAIN_MENU_ITEMS,i)},u.prototype.setProcessCellForClipboard=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_PROCESS_CELL_FOR_CLIPBOARD,i)},u.prototype.setSendToClipboard=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_SEND_TO_CLIPBOARD,i)},u.prototype.setProcessCellFromClipboard=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_PROCESS_CELL_FROM_CLIPBOARD,i)},u.prototype.setProcessSecondaryColDef=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_PROCESS_TO_SECONDARY_COLDEF,i)},u.prototype.setProcessSecondaryColGroupDef=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,i)},u.prototype.setPostProcessPopup=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_POST_PROCESS_POPUP,i)},u.prototype.setDefaultGroupOrderComparator=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,i)},u.prototype.setGetChartToolbarItems=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_CHART_TOOLBAR_ITEMS,i)},u.prototype.setPaginationNumberFormatter=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_PAGINATION_NUMBER_FORMATTER,i)},u.prototype.setGetServerSideStoreParams=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_SERVER_SIDE_STORE_PARAMS,i)},u.prototype.setIsServerSideGroupOpenByDefault=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,i)},u.prototype.setIsApplyServerSideTransaction=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,i)},u.prototype.setIsServerSideGroup=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_IS_SERVER_SIDE_GROUP,i)},u.prototype.setGetServerSideGroupKey=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_SERVER_SIDE_GROUP_KEY,i)},u.prototype.setGetRowStyle=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_ROW_STYLE,i)},u.prototype.setGetRowHeight=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GET_ROW_HEIGHT,i)},u.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},u.prototype.setSideBarVisible=function(i){this.sideBarComp?this.sideBarComp.setDisplayed(i):i&&console.warn("AG Grid: sideBar is not loaded")},u.prototype.setSideBarPosition=function(i){this.sideBarComp?this.sideBarComp.setSideBarPosition(i):console.warn("AG Grid: sideBar is not loaded")},u.prototype.openToolPanel=function(i){this.sideBarComp?this.sideBarComp.openToolPanel(i):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},u.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},u.prototype.setSideBar=function(i){this.gridOptionsWrapper.setProperty("sideBar",sc.parse(i))},u.prototype.setSuppressClipboardPaste=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_SUPPRESS_CLIPBOARD_PASTE,i)},u.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},u.prototype.doLayout=function(){Qn(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},u.prototype.resetRowHeights=function(){if(ue(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},u.prototype.setGroupRemoveSingleChildren=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GROUP_REMOVE_SINGLE_CHILDREN,i)},u.prototype.setGroupRemoveLowestSingleChildren=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,i)},u.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},u.prototype.getValue=function(i,n){var a=this.columnModel.getPrimaryColumn(i);return at(a)&&(a=this.columnModel.getGridColumn(i)),at(a)?null:this.valueService.getValue(a,n)},u.prototype.addEventListener=function(i,n){var a=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(i,n,a)},u.prototype.addGlobalListener=function(i){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(i,n)},u.prototype.removeEventListener=function(i,n){var a=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(i,n,a)},u.prototype.removeGlobalListener=function(i){var n=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(i,n)},u.prototype.dispatchEvent=function(i){this.eventService.dispatchEvent(i)},u.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy()}},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Ti.bind(window,this,"Grid API"),100)},u.prototype.warnIfDestroyed=function(i){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+i+" was called on a grid that was destroyed."),this.destroyCalled},u.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},u.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},u.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},u.prototype.camelCaseToHumanReadable=function(i){return Hs(i)},u.prototype.addRangeSelection=function(i){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},u.prototype.addCellRange=function(i){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(i)},u.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},u.prototype.undoCellEditing=function(){this.undoRedoService.undo()},u.prototype.redoCellEditing=function(){this.undoRedoService.redo()},u.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},u.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},u.prototype.getChartModels=function(){if(jn.assertRegistered(_n.RangeSelectionModule,"api.getChartModels")&&jn.assertRegistered(_n.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},u.prototype.getChartRef=function(i){if(jn.assertRegistered(_n.RangeSelectionModule,"api.getChartRef")&&jn.assertRegistered(_n.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(i)},u.prototype.getChartImageDataURL=function(i){if(jn.assertRegistered(_n.RangeSelectionModule,"api.getChartImageDataURL")&&jn.assertRegistered(_n.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(i)},u.prototype.createRangeChart=function(i){if(jn.assertRegistered(_n.RangeSelectionModule,"api.createRangeChart")&&jn.assertRegistered(_n.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(i)},u.prototype.createCrossFilterChart=function(i){if(jn.assertRegistered(_n.RangeSelectionModule,"api.createCrossFilterChart")&&jn.assertRegistered(_n.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(i)},u.prototype.restoreChart=function(i,n){if(jn.assertRegistered(_n.RangeSelectionModule,"api.restoreChart")&&jn.assertRegistered(_n.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(i,n)},u.prototype.createPivotChart=function(i){if(jn.assertRegistered(_n.RangeSelectionModule,"api.createPivotChart")&&jn.assertRegistered(_n.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(i)},u.prototype.copySelectedRowsToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(i)},u.prototype.copySelectedRangeToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(i)},u.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},u.prototype.showColumnMenuAfterButtonClick=function(i,n){var a=this.columnModel.getGridColumn(i);this.menuFactory.showMenuAfterButtonClick(a,n,"columnMenu")},u.prototype.showColumnMenuAfterMouseClick=function(i,n){var a=this.columnModel.getGridColumn(i);a||(a=this.columnModel.getPrimaryColumn(i)),a?this.menuFactory.showMenuAfterMouseEvent(a,n):console.error("AG Grid: column '"+i+"' not found")},u.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},u.prototype.setPopupParent=function(i){this.gridOptionsWrapper.setProperty(hr.PROP_POPUP_PARENT,i)},u.prototype.tabToNextCell=function(i){return this.navigationService.tabToNextCell(!1,i)},u.prototype.tabToPreviousCell=function(i){return this.navigationService.tabToNextCell(!0,i)},u.prototype.getCellRendererInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellRendererInstances(i).map(ed)},u.prototype.getCellEditorInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellEditorInstances(i).map(ed)},u.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},u.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.rowRenderer.stopEditing(i)},u.prototype.startEditingCell=function(i){var n=this.columnModel.getGridColumn(i.colKey);if(n){var a={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:n};null==i.rowPinned&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i.rowIndex);var d=this.navigationService.getCellByPosition(a);!d||d.startRowOrCellEdit(i.key,i.charPress)}else console.warn("AG Grid: no column found for "+i.colKey)},u.prototype.addAggFunc=function(i,n){this.aggFuncService&&this.aggFuncService.addAggFunc(i,n)},u.prototype.addAggFuncs=function(i){this.aggFuncService&&this.aggFuncService.addAggFuncs(i)},u.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},u.prototype.applyServerSideTransaction=function(i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(i);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyServerSideTransactionAsync=function(i,n){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(i,n);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},u.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyTransaction=function(i){if(this.clientSideRowModel){var n=this.clientSideRowModel.updateRowData(i);return this.rowRenderer.refreshFullWidthRows(n.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),n}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},u.prototype.updateRowData=function(i){return Qn(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(i)},u.prototype.applyTransactionAsync=function(i,n){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(i,n):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.batchUpdateRowData=function(i,n){Qn(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(i,n)},u.prototype.insertItemsAtIndex=function(i,n,a){void 0===a&&(a=!1),console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:n,addIndex:i,update:null,remove:null})},u.prototype.removeItems=function(i,n){void 0===n&&(n=!1),console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var a=i.map(function(c){return c.data});this.updateRowData({add:null,addIndex:null,update:null,remove:a})},u.prototype.addItems=function(i,n){void 0===n&&(n=!1),console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:i,addIndex:null,update:null,remove:null})},u.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},u.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},u.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeEnterpriseCache=function(i){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(i)},u.prototype.purgeServerSideCache=function(i){void 0===i&&(i=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:i,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},u.prototype.refreshServerSideStore=function(i){this.serverSideRowModel?this.serverSideRowModel.refreshStore(i):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},u.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},u.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},u.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},u.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},u.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},u.prototype.setVirtualRowCount=function(i,n){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(i,n)},u.prototype.setInfiniteRowCount=function(i,n){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(i,n)},u.prototype.setRowCount=function(i,n){this.infiniteRowModel?this.infiniteRowModel.setRowCount(i,n):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},u.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},u.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},u.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},u.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},u.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},u.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},u.prototype.getDisplayedRowAtIndex=function(i){return this.rowModel.getRow(i)},u.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},u.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},u.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},u.prototype.paginationSetPageSize=function(i){this.gridOptionsWrapper.setProperty("paginationPageSize",i)},u.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},u.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},u.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},u.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},u.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},u.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},u.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},u.prototype.paginationGoToPage=function(i){this.paginationProxy.goToPage(i)},gi([Lt("immutableService")],u.prototype,"immutableService",void 0),gi([Lt("csvCreator")],u.prototype,"csvCreator",void 0),gi([Lt("excelCreator")],u.prototype,"excelCreator",void 0),gi([ce("rowRenderer")],u.prototype,"rowRenderer",void 0),gi([ce("navigationService")],u.prototype,"navigationService",void 0),gi([ce("filterManager")],u.prototype,"filterManager",void 0),gi([ce("columnModel")],u.prototype,"columnModel",void 0),gi([ce("selectionService")],u.prototype,"selectionService",void 0),gi([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),gi([ce("valueService")],u.prototype,"valueService",void 0),gi([ce("alignedGridsService")],u.prototype,"alignedGridsService",void 0),gi([ce("eventService")],u.prototype,"eventService",void 0),gi([ce("pinnedRowModel")],u.prototype,"pinnedRowModel",void 0),gi([ce("context")],u.prototype,"context",void 0),gi([ce("rowModel")],u.prototype,"rowModel",void 0),gi([ce("sortController")],u.prototype,"sortController",void 0),gi([ce("paginationProxy")],u.prototype,"paginationProxy",void 0),gi([ce("focusService")],u.prototype,"focusService",void 0),gi([ce("dragAndDropService")],u.prototype,"dragAndDropService",void 0),gi([Lt("rangeService")],u.prototype,"rangeService",void 0),gi([Lt("clipboardService")],u.prototype,"clipboardService",void 0),gi([Lt("aggFuncService")],u.prototype,"aggFuncService",void 0),gi([ce("menuFactory")],u.prototype,"menuFactory",void 0),gi([Lt("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),gi([ce("valueCache")],u.prototype,"valueCache",void 0),gi([ce("animationFrameService")],u.prototype,"animationFrameService",void 0),gi([Lt("statusBarService")],u.prototype,"statusBarService",void 0),gi([Lt("chartService")],u.prototype,"chartService",void 0),gi([Lt("undoRedoService")],u.prototype,"undoRedoService",void 0),gi([Lt("rowNodeBlockLoader")],u.prototype,"rowNodeBlockLoader",void 0),gi([Lt("ssrmTransactionManager")],u.prototype,"serverSideTransactionManager",void 0),gi([ce("ctrlsService")],u.prototype,"ctrlsService",void 0),gi([Lt("frameworkComponentWrapper")],u.prototype,"frameworkComponentWrapper",void 0),gi([Gt],u.prototype,"init",null),gi([vn],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),gi([bn("gridApi")],u)}(),J1=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ud=function(u){function i(n,a,c,d){var v=u.call(this)||this;return v.columnOrGroup=n,v.eCell=a,v.ariaEl=v.eCell.querySelector("[role=columnheader]")||v.eCell,v.colsSpanning=d,v.beans=c,v}return J1(i,u),i.prototype.setColsSpanning=function(n){this.colsSpanning=n,this.onLeftChanged()},i.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?bt(this.colsSpanning):this.columnOrGroup},i.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Rt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,hr.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},i.prototype.setLeftFirstTime=function(){var n=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),a=ue(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&a&&!n?this.animateInLeft():this.onLeftChanged()},i.prototype.animateInLeft=function(){var n=this,a=this.getColumnOrGroup(),c=a.getLeft(),d=a.getOldLeft(),v=this.modifyLeftForPrintLayout(a,d),C=this.modifyLeftForPrintLayout(a,c);this.setLeft(v),this.actualLeft=C,this.beans.columnAnimationService.executeNextVMTurn(function(){n.actualLeft===C&&n.setLeft(C)})},i.prototype.onLeftChanged=function(){var n=this.getColumnOrGroup(),a=n.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(n,a),this.setLeft(this.actualLeft)},i.prototype.modifyLeftForPrintLayout=function(n,a){if(this.beans.gridOptionsWrapper.getDomLayout()!==St.DOM_LAYOUT_PRINT||n.getPinned()===St.PINNED_LEFT)return a;var d=this.beans.columnModel.getDisplayedColumnsLeftWidth();return n.getPinned()===St.PINNED_RIGHT?d+this.beans.columnModel.getBodyContainerWidth()+a:d+a},i.prototype.setLeft=function(n){var a;if(ue(n)&&(this.eCell.style.left=n+"px"),this.columnOrGroup instanceof Rt)a=this.columnOrGroup;else{var d=this.columnOrGroup.getLeafColumns();if(!d.length)return;d.length>1&&Gu(this.ariaEl,d.length),a=d[0]}var v=this.beans.columnModel.getAriaColumnIndex(a);fo(this.ariaEl,v)},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Gt],i.prototype,"postConstruct",null),i}(yn),pc=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),eg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Wc=function(u){function i(n,a){var c=u.call(this)||this;return c.columns=n,c.element=a,c}return pc(i,u),i.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},i.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},i.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},i.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},eg([ce("columnHoverService")],i.prototype,"columnHoverService",void 0),eg([Gt],i.prototype,"postConstruct",null),i}(yn),t0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),fc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Yd=function(u){function i(n,a){var c=u.call(this,n,a)||this;return c.column=n,c}return t0(i,u),i.prototype.setComp=function(n,a,c,d){u.prototype.setGui.call(this,a),this.comp=n,this.eButtonShowMainFilter=c,this.eFloatingFilterBody=d;var v=this.column.getColDef();this.active=!(!v.filter&&!v.filterFramework||!v.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},i.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var n=Gr("filter",this.gridOptionsWrapper,this.column);n&&this.eButtonShowMainFilter.appendChild(n)}},i.prototype.setupFocus=function(){this.createManagedBean(new Yo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.onTabKeyDown=function(n){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var v=this.focusService.findNextFocusableElement(this.eGui,null,n.shiftKey);if(v)return this.beans.headerNavigationService.scrollToColumn(this.column),n.preventDefault(),void v.focus();var C=this.findNextColumnWithFloatingFilter(n.shiftKey);!C||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:C},event:n})&&n.preventDefault()}},i.prototype.findNextColumnWithFloatingFilter=function(n){var a=this.beans.columnModel,c=this.column;do{if(!(c=n?a.getDisplayedColBefore(c):a.getDisplayedColAfter(c)))break}while(!c.getColDef().filter||!c.getColDef().floatingFilter);return c},i.prototype.handleKeyDown=function(n){var d=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(n.key){case Rn.UP:case Rn.DOWN:d||n.preventDefault();case Rn.LEFT:case Rn.RIGHT:if(d)return;n.stopPropagation();case Rn.ENTER:d&&this.focusService.focusInto(this.eGui)&&n.preventDefault();break;case Rn.ESCAPE:d||this.eGui.focus()}},i.prototype.onFocusIn=function(n){if(!this.eGui.contains(n.relatedTarget)){var c=!!n.relatedTarget&&!n.relatedTarget.classList.contains("ag-floating-filter"),d=!!n.relatedTarget&&K(n.relatedTarget,"ag-floating-filter");if(c&&d&&n.target===this.eGui){var v=this.lastFocusEvent;v&&v&&v.key===Rn.TAB&&this.focusService.focusInto(this.eGui,v.shiftKey)}var I=this.getRowIndex();this.beans.focusService.setFocusedHeader(I,this.column)}},i.prototype.setupHover=function(){var n=this;this.createManagedBean(new Wc([this.column],this.eGui));var a=function(){if(n.gridOptionsWrapper.isColumnHoverHighlight()){var c=n.columnHoverService.isHovered(n.column);n.comp.addOrRemoveCssClass("ag-column-hover",c)}};this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_HOVER_CHANGED,a),a()},i.prototype.setupLeft=function(){var n=new Ud(this.column,this.eGui,this.beans);this.createManagedBean(n)},i.prototype.setupUserComp=function(){var n=this;if(this.active){var a=this.column.getColDef(),c=this.filterManager.createFilterParams(this.column,a),d=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,$u,c),v=this.userComponentFactory.getDefaultFloatingFilterType(a);null==v&&(v="agReadOnlyFloatingFilter");var C={api:this.gridApi,column:this.column,filterParams:d,currentParentModel:function(){return n.currentParentModel()},parentFilterInstance:function(I){return n.parentFilterInstance(I)},showParentFilter:function(){return n.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!a.floatingFilterComponentParams&&!!a.floatingFilterComponentParams.suppressFilterButton;var x=this.userComponentFactory.getFloatingFilterCompDetails(a,C,v);x&&this.comp.setCompDetails(x)}},i.prototype.currentParentModel=function(){var n=this.getFilterComponent(!1);return n?n.resolveNow(null,function(a){return a&&a.getModel()}):null},i.prototype.getFilterComponent=function(n){return void 0===n&&(n=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",n)},i.prototype.parentFilterInstance=function(n){var a=this.getFilterComponent();null!=a&&a.then(function(c){n(ed(c))})},i.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},i.prototype.setupSyncWithFilter=function(){var n=this;if(this.active){var a=function(c){var d=n.comp.getFloatingFilterComp();if(d){var v=n.currentParentModel();d.then(function(C){C&&C.onParentModelChanged(v,c)})}};this.addManagedListener(this.column,Rt.EVENT_FILTER_CHANGED,a),this.filterManager.isFilterActive(this.column)&&a(null)}},i.prototype.setupWidth=function(){var n=this,a=function(){var c=n.column.getActualWidth()+"px";n.comp.setWidth(c)};this.addManagedListener(this.column,Rt.EVENT_WIDTH_CHANGED,a),a()},fc([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),fc([ce("filterManager")],i.prototype,"filterManager",void 0),fc([ce("columnHoverService")],i.prototype,"columnHoverService",void 0),fc([ce("gridApi")],i.prototype,"gridApi",void 0),fc([ce("menuFactory")],i.prototype,"menuFactory",void 0),fc([ce("beans")],i.prototype,"beans",void 0),i}(zi),tp=function(){function u(){}return u.getHeaderClassesFromColDef=function(i,n,a,c){return at(i)?[]:this.getColumnClassesFromCollDef(i.headerClass,i,n,a,c)},u.getToolPanelClassesFromColDef=function(i,n,a,c){return at(i)?[]:this.getColumnClassesFromCollDef(i.toolPanelClass,i,n,a,c)},u.getClassParams=function(i,n,a,c){return{colDef:i,column:a,columnGroup:c,context:n.getContext(),api:n.getApi()}},u.getColumnClassesFromCollDef=function(i,n,a,c,d){return at(i)?[]:"string"==typeof(v="function"==typeof i?i(this.getClassParams(n,a,c,d)):i)?[v]:Array.isArray(v)?v:[];var v},u}(),Kd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),td=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$d=function(u){function i(n,a,c,d,v){var C=u.call(this)||this;return C.pinned=n,C.column=a,C.eResize=c,C.comp=d,C.ctrl=v,C}return Kd(i,u),i.prototype.postConstruct=function(){var d,v,n=this,a=this.column.getColDef(),c=[],x=function(){c.forEach(function(U){return U()}),c.length=0},I=function(){var U=n.column.isResizable(),pe=!n.gridOptionsWrapper.isSuppressAutoSize()&&!a.suppressAutoSize;(U!==d||pe!==v)&&(d=U,v=pe,x(),function(){if(Di(n.eResize,d),d){var U=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(c.push(U),v){var pe=n.gridOptionsWrapper.isSkipHeaderOnAutoSize(),_e=function(){n.columnModel.autoSizeColumn(n.column,pe,"uiColumnResized")};n.eResize.addEventListener("dblclick",_e);var it=new Es(n.eResize);it.addEventListener(Es.EVENT_DOUBLE_TAP,_e),n.addDestroyFunc(function(){n.eResize.removeEventListener("dblclick",_e),it.removeEventListener(Es.EVENT_DOUBLE_TAP,_e),it.destroy()})}}}())};I(),this.addDestroyFunc(x),this.ctrl.addRefreshFunction(I)},i.prototype.onResizing=function(n,a){var c=this.normaliseResizeAmount(a);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+c}],this.resizeWithShiftKey,n,"uiColumnDragged"),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.onResizeStart=function(n){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=n,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.normaliseResizeAmount=function(n){var a=n,c=this.pinned!==St.PINNED_LEFT,d=this.pinned===St.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?c&&(a*=-1):d&&(a*=-1),a},td([ce("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),td([ce("columnModel")],i.prototype,"columnModel",void 0),td([Gt],i.prototype,"postConstruct",null),i}(yn),n0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Cu=function(u){function i(n,a,c){void 0===a&&(a="ag-checkbox"),void 0===c&&(c="checkbox");var d=u.call(this,n,a,c)||this;return d.labelAlignment="right",d.selected=!1,d.readOnly=!1,d.passive=!1,d}return n0(i,u),i.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},i.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},i.prototype.setPassive=function(n){this.passive=n},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setReadOnly=function(n){this.eWrapper.classList.toggle("ag-disabled",n),this.eInput.disabled=n,this.readOnly=n},i.prototype.setDisabled=function(n){return this.eWrapper.classList.toggle("ag-disabled",n),u.prototype.setDisabled.call(this,n)},i.prototype.toggle=function(){if(!this.eInput.disabled){var n=this.isSelected(),a=this.getNextValue();this.passive?this.dispatchChange(a,n):this.setValue(a)}},i.prototype.getValue=function(){return this.isSelected()},i.prototype.setValue=function(n,a){return this.refreshSelectedClass(n),this.setSelected(n,a),this},i.prototype.setName=function(n){return this.getInputElement().name=n,this},i.prototype.isSelected=function(){return this.selected},i.prototype.setSelected=function(n,a){this.isSelected()!==n&&(this.previousValue=this.isSelected(),n=this.selected="boolean"==typeof n?n:void 0,this.eInput.checked=n,this.eInput.indeterminate=void 0===n,a||this.dispatchChange(this.selected,this.previousValue))},i.prototype.dispatchChange=function(n,a,c){this.dispatchEvent({type:i.EVENT_CHANGED,selected:n,previousValue:a,event:c});var d=this.getInputElement();this.eventService.dispatchEvent({type:Ye.EVENT_CHECKBOX_CHANGED,id:d.id,name:d.name,selected:n,previousValue:a})},i.prototype.onCheckboxClick=function(n){if(!this.passive&&!this.eInput.disabled){var a=this.isSelected(),c=this.selected=n.target.checked;this.refreshSelectedClass(c),this.dispatchChange(c,a,n)}},i.prototype.refreshSelectedClass=function(n){this.eWrapper.classList.toggle("ag-checked",!0===n),this.eWrapper.classList.toggle("ag-indeterminate",null==n)},i}(ic),tg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),nd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ng=function(u){function i(n){var a=u.call(this)||this;a.cbSelectAllVisible=!1,a.processingEventFromCheckbox=!1,a.column=n;var c=n.getColDef();return a.filteredOnly=!!c&&!!c.headerCheckboxSelectionFilteredOnly,a}return tg(i,u),i.prototype.onSpaceKeyPressed=function(n){var a=this.cbSelectAll,c=this.gridOptionsWrapper.getDocument();a.isDisplayed()&&!a.getGui().contains(c.activeElement)&&(n.preventDefault(),a.setValue(!a.getValue()))},i.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},i.prototype.setComp=function(n){this.comp=n,this.cbSelectAll=this.createManagedBean(new Cu),this.cbSelectAll.addCssClass("ag-header-select-all"),ro(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Ye.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Cu.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},i.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},i.prototype.refreshHeaderAriaDescribedBy=function(n){var a=n?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(a)},i.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.getNextCheckboxState=function(n){return(0!==n.selected||0!==n.notSelected)&&(n.selected>0&&n.notSelected>0?null:n.selected>0)},i.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var n=this.getSelectionCount(),a=this.getNextCheckboxState(n);this.cbSelectAll.setValue(a),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},i.prototype.refreshSelectAllLabel=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.cbSelectAll.getValue()?n("ariaChecked","checked"):n("ariaUnchecked","unchecked"),d=n("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(d+" ("+c+")")},i.prototype.getSelectionCount=function(){var n=this,a=0,c=0,d=function(v){n.gridOptionsWrapper.isGroupSelectsChildren()&&v.group||(v.isSelected()?a++:v.selectable&&c++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(d):this.gridApi.forEachNode(d),{notSelected:c,selected:a}},i.prototype.checkRightRowModelType=function(){var n=this.rowModel.getType();n===St.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+n)},i.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},i.prototype.isCheckboxSelection=function(){var n=this.column.getColDef().headerCheckboxSelection;return"function"==typeof n&&(n=n({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!n||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},nd([ce("gridApi")],i.prototype,"gridApi",void 0),nd([ce("columnApi")],i.prototype,"columnApi",void 0),nd([ce("rowModel")],i.prototype,"rowModel",void 0),nd([ce("selectionService")],i.prototype,"selectionService",void 0),i}(yn),r0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),el=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},o0=function(u){function i(n,a){var c=u.call(this,n,a)||this;return c.refreshFunctions=[],c.userHeaderClasses=new Set,c.column=n,c}return r0(i,u),i.prototype.setComp=function(n,a,c){var d=this;u.prototype.setGui.call(this,a),this.comp=n,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new $d(this.getPinned(),this.column,c,n,this)),this.createManagedBean(new Wc([this.column],a)),this.createManagedBean(new Ud(this.column,a,this.beans)),this.createManagedBean(new Yo(a,{shouldStopEventPropagation:function(v){return d.shouldStopEventPropagation(v)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Ye.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},i.prototype.setupUserComp=function(){var n=this.lookupUserCompDetails();this.setCompDetails(n)},i.prototype.setCompDetails=function(n){this.userCompDetails=n,this.comp.setUserCompDetails(n)},i.prototype.lookupUserCompDetails=function(){var n=this.createParams(),a=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(a,n)},i.prototype.createParams=function(){var n=this,a=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:a.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(d){n.gridApi.showColumnMenuAfterButtonClick(n.column,d)},progressSort:function(d){n.sortController.progressSort(n.column,!!d,"uiColumnSorted")},setSort:function(d,v){n.sortController.setSortForColumn(n.column,d,!!v,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},i.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new ng(this.column)),this.selectAllFeature.setComp(this.comp)},i.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},i.prototype.handleKeyDown=function(n){n.key===Rn.SPACE&&this.selectAllFeature.onSpaceKeyPressed(n),n.key===Rn.ENTER&&this.onEnterKeyPressed(n)},i.prototype.onEnterKeyPressed=function(n){var a=this.comp.getUserCompInstance();a&&(n.ctrlKey||n.metaKey?this.menuEnabled&&a.showMenu&&(n.preventDefault(),a.showMenu()):this.sortable&&this.sortController.progressSort(this.column,n.shiftKey,"uiColumnSorted"))},i.prototype.isMenuEnabled=function(){return this.menuEnabled},i.prototype.onFocusIn=function(n){if(!this.getGui().contains(n.relatedTarget)){var a=this.getRowIndex();this.focusService.setFocusedHeader(a,this.column)}this.setActiveHeader(!0)},i.prototype.onFocusOut=function(n){this.getGui().contains(n.relatedTarget)||this.setActiveHeader(!1)},i.prototype.setupTooltip=function(){var n=this,c=this.createManagedBean(new Qh({getColumn:function(){return n.column},getColDef:function(){return n.column.getColDef()},getGui:function(){return n.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return n.column.getColDef().headerTooltip}},this.beans));c.setComp(this.comp),this.refreshFunctions.push(function(){return c.refreshToolTip()})},i.prototype.setupClassesFromColDef=function(){var n=this,a=function(){var c=n.column.getColDef(),v=tp.getHeaderClassesFromColDef(c,n.gridOptionsWrapper,n.column,null),C=n.userHeaderClasses;n.userHeaderClasses=new Set(v),v.forEach(function(x){C.has(x)?C.delete(x):n.comp.addOrRemoveCssClass(x,!0)}),C.forEach(function(x){return n.comp.addOrRemoveCssClass(x,!1)})};this.refreshFunctions.push(a),a()},i.prototype.setDragSource=function(n){var a=this;this.dragSourceElement=n,this.removeDragSource(),n&&(!this.draggable||(this.moveDragSource={type:Qs.HeaderCell,eElement:n,defaultIconName:La.ICON_HIDE,getDragItem:function(){return a.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return a.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return a.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},i.prototype.createDragItem=function(){var n={};return n[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:n}},i.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},i.prototype.onNewColumnsLoaded=function(){var n=this.columnModel.getColDefVersion();n!=this.colDefVersion&&(this.colDefVersion=n,this.refresh())},i.prototype.updateState=function(){var n=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!n.suppressMenu,this.sortable=n.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},i.prototype.addRefreshFunction=function(n){this.refreshFunctions.push(n)},i.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(n){return n()})},i.prototype.refreshHeaderComp=function(){var n=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==n.componentClass&&this.attemptHeaderCompRefresh(n.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(n)},i.prototype.attemptHeaderCompRefresh=function(n){var a=this.comp.getUserCompInstance();return!(!a||!a.refresh)&&a.refresh(n)},i.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},i.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},i.prototype.workOutDraggable=function(){var n=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||n.suppressMovable||n.lockPosition)||!!n.enableRowGroup||!!n.enablePivot},i.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},i.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},i.prototype.onColumnValueChanged=function(){this.checkDisplayName()},i.prototype.setupWidth=function(){var n=this,a=function(){n.comp.setWidth(n.column.getActualWidth()+"px")};this.addManagedListener(this.column,Rt.EVENT_WIDTH_CHANGED,a),a()},i.prototype.setupMovingCss=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-moving",n.column.isMoving())};this.addManagedListener(this.column,Rt.EVENT_MOVING_CHANGED,a),a()},i.prototype.setupMenuClass=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-column-menu-visible",n.column.isMenuVisible())};this.addManagedListener(this.column,Rt.EVENT_MENU_VISIBLE_CHANGED,a),a()},i.prototype.setupSortableClass=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!n.sortable)},c=function(){n.comp.setAriaSort(n.sortable?js(n.column):void 0)};a(),c(),this.addRefreshFunction(a),this.addRefreshFunction(c),this.addManagedListener(this.column,Rt.EVENT_SORT_CHANGED,c)},i.prototype.addColumnHoverListener=function(){var n=this,a=function(){if(n.gridOptionsWrapper.isColumnHoverHighlight()){var c=n.columnHoverService.isHovered(n.column);n.comp.addOrRemoveCssClass("ag-column-hover",c)}};this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_HOVER_CHANGED,a),a()},i.prototype.setupFilterCss=function(){var n=this,a=function(){n.comp.addOrRemoveCssClass("ag-header-cell-filtered",n.column.isFilterActive())};this.addManagedListener(this.column,Rt.EVENT_FILTER_ACTIVE_CHANGED,a),a()},i.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},i.prototype.addActiveHeaderMouseListeners=function(){var n=this,a=function(c){return n.setActiveHeader("mouseenter"===c.type)};this.addManagedListener(this.getGui(),"mouseenter",a),this.addManagedListener(this.getGui(),"mouseleave",a)},i.prototype.setActiveHeader=function(n){this.comp.addOrRemoveCssClass("ag-header-active",n)},el([ce("columnModel")],i.prototype,"columnModel",void 0),el([ce("columnHoverService")],i.prototype,"columnHoverService",void 0),el([ce("beans")],i.prototype,"beans",void 0),el([ce("sortController")],i.prototype,"sortController",void 0),el([ce("menuFactory")],i.prototype,"menuFactory",void 0),el([ce("dragAndDropService")],i.prototype,"dragAndDropService",void 0),el([ce("gridApi")],i.prototype,"gridApi",void 0),el([ce("columnApi")],i.prototype,"columnApi",void 0),el([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),el([vn],i.prototype,"removeDragSource",null),i}(zi),a0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_u=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},s0=function(u){function i(n,a,c,d){var v=u.call(this)||this;return v.eResize=a,v.comp=n,v.pinned=c,v.columnGroup=d,v}return a0(i,u),i.prototype.postConstruct=function(){var n=this;if(this.columnGroup.isResizable()){var a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(a),!this.gridOptionsWrapper.isSuppressAutoSize()){var c=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var d=[];n.columnGroup.getDisplayedLeafColumns().forEach(function(C){C.getColDef().suppressAutoSize||d.push(C.getColId())}),d.length>0&&n.columnModel.autoSizeColumns({columns:d,skipHeader:c,stopAtGroup:n.columnGroup,source:"uiColumnResized"}),n.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},i.prototype.onResizeStart=function(n){var a=this;this.calculateInitialValues();var c=null;if(n&&(c=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),c){var d=c.getDisplayedLeafColumns();this.resizeTakeFromCols=d.filter(function(v){return v.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(v){return a.resizeTakeFromStartWidth+=v.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(v){return a.resizeTakeFromRatios.push(v.getActualWidth()/a.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.onResizing=function(n,a){var c=this.normaliseDragChange(a);this.resizeColumns(this.resizeStartWidth+c,n)},i.prototype.resizeLeafColumnsToFit=function(){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),n>this.resizeStartWidth&&this.resizeColumns(n,!0)},i.prototype.resizeColumns=function(n,a){void 0===a&&(a=!0);var c=[];c.push({columns:this.resizeCols,ratios:this.resizeRatios,width:n}),this.resizeTakeFromCols&&c.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(n-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:c,finished:a,source:"uiColumnDragged"}),a&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.calculateInitialValues=function(){var n=this,a=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=a.filter(function(c){return c.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(c){return n.resizeStartWidth+=c.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(c){return n.resizeRatios.push(c.getActualWidth()/n.resizeStartWidth)})},i.prototype.normaliseDragChange=function(n){var a=n;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==St.PINNED_LEFT&&(a*=-1):this.pinned===St.PINNED_RIGHT&&(a*=-1),a},_u([ce("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),_u([ce("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),_u([ce("columnModel")],i.prototype,"columnModel",void 0),_u([Gt],i.prototype,"postConstruct",null),i}(yn),yf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ig=function(u){function i(n,a){var c=u.call(this)||this;return c.removeChildListenersFuncs=[],c.columnGroup=a,c.comp=n,c}return yf(i,u),i.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Or.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},i.prototype.addListenersToChildrenColumns=function(){var n=this;this.removeListenersOnChildrenColumns();var a=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(c){c.addEventListener(Rt.EVENT_WIDTH_CHANGED,a),c.addEventListener(Rt.EVENT_VISIBLE_CHANGED,a),n.removeChildListenersFuncs.push(function(){c.removeEventListener(Rt.EVENT_WIDTH_CHANGED,a),c.removeEventListener(Rt.EVENT_VISIBLE_CHANGED,a)})})},i.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(n){return n()}),this.removeChildListenersFuncs=[]},i.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},i.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Gt],i.prototype,"postConstruct",null),i}(yn),xs=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},tl=function(u){function i(n,a){var c=u.call(this,n,a)||this;return c.columnGroup=n,c}return xs(i,u),i.prototype.setComp=function(n,a,c){u.prototype.setGui.call(this,a),this.comp=n,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var d=this.getParentRowCtrl().getPinned(),v=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Wc(v,a)),this.createManagedBean(new Ud(this.columnGroup,a,this.beans)),this.createManagedBean(new ig(n,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new s0(n,c,d,this.columnGroup)),this.createManagedBean(new Yo(a,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},i.prototype.setupUserComp=function(){var n=this,a=this.displayName,c={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(I){n.columnModel.setColumnGroupOpened(n.columnGroup.getProvidedColumnGroup(),I,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!a){for(var d=this.columnGroup,v=d.getLeafColumns();d.getParent()&&d.getParent().getLeafColumns().length===v.length;)d=d.getParent();var C=d.getColGroupDef();C&&(a=C.headerName),a||(a=v?this.columnModel.getDisplayNameForColumn(v[0],"header",!0):"")}var x=this.userComponentFactory.getHeaderGroupCompDetails(c);this.comp.setUserCompDetails(x)},i.prototype.setupTooltip=function(){var n=this,a=this.columnGroup.getColGroupDef(),c={getColumn:function(){return n.columnGroup},getGui:function(){return n.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return a&&a.headerTooltip}};a&&(c.getColDef=function(){return a}),this.createManagedBean(new Qh(c,this.beans)).setComp(this.comp)},i.prototype.setupExpandable=function(){var n=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(n,fr.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(n,fr.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},i.prototype.refreshExpanded=function(){var n=this.columnGroup;this.expandable=n.isExpandable();var a=n.isExpanded();this.comp.setAriaExpanded(this.expandable?a?"true":"false":void 0)},i.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},i.prototype.addClasses=function(){var n=this,a=this.columnGroup.getColGroupDef(),c=tp.getHeaderClassesFromColDef(a,this.gridOptionsWrapper,null,this.columnGroup);c.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),c.forEach(function(d){return n.comp.addOrRemoveCssClass(d,!0)})},i.prototype.setupMovingCss=function(){var n=this,c=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),d=function(){return n.comp.addOrRemoveCssClass("ag-header-cell-moving",n.columnGroup.isMoving())};c.forEach(function(v){n.addManagedListener(v,Rt.EVENT_MOVING_CHANGED,d)}),d()},i.prototype.onFocusIn=function(n){if(!this.eGui.contains(n.relatedTarget)){var a=this.getRowIndex();this.beans.focusService.setFocusedHeader(a,this.columnGroup)}},i.prototype.handleKeyDown=function(n){var a=this.gridOptionsWrapper.getDocument();if(this.expandable&&a.activeElement===this.eGui&&n.key===Rn.ENTER){var v=this.columnGroup,C=!v.isExpanded();this.columnModel.setColumnGroupOpened(v.getProvidedColumnGroup(),C,"uiColumnExpanded")}},i.prototype.setDragSource=function(n){var a=this;if(!this.isSuppressMoving()){var c=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),d={type:Qs.HeaderCell,eElement:n,defaultIconName:La.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return c.forEach(function(v){return v.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return c.forEach(function(v){return v.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(d,!0),this.addDestroyFunc(function(){return a.dragAndDropService.removeDragSource(d)})}},i.prototype.getDragItemForGroup=function(){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),a={};n.forEach(function(d){return a[d.getId()]=d.isVisible()});var c=[];return this.columnModel.getAllDisplayedColumns().forEach(function(d){n.indexOf(d)>=0&&(c.push(d),zn(n,d))}),n.forEach(function(d){return c.push(d)}),{columns:c,visibleState:a}},i.prototype.isSuppressMoving=function(){var n=!1;return this.columnGroup.getLeafColumns().forEach(function(c){(c.getColDef().suppressMovable||c.getColDef().lockPosition)&&(n=!0)}),n||this.gridOptionsWrapper.isSuppressMovableColumns()},qd([ce("beans")],i.prototype,"beans",void 0),qd([ce("columnModel")],i.prototype,"columnModel",void 0),qd([ce("dragAndDropService")],i.prototype,"dragAndDropService",void 0),qd([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),qd([ce("gridApi")],i.prototype,"gridApi",void 0),qd([ce("columnApi")],i.prototype,"columnApi",void 0),i}(zi),l2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Cf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},j3=0,gc=function(u){function i(n,a,c){var d=u.call(this)||this;return d.instanceId=j3++,d.headerCellCtrls={},d.rowIndex=n,d.pinned=a,d.type=c,d}return l2(i,u),i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(n){this.comp=n,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),mn()&&this.comp.setTransform("translateZ(0)"),n.setAriaRowIndex(this.rowIndex+1)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},i.prototype.getHeaderCellCtrl=function(n){return ht(this.headerCellCtrls).find(function(a){return a.getColumnGroupChild()===n})},i.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},i.prototype.getType=function(){return this.type},i.prototype.onColumnResized=function(){this.setWidth()},i.prototype.setWidth=function(){var n=this.getWidthForRow();this.comp.setWidth(n+"px")},i.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(St.PINNED_RIGHT)+this.columnModel.getContainerWidth(St.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},i.prototype.onRowHeightChanged=function(){var d,v,n=this.columnModel.getHeaderRowCount(),a=[],c=0;this.columnModel.isPivotMode()?(d=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),v=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnModel.hasFloatingFilters()&&(n++,c=1),d=this.gridOptionsWrapper.getGroupHeaderHeight(),v=this.gridOptionsWrapper.getHeaderHeight());for(var x=n-(1+c),I=0;I<x;I++)a.push(d);for(a.push(v),I=0;I<c;I++)a.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var U=0;for(I=0;I<this.rowIndex;I++)U+=a[I];this.comp.setTop(U+"px"),this.comp.setHeight(a[this.rowIndex]+"px")},i.prototype.getPinned=function(){return this.pinned},i.prototype.getRowIndex=function(){return this.rowIndex},i.prototype.onVirtualColumnsChanged=function(){var n=this,a=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(C){if(!C.isEmptyGroup()){var x=C.getUniqueId(),I=a[x];if(delete a[x],I&&I.getColumnGroupChild()!=C&&(n.destroyBean(I),I=void 0),null==I)switch(n.type){case ki.FLOATING_FILTER:I=n.createBean(new Yd(C,n));break;case ki.COLUMN_GROUP:I=n.createBean(new tl(C,n));break;default:I=n.createBean(new o0(C,n))}n.headerCellCtrls[x]=I}}),qe(a,function(C,x){var I=function(C){return!!n.focusService.isHeaderWrapperFocused(C)&&n.columnModel.isDisplayed(C.getColumnGroupChild())}(x);I?n.headerCellCtrls[C]=x:n.destroyBean(x)});var v=ri(this.headerCellCtrls);this.comp.setHeaderCtrls(v)},i.prototype.destroyCtrls=function(){var n=this;qe(this.headerCellCtrls,function(a,c){n.destroyBean(c)}),this.headerCellCtrls={}},i.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},i.prototype.getColumnsInViewportPrintLayout=function(){var n=this;if(null!=this.pinned)return[];var a=[],c=this.getActualDepth();return[St.PINNED_LEFT,null,St.PINNED_RIGHT].forEach(function(d){var v=n.columnModel.getVirtualHeaderGroupRow(d,c);a=a.concat(v)}),a},i.prototype.getActualDepth=function(){return this.type==ki.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},i.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},i.prototype.focusHeader=function(n,a){var d=ri(this.headerCellCtrls).find(function(v){return v.getColumnGroupChild()==n});return!!d&&(d.focus(a),!0)},Cf([ce("columnModel")],i.prototype,"columnModel",void 0),Cf([ce("focusService")],i.prototype,"focusService",void 0),Cf([vn],i.prototype,"destroyCtrls",null),i}(yn),nl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Cl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},rd=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},og=function(u){function i(n){var a=u.call(this)||this;return a.groupsRowCtrls=[],a.pinned=n,a}return nl(i,u),i.prototype.setComp=function(n,a){this.comp=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(a),this.addManagedListener(this.eventService,Ye.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},i.prototype.setupDragAndDrop=function(n){var a=new W3(this.pinned,n);this.createManagedBean(a)},i.prototype.refresh=function(n){var a=this;void 0===n&&(n=!1);var U,c=new su,d=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var U=a.columnModel.getHeaderRowCount()-1;a.groupsRowCtrls=a.destroyBeans(a.groupsRowCtrls);for(var pe=0;pe<U;pe++){var _e=a.createBean(new gc(c.next(),a.pinned,ki.COLUMN_GROUP));a.groupsRowCtrls.push(_e)}})(),U=c.next(),(null==a.columnsRowCtrl||!n||a.columnsRowCtrl.getRowIndex()!==U)&&(a.destroyBean(a.columnsRowCtrl),a.columnsRowCtrl=a.createBean(new gc(U,a.pinned,ki.COLUMN))),function(){var pe=function(){a.filtersRowCtrl=a.destroyBean(a.filtersRowCtrl)};if(!a.columnModel.isPivotMode()&&a.columnModel.hasFloatingFilters()){var _e=c.next();if(a.filtersRowCtrl){var it=a.filtersRowCtrl.getRowIndex()!==_e;(!n||it)&&pe()}a.filtersRowCtrl||(a.filtersRowCtrl=a.createBean(new gc(_e,a.pinned,ki.FLOATING_FILTER)))}else pe()}();var I=this.getAllCtrls();this.comp.setCtrls(I),this.restoreFocusOnHeader(d)},i.prototype.restoreFocusOnHeader=function(n){null==n||n.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:n})},i.prototype.getAllCtrls=function(){var n=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(rd(arguments[i]));return u}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&n.push(this.filtersRowCtrl),n},i.prototype.onGridColumnsChanged=function(){this.refresh(!0)},i.prototype.setupCenterWidth=function(){var n=this;null==this.pinned&&this.createManagedBean(new Go(function(a){return n.comp.setCenterWidth(a+"px")}))},i.prototype.setHorizontalScroll=function(n){this.comp.setContainerTransform("translateX("+n+"px)")},i.prototype.setupPinnedWidth=function(){var n=this;if(null!=this.pinned){var a=this.pinned===St.PINNED_LEFT,c=this.pinned===St.PINNED_RIGHT,d=function(){var v=a?n.pinnedWidthService.getPinnedLeftWidth():n.pinnedWidthService.getPinnedRightWidth();if(null!=v){var C=0==v,x=n.gridOptionsWrapper.isEnableRtl(),I=n.gridOptionsWrapper.getScrollbarWidth(),U=n.scrollVisibleService.isVerticalScrollShowing()&&(x&&a||!x&&c);n.comp.setPinnedContainerWidth((U?v+I:v)+"px"),n.comp.addOrRemoveCssClass("ag-hidden",C)}};this.addManagedListener(this.eventService,Ye.EVENT_LEFT_PINNED_WIDTH_CHANGED,d),this.addManagedListener(this.eventService,Ye.EVENT_RIGHT_PINNED_WIDTH_CHANGED,d),this.addManagedListener(this.eventService,Ye.EVENT_SCROLL_VISIBILITY_CHANGED,d),this.addManagedListener(this.eventService,Ye.EVENT_SCROLLBAR_WIDTH_CHANGED,d)}},i.prototype.getHeaderCtrlForColumn=function(n){if(n instanceof Rt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(n):void 0;if(0!==this.groupsRowCtrls.length)for(var a=0;a<this.groupsRowCtrls.length;a++){var c=this.groupsRowCtrls[a].getHeaderCellCtrl(n);if(c)return c}},i.prototype.getHtmlElementForColumnHeader=function(n){var a=this.getHeaderCtrlForColumn(n);return a?a.getGui():null},i.prototype.getRowType=function(n){var c=this.getAllCtrls()[n];return c?c.getType():void 0},i.prototype.focusHeader=function(n,a,c){var v=this.getAllCtrls()[n];return!!v&&v.focusHeader(a,c)},i.prototype.getRowCount=function(){return this.getAllCtrls().length},Cl([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Cl([ce("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Cl([ce("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Cl([ce("columnModel")],i.prototype,"columnModel",void 0),Cl([ce("focusService")],i.prototype,"focusService",void 0),i}(yn),ag=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),sg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},lg=function(u){function i(n){var a=u.call(this)||this;return a.headerRowComps={},a.rowCompsList=[],a.pinned=n,a}return ag(i,u),i.prototype.init=function(){var n=this;this.selectAndSetTemplate();var a={addOrRemoveCssClass:function(d,v){return n.addOrRemoveCssClass(d,v)},setCtrls:function(d){return n.setCtrls(d)},setCenterWidth:function(d){return n.eCenterContainer.style.width=d},setContainerTransform:function(d){return n.eCenterContainer.style.transform=d},setPinnedContainerWidth:function(d){var v=n.getGui();v.style.width=d,v.style.maxWidth=d,v.style.minWidth=d}};this.createManagedBean(new og(this.pinned)).setComp(a,this.getGui())},i.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==St.PINNED_LEFT?i.PINNED_LEFT_TEMPLATE:this.pinned==St.PINNED_RIGHT?i.PINNED_RIGHT_TEMPLATE:i.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},i.prototype.destroyRowComps=function(){this.setCtrls([])},i.prototype.destroyRowComp=function(n){this.destroyBean(n),this.eRowContainer.removeChild(n.getGui())},i.prototype.setCtrls=function(n){var d,a=this,c=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],n.forEach(function(C){var x=C.getInstanceId(),I=c[x];delete c[x];var U=I||a.createBean(new E8(C));a.headerRowComps[x]=U,a.rowCompsList.push(U),function(C){var x=C.getGui();x.parentElement!=a.eRowContainer&&a.eRowContainer.appendChild(x),d&&P(a.eRowContainer,x,d),d=x}(U)}),ri(c).forEach(function(C){return a.destroyRowComp(C)})},i.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',i.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',i.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',sg([Pn("eCenterContainer")],i.prototype,"eCenterContainer",void 0),sg([Gt],i.prototype,"init",null),sg([vn],i.prototype,"destroyRowComps",null),i}(ai),l0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u0=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return l0(i,u),i.prototype.postConstruct=function(){var n=this,a={addOrRemoveCssClass:function(v,C){return n.addOrRemoveCssClass(v,C)},setHeightAndMinHeight:function(v){n.getGui().style.height=v,n.getGui().style.minHeight=v}};this.createManagedBean(new G3).setComp(a,this.getGui(),this.getFocusableElement());var d=function(v){n.createManagedBean(v),n.appendChild(v)};d(new lg(St.PINNED_LEFT)),d(new lg(null)),d(new lg(St.PINNED_RIGHT))},i.TEMPLATE='<div class="ag-header" role="presentation"/>',function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Gt],i.prototype,"postConstruct",null),i}(ai),c2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_f=function(){return _f=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},_f.apply(this,arguments)},_l=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},d0=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.allAdvancedFilters=new Map,a.activeAdvancedFilters=[],a.quickFilter=null,a.quickFilterParts=null,a.processingFilterChange=!1,a}var n;return c2(i,u),n=i,i.prototype.init=function(){var a=this;this.addManagedListener(this.eventService,Ye.EVENT_ROW_DATA_CHANGED,function(c){return a.onNewRowsLoaded(c)}),this.addManagedListener(this.eventService,Ye.EVENT_GRID_COLUMNS_CHANGED,function(){return a.onColumnsChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},i.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},i.prototype.setFilterModel=function(a){var c=this,d=[],v=this.getFilterModel();if(a){var C=ou(Object.keys(a));this.allAdvancedFilters.forEach(function(x,I){d.push(c.setModelOnFilterWrapper(x.filterPromise,a[I])),C.delete(I)}),C.forEach(function(x){var I=c.columnModel.getPrimaryColumn(x);if(I)if(I.isFilterAllowed()){var U=c.getOrCreateFilterWrapper(I,"NO_UI");U?d.push(c.setModelOnFilterWrapper(U.filterPromise,a[x])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+x)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+x);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+x)})}else this.allAdvancedFilters.forEach(function(x){d.push(c.setModelOnFilterWrapper(x.filterPromise,null))});ls.all(d).then(function(){var x=c.getFilterModel(),I=[];c.allAdvancedFilters.forEach(function(U,pe){au.jsonEquals(v?v[pe]:null,x?x[pe]:null)||I.push(U.column)}),I.length>0&&c.onFilterChanged({columns:I})})},i.prototype.setModelOnFilterWrapper=function(a,c){return new ls(function(d){a.then(function(v){"function"!=typeof v.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),d()),(v.setModel(c)||ls.resolve()).then(function(){return d()})})})},i.prototype.getFilterModel=function(){var a={};return this.allAdvancedFilters.forEach(function(c,d){var C=c.filterPromise.resolveNow(null,function(I){return I});if(null==C)return null;if("function"==typeof C.getModel){var x=C.getModel();ue(x)&&(a[d]=x)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),a},i.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},i.prototype.updateActiveFilters=function(){var a=this;this.activeAdvancedFilters.length=0;var c=function(d){return!!d&&(d.isFilterActive?d.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))};this.allAdvancedFilters.forEach(function(d){if(d.filterPromise.resolveNow(!1,c)){var v=d.filterPromise.resolveNow(null,function(C){return C});a.activeAdvancedFilters.push(v)}})},i.prototype.updateFilterFlagInColumns=function(a,c){this.allAdvancedFilters.forEach(function(d){var v=d.filterPromise.resolveNow(!1,function(C){return C.isFilterActive()});d.column.setFilterActive(v,a,c)})},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},i.prototype.doAdvancedFiltersPass=function(a,c){for(var d=a.data,v=0;v<this.activeAdvancedFilters.length;v++){var C=this.activeAdvancedFilters[v];if(null!=C&&C!==c){if("function"!=typeof C.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!C.doesFilterPass({node:a,data:d}))return!1}}return!0},i.prototype.parseQuickFilter=function(a){return ue(a)?this.gridOptionsWrapper.isRowModelDefault()?a.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},i.prototype.setQuickFilter=function(a){if(null==a||"string"==typeof a){var c=this.parseQuickFilter(a);this.quickFilter!==c&&(this.quickFilter=c,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof a)},i.prototype.onFilterChanged=function(a){void 0===a&&(a={});var c=a.filterInstance,d=a.additionalEventAttributes,v=a.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",d),this.allAdvancedFilters.forEach(function(x){!x.filterPromise||x.filterPromise.then(function(I){I&&I!==c&&I.onAnyFilterChanged&&I.onAnyFilterChanged()})});var C={type:Ye.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:v||[]};d&&Dr(C,d),this.processingFilterChange=!0,this.eventService.dispatchEvent(C),this.processingFilterChange=!1},i.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(a,c){return this.doesRowPassFilter({rowNode:c,filterInstanceToSkip:a})},i.prototype.doesRowPassQuickFilterNoCache=function(a,c){var d=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(C){var x=d.getQuickFilterTextForColumn(C,a);return ue(x)&&x.indexOf(c)>=0})},i.prototype.doesRowPassQuickFilterCache=function(a,c){return a.quickFilterAggregateText||this.aggregateRowForQuickFilter(a),a.quickFilterAggregateText.indexOf(c)>=0},i.prototype.doesRowPassQuickFilter=function(a){var c=this,d=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(v){return d?c.doesRowPassQuickFilterCache(a,v):c.doesRowPassQuickFilterNoCache(a,v)})},i.prototype.doesRowPassFilter=function(a){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(a.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(a.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(a.rowNode,a.filterInstanceToSkip))},i.prototype.getQuickFilterTextForColumn=function(a,c){var d=this.valueService.getValue(a,c,!0),v=a.getColDef();if(v.getQuickFilterText){var C={value:d,node:c,data:c.data,column:a,colDef:v,context:this.gridOptionsWrapper.getContext()};d=v.getQuickFilterText(C)}return ue(d)?d.toString().toUpperCase():null},i.prototype.aggregateRowForQuickFilter=function(a){var c=this,d=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(C){var x=c.getQuickFilterTextForColumn(C,a);ue(x)&&d.push(x)}),a.quickFilterAggregateText=d.join(n.QUICK_FILTER_SEPARATOR)},i.prototype.onNewRowsLoaded=function(a){this.allAdvancedFilters.forEach(function(c){c.filterPromise.then(function(d){d.onNewRowsLoaded&&d.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(a),this.updateActiveFilters()},i.prototype.createValueGetter=function(a){var c=this;return function(d){return c.valueService.getValue(a,d.node,!0)}},i.prototype.getFilterComponent=function(a,c,d){var v;if(void 0===d&&(d=!0),d)return(null===(v=this.getOrCreateFilterWrapper(a,c))||void 0===v?void 0:v.filterPromise)||null;var C=this.cachedFilter(a);return C?C.filterPromise:null},i.prototype.isFilterActive=function(a){var c=this.cachedFilter(a);return!!c&&c.filterPromise.resolveNow(!1,function(d){return d.isFilterActive()})},i.prototype.getOrCreateFilterWrapper=function(a,c){if(!a.isFilterAllowed())return null;var d=this.cachedFilter(a);return d?"NO_UI"!==c&&this.putIntoGui(d,c):(d=this.createFilterWrapper(a,c),this.allAdvancedFilters.set(a.getColId(),d)),d},i.prototype.cachedFilter=function(a){return this.allAdvancedFilters.get(a.getColId())},i.prototype.createFilterInstance=function(a,c){var x,d=this,v=jn.isRegistered(_n.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",C=a.getColDef(),I=_f(_f({},this.createFilterParams(a,C,c)),{filterModifiedCallback:function(){d.eventService.dispatchEvent({type:Ye.EVENT_FILTER_MODIFIED,api:d.gridApi,columnApi:d.columnApi,column:a,filterInstance:x})},filterChangedCallback:function(_e){return d.onFilterChanged({filterInstance:x,additionalEventAttributes:_e,columns:[a]})},doesRowPassOtherFilter:function(_e){return d.doesRowPassOtherFilters(x,_e)}}),U=this.userComponentFactory.getFilterDetails(C,I,v);if(!U)return null;var pe=U.newAgStackInstance();return pe&&pe.then(function(_e){return x=_e}),pe},i.prototype.createFilterParams=function(a,c,d){void 0===d&&(d=null);var v={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:a,colDef:Zt(c),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(a),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return d&&(v.$scope=d),v},i.prototype.createFilterWrapper=function(a,c){var d={column:a,filterPromise:null,scope:null,compiledElement:null,guiPromise:ls.resolve(null)};return d.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,d.filterPromise=this.createFilterInstance(a,d.scope),d.filterPromise&&this.putIntoGui(d,c),d},i.prototype.putIntoGui=function(a,c){var d=this,v=document.createElement("div");v.className="ag-filter",a.guiPromise=new ls(function(C){a.filterPromise.then(function(x){var I=x.getGui();if(ue(I)||console.warn("AG Grid: getGui method from filter returned "+I+", it should be a DOM element or an HTML template string."),"string"==typeof I&&(I=_t(I)),v.appendChild(I),a.scope){var U=d.$compile(v)(a.scope);a.compiledElement=U,window.setTimeout(function(){return a.scope.$apply()},0)}C(v),d.eventService.dispatchEvent({type:Ye.EVENT_FILTER_OPENED,column:a.column,source:c,eGui:v,api:d.gridApi,columnApi:d.columnApi})})})},i.prototype.onColumnsChanged=function(){var a=this,c=[];this.allAdvancedFilters.forEach(function(d,v){a.columnModel.getPrimaryColumn(v)||(c.push(d.column),a.disposeFilterWrapper(d,"filterDestroyed"))}),c.length>0&&this.onFilterChanged({columns:c})},i.prototype.destroyFilter=function(a,c){void 0===c&&(c="api");var d=this.allAdvancedFilters.get(a.getColId());d&&(this.disposeFilterWrapper(d,c),this.onFilterChanged({columns:[a]}))},i.prototype.disposeFilterWrapper=function(a,c){var d=this;a.filterPromise.then(function(v){(v.setModel(null)||ls.resolve()).then(function(){d.getContext().destroyBean(v),a.column.setFilterActive(!1,c),a.scope&&(a.compiledElement&&a.compiledElement.remove(),a.scope.$destroy()),d.allAdvancedFilters.delete(a.column.getColId())})})},i.prototype.destroy=function(){var a=this;u.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(c){return a.disposeFilterWrapper(c,"filterDestroyed")})},i.QUICK_FILTER_SEPARATOR="\n",_l([ce("$compile")],i.prototype,"$compile",void 0),_l([ce("$scope")],i.prototype,"$scope",void 0),_l([ce("valueService")],i.prototype,"valueService",void 0),_l([ce("columnModel")],i.prototype,"columnModel",void 0),_l([ce("rowModel")],i.prototype,"rowModel",void 0),_l([ce("columnApi")],i.prototype,"columnApi",void 0),_l([ce("gridApi")],i.prototype,"gridApi",void 0),_l([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),_l([Gt],i.prototype,"init",null),_l([vn],i.prototype,"destroy",null),n=_l([bn("filterManager")],i)}(yn),cg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ms=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ug=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.initialised=!1,n}return cg(i,u),i.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},i.prototype.getValue=function(n,a,c,d){if(void 0===c&&(c=!1),void 0===d&&(d=!1),this.initialised||this.init(),a){var U,v=n.getColDef(),C=v.field,x=n.getId(),I=a.data,pe=a.groupData&&void 0!==a.groupData[x],_e=!d&&a.aggData&&void 0!==a.aggData[x];if(c&&v.filterValueGetter?U=this.executeFilterValueGetter(v.filterValueGetter,I,n,a):this.gridOptionsWrapper.isTreeData()&&_e?U=a.aggData[x]:this.gridOptionsWrapper.isTreeData()&&v.valueGetter?U=this.executeValueGetter(v.valueGetter,I,n,a):this.gridOptionsWrapper.isTreeData()&&C&&I?U=Kr(I,C,n.isFieldContainsDots()):pe?U=a.groupData[x]:_e?U=a.aggData[x]:v.valueGetter?U=this.executeValueGetter(v.valueGetter,I,n,a):C&&I&&(U=Kr(I,C,n.isFieldContainsDots())),this.cellExpressions&&"string"==typeof U&&0===U.indexOf("=")){var it=U.substring(1);U=this.executeValueGetter(it,I,n,a)}if(null==U){var xt=this.getOpenedGroup(a,n);if(null!=xt)return xt}return U}},i.prototype.getOpenedGroup=function(n,a){if(this.gridOptionsWrapper.isShowOpenedGroup()&&a.getColDef().showRowGroup)for(var d=a.getColDef().showRowGroup,v=n.parent;null!=v;){if(v.rowGroupColumn&&(!0===d||d===v.rowGroupColumn.getId()))return v.key;v=v.parent}},i.prototype.setValue=function(n,a,c,d){var v=this.columnModel.getPrimaryColumn(a);if(n&&v){at(n.data)&&(n.data={});var C=v.getColDef(),x=C.field,I=C.newValueHandler,U=C.valueSetter;if(at(x)&&at(I)&&at(U))return void console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work");var _e,pe={node:n,data:n.data,oldValue:this.getValue(v,n),newValue:c,colDef:v.getColDef(),column:v,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(pe.newValue=c,void 0===(_e=I&&ue(I)?I(pe):ue(U)?this.expressionService.evaluate(U,pe):this.setValueUsingField(n.data,x,c,v.isFieldContainsDots()))&&(_e=!0),_e){n.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),pe.newValue=this.getValue(v,n);var it=v.getColDef().onCellValueChanged;"function"==typeof it&&setTimeout(function(){return it(pe)},0),this.eventService.dispatchEvent({type:Ye.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:pe.column,api:pe.api,columnApi:pe.columnApi,colDef:pe.colDef,context:pe.context,data:n.data,node:n,oldValue:pe.oldValue,newValue:pe.newValue,value:pe.newValue,source:d})}}},i.prototype.setValueUsingField=function(n,a,c,d){if(!a)return!1;if(d)for(var C=a.split("."),x=n;C.length>0&&x;){var I=C.shift();0===C.length?x[I]=c:x=x[I]}else n[a]=c;return!0},i.prototype.executeFilterValueGetter=function(n,a,c,d){var v={data:a,node:d,column:c,colDef:c.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,d)};return this.expressionService.evaluate(n,v)},i.prototype.executeValueGetter=function(n,a,c,d){var v=c.getId(),C=this.valueCache.getValue(d,v);if(void 0!==C)return C;var x={data:a,node:d,column:c,colDef:c.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,d)},I=this.expressionService.evaluate(n,x);return this.valueCache.setValue(d,v,I),I},i.prototype.getValueCallback=function(n,a){var c=this.columnModel.getPrimaryColumn(a);return c?this.getValue(c,n):null},i.prototype.getKeyForNode=function(n,a){var c=this.getValue(n,a),d=n.getColDef().keyCreator,v=c;return d&&(v=d({value:c,colDef:n.getColDef(),column:n,node:a,data:a.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof v||null==v||"[object Object]"===(v=String(v))&&Qn(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),v},Ms([ce("expressionService")],i.prototype,"expressionService",void 0),Ms([ce("columnModel")],i.prototype,"columnModel",void 0),Ms([ce("valueCache")],i.prototype,"valueCache",void 0),Ms([Gt],i.prototype,"init",null),Ms([bn("valueService")],i)}(yn),u2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),h0=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ta=(()=>(function(u){u.AUTO_HEIGHT="ag-layout-auto-height",u.NORMAL="ag-layout-normal",u.PRINT="ag-layout-print"}(ta||(ta={})),ta))(),rp=function(u){function i(n){var a=u.call(this)||this;return a.view=n,a}return u2(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,hr.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},i.prototype.updateLayoutClasses=function(){var n=this.gridOptionsWrapper.getDomLayout(),a={autoHeight:n===St.DOM_LAYOUT_AUTO_HEIGHT,normal:n===St.DOM_LAYOUT_NORMAL,print:n===St.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(a.autoHeight?ta.AUTO_HEIGHT:a.print?ta.PRINT:ta.NORMAL,a)},h0([ce("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),h0([Gt],i.prototype,"postConstruct",null),i}(yn),d2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},h2=function(u){function i(n){var a=u.call(this)||this;return a.scrollLeft=-1,a.nextScrollTop=-1,a.scrollTop=-1,a.eBodyViewport=n,a.resetLastHorizontalScrollElementDebounced=ze(a.resetLastHorizontalScrollElement.bind(a),500),a}return d2(i,u),i.prototype.postConstruct=function(){var n=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(a){n.centerRowContainerCon=a.centerRowContainerCtrl,n.onDisplayedColumnsWidthChanged(),n.addScrollListener()})},i.prototype.addScrollListener=function(){var n=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCon.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(n.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var a=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?ze(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",a)},i.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},i.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(n){if(null!=this.centerRowContainerCon){void 0===n&&(n=this.centerRowContainerCon.getCenterViewportScrollLeft());var c=this.enableRtl?n:-n,d=this.ctrlsService.getTopCenterRowContainerCtrl(),v=this.ctrlsService.getBottomCenterRowContainerCtrl(),C=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(c),v.setContainerTranslateX(c),d.setContainerTranslateX(c),Ra(this.lastHorizontalScrollElement===this.centerRowContainerCon.getViewportElement()?C.getViewport():this.centerRowContainerCon.getViewportElement(),Math.abs(n),this.enableRtl)}},i.prototype.isControllingScroll=function(n){return this.lastHorizontalScrollElement?n===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=n,!0)},i.prototype.onFakeHorizontalScroll=function(){var n=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(n)||this.onBodyHorizontalScroll(n)},i.prototype.onCenterViewportScroll=function(){var n=this.centerRowContainerCon.getViewportElement();!this.isControllingScroll(n)||this.onBodyHorizontalScroll(n)},i.prototype.onBodyHorizontalScroll=function(n){var a=this.centerRowContainerCon.getViewportElement();this.shouldBlockScrollUpdate("horizontal",a.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(wo(n,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},i.prototype.onVerticalScroll=function(){var n=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",n,!0)||(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},i.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},i.prototype.doHorizontalScroll=function(n){var c=wo(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===n&&n===c||(this.scrollLeft=n,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(n),this.onHorizontalViewportChanged())},i.prototype.fireScrollEvent=function(n){var a=this,c={type:Ye.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:n,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(c),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var d=Object.assign({},c,{type:Ye.EVENT_BODY_SCROLL_END});a.eventService.dispatchEvent(d)},100)},i.prototype.shouldBlockScrollUpdate=function(n,a,c){if(void 0===c&&(c=!1),c&&!ni())return!1;if("vertical"===n){var d=Kt(this.eBodyViewport);if(a<0||a+d>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===n){var C=this.centerRowContainerCon.getCenterWidth(),x=this.centerRowContainerCon.getViewportElement().scrollWidth;if(this.enableRtl&&Ao()){if(a>0)return!0}else if(a<0)return!0;if(Math.abs(a)+C>x)return!0}return!1},i.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},i.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCon.onHorizontalViewportChanged()},i.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCon.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCon.getViewportElement())},i.prototype.executeAnimationFrameScroll=function(){var n=this.scrollTop!=this.nextScrollTop;return n&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),n},i.prototype.setHorizontalScrollPosition=function(n){var c=this.centerRowContainerCon.getViewportElement().scrollWidth-this.centerRowContainerCon.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",n)&&(n=this.enableRtl&&Ao()?n>0?0:c:Math.min(Math.max(n,0),c)),Ra(this.centerRowContainerCon.getViewportElement(),Math.abs(n),this.enableRtl),this.doHorizontalScroll(n)},i.prototype.setVerticalScrollPosition=function(n){this.eBodyViewport.scrollTop=n},i.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},i.prototype.getHScrollPosition=function(){return this.centerRowContainerCon.getHScrollPosition()},i.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCon.isHorizontalScrollShowing()},i.prototype.scrollHorizontally=function(n){var a=this.centerRowContainerCon.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(a+n),this.centerRowContainerCon.getViewportElement().scrollLeft-a},i.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},i.prototype.ensureNodeVisible=function(n,a){void 0===a&&(a=null);for(var c=this.rowModel.getRowCount(),d="function"==typeof n,v=-1,C=0;C<c;C++){var x=this.rowModel.getRow(C);if(d){if(n(x)){v=C;break}}else if(n===x||n===x.data){v=C;break}}v>=0&&this.ensureIndexVisible(v,a)},i.prototype.ensureIndexVisible=function(n,a){if(this.gridOptionsWrapper.getDomLayout()!==St.DOM_LAYOUT_PRINT){var c=this.paginationProxy.getRowCount();if("number"!=typeof n||n<0||n>=c)return void console.warn("invalid row index for ensureIndexVisible: "+n);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(n);var x,C=this.paginationProxy.getRow(n);do{var I=C.rowTop,U=C.rowHeight,pe=this.paginationProxy.getPixelOffset(),_e=C.rowTop-pe,it=_e+C.rowHeight,xt=this.getVScrollPosition(),Ut=this.heightScaler.getDivStretchOffset(),sn=xt.top+Ut,qt=xt.bottom+Ut,En=qt-sn,xn=this.heightScaler.getScrollPositionForPixel(_e),er=this.heightScaler.getScrollPositionForPixel(it-En),Ar=Math.min((xn+er)/2,_e),ei=null;"top"===a?ei=xn:"bottom"===a?ei=er:"middle"===a?ei=Ar:sn>_e?ei=xn:qt<it&&(ei=er),null!==ei&&(this.eBodyViewport.scrollTop=ei,this.rowRenderer.redrawAfterScroll()),x=I!==C.rowTop||U!==C.rowHeight}while(x);this.animationFrameService.flushAllFrames()}},i.prototype.ensureColumnVisible=function(n,a){void 0===a&&(a="auto");var c=this.columnModel.getGridColumn(n);if(c&&!c.isPinned()&&this.columnModel.isColumnDisplayed(c)){var d=this.getPositionedHorizontalScroll(c,a);null!==d&&this.centerRowContainerCon.setCenterViewportScrollLeft(d),this.centerRowContainerCon.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},i.prototype.getPositionedHorizontalScroll=function(n,a){var c=this.isColumnOutsideViewport(n),d=c.columnBeforeStart,v=c.columnAfterEnd,C=this.centerRowContainerCon.getCenterWidth()<n.getActualWidth(),x=this.centerRowContainerCon.getCenterWidth(),I=this.enableRtl,U=(I?d:v)||C,pe=I?v:d;"auto"!==a&&(U="start"===a,pe="end"===a);var _e="middle"===a;if(U||pe||_e){var it=this.getColumnBounds(n),xt=it.colLeft,sn=it.colRight;return _e?it.colMiddle-x/2:U?I?sn:xt:I?xt-x:sn-x}return null},i.prototype.isColumnOutsideViewport=function(n){var a=this.getViewportBounds(),c=a.start,d=a.end,v=this.getColumnBounds(n),C=v.colLeft,x=v.colRight,I=this.enableRtl;return{columnBeforeStart:I?c>x:d<x,columnAfterEnd:I?d<C:c>C}},i.prototype.getColumnBounds=function(n){var a=this.enableRtl,c=this.columnModel.getBodyContainerWidth(),d=n.getActualWidth(),v=n.getLeft(),C=a?-1:1,x=a?c-v:v;return{colLeft:x,colMiddle:x+d/2*C,colRight:x+d*C}},i.prototype.getViewportBounds=function(){var n=this.centerRowContainerCon.getCenterWidth(),a=this.centerRowContainerCon.getCenterViewportScrollLeft();return{start:a,end:n+a,width:n}},vc([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),vc([ce("animationFrameService")],i.prototype,"animationFrameService",void 0),vc([ce("columnApi")],i.prototype,"columnApi",void 0),vc([ce("gridApi")],i.prototype,"gridApi",void 0),vc([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),vc([ce("rowModel")],i.prototype,"rowModel",void 0),vc([ce("rowContainerHeightService")],i.prototype,"heightScaler",void 0),vc([ce("rowRenderer")],i.prototype,"rowRenderer",void 0),vc([ce("columnModel")],i.prototype,"columnModel",void 0),vc([Gt],i.prototype,"postConstruct",null),i}(yn),wf=function(){function u(i){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=i.scrollContainer,this.scrollHorizontally=-1!==i.scrollAxis.indexOf("x"),this.scrollVertically=-1!==i.scrollAxis.indexOf("y"),this.scrollByTick=null!=i.scrollByTick?i.scrollByTick:20,i.onScrollCallback&&(this.onScrollCallback=i.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=i.getVerticalPosition,this.setVerticalPosition=i.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=i.getHorizontalPosition,this.setHorizontalPosition=i.setHorizontalPosition),this.shouldSkipVerticalScroll=i.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=i.shouldSkipHorizontalScroll||function(){return!1}}return u.prototype.check=function(i,n){void 0===n&&(n=!1);var a=n||this.shouldSkipVerticalScroll();if(!a||!this.shouldSkipHorizontalScroll()){var c=this.scrollContainer.getBoundingClientRect(),d=this.scrollByTick;this.tickLeft=i.clientX<c.left+d,this.tickRight=i.clientX>c.right-d,this.tickUp=i.clientY<c.top+d&&!a,this.tickDown=i.clientY>c.bottom-d&&!a,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},u.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},u.prototype.doTick=function(){var i;if(this.tickCount++,i=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var n=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(n-i),this.tickDown&&this.setVerticalPosition(n+i)}if(this.scrollHorizontally){var a=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(a-i),this.tickRight&&this.setHorizontalPosition(a+i)}this.onScrollCallback&&this.onScrollCallback()},u.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},u}(),p2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Sf=function(){return Sf=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Sf.apply(this,arguments)},ca=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},jc=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Xd=function(u){function i(n){var a=u.call(this)||this;return a.isMultiRowDrag=!1,a.isGridSorted=!1,a.isGridFiltered=!1,a.isRowGroupActive=!1,a.eContainer=n,a}return p2(i,u),i.prototype.postConstruct=function(){var n=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var a=function(){n.onSortChanged(),n.onFilterChanged(),n.onRowGroupChanged()};this.addManagedListener(this.eventService,Ye.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_MODEL_UPDATED,function(){a()}),a(),this.ctrlsService.whenReady(function(){var c=n.ctrlsService.getGridBodyCtrl();n.autoScrollService=new wf({scrollContainer:c.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return c.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(d){return c.getScrollFeature().setVerticalScrollPosition(d)},onScrollCallback:function(){n.onDragging(n.lastDraggingEvent)}})})},i.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},i.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},i.prototype.onRowGroupChanged=function(){var n=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!De(n)},i.prototype.getContainer=function(){return this.eContainer},i.prototype.isInterestedIn=function(n){return n===Qs.RowDrag},i.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?La.ICON_NOT_ALLOWED:La.ICON_MOVE},i.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},i.prototype.getRowNodes=function(n){var a=this;if(!this.isFromThisGrid(n))return n.dragItem.rowNodes||[];var c=this.gridOptionsWrapper.isRowDragMultiRow(),d=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(jc(arguments[i]));return u}(this.selectionService.getSelectedNodes()).sort(function(C,x){return a.getRowIndexNumber(C)-a.getRowIndexNumber(x)}),v=n.dragItem.rowNode;return c&&-1!==d.indexOf(v)?(this.isMultiRowDrag=!0,d):(this.isMultiRowDrag=!1,[v])},i.prototype.onDragEnter=function(n){n.dragItem.rowNodes=this.getRowNodes(n),this.dispatchGridEvent(Ye.EVENT_ROW_DRAG_ENTER,n),this.getRowNodes(n).forEach(function(a){a.setDragging(!0)}),this.onEnterOrDragging(n)},i.prototype.onDragging=function(n){this.onEnterOrDragging(n)},i.prototype.isFromThisGrid=function(n){return n.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},i.prototype.isDropZoneWithinThisGrid=function(n){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(n.dropZoneTarget)},i.prototype.onEnterOrDragging=function(n){this.dispatchGridEvent(Ye.EVENT_ROW_DRAG_MOVE,n),this.lastDraggingEvent=n;var a=this.mouseEventService.getNormalisedPosition(n).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(n,a),this.autoScrollService.check(n.event)},i.prototype.doManagedDrag=function(n,a){var c=this.isFromThisGrid(n),d=this.gridOptionsWrapper.isRowDragManaged(),v=n.dragItem.rowNodes;d&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!c?this.isDropZoneWithinThisGrid(n)||this.clientSideRowModel.highlightRowAtPixel(v[0],a):this.moveRows(v,a))},i.prototype.getRowIndexNumber=function(n){return parseInt(bt(n.getRowIndexString().split("-")),10)},i.prototype.moveRowAndClearHighlight=function(n){var a=this,c=this.clientSideRowModel.getLastHighlightedRowNode(),d=c&&c.highlighted===pu.Below,v=this.mouseEventService.getNormalisedPosition(n).y,C=n.dragItem.rowNodes,x=d?1:0;if(this.isFromThisGrid(n))C.forEach(function(pe){pe.rowTop<v&&(x-=1)}),this.moveRows(C,v,x);else{var I=this.gridOptionsWrapper.getRowIdFunc(),U=this.clientSideRowModel.getRowIndexAtPixel(v)+1;this.clientSideRowModel.getHighlightPosition(v)===pu.Above&&U--,this.clientSideRowModel.updateRowData({add:C.map(function(pe){return pe.data}).filter(function(pe){return!a.clientSideRowModel.getRowNode(I?I({data:pe,level:0,api:a.gridApi,columnApi:a.columnApi}):pe.id)}),addIndex:U})}this.clearRowHighlight()},i.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},i.prototype.moveRows=function(n,a,c){void 0===c&&(c=0),this.clientSideRowModel.ensureRowsAtPixel(n,a,c)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},i.prototype.addRowDropZone=function(n){var a=this;if(n.getContainer())if(this.dragAndDropService.findExternalZone(n))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var c={getContainer:n.getContainer};n.fromGrid?(n.fromGrid=void 0,c=n):(n.onDragEnter&&(c.onDragEnter=function(d){n.onDragEnter(a.draggingToRowDragEvent(Ye.EVENT_ROW_DRAG_ENTER,d))}),n.onDragLeave&&(c.onDragLeave=function(d){n.onDragLeave(a.draggingToRowDragEvent(Ye.EVENT_ROW_DRAG_LEAVE,d))}),n.onDragging&&(c.onDragging=function(d){n.onDragging(a.draggingToRowDragEvent(Ye.EVENT_ROW_DRAG_MOVE,d))}),n.onDragStop&&(c.onDragStop=function(d){n.onDragStop(a.draggingToRowDragEvent(Ye.EVENT_ROW_DRAG_END,d))})),this.dragAndDropService.addDropTarget(Sf({isInterestedIn:function(d){return d===Qs.RowDrag},getIconName:function(){return La.ICON_MOVE},external:!0},c))}else Qn(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},i.prototype.getRowDropZone=function(n){var a=this,c=this.getContainer.bind(this),d=this.onDragEnter.bind(this),v=this.onDragLeave.bind(this),C=this.onDragging.bind(this),x=this.onDragStop.bind(this);return n?{getContainer:c,onDragEnter:n.onDragEnter?function(I){d(I),n.onDragEnter(a.draggingToRowDragEvent(Ye.EVENT_ROW_DRAG_ENTER,I))}:d,onDragLeave:n.onDragLeave?function(I){v(I),n.onDragLeave(a.draggingToRowDragEvent(Ye.EVENT_ROW_DRAG_LEAVE,I))}:v,onDragging:n.onDragging?function(I){C(I),n.onDragging(a.draggingToRowDragEvent(Ye.EVENT_ROW_DRAG_MOVE,I))}:C,onDragStop:n.onDragStop?function(I){x(I),n.onDragStop(a.draggingToRowDragEvent(Ye.EVENT_ROW_DRAG_END,I))}:x,fromGrid:!0}:{getContainer:c,onDragEnter:d,onDragLeave:v,onDragging:C,onDragStop:x,fromGrid:!0}},i.prototype.draggingToRowDragEvent=function(n,a){var C,x,c=this.mouseEventService.getNormalisedPosition(a).y,v=-1;switch(c>this.paginationProxy.getCurrentPageHeight()||(v=this.rowModel.getRowIndexAtPixel(c),C=this.rowModel.getRow(v)),a.vDirection){case Rc.Down:x="down";break;case Rc.Up:x="up";break;default:x=null}return{type:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:a.event,node:a.dragItem.rowNode,nodes:a.dragItem.rowNodes,overIndex:v,overNode:C,y:c,vDirection:x}},i.prototype.dispatchGridEvent=function(n,a){var c=this.draggingToRowDragEvent(n,a);this.eventService.dispatchEvent(c)},i.prototype.onDragLeave=function(n){this.dispatchGridEvent(Ye.EVENT_ROW_DRAG_LEAVE,n),this.stopDragging(n),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(n)&&(this.isMultiRowDrag=!1)},i.prototype.onDragStop=function(n){this.dispatchGridEvent(Ye.EVENT_ROW_DRAG_END,n),this.stopDragging(n),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(n))&&!this.isDropZoneWithinThisGrid(n)&&this.moveRowAndClearHighlight(n)},i.prototype.stopDragging=function(n){this.autoScrollService.ensureCleared(),this.getRowNodes(n).forEach(function(a){a.setDragging(!1)})},ca([ce("dragAndDropService")],i.prototype,"dragAndDropService",void 0),ca([ce("rowModel")],i.prototype,"rowModel",void 0),ca([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),ca([ce("columnModel")],i.prototype,"columnModel",void 0),ca([ce("focusService")],i.prototype,"focusService",void 0),ca([ce("sortController")],i.prototype,"sortController",void 0),ca([ce("filterManager")],i.prototype,"filterManager",void 0),ca([ce("selectionService")],i.prototype,"selectionService",void 0),ca([ce("mouseEventService")],i.prototype,"mouseEventService",void 0),ca([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),ca([Lt("rangeService")],i.prototype,"rangeService",void 0),ca([ce("columnApi")],i.prototype,"columnApi",void 0),ca([ce("gridApi")],i.prototype,"gridApi",void 0),ca([Gt],i.prototype,"postConstruct",null),i}(yn),hg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ps=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},mc=(()=>(function(u){u.ANIMATION_ON="ag-row-animation",u.ANIMATION_OFF="ag-row-no-animation"}(mc||(mc={})),mc))(),p0="ag-selectable",bf="ag-force-vertical-scroll",f2="ag-column-moving",g2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.angularApplyTriggered=!1,n}return hg(i,u),i.prototype.getScrollFeature=function(){return this.bodyScrollFeature},i.prototype.getBodyViewportElement=function(){return this.eBodyViewport},i.prototype.setComp=function(n,a,c,d,v){this.comp=n,this.eGridBody=a,this.eBodyViewport=c,this.eTop=d,this.eBottom=v,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new rp(this.comp)),this.bodyScrollFeature=this.createManagedBean(new h2(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.ctrlsService.registerGridBodyCtrl(this),this.addEventListeners(),this.addFocusListeners([d,c,v]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.$scope&&this.addAngularApplyCheck()},i.prototype.getComp=function(){return this.comp},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ye.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},i.prototype.addFocusListeners=function(n){var a=this;n.forEach(function(c){a.addManagedListener(c,"focusin",function(){c.classList.add("ag-has-focus")}),a.addManagedListener(c,"focusout",function(d){c.contains(d.relatedTarget)||c.classList.remove("ag-has-focus")})})},i.prototype.setColumnMovingCss=function(n){this.comp.setColumnMovingCss(n?f2:null,n)},i.prototype.setCellTextSelection=function(n){void 0===n&&(n=!1),this.comp.setCellSelectableCss(n?p0:null,n)},i.prototype.onScrollVisibilityChanged=function(){var n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n)},i.prototype.onGridColumnsChanged=function(){var n=this.columnModel.getAllGridColumns();this.comp.setColumnCount(n?n.length:0)},i.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(n){if(n.target instanceof HTMLImageElement)return n.preventDefault(),!1})},i.prototype.addStopEditingWhenGridLosesFocus=function(){var n=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var a=function(d){var v=d.relatedTarget;if(null!==Yr(v)){var C=c.some(function(I){return I.contains(v)})&&n.mouseEventService.isElementInThisGrid(v);if(!C){var x=n.popupService;C=x.getActivePopups().some(function(I){return I.contains(v)})||x.isElementWithinCustomPopup(v)}C||n.rowRenderer.stopEditing()}else n.rowRenderer.stopEditing()},c=[this.eBodyViewport,this.eBottom,this.eTop];c.forEach(function(d){return n.addManagedListener(d,"focusout",a)})}},i.prototype.updateRowCount=function(){var n=this.headerNavigationService.getHeaderRowCount(),a=this.paginationProxy.getType(),c=-1;a===St.ROW_MODEL_TYPE_CLIENT_SIDE&&(c=0,this.paginationProxy.forEachNode(function(v){v.group||c++})),this.comp.setRowCount(-1===c?-1:n+c)},i.prototype.registerBodyViewportResizeListener=function(n){this.comp.registerBodyViewportResizeListener(n)},i.prototype.setVerticalScrollPaddingVisible=function(n){this.comp.setPinnedTopBottomOverflowY(n?"scroll":"hidden")},i.prototype.isVerticalScrollShowing=function(){var n=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(n?bf:null,n),n||ft(this.eBodyViewport)},i.prototype.setupRowAnimationCssClass=function(){var n=this,a=function(){var c=n.gridOptionsWrapper.isAnimateRows()&&!n.rowContainerHeightService.isStretching();n.comp.setRowAnimationCssOnBodyViewport(c?mc.ANIMATION_ON:mc.ANIMATION_OFF,c)};a(),this.addManagedListener(this.eventService,Ye.EVENT_HEIGHT_SCALE_CHANGED,a)},i.prototype.getGridBodyElement=function(){return this.eGridBody},i.prototype.addBodyViewportListener=function(){var n=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(c){n.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&c.preventDefault();var d=c.target;(d===n.eBodyViewport||d===n.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&n.contextMenuFactory&&n.contextMenuFactory.onContextMenu(c,null,null,null,null,n.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},i.prototype.onWheel=function(n){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&n.preventDefault()},i.prototype.getGui=function(){return this.eGridBody},i.prototype.scrollVertically=function(n){var a=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(a+n),this.eBodyViewport.scrollTop-a},i.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Xd(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},i.prototype.getRowDragFeature=function(){return this.rowDragFeature},i.prototype.setFloatingHeights=function(){var n=this.pinnedRowModel,a=n.getPinnedTopTotalHeight();a&&(a+=1);var c=n.getPinnedBottomTotalHeight();c&&(c+=1),this.comp.setTopHeight(a),this.comp.setBottomHeight(c),this.comp.setTopDisplay(a?"inherit":"none"),this.comp.setBottomDisplay(c?"inherit":"none")},i.prototype.sizeColumnsToFit=function(n){var a=this,d=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,C=Jn(this.eBodyViewport)-d;C>0?this.columnModel.sizeColumnsToFit(C,"sizeColumnsToFit"):void 0===n?window.setTimeout(function(){a.sizeColumnsToFit(100)},0):100===n?window.setTimeout(function(){a.sizeColumnsToFit(500)},100):500===n?window.setTimeout(function(){a.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},i.prototype.addScrollEventListener=function(n){this.eBodyViewport.addEventListener("scroll",n)},i.prototype.removeScrollEventListener=function(n){this.eBodyViewport.removeEventListener("scroll",n)},i.prototype.requestAngularApply=function(){var n=this;this.angularApplyTriggered||(this.angularApplyTriggered=!0,window.setTimeout(function(){n.angularApplyTriggered=!1,n.$scope.$apply()},0))},i.prototype.addAngularApplyCheck=function(){var n=this;this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return n.requestAngularApply()}),this.addManagedListener(this.eventService,Ye.EVENT_VIRTUAL_COLUMNS_CHANGED,function(){return n.requestAngularApply()})},Ps([ce("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Ps([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Ps([ce("columnModel")],i.prototype,"columnModel",void 0),Ps([ce("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Ps([Lt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Ps([ce("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Ps([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),Ps([ce("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ps([ce("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ps([ce("rowRenderer")],i.prototype,"rowRenderer",void 0),Ps([ce("popupService")],i.prototype,"popupService",void 0),Ps([ce("mouseEventService")],i.prototype,"mouseEventService",void 0),Ps([ce("$scope")],i.prototype,"$scope",void 0),i}(yn),pg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},f0='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Ln.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Ln.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Ln.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Ln.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+Ln.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+Ln.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+Ln.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+Ln.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Ln.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Ln.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Ln.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Ln.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',fg=function(u){function i(){return u.call(this,f0)||this}return pg(i,u),i.prototype.init=function(){var n=this,a=function(d,v){var C=d+"px";v.style.minHeight=C,v.style.height=C},c={setRowAnimationCssOnBodyViewport:function(d,v){return n.setRowAnimationCssOnBodyViewport(d,v)},setColumnCount:function(d){return Ys(n.getGui(),d)},setRowCount:function(d){return Rl(n.getGui(),d)},setTopHeight:function(d){return a(d,n.eTop)},setBottomHeight:function(d){return a(d,n.eBottom)},setTopDisplay:function(d){return n.eTop.style.display=d},setBottomDisplay:function(d){return n.eBottom.style.display=d},setColumnMovingCss:function(d,v){return n.addOrRemoveCssClass(f2,v)},updateLayoutClasses:function(d,v){var C=n.eBodyViewport.classList;C.toggle(ta.AUTO_HEIGHT,v.autoHeight),C.toggle(ta.NORMAL,v.normal),C.toggle(ta.PRINT,v.print),n.addOrRemoveCssClass(ta.AUTO_HEIGHT,v.autoHeight),n.addOrRemoveCssClass(ta.NORMAL,v.normal),n.addOrRemoveCssClass(ta.PRINT,v.print)},setAlwaysVerticalScrollClass:function(d,v){return n.eBodyViewport.classList.toggle(bf,v)},registerBodyViewportResizeListener:function(d){var v=n.resizeObserverService.observeResize(n.eBodyViewport,d);n.addDestroyFunc(function(){return v()})},setPinnedTopBottomOverflowY:function(d){return n.eTop.style.overflowY=n.eBottom.style.overflowY=d},setCellSelectableCss:function(d,v){[n.eTop,n.eBodyViewport,n.eBottom].forEach(function(C){return C.classList.toggle(p0,v)})}};this.ctrl=this.createManagedBean(new g2),this.ctrl.setComp(c,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&la(this.getGui(),!0)},i.prototype.setRowAnimationCssOnBodyViewport=function(n,a){var c=this.eBodyViewport.classList;c.toggle(mc.ANIMATION_ON,a),c.toggle(mc.ANIMATION_OFF,!a)},i.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},wu([ce("resizeObserverService")],i.prototype,"resizeObserverService",void 0),wu([Lt("rangeService")],i.prototype,"rangeService",void 0),wu([Pn("eBodyViewport")],i.prototype,"eBodyViewport",void 0),wu([Pn("eTop")],i.prototype,"eTop",void 0),wu([Pn("eBottom")],i.prototype,"eBottom",void 0),wu([Pn("gridHeader")],i.prototype,"headerRootComp",void 0),wu([Gt],i.prototype,"init",null),i}(ai),g0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),yc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ef=function(u,i){return function(n,a){i(n,a,u)}},v2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.expressionToFunctionCache={},n}return g0(i,u),i.prototype.setBeans=function(n){this.logger=n.create("ExpressionService")},i.prototype.evaluate=function(n,a){return"function"==typeof n?n(a):"string"==typeof n?this.evaluateExpression(n,a):void console.error("AG Grid: value should be either a string or a function",n)},i.prototype.evaluateExpression=function(n,a){try{return this.createExpressionFunction(n)(a.value,a.context,a.oldValue,a.newValue,a.value,a.node,a.data,a.colDef,a.rowIndex,a.api,a.columnApi,a.getValue,a.column,a.columnGroup)}catch(v){return console.log("Processing of the expression failed"),console.log("Expression = "+n),console.log("Params =",a),console.log("Exception = "+v),null}},i.prototype.createExpressionFunction=function(n){if(this.expressionToFunctionCache[n])return this.expressionToFunctionCache[n];var a=this.createFunctionBody(n),c=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",a);return this.expressionToFunctionCache[n]=c,c},i.prototype.createFunctionBody=function(n){return n.indexOf("return")>=0?n:"return "+n+";"},yc([Ef(0,We("loggerFactory"))],i.prototype,"setBeans",null),yc([bn("expressionService")],i)}(yn),m2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},id=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.templateCache={},n.waitingCallbacks={},n}return m2(i,u),i.prototype.getTemplate=function(n,a){var c=this.templateCache[n];if(c)return c;var d=this.waitingCallbacks[n],v=this;if(!d){this.waitingCallbacks[n]=d=[];var C=new XMLHttpRequest;C.onload=function(){v.handleHttpResult(this,n)},C.open("GET",n),C.send()}return a&&d.push(a),null},i.prototype.handleHttpResult=function(n,a){if(200===n.status&&null!==n.response){this.templateCache[a]=n.response||n.responseText;for(var c=this.waitingCallbacks[a],d=0;d<c.length;d++)(0,c[d])();if(this.$scope){var C=this;window.setTimeout(function(){C.$scope.$apply()},0)}}else console.warn("AG Grid: Unable to get template error "+n.status+" - "+a)},gg([ce("$scope")],i.prototype,"$scope",void 0),gg([bn("templateService")],i)}(yn),v0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),As=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Zd=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Su=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}var n;return v0(i,u),n=i,i.addKeyboardModeEvents=function(a,c){var d=n.instancesMonitored.get(a);d&&d.length>0?-1===d.indexOf(c)&&d.push(c):(n.instancesMonitored.set(a,[c]),a.addEventListener("keydown",n.toggleKeyboardMode),a.addEventListener("mousedown",n.toggleKeyboardMode))},i.removeKeyboardModeEvents=function(a,c){var d=n.instancesMonitored.get(a),v=[];d&&d.length&&(v=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(Zd(arguments[i]));return u}(d).filter(function(C){return C!==c}),n.instancesMonitored.set(a,v)),0===v.length&&(a.removeEventListener("keydown",n.toggleKeyboardMode),a.removeEventListener("mousedown",n.toggleKeyboardMode))},i.toggleKeyboardMode=function(a){var c=n.keyboardModeActive,d="keydown"===a.type;if(!(d&&(a.ctrlKey||a.metaKey||a.altKey)||c&&d||!c&&!d)){n.keyboardModeActive=d;var v=a.target.ownerDocument;if(v){var C=n.instancesMonitored.get(v);C&&C.forEach(function(x){x.dispatchEvent({type:d?Ye.EVENT_KEYBOARD_FOCUS:Ye.EVENT_MOUSE_FOCUS})})}}},i.prototype.init=function(){var a=this,c=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_PIVOT_MODE_CHANGED,c),this.addManagedListener(this.eventService,Ye.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_GROUP_OPENED,c),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,c),this.ctrlsService.whenReady(function(d){a.gridCtrl=d.gridCtrl;var v=a.gridOptionsWrapper.getDocument();n.addKeyboardModeEvents(v,a.gridCtrl),a.addDestroyFunc(function(){return a.unregisterGridCompController(a.gridCtrl)})})},i.prototype.unregisterGridCompController=function(a){var c=this.gridOptionsWrapper.getDocument();n.removeKeyboardModeEvents(c,a)},i.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var a=this.focusedCellPosition.column,c=this.columnModel.getGridColumn(a.getId());a!==c&&this.clearFocusedCell()}},i.prototype.isKeyboardMode=function(){return n.keyboardModeActive},i.prototype.getFocusCellToUseAfterRefresh=function(){var a=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(a.activeElement,Vc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},i.prototype.getFocusHeaderToUseAfterRefresh=function(){var a=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(a.activeElement,zi.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},i.prototype.isDomDataMissingInHierarchy=function(a,c){for(var d=a;d;){if(this.gridOptionsWrapper.getDomData(d,c))return!1;d=d.parentNode}return!0},i.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},i.prototype.getFocusedCell=function(){return this.focusedCellPosition},i.prototype.setFocusedCell=function(a,c,d,v){void 0===v&&(v=!1);var C=this.columnModel.getGridColumn(c);C?(this.focusedCellPosition=C?{rowIndex:a,rowPinned:Yt(d),column:C}:null,this.onCellFocused(v)):this.focusedCellPosition=null},i.prototype.isCellFocused=function(a){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===a.column&&this.isRowFocused(a.rowIndex,a.rowPinned)},i.prototype.isRowNodeFocused=function(a){return this.isRowFocused(a.rowIndex,a.rowPinned)},i.prototype.isHeaderWrapperFocused=function(a){if(null==this.focusedHeaderPosition)return!1;var c=a.getColumnGroupChild(),d=a.getRowIndex(),v=a.getPinned(),C=this.focusedHeaderPosition,x=C.column;return c===x&&d===C.headerRowIndex&&v==x.getPinned()},i.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},i.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},i.prototype.setFocusedHeader=function(a,c){this.focusedHeaderPosition={headerRowIndex:a,column:c}},i.prototype.focusHeaderPosition=function(a){var c=a.direction,d=a.fromTab,C=a.event,x=a.headerPosition;if(a.allowUserOverride){var _e,I=this.gridOptionsWrapper,U=this.getFocusedHeader(),pe=this.headerNavigationService.getHeaderRowCount();d?(_e=I.getTabToNextHeaderFunc())&&(x=_e({backwards:"Before"===c,previousHeaderPosition:U,nextHeaderPosition:x,headerRowCount:pe,api:I.getApi(),columnApi:I.getColumnApi()})):(_e=I.getNavigateToNextHeaderFunc())&&C&&(x=_e({key:C.key,previousHeaderPosition:U,nextHeaderPosition:x,headerRowCount:pe,event:C,api:I.getApi(),columnApi:I.getColumnApi()}))}return!!x&&(-1===x.headerRowIndex?this.focusGridView(x.column):(this.headerNavigationService.scrollToColumn(x.column,c),this.ctrlsService.getHeaderRowContainerCtrl(x.column.getPinned()).focusHeader(x.headerRowIndex,x.column,C)))},i.prototype.focusFirstHeader=function(){var a=this.columnModel.getAllDisplayedColumns()[0];return!!a&&(a.getParent()&&(a=this.columnModel.getColumnGroupAtLevel(a,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:a}}))},i.prototype.focusLastHeader=function(a){var c=this.headerNavigationService.getHeaderRowCount()-1,d=bt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},event:a})},i.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},i.prototype.isRowFocused=function(a,c){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===a&&this.focusedCellPosition.rowPinned===Yt(c)},i.prototype.findFocusableElements=function(a,c,d){void 0===d&&(d=!1);var C=St.FOCUSABLE_EXCLUDE;c&&(C+=", "+c),d&&(C+=', [tabindex="-1"]');var _e,x=Array.prototype.slice.apply(a.querySelectorAll(St.FOCUSABLE_SELECTOR)),I=Array.prototype.slice.apply(a.querySelectorAll(C));return I.length?(_e=I,x.filter(function(it){return-1===_e.indexOf(it)})):x},i.prototype.focusInto=function(a,c,d){void 0===c&&(c=!1),void 0===d&&(d=!1);var v=this.findFocusableElements(a,null,d),C=c?bt(v):v[0];return!!C&&(C.focus(),!0)},i.prototype.findNextFocusableElement=function(a,c,d){void 0===a&&(a=this.eGridDiv);var v=this.findFocusableElements(a,c?':not([tabindex="-1"])':null),x=this.gridOptionsWrapper.getDocument().activeElement,U=(c?v.findIndex(function(pe){return pe.contains(x)}):v.indexOf(x))+(d?-1:1);return U<0||U>=v.length?null:v[U]},i.prototype.isFocusUnderManagedComponent=function(a){var c=this.gridOptionsWrapper.getDocument(),d=a.querySelectorAll("."+Yo.FOCUS_MANAGED_CLASS);if(!d.length)return!1;for(var v=0;v<d.length;v++)if(d[v].contains(c.activeElement))return!0;return!1},i.prototype.findTabbableParent=function(a,c){void 0===c&&(c=5);for(var d=0;a&&null===Yr(a)&&++d<=c;)a=a.parentElement;return null===Yr(a)?null:a},i.prototype.onCellFocused=function(a){var c={type:Ye.EVENT_CELL_FOCUSED,forceBrowserFocus:a,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var d=c.rowIndex=this.focusedCellPosition.rowIndex,v=c.rowPinned=this.focusedCellPosition.rowPinned;c.column=this.focusedCellPosition.column;var C=this.rowRenderer.getRowByPosition({rowIndex:d,rowPinned:v});C&&(c.isFullWidthCell=C.isFullWidth())}this.eventService.dispatchEvent(c)},i.prototype.focusGridView=function(a,c){if(this.gridOptionsWrapper.isSuppressCellFocus())return c?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var d=c?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!d)return!1;var v=d.rowIndex,C=d.rowPinned,x=this.getFocusedHeader();return!a&&x&&(a=x.column),!(null==v||!a)&&(this.navigationService.ensureCellVisible({rowIndex:v,column:a,rowPinned:C}),this.setFocusedCell(v,a,Yt(C),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:v,rowPinned:C,column:a}),!0)},i.prototype.focusNextGridCoreContainer=function(a){return!!this.gridCtrl.focusNextInnerContainer(a)||(a||this.gridCtrl.forceFocusOutOfContainer(),!1)},i.AG_KEYBOARD_FOCUS="ag-keyboard-focus",i.keyboardModeActive=!1,i.instancesMonitored=new Map,As([ce("eGridDiv")],i.prototype,"eGridDiv",void 0),As([ce("columnModel")],i.prototype,"columnModel",void 0),As([ce("headerNavigationService")],i.prototype,"headerNavigationService",void 0),As([ce("columnApi")],i.prototype,"columnApi",void 0),As([ce("gridApi")],i.prototype,"gridApi",void 0),As([ce("rowRenderer")],i.prototype,"rowRenderer",void 0),As([ce("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),As([Lt("rangeService")],i.prototype,"rangeService",void 0),As([ce("navigationService")],i.prototype,"navigationService",void 0),As([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),As([Gt],i.prototype,"init",null),n=As([bn("focusService")],i)}(yn),vg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Qd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Cc=(()=>(function(u){u[u.vertical=0]="vertical",u[u.horizontal=1]="horizontal"}(Cc||(Cc={})),Cc))(),C2=0,mg=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.popupList=[],n}return vg(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.gridCtrl=a.gridCtrl,n.addManagedListener(n.gridCtrl,Ye.EVENT_KEYBOARD_FOCUS,function(){n.popupList.forEach(function(c){return c.element.classList.add(Su.AG_KEYBOARD_FOCUS)})}),n.addManagedListener(n.gridCtrl,Ye.EVENT_MOUSE_FOCUS,function(){n.popupList.forEach(function(c){return c.element.classList.remove(Su.AG_KEYBOARD_FOCUS)})})})},i.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},i.prototype.positionPopupForMenu=function(n){var a=n.eventSource.getBoundingClientRect(),c=this.getParentRect(),d=this.keepXYWithinBounds(n.ePopup,a.top-c.top,Cc.vertical),v=n.ePopup.clientWidth>0?n.ePopup.clientWidth:200;n.ePopup.style.minWidth=v+"px";var I,x=c.right-c.left-v;function U(){return a.right-c.left-2}function pe(){return a.left-c.left-v}this.gridOptionsWrapper.isEnableRtl()?((I=pe())<0&&(I=U()),I>x&&(I=0)):((I=U())>x&&(I=pe()),I<0&&(I=0)),n.ePopup.style.left=I+"px",n.ePopup.style.top=d+"px"},i.prototype.positionPopupUnderMouseEvent=function(n){var a=n.ePopup,c=n.nudgeX,d=n.nudgeY,v=this.calculatePointerAlign(n.mouseEvent);this.positionPopup({ePopup:a,x:v.x,y:v.y,nudgeX:c,nudgeY:d,keepWithinBounds:!0}),this.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)},i.prototype.calculatePointerAlign=function(n){var a=this.getParentRect();return{x:n.clientX-a.left,y:n.clientY-a.top}},i.prototype.positionPopupUnderComponent=function(n){var a=n.eventSource.getBoundingClientRect(),c=n.alignSide||"left",d=this.getParentRect(),v=a.left-d.left;"right"===c&&(v-=n.ePopup.offsetWidth-a.width),this.positionPopup({ePopup:n.ePopup,nudgeX:n.nudgeX,nudgeY:n.nudgeY,x:v,y:a.top-d.top+a.height,keepWithinBounds:n.keepWithinBounds}),this.callPostProcessPopup(n.type,n.ePopup,n.eventSource,null,n.column,n.rowNode)},i.prototype.positionPopupOverComponent=function(n){var a=n.eventSource.getBoundingClientRect(),c=this.getParentRect();this.positionPopup({ePopup:n.ePopup,nudgeX:n.nudgeX,nudgeY:n.nudgeY,x:a.left-c.left,y:a.top-c.top,keepWithinBounds:n.keepWithinBounds}),this.callPostProcessPopup(n.type,n.ePopup,n.eventSource,null,n.column,n.rowNode)},i.prototype.callPostProcessPopup=function(n,a,c,d,v,C){var x=this.gridOptionsWrapper.getPostProcessPopupFunc();x&&x({column:v,rowNode:C,ePopup:a,type:n,eventSource:c,mouseEvent:d})},i.prototype.positionPopup=function(n){var a=n.ePopup,d=n.nudgeX,v=n.nudgeY,C=n.x,x=n.y;d&&(C+=d),v&&(x+=v),n.keepWithinBounds&&(C=this.keepXYWithinBounds(a,C,Cc.horizontal),x=this.keepXYWithinBounds(a,x,Cc.vertical)),a.style.left=C+"px",a.style.top=x+"px"},i.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},i.prototype.getPopupList=function(){return this.popupList},i.prototype.getParentRect=function(){var n=this.gridOptionsWrapper.getDocument(),a=this.getPopupParent();a===n.body&&(a=n.documentElement);var c=getComputedStyle(a),d=a.getBoundingClientRect();return{top:d.top+parseFloat(c.borderTopWidth)||0,left:d.left+parseFloat(c.borderLeftWidth)||0,right:d.right+parseFloat(c.borderRightWidth)||0,bottom:d.bottom+parseFloat(c.borderBottomWidth)||0}},i.prototype.keepXYWithinBounds=function(n,a,c){var d=c===Cc.vertical,v=d?"clientHeight":"clientWidth",C=d?"top":"left",x=d?"offsetHeight":"offsetWidth",I=d?"scrollTop":"scrollLeft",U=this.gridOptionsWrapper.getDocument(),pe=U.documentElement,_e=this.getPopupParent(),it=_e.getBoundingClientRect(),xt=U.documentElement.getBoundingClientRect(),Ut=_e===U.body,sn=n[x],En=Ut?(d?Rr:bo)(pe)+pe[I]:_e[v];Ut&&(En-=Math.abs(xt[C]-it[C]));var xn=En-sn;return Math.min(Math.max(a,0),Math.abs(xn))},i.prototype.keepPopupPositionedRelativeTo=function(n){var a=this,c=this.getPopupParent(),d=c.getBoundingClientRect(),v=n.element.getBoundingClientRect(),C=d.top-v.top,x=d.left-v.left,I=C,U=x,pe=n.ePopup.style.top,_e=parseInt(pe.substring(0,pe.length-1),10),it=n.ePopup.style.left,xt=parseInt(it.substring(0,it.length-1),10);return new ls(function(Ut){a.getFrameworkOverrides().setInterval(function(){var sn=c.getBoundingClientRect(),qt=n.element.getBoundingClientRect();if(0==qt.top&&0==qt.left&&0==qt.height&&0==qt.width)n.hidePopup();else{var xn=sn.top-qt.top;if(xn!=I){var er=a.keepXYWithinBounds(n.ePopup,_e+C-xn,Cc.vertical);n.ePopup.style.top=er+"px"}I=xn;var Ar=sn.left-qt.left;if(Ar!=U){var hi=a.keepXYWithinBounds(n.ePopup,xt+x-Ar,Cc.horizontal);n.ePopup.style.left=hi+"px"}U=Ar}},200).then(function(sn){Ut(function(){null!=sn&&window.clearInterval(sn)})})})},i.prototype.addPopup=function(n){var a=this,c=n.modal,d=n.eChild,v=n.closeOnEsc,C=n.closedCallback,x=n.click,I=n.alwaysOnTop,U=n.afterGuiAttached,pe=n.positionCallback,_e=n.anchorToElement,it=n.ariaLabel,xt=this.gridOptionsWrapper.getDocument(),Ut=new ls(function(Ai){return Ai(function(){})});if(!xt)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:Ut};var sn=this.popupList.findIndex(function(Ai){return Ai.element===d});if(-1!==sn){var qt=this.popupList[sn];return{hideFunc:qt.hideFunc,stopAnchoringPromise:qt.stopAnchoringPromise}}var En=this.getPopupParent();null==d.style.top&&(d.style.top="0px"),null==d.style.left&&(d.style.left="0px");var xn=document.createElement("div"),er=this.environment.getTheme().theme;er&&xn.classList.add(er),xn.classList.add("ag-popup"),d.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),d.hasAttribute("role")||ro(d,"dialog"),xr(d,it),this.focusService.isKeyboardMode()&&d.classList.add(Su.AG_KEYBOARD_FOCUS),xn.appendChild(d),En.appendChild(xn),I?this.setAlwaysOnTop(xn,!0):this.bringPopupToFront(xn);var Ar=!1,hi=function(Ai){xn.contains(xt.activeElement)&&Ai.key===Rn.ESCAPE&&Br({keyboardEvent:Ai})},vi=function(Ai){return Br({mouseEvent:Ai})},ei=function(Ai){return Br({touchEvent:Ai})},Br=function(Ai){void 0===Ai&&(Ai={});var za=Ai.mouseEvent,da=Ai.touchEvent,Sl=Ai.keyboardEvent;a.isEventFromCurrentPopup({mouseEvent:za,touchEvent:da},d)||a.isEventSameChainAsOriginalEvent({originalMouseEvent:x,mouseEvent:za,touchEvent:da})||Ar||(Ar=!0,En.removeChild(xn),xt.removeEventListener("keydown",hi),xt.removeEventListener("mousedown",vi),xt.removeEventListener("touchstart",ei),xt.removeEventListener("contextmenu",vi),a.eventService.removeEventListener(Ye.EVENT_DRAG_STARTED,vi),C&&C(za||da||Sl),a.popupList=a.popupList.filter(function(Fu){return Fu.element!==d}),Ut&&Ut.then(function(Fu){return Fu&&Fu()}))};return U&&U({hidePopup:Br}),window.setTimeout(function(){v&&xt.addEventListener("keydown",hi),c&&(xt.addEventListener("mousedown",vi),a.eventService.addEventListener(Ye.EVENT_DRAG_STARTED,vi),xt.addEventListener("touchstart",ei),xt.addEventListener("contextmenu",vi))},0),pe&&pe(),_e&&(Ut=this.keepPopupPositionedRelativeTo({element:_e,ePopup:d,hidePopup:Br})),this.popupList.push({element:d,wrapper:xn,hideFunc:Br,stopAnchoringPromise:Ut,instanceId:C2++,isAnchored:!!_e}),{hideFunc:Br,stopAnchoringPromise:Ut}},i.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},i.prototype.isEventFromCurrentPopup=function(n,a){var v=n.mouseEvent||n.touchEvent;if(!v)return!1;var C=this.popupList.findIndex(function(U){return U.element===a});if(-1===C)return!1;for(var x=C;x<this.popupList.length;x++)if(mo(this.popupList[x].element,v))return!0;return this.isElementWithinCustomPopup(v.target)},i.prototype.isElementWithinCustomPopup=function(n){for(var a=this.gridOptionsWrapper.getDocument();n&&n!==a.body;){if(n.classList.contains("ag-custom-component-popup")||null===n.parentElement)return!0;n=n.parentElement}return!1},i.prototype.isEventSameChainAsOriginalEvent=function(n){var a=n.originalMouseEvent,c=n.mouseEvent,d=n.touchEvent,v=null;if(c?v=c:d&&(v=d.touches[0]),v&&a){var x=c?c.screenY:0,I=Math.abs(a.screenX-(c?c.screenX:0))<5,U=Math.abs(a.screenY-x)<5;if(I&&U)return!0}return!1},i.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},i.prototype.setAlwaysOnTop=function(n,a){var c=this.getWrapper(n);!c||(c.classList.toggle("ag-always-on-top",!!a),a&&this.bringPopupToFront(c))},i.prototype.bringPopupToFront=function(n){var a=this.getPopupParent(),c=Array.prototype.slice.call(a.querySelectorAll(".ag-popup")),d=c.length,v=Array.prototype.slice.call(a.querySelectorAll(".ag-popup.ag-always-on-top")),C=v.length,x=this.getWrapper(n);if(x&&!(d<=1)&&a.contains(n)){var I=c.indexOf(x),U=x.querySelectorAll("div"),pe=[];for(U.forEach(function(Ut){0!==Ut.scrollTop&&pe.push([Ut,Ut.scrollTop])}),C?x.classList.contains("ag-always-on-top")?I!==d-1&&bt(v).insertAdjacentElement("afterend",x):I!==d-C-1&&v[0].insertAdjacentElement("beforebegin",x):I!==d-1&&bt(c).insertAdjacentElement("afterend",x);pe.length;){var it=pe.pop();it[0].scrollTop=it[1]}var xt={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:x};this.eventService.dispatchEvent(xt)}},Qd([ce("environment")],i.prototype,"environment",void 0),Qd([ce("focusService")],i.prototype,"focusService",void 0),Qd([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Qd([Gt],i.prototype,"postConstruct",null),Qd([bn("popupService")],i)}(yn),yg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ip=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},bu=function(u,i){return function(n,a){i(n,a,u)}},Jd=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return yg(i,u),i.prototype.setBeans=function(n){this.logging=n.isDebug()},i.prototype.create=function(n){return new eh(n,this.isLogging.bind(this))},i.prototype.isLogging=function(){return this.logging},ip([bu(0,We("gridOptionsWrapper"))],i.prototype,"setBeans",null),ip([bn("loggerFactory")],i)}(yn),eh=function(){function u(i,n){this.name=i,this.isLoggingFunc=n}return u.prototype.isLogging=function(){return this.isLoggingFunc()},u.prototype.log=function(i){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+i)},u}(),U3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Df=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Eu=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return U3(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.centerRowContainerCon=a.centerRowContainerCtrl})},i.prototype.getPreferredWidthForColumn=function(n,a){var c=this.getHeaderCellForColumn(n);if(!c)return-1;var d=this.rowRenderer.getAllCellsForColumn(n);return a||d.push(c),this.addElementsToContainerAndGetWidth(d)},i.prototype.getPreferredWidthForColumnGroup=function(n){var a=this.getHeaderCellForColumn(n);return a?this.addElementsToContainerAndGetWidth([a]):-1},i.prototype.addElementsToContainerAndGetWidth=function(n){var a=this,c=document.createElement("span");c.style.position="fixed";var d=this.centerRowContainerCon.getContainerElement();d.appendChild(c),n.forEach(function(x){return a.cloneItemIntoDummy(x,c)});var v=c.offsetWidth;return d.removeChild(c),v+this.gridOptionsWrapper.getAutoSizePadding()},i.prototype.getHeaderCellForColumn=function(n){var a=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(c){var d=c.getHtmlElementForColumnHeader(n);null!=d&&(a=d)}),a},i.prototype.cloneItemIntoDummy=function(n,a){var c=n.cloneNode(!0);c.style.width="",c.style.position="static",c.style.left="";var d=document.createElement("div"),v=d.classList;["ag-header-cell","ag-header-group-cell"].some(function(_e){return c.classList.contains(_e)})?(v.add("ag-header","ag-header-row"),d.style.position="static"):v.add("ag-row");for(var x=n.parentElement;x;){if(["ag-header-row","ag-row"].some(function(_e){return x.classList.contains(_e)})){for(var U=0;U<x.classList.length;U++){var pe=x.classList[U];"ag-row-position-absolute"!=pe&&v.add(pe)}break}x=x.parentElement}d.appendChild(c),a.appendChild(d)},Df([ce("rowRenderer")],i.prototype,"rowRenderer",void 0),Df([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Df([ce("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),Df([Gt],i.prototype,"postConstruct",null),Df([bn("autoWidthCalculator")],i)}(yn),Y3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m0=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},_2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Y3(i,u),i.prototype.addResizeBar=function(n){var a=this,c={dragStartPixels:n.dragStartPixels||0,eElement:n.eResizeBar,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this,n),onDragging:this.onDragging.bind(this,n)};return this.dragService.addDragSource(c,!0),function(){return a.dragService.removeDragSource(c)}},i.prototype.onDragStart=function(n,a){this.dragStartX=a.clientX,this.setResizeIcons();var c=a instanceof MouseEvent&&!0===a.shiftKey;n.onResizeStart(c)},i.prototype.setResizeIcons=function(){var n=this.ctrlsService.getGridCtrl();n.setResizeCursor(!0),n.disableUserSelect(!0)},i.prototype.onDragStop=function(n,a){n.onResizeEnd(this.resizeAmount),this.resetIcons()},i.prototype.resetIcons=function(){var n=this.ctrlsService.getGridCtrl();n.setResizeCursor(!1),n.disableUserSelect(!1)},i.prototype.onDragging=function(n,a){this.resizeAmount=a.clientX-this.dragStartX,n.onResizing(this.resizeAmount)},m0([ce("dragService")],i.prototype,"dragService",void 0),m0([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),m0([bn("horizontalResizeService")],i)}(yn),w2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qo=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},od=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return w2(i,u),i.prototype.postConstruct=function(){this.ctrlsService.registerGridCtrl(this)},i.prototype.setComp=function(n,a,c){var d=this;this.view=n,this.eGridHostDiv=a,this.eGui=c,this.mouseEventService.stampTopLevelGridCompWithGridInstance(a),this.createManagedBean(new rp(this.view)),this.addRtlSupport(),this.addManagedListener(this,Ye.EVENT_KEYBOARD_FOCUS,function(){d.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,Ye.EVENT_MOUSE_FOCUS,function(){d.view.addOrRemoveKeyboardFocusClass(!1)});var v=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return v()})},i.prototype.showDropZones=function(){return jn.isRegistered(_n.RowGroupingModule)},i.prototype.showSideBar=function(){return jn.isRegistered(_n.SideBarModule)},i.prototype.showStatusBar=function(){return jn.isRegistered(_n.StatusBarModule)},i.prototype.showWatermark=function(){return jn.isRegistered(_n.EnterpriseCoreModule)},i.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:Ye.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},i.prototype.addRtlSupport=function(){var n=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(n)},i.prototype.destroyGridUi=function(){this.view.destroyGridUi()},i.prototype.getGui=function(){return this.eGui},i.prototype.setResizeCursor=function(n){this.view.setCursor(n?"ew-resize":null)},i.prototype.disableUserSelect=function(n){this.view.setUserSelect(n?"none":null)},i.prototype.focusNextInnerContainer=function(n){var a=this.gridOptionsWrapper.getDocument(),c=this.view.getFocusableContainers(),v=c.findIndex(function(C){return C.contains(a.activeElement)})+(n?-1:1);return!(v<=0||v>=c.length)&&this.focusService.focusInto(c[v])},i.prototype.focusInnerElement=function(n){var a=this.view.getFocusableContainers();if(n){if(a.length>1)return this.focusService.focusInto(bt(a),!0);var c=bt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(c,!0))return!0}return this.focusService.focusFirstHeader()},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1),this.view.forceFocusOutOfContainer(n)},qo([ce("columnApi")],i.prototype,"columnApi",void 0),qo([ce("gridApi")],i.prototype,"gridApi",void 0),qo([ce("focusService")],i.prototype,"focusService",void 0),qo([ce("resizeObserverService")],i.prototype,"resizeObserverService",void 0),qo([ce("columnModel")],i.prototype,"columnModel",void 0),qo([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),qo([ce("mouseEventService")],i.prototype,"mouseEventService",void 0),qo([Gt],i.prototype,"postConstruct",null),i}(yn),th=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Of=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ea=function(u){function i(n){var a=u.call(this)||this;a.skipTabGuardFocus=!1;var d=n.eTopGuard,v=n.eBottomGuard,C=n.focusInnerElement,x=n.onFocusIn,I=n.onFocusOut,U=n.shouldStopEventPropagation,pe=n.onTabKeyDown,_e=n.handleKeyDown,it=n.eFocusableElement;return a.comp=n.comp,a.eTopGuard=d,a.eBottomGuard=v,a.providedFocusInnerElement=C,a.eFocusableElement=it,a.providedFocusIn=x,a.providedFocusOut=I,a.providedShouldStopEventPropagation=U,a.providedOnTabKeyDown=pe,a.providedHandleKeyDown=_e,a}return th(i,u),i.prototype.postConstruct=function(){var n=this;this.createManagedBean(new Yo(this.eFocusableElement,{shouldStopEventPropagation:function(){return n.shouldStopEventPropagation()},onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)},onFocusIn:function(a){return n.onFocusIn(a)},onFocusOut:function(a){return n.onFocusOut(a)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(a){return n.addManagedListener(a,"focus",n.onFocus.bind(n))})},i.prototype.handleKeyDown=function(n){this.providedHandleKeyDown&&this.providedHandleKeyDown(n)},i.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},i.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},i.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},i.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},i.prototype.onFocus=function(n){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var a=n.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(a):this.focusInnerElement(a)}},i.prototype.onFocusIn=function(n){this.providedFocusIn&&this.providedFocusIn(n)||this.deactivateTabGuards()},i.prototype.onFocusOut=function(n){this.providedFocusOut&&this.providedFocusOut(n)||this.eFocusableElement.contains(n.relatedTarget)||this.activateTabGuards()},i.prototype.onTabKeyDown=function(n){var a=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(n);else if(!n.defaultPrevented){var c=this.tabGuardsAreActive();c&&this.deactivateTabGuards();var d=this.getNextFocusableElement(n.shiftKey);c&&setTimeout(function(){return a.activateTabGuards()},0),d&&(d.focus(),n.preventDefault())}},i.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},i.prototype.focusInnerElement=function(n){void 0===n&&(n=!1);var a=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(a.splice(0,1),a.splice(a.length-1,1)),a.length&&a[n?a.length-1:0].focus()},i.prototype.getNextFocusableElement=function(n){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n)},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1);var a=n?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,a.focus()},Of([ce("focusService")],i.prototype,"focusService",void 0),Of([Gt],i.prototype,"postConstruct",null),i}(yn),y0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S2=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},Uc=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return y0(i,u),i.prototype.initialiseTabGuard=function(n){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var a=[this.eTopGuard,this.eBottomGuard],c={setTabIndex:function(d){a.forEach(function(v){return null!=d?v.setAttribute("tabIndex",d):v.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Ea({comp:c,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:n.onFocusIn,onFocusOut:n.onFocusOut,focusInnerElement:n.focusInnerElement,handleKeyDown:n.handleKeyDown,onTabKeyDown:n.onTabKeyDown,shouldStopEventPropagation:n.shouldStopEventPropagation}))},i.prototype.createTabGuard=function(n){var a=document.createElement("div");return a.classList.add("ag-tab-guard","ag-tab-guard-"+n),ro(a,"presentation"),a},i.prototype.addTabGuards=function(n,a){this.eFocusableElement.insertAdjacentElement("afterbegin",n),this.eFocusableElement.insertAdjacentElement("beforeend",a)},i.prototype.removeAllChildrenExceptTabGuards=function(){var n=[this.eTopGuard,this.eBottomGuard];j(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat(S2(arguments[i]));return u}(n))},i.prototype.forceFocusOutOfContainer=function(n){void 0===n&&(n=!1),this.tabGuardCtrl.forceFocusOutOfContainer(n)},i.prototype.appendChild=function(n,a){Fr(n)||(n=n.getGui());var c=this.eBottomGuard;c?c.insertAdjacentElement("beforebegin",n):u.prototype.appendChild.call(this,n,a)},i}(ai),C0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yi=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},K3=function(u){function i(n){var a=u.call(this,void 0)||this;return a.eGridDiv=n,a}return C0(i,u),i.prototype.postConstruct=function(){var n=this;this.logger=this.loggerFactory.create("GridComp");var a={destroyGridUi:function(){return n.destroyBean(n)},setRtlClass:function(d){return n.addCssClass(d)},addOrRemoveKeyboardFocusClass:function(d){return n.addOrRemoveCssClass(Su.AG_KEYBOARD_FOCUS,d)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(d){n.getGui().style.userSelect=null!=d?d:"",n.getGui().style.webkitUserSelect=null!=d?d:""},setCursor:function(d){n.getGui().style.cursor=null!=d?d:""}};this.ctrl=this.createManagedBean(new od);var c=this.createTemplate();this.setTemplate(c),this.ctrl.setComp(a,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(d){return n.ctrl.focusInnerElement(d)}})},i.prototype.insertGridIntoDom=function(){var n=this,a=this.getGui();this.eGridDiv.appendChild(a),this.addDestroyFunc(function(){n.eGridDiv.removeChild(a),n.logger.log("Grid removed from DOM")})},i.prototype.updateLayoutClasses=function(n,a){var c=this.eRootWrapperBody.classList;c.toggle(ta.AUTO_HEIGHT,a.autoHeight),c.toggle(ta.NORMAL,a.normal),c.toggle(ta.PRINT,a.print),this.addOrRemoveCssClass(ta.AUTO_HEIGHT,a.autoHeight),this.addOrRemoveCssClass(ta.NORMAL,a.normal),this.addOrRemoveCssClass(ta.PRINT,a.print)},i.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},i.prototype.getFocusableElement=function(){return this.eRootWrapperBody},i.prototype.getFocusableContainers=function(){var n=[this.gridBodyComp.getGui()];return this.sideBarComp&&n.push(this.sideBarComp.getGui()),n.filter(function(a){return Ve(a)})},Yi([ce("loggerFactory")],i.prototype,"loggerFactory",void 0),Yi([Pn("gridBody")],i.prototype,"gridBodyComp",void 0),Yi([Pn("sideBar")],i.prototype,"sideBarComp",void 0),Yi([Pn("rootWrapperBody")],i.prototype,"eRootWrapperBody",void 0),Yi([Gt],i.prototype,"postConstruct",null),i}(Uc),Tf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),nh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},E2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.dragEndFunctions=[],n.dragSources=[],n}return Tf(i,u),i.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},i.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},i.prototype.removeListener=function(n){var a=n.dragSource.eElement;a.removeEventListener("mousedown",n.mouseDownListener),n.touchEnabled&&a.removeEventListener("touchstart",n.touchStartListener,{passive:!0})},i.prototype.removeDragSource=function(n){var a=this.dragSources.find(function(c){return c.dragSource===n});!a||(this.removeListener(a),zn(this.dragSources,a))},i.prototype.isDragging=function(){return this.dragging},i.prototype.addDragSource=function(n,a){var c=this;void 0===a&&(a=!1);var d=this.onMouseDown.bind(this,n);n.eElement.addEventListener("mousedown",d);var v=null,C=this.gridOptionsWrapper.isSuppressTouch();a&&!C&&n.eElement.addEventListener("touchstart",v=function(x){x.cancelable&&x.preventDefault(),c.onTouchStart(n,x)},{passive:!0}),this.dragSources.push({dragSource:n,mouseDownListener:d,touchStartListener:v,touchEnabled:a})},i.prototype.onTouchStart=function(n,a){var c=this;this.currentDragParams=n,this.dragging=!1;var d=a.touches[0];this.touchLastTime=d,this.touchStart=d;var C=function(pe){return c.onTouchUp(pe,n.eElement)},I=n.eElement,U=[{target:document,type:"touchmove",listener:function(pe){pe.cancelable&&pe.preventDefault()},options:{passive:!1}},{target:I,type:"touchmove",listener:function(pe){return c.onTouchMove(pe,n.eElement)},options:{passive:!0}},{target:I,type:"touchend",listener:C,options:{passive:!0}},{target:I,type:"touchcancel",listener:C,options:{passive:!0}}];this.addTemporaryEvents(U),0===n.dragStartPixels&&this.onCommonMove(d,this.touchStart,n.eElement)},i.prototype.onMouseDown=function(n,a){var c=this,d=a;if(!(n.skipMouseEvent&&n.skipMouseEvent(a)||d._alreadyProcessedByDragService||(d._alreadyProcessedByDragService=!0,0!==a.button))){this.currentDragParams=n,this.dragging=!1,this.mouseStartEvent=a;var v=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:v,type:"mousemove",listener:function(_e){return c.onMouseMove(_e,n.eElement)}},{target:v,type:"mouseup",listener:function(_e){return c.onMouseUp(_e,n.eElement)}},{target:v,type:"contextmenu",listener:function(_e){return _e.preventDefault()}}]),0===n.dragStartPixels&&this.onMouseMove(a,n.eElement)}},i.prototype.addTemporaryEvents=function(n){n.forEach(function(a){a.target.addEventListener(a.type,a.listener,a.options)}),this.dragEndFunctions.push(function(){n.forEach(function(a){a.target.removeEventListener(a.type,a.listener,a.options)})})},i.prototype.isEventNearStartEvent=function(n,a){var c=this.currentDragParams.dragStartPixels;return Ap(n,a,ue(c)?c:4)},i.prototype.getFirstActiveTouch=function(n){for(var a=0;a<n.length;a++)if(n[a].identifier===this.touchStart.identifier)return n[a];return null},i.prototype.onCommonMove=function(n,a,c){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(n,a))return;this.dragging=!0,this.eventService.dispatchEvent({type:Ye.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:c}),this.currentDragParams.onDragStart(a),this.currentDragParams.onDragging(a)}this.currentDragParams.onDragging(n)},i.prototype.onTouchMove=function(n,a){var c=this.getFirstActiveTouch(n.touches);!c||this.onCommonMove(c,this.touchStart,a)},i.prototype.onMouseMove=function(n,a){"mousemove"===n.type&&n.cancelable&&n.preventDefault(),this.onCommonMove(n,this.mouseStartEvent,a)},i.prototype.onTouchUp=function(n,a){var c=this.getFirstActiveTouch(n.changedTouches);c||(c=this.touchLastTime),this.onUpCommon(c,a)},i.prototype.onMouseUp=function(n,a){this.onUpCommon(n,a)},i.prototype.onUpCommon=function(n,a){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(n),this.eventService.dispatchEvent({type:Ye.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:a})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(d){return d()}),this.dragEndFunctions.length=0},nh([ce("loggerFactory")],i.prototype,"loggerFactory",void 0),nh([ce("columnApi")],i.prototype,"columnApi",void 0),nh([ce("gridApi")],i.prototype,"gridApi",void 0),nh([Gt],i.prototype,"init",null),nh([vn],i.prototype,"removeAllListeners",null),nh([bn("dragService")],i)}(yn),_0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Cg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},_g=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}var n;return _0(i,u),n=i,i.prototype.progressSort=function(a,c,d){void 0===d&&(d="api");var v=this.getNextSortDirection(a);this.setSortForColumn(a,v,c,d)},i.prototype.setSortForColumn=function(a,c,d,v){void 0===v&&(v="api"),c!==St.SORT_ASC&&c!==St.SORT_DESC&&(c=null),a.setSort(c,v),d&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(a,v),this.updateSortIndex(a),this.dispatchSortChangedEvents()},i.prototype.updateSortIndex=function(a){var c=this.getColumnsWithSortingOrdered(),d=0;c.forEach(function(C){C!==a&&(C.setSortIndex(d),d++)}),a.getSort()&&a.setSortIndex(d),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(C){return null==C.getSort()}).forEach(function(C){return C.setSortIndex()})},i.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},i.prototype.isSortActive=function(){var c=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(d){return!!d.getSort()});return c&&c.length>0},i.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:Ye.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.clearSortBarThisColumn=function(a,c){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(d){d!==a&&d.setSort(void 0,c)})},i.prototype.getNextSortDirection=function(a){var c;if(c=a.getColDef().sortingOrder?a.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():n.DEFAULT_SORTING_ORDER,!Array.isArray(c)||c.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+c),null;var x,d=c.indexOf(a.getSort());return n.DEFAULT_SORTING_ORDER.indexOf(x=d<0||d==c.length-1?c[0]:c[d+1])<0?(console.warn("AG Grid: invalid sort type "+x),null):x},i.prototype.getColumnsWithSortingOrdered=function(){var a=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),c=a.filter(function(v){return!!v.getSort()}),d={};return a.forEach(function(v,C){return d[v.getId()]=C}),c.sort(function(v,C){var x=v.getSortIndex(),I=C.getSortIndex();return null!=x&&null!=I?x-I:null==x&&null==I?d[v.getId()]>d[C.getId()]?1:-1:null==I?-1:1}),c},i.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),colId:a.getId()}})},i.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(a){return{sort:a.getSort(),column:a}})},i.DEFAULT_SORTING_ORDER=[St.SORT_ASC,St.SORT_DESC,null],Cg([ce("columnModel")],i.prototype,"columnModel",void 0),Cg([ce("columnApi")],i.prototype,"columnApi",void 0),Cg([ce("gridApi")],i.prototype,"gridApi",void 0),n=Cg([bn("sortController")],i)}(yn),op=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},w0=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.gridInstanceId=n.gridInstanceSequence.next(),a}var n;return op(i,u),n=i,i.prototype.stampTopLevelGridCompWithGridInstance=function(a){a[n.GRID_DOM_KEY]=this.gridInstanceId},i.prototype.getRenderedCellForEvent=function(a){return Oo(this.gridOptionsWrapper,a,Ul.DOM_DATA_KEY_CELL_CTRL)},i.prototype.isEventFromThisGrid=function(a){return this.isElementInThisGrid(a.target)},i.prototype.isElementInThisGrid=function(a){for(var c=a;c;){var d=c[n.GRID_DOM_KEY];if(ue(d))return d===this.gridInstanceId;c=c.parentElement}return!1},i.prototype.getCellPositionForEvent=function(a){var c=this.getRenderedCellForEvent(a);return c?c.getCellPosition():null},i.prototype.getNormalisedPosition=function(a){var v,C,c=this.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_NORMAL;if(null!=a.clientX||null!=a.clientY?(v=a.clientX,C=a.clientY):(v=a.x,C=a.y),c){var x=this.ctrlsService.getGridBodyCtrl(),I=x.getScrollFeature().getVScrollPosition();v+=x.getScrollFeature().getHScrollPosition().left,C+=I.top}return{x:v,y:C}},i.gridInstanceSequence=new su,i.GRID_DOM_KEY="__ag_grid_instance",wg([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),n=wg([bn("mouseEventService")],i)}(yn),D2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hs=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},$3=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return D2(i,u),i.prototype.getNextCellToFocus=function(n,a){for(var c=a,d=!1;!d;){switch(n){case Rn.UP:c=this.getCellAbove(c);break;case Rn.DOWN:c=this.getCellBelow(c);break;case Rn.RIGHT:c=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(c):this.getCellToRight(c);break;case Rn.LEFT:c=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(c):this.getCellToLeft(c);break;default:c=null,console.warn("AG Grid: unknown key for navigation "+n)}d=!c||this.isCellGoodToFocusOn(c)}return c},i.prototype.isCellGoodToFocusOn=function(n){var c,a=n.column;switch(n.rowPinned){case St.PINNED_TOP:c=this.pinnedRowModel.getPinnedTopRow(n.rowIndex);break;case St.PINNED_BOTTOM:c=this.pinnedRowModel.getPinnedBottomRow(n.rowIndex);break;default:c=this.rowModel.getRow(n.rowIndex)}return!!c&&!a.isSuppressNavigable(c)},i.prototype.getCellToLeft=function(n){if(!n)return null;var a=this.columnModel.getDisplayedColBefore(n.column);return a?{rowIndex:n.rowIndex,column:a,rowPinned:n.rowPinned}:null},i.prototype.getCellToRight=function(n){if(!n)return null;var a=this.columnModel.getDisplayedColAfter(n.column);return a?{rowIndex:n.rowIndex,column:a,rowPinned:n.rowPinned}:null},i.prototype.getRowBelow=function(n){var a=n.rowIndex,c=n.rowPinned;if(this.isLastRowInContainer(n))switch(c){case St.PINNED_BOTTOM:return null;case St.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(St.PINNED_BOTTOM)?{rowIndex:0,rowPinned:St.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(St.PINNED_BOTTOM)?{rowIndex:0,rowPinned:St.PINNED_BOTTOM}:null}return{rowIndex:a+1,rowPinned:c}},i.prototype.getCellBelow=function(n){if(!n)return null;var a=this.getRowBelow(n);return a?{rowIndex:a.rowIndex,column:n.column,rowPinned:a.rowPinned}:null},i.prototype.isLastRowInContainer=function(n){var a=n.rowPinned,c=n.rowIndex;return a===St.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=c:a===St.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=c:this.paginationProxy.getPageLastRow()<=c},i.prototype.getRowAbove=function(n){var a=n.rowIndex,c=n.rowPinned;return(c?0===a:a===this.paginationProxy.getPageFirstRow())?c===St.PINNED_TOP?null:c&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(St.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:a-1,rowPinned:c}},i.prototype.getCellAbove=function(n){if(!n)return null;var a=this.getRowAbove({rowIndex:n.rowIndex,rowPinned:n.rowPinned});return a?{rowIndex:a.rowIndex,column:n.column,rowPinned:a.rowPinned}:null},i.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},i.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:St.PINNED_TOP}},i.prototype.getNextTabbedCell=function(n,a){return a?this.getNextTabbedCellBackwards(n):this.getNextTabbedCellForwards(n)},i.prototype.getNextTabbedCellForwards=function(n){var a=this.columnModel.getAllDisplayedColumns(),c=n.rowIndex,d=n.rowPinned,v=this.columnModel.getDisplayedColAfter(n.column);if(!v){v=a[0];var C=this.getRowBelow(n);if(at(C)||!C.rowPinned&&!this.paginationProxy.isRowInPage(C))return null;c=C?C.rowIndex:null,d=C?C.rowPinned:null}return{rowIndex:c,column:v,rowPinned:d}},i.prototype.getNextTabbedCellBackwards=function(n){var a=this.columnModel.getAllDisplayedColumns(),c=n.rowIndex,d=n.rowPinned,v=this.columnModel.getDisplayedColBefore(n.column);if(!v){v=bt(a);var C=this.getRowAbove({rowIndex:n.rowIndex,rowPinned:n.rowPinned});if(at(C)||!C.rowPinned&&!this.paginationProxy.isRowInPage(C))return null;c=C?C.rowIndex:null,d=C?C.rowPinned:null}return{rowIndex:c,column:v,rowPinned:d}},hs([ce("columnModel")],i.prototype,"columnModel",void 0),hs([ce("rowModel")],i.prototype,"rowModel",void 0),hs([ce("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),hs([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),hs([bn("cellNavigationService")],i)}(yn),q3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Sg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ad=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return q3(i,u),i.prototype.formatValue=function(n,a,c,d,v,C){void 0===C&&(C=!0);var I,x=null,U=n.getColDef();if(v?I=v:C&&(I=a&&a.rowPinned&&U.pinnedRowValueFormatter?U.pinnedRowValueFormatter:U.valueFormatter),I){var pe={value:d,node:a,data:a?a.data:null,colDef:U,column:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};pe.$scope=c,x=this.expressionService.evaluate(I,pe)}else if(U.refData)return U.refData[d]||"";return null==x&&Array.isArray(d)&&(x=d.join(", ")),x},Sg([ce("expressionService")],i.prototype,"expressionService",void 0),Sg([bn("valueFormatterService")],i)}(yn),_c=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S0=function(u){function i(n){return u.call(this,n,"ag-radio-button","radio")||this}return _c(i,u),i.prototype.isSelected=function(){return this.eInput.checked},i.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},i.prototype.addInputListeners=function(){u.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Ye.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},i.prototype.onChange=function(n){n.selected&&n.name&&this.eInput.name&&this.eInput.name===n.name&&n.id&&this.eInput.id!==n.id&&this.setValue(!1,!0)},i}(Cu),rh=["mouseover","mouseout","mouseenter","mouseleave"],b0=["touchstart","touchend","touchmove","touchcancel"],sd=function(){function u(){this.isOutsideAngular=function(i){return Xr(rh,i)}}return u.prototype.setTimeout=function(i,n){window.setTimeout(i,n)},u.prototype.setInterval=function(i,n){return new ls(function(a){a(window.setInterval(i,n))})},u.prototype.addEventListener=function(i,n,a,c){var d=Xr(b0,n);i.addEventListener(n,a,{capture:!!c,passive:d})},u.prototype.dispatchEvent=function(i,n,a){void 0===a&&(a=!1),n()},u.prototype.frameworkComponent=function(i){return null},u.prototype.isFrameworkComponent=function(i){return!1},u}(),O2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ld=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},T2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return O2(i,u),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},i.prototype.onDisplayedColumnsChanged=function(){this.update()},i.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},i.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},i.prototype.updateImpl=function(){var n=this.ctrlsService.getCenterRowContainerCtrl();if(n){var a={horizontalScrollShowing:n.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(a)}},i.prototype.setScrollsVisible=function(n){this.horizontalScrollShowing===n.horizontalScrollShowing&&this.verticalScrollShowing===n.verticalScrollShowing||(this.horizontalScrollShowing=n.horizontalScrollShowing,this.verticalScrollShowing=n.verticalScrollShowing,this.eventService.dispatchEvent({type:Ye.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},i.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},ld([ce("columnApi")],i.prototype,"columnApi",void 0),ld([ce("gridApi")],i.prototype,"gridApi",void 0),ld([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),ld([Gt],i.prototype,"postConstruct",null),ld([bn("scrollVisibleService")],i)}(yn),E0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),D0=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},x2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return E0(i,u),i.prototype.processAllCellClasses=function(n,a,c,d){this.processClassRules(n.cellClassRules,a,c,d),this.processStaticCellClasses(n,a,c)},i.prototype.processClassRules=function(n,a,c,d){if(null!=n){for(var v=Object.keys(n),C={},x={},I=function(_e){var Ut,it=v[_e],xt=n[it];"string"==typeof xt?Ut=U.expressionService.evaluate(xt,a):"function"==typeof xt&&(Ut=xt(a)),it.split(" ").forEach(function(sn){null==sn||""==sn.trim()||(Ut?C[sn]=!0:x[sn]=!0)})},U=this,pe=0;pe<v.length;pe++)I(pe);d&&Object.keys(x).forEach(d),Object.keys(C).forEach(c)}},i.prototype.getStaticCellClasses=function(n,a){var d,c=n.cellClass;return c?("string"==typeof(d="function"==typeof c?c(a):c)&&(d=[d]),d||[]):[]},i.prototype.processStaticCellClasses=function(n,a,c){this.getStaticCellClasses(n,a).forEach(function(v){c(v)})},D0([ce("expressionService")],i.prototype,"expressionService",void 0),D0([bn("stylingService")],i)}(yn),M2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),bg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},xf=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return M2(i,u),i.prototype.setMouseOver=function(n){this.selectedColumns=n,this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:Ye.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.isHovered=function(n){return!!this.selectedColumns&&this.selectedColumns.indexOf(n)>=0},bg([ce("columnApi")],i.prototype,"columnApi",void 0),bg([ce("gridApi")],i.prototype,"gridApi",void 0),bg([bn("columnHoverService")],i)}(yn),ih=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Eg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ap=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.executeNextFuncs=[],n.executeLaterFuncs=[],n.active=!1,n.animationThreadCount=0,n}return ih(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){return n.gridBodyCtrl=a.gridBodyCtrl})},i.prototype.isActive=function(){return this.active},i.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},i.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},i.prototype.executeNextVMTurn=function(n){this.active?this.executeNextFuncs.push(n):n()},i.prototype.executeLaterVMTurn=function(n){this.active?this.executeLaterFuncs.push(n):n()},i.prototype.ensureAnimationCssClassPresent=function(){var n=this;this.animationThreadCount++;var a=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){n.animationThreadCount===a&&n.gridBodyCtrl.setColumnMovingCss(!1)})},i.prototype.flush=function(){var n=this.executeNextFuncs;this.executeNextFuncs=[];var a=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==n.length||0!==a.length)&&(window.setTimeout(function(){return n.forEach(function(c){return c()})},0),window.setTimeout(function(){return a.forEach(function(c){return c()})},300))},Eg([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Eg([Gt],i.prototype,"postConstruct",null),Eg([bn("columnAnimationService")],i)}(yn),P2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Dg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Du=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}var n;return P2(i,u),n=i,i.prototype.createAutoGroupColumns=function(a){var c=this,d=[],v=this.gridOptionsWrapper.isTreeData(),C=this.gridOptionsWrapper.isGroupMultiAutoColumn();return v&&C&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),C=!1),C?a.forEach(function(x,I){d.push(c.createOneAutoGroupColumn(x,I))}):d.push(this.createOneAutoGroupColumn()),d},i.prototype.createOneAutoGroupColumn=function(a,c){var v,d=this.generateDefaultColDef(a);v=a?St.GROUP_AUTO_COLUMN_ID+"-"+a.getId():n.GROUP_AUTO_COLUMN_BUNDLE_ID,Dr(d,this.gridOptionsWrapper.getAutoGroupColumnDef()),(d=this.columnFactory.mergeColDefs(d)).colId=v,this.gridOptionsWrapper.isTreeData()||at(d.field)&&at(d.valueGetter)&&at(d.filterValueGetter)&&(d.filter=!1),c&&c>0&&(d.headerCheckboxSelection=!1);var I=new Rt(d,null,v,!0);return this.context.createBean(I),I},i.prototype.generateDefaultColDef=function(a){var c=this.gridOptionsWrapper.getAutoGroupColumnDef(),v={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(c&&(c.cellRenderer||c.cellRendererFramework||c.cellRendererSelector)||(v.cellRenderer="agGroupCellRenderer"),a){var x=a.getColDef();Object.assign(v,{headerName:this.columnModel.getDisplayNameForColumn(a,"header"),headerValueGetter:x.headerValueGetter}),(x.cellRenderer||x.cellRendererFramework)&&Object.assign(v,{cellRendererParams:{innerRenderer:x.cellRenderer,innerRendererFramework:x.cellRendererFramework,innerRendererParams:x.cellRendererParams}}),v.showRowGroup=a.getColId()}else v.showRowGroup=!0;return v},i.GROUP_AUTO_COLUMN_BUNDLE_ID=St.GROUP_AUTO_COLUMN_ID,Dg([ce("columnModel")],i.prototype,"columnModel",void 0),Dg([ce("columnFactory")],i.prototype,"columnFactory",void 0),n=Dg([bn("autoGroupColService")],i)}(yn),rl=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Eo=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Lo=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.currentPage=0,n.topDisplayedRowIndex=0,n.bottomDisplayedRowIndex=0,n.pixelOffset=0,n.masterRowCount=0,n}return rl(i,u),i.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Ye.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},i.prototype.ensureRowHeightsValid=function(n,a,c,d){var v=this.rowModel.ensureRowHeightsValid(n,a,this.getPageFirstRow(),this.getPageLastRow());return v&&this.calculatePages(),v},i.prototype.onModelUpdated=function(n){this.calculatePages(),this.eventService.dispatchEvent({type:Ye.EVENT_PAGINATION_CHANGED,animate:!!n&&n.animate,newData:!!n&&n.newData,newPage:!!n&&n.newPage,keepRenderedRows:!!n&&n.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},i.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:Ye.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},i.prototype.goToPage=function(n){this.active&&this.currentPage!==n&&(this.currentPage=n,this.onModelUpdated({type:Ye.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getPixelOffset=function(){return this.pixelOffset},i.prototype.getRow=function(n){return this.rowModel.getRow(n)},i.prototype.getRowNode=function(n){return this.rowModel.getRowNode(n)},i.prototype.getRowIndexAtPixel=function(n){return this.rowModel.getRowIndexAtPixel(n)},i.prototype.getCurrentPageHeight=function(){return at(this.topRowBounds)||at(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},i.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},i.prototype.isRowPresent=function(n){return!!this.rowModel.isRowPresent(n)&&n.rowIndex>=this.topDisplayedRowIndex&&n.rowIndex<=this.bottomDisplayedRowIndex},i.prototype.isEmpty=function(){return this.rowModel.isEmpty()},i.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},i.prototype.getNodesInRangeForSelection=function(n,a){return this.rowModel.getNodesInRangeForSelection(n,a)},i.prototype.forEachNode=function(n){return this.rowModel.forEachNode(n)},i.prototype.getType=function(){return this.rowModel.getType()},i.prototype.getRowBounds=function(n){var a=this.rowModel.getRowBounds(n);return a.rowIndex=n,a},i.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},i.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},i.prototype.getRowCount=function(){return this.rowModel.getRowCount()},i.prototype.getPageForIndex=function(n){return Math.floor(n/this.pageSize)},i.prototype.goToPageWithIndex=function(n){if(this.active){var a=this.getPageForIndex(n);this.goToPage(a)}},i.prototype.isRowInPage=function(n){return!this.active||this.getPageForIndex(n.rowIndex)===this.currentPage},i.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},i.prototype.getCurrentPage=function(){return this.currentPage},i.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},i.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},i.prototype.goToFirstPage=function(){this.goToPage(0)},i.prototype.goToLastPage=function(){var n=this.rowModel.getRowCount(),a=Math.floor(n/this.pageSize);this.goToPage(a)},i.prototype.getPageSize=function(){return this.pageSize},i.prototype.getTotalPages=function(){return this.totalPages},i.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},i.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ue(this.topRowBounds)?this.topRowBounds.rowTop:0)},i.prototype.setPixelOffset=function(n){this.pixelOffset!==n&&(this.pixelOffset=n,this.eventService.dispatchEvent({type:Ye.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},i.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},i.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var n=this.masterRowCount-1;this.totalPages=Math.floor(n/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Dd(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var c=this.pageSize*(this.currentPage+1)-1;if(c>n&&(c=n),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),c===n)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var d=this.rowModel.getTopLevelRowDisplayedIndex(c+1);this.bottomDisplayedRowIndex=d-1}}},i.prototype.getMasterRowCount=function(){return this.masterRowCount},i.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var n=this.masterRowCount-1;this.totalPages=Math.floor(n/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Dd(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}else this.setZeroRows()},i.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Eo([ce("rowModel")],i.prototype,"rowModel",void 0),Eo([ce("columnApi")],i.prototype,"columnApi",void 0),Eo([ce("gridApi")],i.prototype,"gridApi",void 0),Eo([Gt],i.prototype,"postConstruct",null),Eo([bn("paginationProxy")],i)}(yn),ps=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),oh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Rs=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return ps(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.centerRowContainerCon=a.centerRowContainerCtrl,n.addManagedListener(n.eventService,Ye.EVENT_BODY_HEIGHT_CHANGED,n.onBodyHeightChanged.bind(n)),n.addManagedListener(n.eventService,Ye.EVENT_SCROLL_VISIBILITY_CHANGED,n.onScrollVisibilityChanged.bind(n)),n.checkPageSize()})},i.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},i.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},i.prototype.onBodyHeightChanged=function(){this.checkPageSize()},i.prototype.checkPageSize=function(){if(!this.notActive()){var n=this.gridOptionsWrapper.getRowHeightAsNumber(),a=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(a>0){var c=Math.floor(a/n);this.gridOptionsWrapper.setProperty("paginationPageSize",c)}}},oh([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),oh([Gt],i.prototype,"postConstruct",null),oh([bn("paginationAutoPageSizeService")],i)}(yn),Og=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),cd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ah=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.cacheVersion=0,n}return Og(i,u),i.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},i.prototype.onDataChanged=function(){this.neverExpires||this.expire()},i.prototype.expire=function(){this.cacheVersion++},i.prototype.setValue=function(n,a,c){this.active&&(n.__cacheVersion!==this.cacheVersion&&(n.__cacheVersion=this.cacheVersion,n.__cacheData={}),n.__cacheData[a]=c)},i.prototype.getValue=function(n,a){if(this.active&&n.__cacheVersion===this.cacheVersion)return n.__cacheData[a]},cd([Gt],i.prototype,"init",null),cd([bn("valueCache")],i)}(yn),Ou=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ud=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Ou(i,u),i.prototype.init=function(){this.rowModel.getType()===St.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Ye.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},i.prototype.onCellValueChanged=function(n){n.source!==St.SOURCE_PASTE&&this.doChangeDetection(n.node,n.column)},i.prototype.doChangeDetection=function(n,a){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!n.isRowPinned()){var c=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),d=new $o(c,this.clientSideRowModel.getRootNode());d.addParentNode(n.parent,[a]),this.clientSideRowModel.doAggregate(d)}this.rowRenderer.refreshCells()}},Yc([ce("rowModel")],i.prototype,"rowModel",void 0),Yc([ce("rowRenderer")],i.prototype,"rowRenderer",void 0),Yc([Gt],i.prototype,"init",null),Yc([bn("changeDetectionService")],i)}(yn),sh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),wc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},dd=function(u,i){return function(n,a){i(n,a,u)}},Kc=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.consuming=!1,n}return sh(i,u),i.prototype.setBeans=function(n){this.logger=n.create("AlignedGridsService")},i.prototype.init=function(){this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},i.prototype.fireEvent=function(n){if(!this.consuming){var a=this.gridOptionsWrapper.getAlignedGrids();a&&a.forEach(function(c){if(c.api){var d=c.api.__getAlignedGridService();n(d)}})}},i.prototype.onEvent=function(n){this.consuming=!0,n(),this.consuming=!1},i.prototype.fireColumnEvent=function(n){this.fireEvent(function(a){a.onColumnEvent(n)})},i.prototype.fireScrollEvent=function(n){"horizontal"===n.direction&&this.fireEvent(function(a){a.onScrollEvent(n)})},i.prototype.onScrollEvent=function(n){var a=this;this.onEvent(function(){a.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(n.left)})},i.prototype.getMasterColumns=function(n){var a=[];return n.columns?n.columns.forEach(function(c){a.push(c)}):n.column&&a.push(n.column),a},i.prototype.getColumnIds=function(n){var a=[];return n.columns?n.columns.forEach(function(c){a.push(c.getColId())}):n.column&&a.push(n.column.getColId()),a},i.prototype.onColumnEvent=function(n){var a=this;this.onEvent(function(){switch(n.type){case Ye.EVENT_COLUMN_MOVED:case Ye.EVENT_COLUMN_VISIBLE:case Ye.EVENT_COLUMN_PINNED:case Ye.EVENT_COLUMN_RESIZED:a.processColumnEvent(n);break;case Ye.EVENT_COLUMN_GROUP_OPENED:a.processGroupOpenedEvent(n);break;case Ye.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},i.prototype.processGroupOpenedEvent=function(n){var a=n.columnGroup,c=null;if(a){var d=a.getGroupId();c=this.columnModel.getProvidedColumnGroup(d)}a&&!c||(this.logger.log("onColumnEvent-> processing "+n+" expanded = "+a.isExpanded()),this.columnModel.setColumnGroupOpened(c,a.isExpanded(),"alignedGridChanged"))},i.prototype.processColumnEvent=function(n){var a=this,c=n.column,d=null;if(c&&(d=this.columnModel.getPrimaryColumn(c.getColId())),!c||d){var v=this.getMasterColumns(n);switch(n.type){case Ye.EVENT_COLUMN_MOVED:var C=n,I=n.columnApi.getColumnState().map(function(sn){return{colId:sn.colId}});this.columnModel.applyColumnState({state:I,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" toIndex = "+C.toIndex);break;case Ye.EVENT_COLUMN_VISIBLE:var U=n;I=n.columnApi.getColumnState().map(function(En){return{colId:En.colId,hide:En.hide}}),this.columnModel.applyColumnState({state:I},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" visible = "+U.visible);break;case Ye.EVENT_COLUMN_PINNED:var pe=n;I=n.columnApi.getColumnState().map(function(En){return{colId:En.colId,pinned:En.pinned}}),this.columnModel.applyColumnState({state:I},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+n.type+" pinned = "+pe.pinned);break;case Ye.EVENT_COLUMN_RESIZED:var _e=n;v.forEach(function(sn){a.logger.log("onColumnEvent-> processing "+n.type+" actualWidth = "+sn.getActualWidth());var qt=[{key:sn.getColId(),newWidth:sn.getActualWidth()}];a.columnModel.setColumnWidths(qt,!1,_e.finished,"alignedGridChanged")})}var xt=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),Ut=this.gridOptionsWrapper.getAlignedGrids();Ut&&Ut.forEach(function(sn){sn.api&&sn.api.setAlwaysShowVerticalScroll(xt)})}},wc([ce("columnModel")],i.prototype,"columnModel",void 0),wc([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),wc([dd(0,We("loggerFactory"))],i.prototype,"setBeans",null),wc([Gt],i.prototype,"init",null),wc([bn("alignedGridsService")],i)}(yn),hd=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Tg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},O0=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return hd(i,u),i.prototype.adaptFunction=function(n,a){var c=this.componentMetadataProvider.retrieve(n);return c&&c.functionAdapter?c.functionAdapter(a):null},i.prototype.adaptCellRendererFunction=function(n){return function(){function c(){}return c.prototype.refresh=function(d){return!1},c.prototype.getGui=function(){return this.eGui},c.prototype.init=function(d){var v=n(d),C=typeof v;this.eGui="string"!==C&&"number"!==C&&"boolean"!==C?null!=v?v:_t("<span></span>"):_t("<span>"+v+"</span>")},c}()},i.prototype.doesImplementIComponent=function(n){return!!n&&n.prototype&&"getGui"in n.prototype},Tg([ce("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),Tg([bn("agComponentUtils")],i)}(yn),ka=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Fs=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return ka(i,u),i.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},i.prototype.retrieve=function(n){return this.componentMetaData[n]},Mf([ce("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Mf([Gt],i.prototype,"postConstruct",null),Mf([bn("componentMetadataProvider")],i)}(yn),T0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},M0={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Mg={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},sp={},P0=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return T0(i,u),i.prototype.getSassVariable=function(n,a){var c="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),d=M0[c][a],v=0;sp[n]||(sp[n]={});var C=sp[n][a];if(null!=C)return C;if(Mg[a]){var x=Mg[a],I=document.createElement("div");I.classList.add(n),I.style.position="absolute";var U=x.reduce(function(_e,it){var xt=document.createElement("div");return xt.style.position="static",xt.classList.add(it),_e.appendChild(xt),xt},I);if(document.body){document.body.appendChild(I);var pe=-1!==a.toLowerCase().indexOf("height")?"height":"width";v=parseInt(window.getComputedStyle(U)[pe],10),document.body.removeChild(I)}}return sp[n][a]=v||d,sp[n][a]},i.prototype.isThemeDark=function(){var n=this.getTheme().theme;return!!n&&n.indexOf("dark")>=0},i.prototype.chartMenuPanelWidth=function(){var n=this.getTheme().themeFamily;return this.getSassVariable(n,"chartMenuPanelWidth")},i.prototype.getTheme=function(){for(var n=/\bag-(material|(?:theme-([\w\-]*)))\b/,a=this.eGridDiv,c=null;a&&!(c=n.exec(a.className));)a=a.parentElement||void 0;if(!c)return{};var d=c[0];if(void 0===c[2]){var C=d.replace("ag-","ag-theme-");Qn(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+d+" with "+C+".")},"using-old-theme")}return{theme:d,el:a,themeFamily:d.replace(/-dark$/,"")}},pd([ce("eGridDiv")],i.prototype,"eGridDiv",void 0),pd([bn("environment")],i)}(yn),A0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pg=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},R0=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.createTasksP1={list:[],sorted:!1},n.createTasksP2={list:[],sorted:!1},n.destroyTasks=[],n.ticking=!1,n.scrollGoingDown=!0,n.lastScrollTop=0,n.taskCount=0,n.cancelledTasks=new Set,n}return A0(i,u),i.prototype.setScrollTop=function(n){this.scrollGoingDown=n>this.lastScrollTop,this.lastScrollTop=n},i.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},i.prototype.isOn=function(){return this.useAnimationFrame},i.prototype.verifyAnimationFrameOn=function(n){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+n+" called but animation frames are off")},i.prototype.createTask=function(n,a,c){this.verifyAnimationFrameOn(c);var d={task:n,index:a,createOrder:++this.taskCount};this.addTaskToList(this[c],d),this.schedule()},i.prototype.cancelTask=function(n){this.cancelledTasks.add(n)},i.prototype.addTaskToList=function(n,a){n.list.push(a),n.sorted=!1},i.prototype.sortTaskList=function(n){if(!n.sorted){var a=this.scrollGoingDown?1:-1;n.list.sort(function(c,d){return c.index!==d.index?a*(d.index-c.index):d.createOrder-c.createOrder}),n.sorted=!0}},i.prototype.addDestroyTask=function(n){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(n),this.schedule()},i.prototype.executeFrame=function(n){this.verifyAnimationFrameOn("executeFrame");for(var a=this.createTasksP1,c=a.list,d=this.createTasksP2,v=d.list,C=this.destroyTasks,x=(new Date).getTime(),I=(new Date).getTime()-x,U=n<=0,pe=this.ctrlsService.getGridBodyCtrl();U||I<n;){if(!pe.getScrollFeature().executeAnimationFrameScroll()){var it=void 0;if(c.length)this.sortTaskList(a),it=c.pop().task;else if(v.length)this.sortTaskList(d),it=v.pop().task;else{if(!C.length){this.cancelledTasks.clear();break}it=C.pop()}this.cancelledTasks.has(it)||it()}I=(new Date).getTime()-x}c.length||v.length||C.length?this.requestFrame():this.stopTicking()},i.prototype.stopTicking=function(){this.ticking=!1},i.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},i.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},i.prototype.requestFrame=function(){var n=this.executeFrame.bind(this,60),c=this.gridOptionsWrapper.getDocument().defaultView||window;c.requestAnimationFrame?c.requestAnimationFrame(n):c.webkitRequestAnimationFrame?c.webkitRequestAnimationFrame(n):c.setTimeout(n,0)},i.prototype.isQueueEmpty=function(){return!this.ticking},i.prototype.debounce=function(n){var a=this,c=!1;return function(){a.isOn()?c||(c=!0,a.addDestroyTask(function(){c=!1,n()})):a.getFrameworkOverrides().setTimeout(n,0)}},Pg([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Pg([Gt],i.prototype,"init",null),Pg([bn("animationFrameService")],i)}(yn),A2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lp=function(){return lp=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},lp.apply(this,arguments)},il=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},R2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.timeLastPageEventProcessed=0,n}return A2(i,u),i.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(a){n.gridBodyCon=a.gridBodyCtrl})},i.prototype.handlePageScrollingKey=function(n){var a=n.key,c=n.altKey,d=n.ctrlKey||n.metaKey,v=this.mouseEventService.getCellPositionForEvent(n);if(!v)return!1;var C=!1;switch(a){case Rn.PAGE_HOME:case Rn.PAGE_END:!d&&!c&&(this.onHomeOrEndKey(a),C=!0);break;case Rn.LEFT:case Rn.RIGHT:d&&!c&&(this.onCtrlLeftOrRight(a,v),C=!0);break;case Rn.UP:case Rn.DOWN:d&&!c&&(this.onCtrlUpOrDown(a,v),C=!0);break;case Rn.PAGE_DOWN:!d&&!c&&(this.onPageDown(v),C=!0);break;case Rn.PAGE_UP:!d&&!c&&(this.onPageUp(v),C=!0)}return C&&n.preventDefault(),C},i.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},i.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},i.prototype.navigateTo=function(n){var a=n.scrollIndex,c=n.scrollType,d=n.scrollColumn,v=n.focusIndex,C=n.focusColumn;ue(d)&&!d.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(d),ue(a)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(a,c),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(v,C,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:v,rowPinned:null,column:C})},i.prototype.onPageDown=function(n){if(!this.isTimeSinceLastPageEventToRecent()){var c=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.getViewportHeight(),v=this.paginationProxy.getPixelOffset(),I=this.paginationProxy.getRowIndexAtPixel(c.top+d+v),U=this.paginationProxy.getRow(n.rowIndex).rowTop,_e=this.paginationProxy.getRowIndexAtPixel(U+d-v+v),it=this.paginationProxy.getPageLastRow();_e===n.rowIndex&&(I=_e=n.rowIndex+1),_e>it&&(_e=it),I>it&&(I=it),this.isRowTallerThanView(_e)&&(I=_e),this.navigateTo({scrollIndex:I,scrollType:"top",scrollColumn:null,focusIndex:_e,focusColumn:n.column}),this.setTimeLastPageEventProcessed()}},i.prototype.onPageUp=function(n){if(!this.isTimeSinceLastPageEventToRecent()){var c=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.getViewportHeight(),v=this.paginationProxy.getPixelOffset(),I=this.paginationProxy.getRowIndexAtPixel(c.top+v),U=this.paginationProxy.getRow(n.rowIndex),_e=this.paginationProxy.getRowIndexAtPixel(U.rowTop+U.rowHeight-d-v+v),it=this.paginationProxy.getPageFirstRow();_e===n.rowIndex&&(I=_e=n.rowIndex-1),_e<it&&(_e=it),I<it&&(I=it);var xt="bottom";this.isRowTallerThanView(_e)&&(I=_e,xt="top"),this.navigateTo({scrollIndex:I,scrollType:xt,scrollColumn:null,focusIndex:_e,focusColumn:n.column}),this.setTimeLastPageEventProcessed()}},i.prototype.getViewportHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),d=a.bottom-a.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(d-=c),d},i.prototype.isRowTallerThanView=function(n){var a=this.paginationProxy.getRow(n);if(!a)return!1;var c=a.rowHeight;return"number"==typeof c&&c>this.getViewportHeight()},i.prototype.getIndexToFocus=function(n,a){var c=n;if(a){var d=this.paginationProxy.getRow(n);d&&d.stub&&(c-=1)}return c},i.prototype.onCtrlUpOrDown=function(n,a){var c=n===Rn.UP,d=c?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:d,scrollType:null,scrollColumn:a.column,focusIndex:this.getIndexToFocus(d,!c),focusColumn:a.column})},i.prototype.onCtrlLeftOrRight=function(n,a){var c=n===Rn.LEFT,d=this.columnModel.getAllDisplayedColumns(),C=c!==this.gridOptionsWrapper.isEnableRtl()?d[0]:bt(d);this.navigateTo({scrollIndex:a.rowIndex,scrollType:null,scrollColumn:C,focusIndex:a.rowIndex,focusColumn:C})},i.prototype.onHomeOrEndKey=function(n){var a=n===Rn.PAGE_HOME,c=this.columnModel.getAllDisplayedColumns(),d=a?c[0]:bt(c),v=a?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:v,scrollType:null,scrollColumn:d,focusIndex:this.getIndexToFocus(v,!a),focusColumn:d})},i.prototype.onTabKeyDown=function(n,a){var c=a.shiftKey;if(this.tabToNextCellCommon(n,c,a))a.preventDefault();else if(c){var v=n.getRowPosition(),C=v.rowIndex;(v.rowPinned?0===C:C===this.paginationProxy.getPageFirstRow())&&(a.preventDefault(),this.focusService.focusLastHeader(a))}else n instanceof Ul&&n.focusCell(!0),this.focusService.focusNextGridCoreContainer(c)&&a.preventDefault()},i.prototype.tabToNextCell=function(n,a){var c=this.focusService.getFocusedCell();if(!c)return!1;var d=this.getCellByPosition(c);return!!(d||(d=this.rowRenderer.getRowByPosition(c),d&&d.isFullWidth()))&&this.tabToNextCellCommon(d,n,a)},i.prototype.tabToNextCellCommon=function(n,a,c){var d=n.isEditing();if(!d&&n instanceof Ul){var C=n.getRowCtrl();C&&(d=C.isEditing())}return(d?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(n,a,c):this.moveToNextEditingCell(n,a,c):this.moveToNextCellNotEditing(n,a))||!!this.focusService.getFocusedHeader()},i.prototype.moveToNextEditingCell=function(n,a,c){void 0===c&&(c=null);var d=n.getCellPosition();n.stopEditing();var v=this.findNextCellToFocusOn(d,a,!0);return null!=v&&(v.startEditing(null,null,!0,c),v.focusCell(!1),!0)},i.prototype.moveToNextEditingRow=function(n,a,c){void 0===c&&(c=null);var d=n.getCellPosition(),v=this.findNextCellToFocusOn(d,a,!0);if(null==v)return!1;var C=v.getCellPosition(),x=this.isCellEditable(d),I=this.isCellEditable(C),U=C&&d.rowIndex===C.rowIndex&&d.rowPinned===C.rowPinned;return x&&n.setFocusOutOnEditor(),U||(n.getRowCtrl().stopEditing(),v.getRowCtrl().startRowEditing(void 0,void 0,void 0,c)),I?(v.setFocusInOnEditor(),v.focusCell()):v.focusCell(!0),!0},i.prototype.moveToNextCellNotEditing=function(n,a){var d,c=this.columnModel.getAllDisplayedColumns();d=n instanceof Vc?lp(lp({},n.getRowPosition()),{column:a?c[0]:bt(c)}):n.getCellPosition();var v=this.findNextCellToFocusOn(d,a,!1);if(v instanceof Ul)v.focusCell(!0);else if(v)return this.tryToFocusFullWidthRow(v.getRowPosition(),a);return ue(v)},i.prototype.findNextCellToFocusOn=function(n,a,c){for(var d=n;;){n!==d&&(n=d),a||(d=this.getLastCellOfColSpan(d)),d=this.cellNavigationService.getNextTabbedCell(d,a);var v=this.gridOptionsWrapper.getTabToNextCellFunc();if(ue(v)){var x=v({backwards:a,editing:c,previousCellPosition:n,nextCellPosition:d||null,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});ue(x)?(x.floating&&(Qn(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),x.rowPinned=x.floating),d={rowIndex:x.rowIndex,column:x.column,rowPinned:x.rowPinned}):d=null}if(!d)return null;if(d.rowIndex<0){var I=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:I+d.rowIndex,column:d.column}}),null}var U=this.gridOptionsWrapper.isFullRowEdit();if(!c||U||this.isCellEditable(d)){this.ensureCellVisible(d);var _e=this.getCellByPosition(d);if(!_e){var it=this.rowRenderer.getRowByPosition(d);if(!it||!it.isFullWidth())continue;return it}if(!_e.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(d),_e}}},i.prototype.isCellEditable=function(n){var a=this.lookupRowNodeForCell(n);return!!a&&n.column.isCellEditable(a)},i.prototype.getCellByPosition=function(n){var a=this.rowRenderer.getRowByPosition(n);return a?a.getCellCtrl(n.column):null},i.prototype.lookupRowNodeForCell=function(n){return n.rowPinned===St.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(n.rowIndex):n.rowPinned===St.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(n.rowIndex):this.paginationProxy.getRow(n.rowIndex)},i.prototype.navigateToNextCell=function(n,a,c,d){for(var v=c,C=!1;v&&(v===c||!this.isValidNavigateCell(v));)this.gridOptionsWrapper.isEnableRtl()?a===Rn.LEFT&&(v=this.getLastCellOfColSpan(v)):a===Rn.RIGHT&&(v=this.getLastCellOfColSpan(v)),C=at(v=this.cellNavigationService.getNextCellToFocus(a,v));if(C&&n&&n.key===Rn.UP&&(v={rowIndex:-1,rowPinned:null,column:c.column}),d){var x=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(ue(x)){var U=x({key:a,previousCellPosition:c,nextCellPosition:v||null,event:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});ue(U)?(U.floating&&(Qn(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),U.rowPinned=U.floating),v={rowPinned:U.rowPinned,rowIndex:U.rowIndex,column:U.column}):v=null}}if(v){if(v.rowIndex<0){var pe=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:pe+v.rowIndex,column:c.column},event:n||void 0})}var _e=this.getNormalisedPosition(v);_e?this.focusPosition(_e):this.tryToFocusFullWidthRow(v)}},i.prototype.getNormalisedPosition=function(n){this.ensureCellVisible(n);var a=this.getCellByPosition(n);return a?(n=a.getCellPosition(),this.ensureCellVisible(n),n):null},i.prototype.tryToFocusFullWidthRow=function(n,a){void 0===a&&(a=!1);var c=this.columnModel.getAllDisplayedColumns(),d=this.rowRenderer.getRowByPosition(n);if(!d||!d.isFullWidth())return!1;var v={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column||(a?bt(c):c[0])};return this.focusPosition(v),!0},i.prototype.focusPosition=function(n){this.focusService.setFocusedCell(n.rowIndex,n.column,n.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(n)},i.prototype.isValidNavigateCell=function(n){return!!this.rowPositionUtils.getRowNode(n)},i.prototype.getLastCellOfColSpan=function(n){var a=this.getCellByPosition(n);if(!a)return n;var c=a.getColSpanningList();return 1===c.length?n:{rowIndex:n.rowIndex,column:bt(c),rowPinned:n.rowPinned}},i.prototype.ensureCellVisible=function(n){at(n.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n.rowIndex),n.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(n.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},il([ce("mouseEventService")],i.prototype,"mouseEventService",void 0),il([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),il([ce("focusService")],i.prototype,"focusService",void 0),il([ce("animationFrameService")],i.prototype,"animationFrameService",void 0),il([Lt("rangeService")],i.prototype,"rangeService",void 0),il([ce("columnModel")],i.prototype,"columnModel",void 0),il([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),il([ce("rowRenderer")],i.prototype,"rowRenderer",void 0),il([ce("headerNavigationService")],i.prototype,"headerNavigationService",void 0),il([ce("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),il([ce("cellNavigationService")],i.prototype,"cellNavigationService",void 0),il([ce("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),il([Gt],i.prototype,"postConstruct",null),il([bn("navigationService")],i)}(yn),Ag=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),lh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},F2=function(u,i){return function(n,a){i(n,a,u)}},X3=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.scrollY=0,n.uiBodyHeight=0,n}return Ag(i,u),i.prototype.agWire=function(n){this.logger=n.create("RowContainerHeightService")},i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ye.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=di(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},i.prototype.isStretching=function(){return this.stretching},i.prototype.getDivStretchOffset=function(){return this.divStretchOffset},i.prototype.updateOffset=function(){if(this.stretching){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,c=this.getUiBodyHeight();(a!==this.scrollY||c!==this.uiBodyHeight)&&(this.scrollY=a,this.uiBodyHeight=c,this.calculateOffset())}},i.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var n=this.scrollY/this.maxScrollY,a=n*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+a+" ("+this.pixelsToShave+" * "+n+")"),this.setDivStretchOffset(a)},i.prototype.setUiContainerHeight=function(n){n!==this.uiContainerHeight&&(this.uiContainerHeight=n,this.eventService.dispatchEvent({type:Ye.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},i.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},i.prototype.setDivStretchOffset=function(n){var a="number"==typeof n?Math.floor(n):null;this.divStretchOffset!==a&&(this.divStretchOffset=a,this.eventService.dispatchEvent({type:Ye.EVENT_HEIGHT_SCALE_CHANGED}))},i.prototype.setModelHeight=function(n){this.modelHeight=n,this.stretching=null!=n&&this.maxDivHeight>0&&n>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},i.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},i.prototype.getRealPixelPosition=function(n){return n-this.divStretchOffset},i.prototype.getUiBodyHeight=function(){var a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return a.bottom-a.top},i.prototype.getScrollPositionForPixel=function(n){if(this.pixelsToShave<=0)return n;var a=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(n/a)},lh([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),lh([F2(0,We("loggerFactory"))],i.prototype,"agWire",null),lh([Gt],i.prototype,"postConstruct",null),lh([bn("rowContainerHeightService")],i)}(yn),Z3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ch=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},wl=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Z3(i,u),i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},i.prototype.updateSelectableAfterGrouping=function(n){this.isRowSelectableFunc&&this.recurseDown(n.childrenAfterGroup,function(c){return c.childrenAfterGroup})},i.prototype.updateSelectableAfterFiltering=function(n){this.isRowSelectableFunc&&this.recurseDown(n.childrenAfterGroup,function(c){return c.childrenAfterFilter})},i.prototype.recurseDown=function(n,a){var c=this;!n||n.forEach(function(d){var v;d.group&&(d.hasChildren()&&c.recurseDown(a(d),a),v=c.groupSelectsChildren?ue((a(d)||[]).find(function(x){return!0===x.selectable})):!!c.isRowSelectableFunc&&c.isRowSelectableFunc(d),d.setRowSelectable(v))})},ch([Gt],i.prototype,"init",null),ch([bn("selectableService")],i)}(yn),Rg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ls=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},F0=function(u){function i(){var n=u.call(this)||this;return n.previousAndFirstButtonsDisabled=!1,n.nextButtonDisabled=!1,n.lastButtonDisabled=!1,n}return Rg(i,u),i.prototype.postConstruct=function(){var n=this,a=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Gr(a?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Gr(a?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Gr(a?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Gr(a?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Ye.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(v){var C=v.el,x=v.fn;n.addManagedListener(C,"click",x),n.addManagedListener(C,"keydown",function(I){(I.key===Rn.ENTER||I.key===Rn.SPACE)&&(I.preventDefault(),x())})}),this.onPaginationChanged()):this.setDisplayed(!1)},i.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},i.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},i.prototype.setCurrentPageLabel=function(){var n=this.paginationProxy.getTotalPages()>0,a=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(n?a+1:0)},i.prototype.formatNumber=function(n){var a=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(a)return a({value:n});var c=this.gridOptionsWrapper.getLocaleTextFunc();return z(n,c("thousandSeparator",","),c("decimalSeparator","."))},i.prototype.getTemplate=function(){var n=this.gridOptionsWrapper.getLocaleTextFunc(),a=n("page","Page"),c=n("to","to"),d=n("of","of"),v=n("firstPage","First Page"),C=n("previousPage","Previous Page"),x=n("nextPage","Next Page"),I=n("lastPage","Last Page"),U=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+U+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+U+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+U+'-to">'+c+'</span>\n                    <span id="ag-'+U+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+U+'-of">'+d+'</span>\n                    <span id="ag-'+U+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+v+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+C+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+U+'-start-page">'+a+'</span>\n                        <span id="ag-'+U+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+U+'-of-page">'+d+'</span>\n                        <span id="ag-'+U+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+x+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+I+'" tabindex="0"></div>\n                </span>\n            </div>'},i.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},i.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},i.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},i.prototype.enableOrDisableButtons=function(){var n=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===n,this.btFirst.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),Fo(this.btFirst,this.previousAndFirstButtonsDisabled),this.btPrevious.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),Fo(this.btPrevious,this.previousAndFirstButtonsDisabled);var d=this.isZeroPagesToDisplay();this.nextButtonDisabled=a&&n===c-1||d,this.btNext.classList.toggle("ag-disabled",this.nextButtonDisabled),Fo(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!a||d||n===c-1,this.btLast.classList.toggle("ag-disabled",this.lastButtonDisabled),Fo(this.btLast,this.lastButtonDisabled)},i.prototype.updateRowLabels=function(){var v,C,n=this.paginationProxy.getCurrentPage(),a=this.paginationProxy.getPageSize(),c=this.paginationProxy.isLastPageFound(),d=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?v=C=0:(C=(v=a*n+1)+a-1,c&&C>d&&(C=d)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(v),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(C)},i.prototype.isZeroPagesToDisplay=function(){var n=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages();return n&&0===a},i.prototype.setTotalLabels=function(){var n=this.paginationProxy.isLastPageFound(),a=this.paginationProxy.getTotalPages(),c=n?this.paginationProxy.getMasterRowCount():null;if(1===c){var d=this.paginationProxy.getRow(0);if(d&&d.group&&!d.groupData&&!d.aggData)return void this.setTotalLabelsToZero()}if(n)this.lbTotal.innerHTML=this.formatNumber(a),this.lbRecordCount.innerHTML=this.formatNumber(c);else{var C=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=C,this.lbRecordCount.innerHTML=C}},i.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Ls([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),Ls([ce("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),Ls([Pn("btFirst")],i.prototype,"btFirst",void 0),Ls([Pn("btPrevious")],i.prototype,"btPrevious",void 0),Ls([Pn("btNext")],i.prototype,"btNext",void 0),Ls([Pn("btLast")],i.prototype,"btLast",void 0),Ls([Pn("lbRecordCount")],i.prototype,"lbRecordCount",void 0),Ls([Pn("lbFirstRowOnPage")],i.prototype,"lbFirstRowOnPage",void 0),Ls([Pn("lbLastRowOnPage")],i.prototype,"lbLastRowOnPage",void 0),Ls([Pn("lbCurrent")],i.prototype,"lbCurrent",void 0),Ls([Pn("lbTotal")],i.prototype,"lbTotal",void 0),Ls([Gt],i.prototype,"postConstruct",null),i}(ai),uh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),L0=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.polyfillFunctions=[],n}return uh(i,u),i.prototype.observeResize=function(n,a){var _e,c=this,v=this.gridOptionsWrapper.getDocument().defaultView||window,C=ze(a,50),U=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return v.ResizeObserver&&!U?((_e=new v.ResizeObserver(C)).observe(n),function(){return _e.disconnect()}):function(){var _e=se(n),it=Jr(n),xt=!0,Ut=function(){if(xt){var sn=se(n),qt=Jr(n);(sn!==_e||qt!==it)&&(_e=sn,it=qt,a()),c.doNextPolyfillTurn(Ut)}};return Ut(),function(){return xt=!1}}()},i.prototype.doNextPolyfillTurn=function(n){this.polyfillFunctions.push(n),this.schedulePolyfill()},i.prototype.schedulePolyfill=function(){var n=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var c=n.polyfillFunctions;n.polyfillScheduled=!1,n.polyfillFunctions=[],c.forEach(function(d){return d()})},50))},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([bn("resizeObserverService")],i),i}(yn),Tu=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Is=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},fd=(()=>(function(u){u[u.Loading=0]="Loading",u[u.NoRows=1]="NoRows"}(fd||(fd={})),fd))(),ql=function(u){function i(){var n=u.call(this,i.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n}return Tu(i,u),i.prototype.updateLayoutClasses=function(n,a){var c=this.eOverlayWrapper.classList;c.toggle(ta.AUTO_HEIGHT,a.autoHeight),c.toggle(ta.NORMAL,a.normal),c.toggle(ta.PRINT,a.print)},i.prototype.postConstruct=function(){this.createManagedBean(new rp(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,Ye.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ye.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},i.prototype.setWrapperTypeClass=function(n){var a=this.eOverlayWrapper.classList;a.toggle("ag-overlay-loading-wrapper",n===fd.Loading),a.toggle("ag-overlay-no-rows-wrapper",n===fd.NoRows)},i.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var n={api:this.gridOptionsWrapper.getApi()},c=this.userComponentFactory.getLoadingOverlayCompDetails(n).newAgStackInstance();this.showOverlay(c,fd.Loading)}},i.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var n={api:this.gridOptionsWrapper.getApi()},c=this.userComponentFactory.getNoRowsOverlayCompDetails(n).newAgStackInstance();this.showOverlay(c,fd.NoRows)}},i.prototype.showOverlay=function(n,a){var c=this;this.inProgress||(this.setWrapperTypeClass(a),this.destroyActiveOverlay(),this.inProgress=!0,n&&n.then(function(d){c.inProgress=!1,c.eOverlayWrapper.appendChild(d.getGui()),c.activeOverlay=d,c.destroyRequested&&(c.destroyRequested=!1,c.destroyActiveOverlay())}),this.setDisplayed(!0))},i.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),j(this.eOverlayWrapper))},i.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},i.prototype.destroy=function(){this.destroyActiveOverlay(),u.prototype.destroy.call(this)},i.prototype.showOrHideOverlay=function(){var n=this.paginationProxy.isEmpty(),a=this.gridOptionsWrapper.isSuppressNoRowsOverlay();n&&!a?this.showNoRowsOverlay():this.hideOverlay()},i.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},i.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},i.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Is([ce("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Is([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),Is([ce("gridApi")],i.prototype,"gridApi",void 0),Is([ce("columnModel")],i.prototype,"columnModel",void 0),Is([Pn("eOverlayWrapper")],i.prototype,"eOverlayWrapper",void 0),Is([Gt],i.prototype,"postConstruct",null),i}(ai),I0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$c=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Rf=function(u){function i(n){void 0===n&&(n={});var a=u.call(this,i.getTemplate(n))||this;a.suppressEnabledCheckbox=!0,a.suppressOpenCloseIcons=!1;var d=n.enabled,v=n.items,C=n.suppressEnabledCheckbox,x=n.suppressOpenCloseIcons;return a.title=n.title,a.cssIdentifier=n.cssIdentifier||"default",a.enabled=null==d||d,a.items=v||[],a.alignItems=n.alignItems||"center",null!=C&&(a.suppressEnabledCheckbox=C),null!=x&&(a.suppressOpenCloseIcons=x),a}return I0(i,u),i.getTemplate=function(n){var a=n.cssIdentifier||"default";return'<div class="ag-group ag-'+a+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+a+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+a+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+a+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+a+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(n.direction||"vertical")+" ag-"+a+'-group-container"></div>\n        </div>'},i.prototype.postConstruct=function(){if(this.items.length){var n=this.items;this.items=[],this.addItems(n)}var a=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(a("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},i.prototype.setupExpandContract=function(){var n=this;this.eGroupClosedIcon.appendChild(fi("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(fi("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return n.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(a){switch(a.key){case Rn.ENTER:case Rn.SPACE:a.preventDefault(),n.toggleGroupExpand();break;case Rn.RIGHT:case Rn.LEFT:a.preventDefault(),n.toggleGroupExpand(a.key===Rn.RIGHT)}})},i.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Ui(this.eTitleBar,this.expanded)},i.prototype.refreshChildDisplay=function(){var n=!this.suppressOpenCloseIcons;Di(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Di(this.eGroupOpenedIcon,n&&this.expanded),Di(this.eGroupClosedIcon,n&&!this.expanded)},i.prototype.isExpanded=function(){return this.expanded},i.prototype.setAlignItems=function(n){return this.alignItems!==n&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=n,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},i.prototype.toggleGroupExpand=function(n){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Di(this.eContainer,!0),this):(this.expanded===(n=null!=n?n:!this.expanded)||(this.expanded=n,this.refreshAriaStatus(),this.refreshChildDisplay(),Di(this.eContainer,n),this.dispatchEvent({type:this.expanded?i.EVENT_EXPANDED:i.EVENT_COLLAPSED})),this)},i.prototype.addItems=function(n){var a=this;n.forEach(function(c){return a.addItem(c)})},i.prototype.addItem=function(n){var a=this.eContainer,c=n instanceof ai?n.getGui():n;c.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),a.appendChild(c),this.items.push(c)},i.prototype.hideItem=function(n,a){this.items[a].classList.toggle("ag-hidden",n)},i.prototype.setTitle=function(n){return this.eTitle.innerText=n,this},i.prototype.addCssClassToTitleBar=function(n){this.eTitleBar.classList.add(n)},i.prototype.setEnabled=function(n,a){return this.enabled=n,this.refreshDisabledStyles(),this.toggleGroupExpand(n),a||this.cbGroupEnabled.setValue(n),this},i.prototype.isEnabled=function(){return this.enabled},i.prototype.onEnableChange=function(n){var a=this;return this.cbGroupEnabled.onValueChange(function(c){a.setEnabled(c,!0),n(c)}),this},i.prototype.hideEnabledCheckbox=function(n){return this.suppressEnabledCheckbox=n,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},i.prototype.hideOpenCloseIcons=function(n){return this.suppressOpenCloseIcons=n,n&&this.toggleGroupExpand(!0),this},i.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},i.EVENT_EXPANDED="expanded",i.EVENT_COLLAPSED="collapsed",$c([Pn("eTitleBar")],i.prototype,"eTitleBar",void 0),$c([Pn("eGroupOpenedIcon")],i.prototype,"eGroupOpenedIcon",void 0),$c([Pn("eGroupClosedIcon")],i.prototype,"eGroupClosedIcon",void 0),$c([Pn("eToolbar")],i.prototype,"eToolbar",void 0),$c([Pn("cbGroupEnabled")],i.prototype,"cbGroupEnabled",void 0),$c([Pn("eTitle")],i.prototype,"eTitle",void 0),$c([Pn("eContainer")],i.prototype,"eContainer",void 0),$c([Gt],i.prototype,"postConstruct",null),i}(ai),Q3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),N0=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},gd=function(u){function i(n,a){var c=u.call(this)||this;return c.element=n,c.dragStartPosition={x:0,y:0},c.position={x:0,y:0},c.lastSize={width:-1,height:-1},c.positioned=!1,c.resizersAdded=!1,c.resizeListeners=[],c.boundaryEl=null,c.isResizing=!1,c.isMoving=!1,c.resizable={},c.movable=!1,c.currentResizer=null,c.config=Object.assign({},{popup:!1},a),c}return Q3(i,u),i.prototype.center=function(){var n=this.offsetParent,a=n.clientHeight,d=n.clientWidth/2-this.getWidth()/2,v=a/2-this.getHeight()/2;this.offsetElement(d,v)},i.prototype.initialisePosition=function(){var n=this.config,a=n.centered,c=n.forcePopupParentAsOffsetParent,d=n.minWidth,v=n.width,C=n.minHeight,x=n.height,I=n.x,U=n.y;this.offsetParent||this.setOffsetParent();var pe=0,_e=0,it=!!this.element.offsetParent;if(it){var xt=this.findBoundaryElement(),Ut=window.getComputedStyle(xt);if(null!=Ut.minWidth){var sn=xt.offsetWidth-this.element.offsetWidth;_e=parseInt(Ut.minWidth,10)-sn}if(null!=Ut.minHeight){var qt=xt.offsetHeight-this.element.offsetHeight;pe=parseInt(Ut.minHeight,10)-qt}}if(this.minHeight=C||pe,this.minWidth=d||_e,v&&this.setWidth(v),x&&this.setHeight(x),(!v||!x)&&this.refreshSize(),a)this.center();else if(I||U)this.offsetElement(I,U);else if(it&&c&&this.boundaryEl){var En=parseFloat(this.boundaryEl.style.top),xn=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(xn)?0:xn,isNaN(En)?0:En)}this.positioned=!!this.offsetParent},i.prototype.isPositioned=function(){return this.positioned},i.prototype.getPosition=function(){return this.position},i.prototype.setMovable=function(n,a){if(this.config.popup&&n!==this.movable){this.movable=n;var c=this.moveElementDragListener||{eElement:a,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};n?(this.dragService.addDragSource(c),this.moveElementDragListener=c):(this.dragService.removeDragSource(c),this.moveElementDragListener=void 0)}},i.prototype.setResizable=function(n){var a=this;if(this.clearResizeListeners(),n?this.addResizers():this.removeResizers(),"boolean"==typeof n){if(!1===n)return;n={topLeft:n,top:n,topRight:n,right:n,bottomRight:n,bottom:n,bottomLeft:n,left:n}}Object.keys(n).forEach(function(c){var v=!!n[c],C=a.getResizerElement(c),x={dragStartPixels:0,eElement:C,onDragStart:function(I){return a.onResizeStart(I,c)},onDragging:a.onResize.bind(a),onDragStop:function(I){return a.onResizeEnd(I,c)}};(!!a.resizable[c]!==v||!a.isAlive()&&!v)&&(v?(a.dragService.addDragSource(x),a.resizeListeners.push(x),C.style.pointerEvents="all"):C.style.pointerEvents="none")})},i.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},i.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var n=this.lastSize,a=n.height,c=n.width;-1!==c&&(this.element.style.width=c+"px"),-1!==a&&(this.element.style.height=a+"px")},i.prototype.getHeight=function(){return this.element.offsetHeight},i.prototype.setHeight=function(n){var a=this.config.popup,c=this.element,d=!1;if("string"==typeof n&&-1!==n.indexOf("%"))Bn(c,n),n=Rr(c),d=!0;else if(this.positioned){var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect();n=Math.max(this.minHeight,n);var x=this.offsetParent.clientHeight,I=a?this.position.y:v.top;x&&n+I>x+(a?0:C.top)&&(n=x-I)}this.getHeight()!==n&&(d?(c.style.maxHeight="unset",c.style.minHeight="unset"):a?Bn(c,n):(c.style.height=n+"px",c.style.flex="0 0 auto",this.lastSize.height="number"==typeof n?n:parseFloat(n)))},i.prototype.getWidth=function(){return this.element.offsetWidth},i.prototype.setWidth=function(n){var a=this.element,c=this.config.popup,d=!1;if("string"==typeof n&&-1!==n.indexOf("%"))tn(a,n),n=bo(a),d=!0;else if(this.positioned){n=Math.max(this.minWidth,n);var v=this.offsetParent.clientWidth,C=c?this.position.x:this.element.getBoundingClientRect().left;v&&n+C>v&&(n=v-C)}this.getWidth()!==n&&(d?(a.style.maxWidth="unset",a.style.minWidth="unset"):this.config.popup?tn(a,n):(a.style.width=n+"px",a.style.flex=" unset",this.lastSize.width="number"==typeof n?n:parseFloat(n)))},i.prototype.offsetElement=function(n,a){void 0===n&&(n=0),void 0===a&&(a=0);var c=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:c,x:n,y:a,keepWithinBounds:!0}),this.setPosition(parseFloat(c.style.left),parseFloat(c.style.top))},i.prototype.setPosition=function(n,a){this.position.x=n,this.position.y=a},i.prototype.updateDragStartPosition=function(n,a){this.dragStartPosition={x:n,y:a}},i.prototype.calculateMouseMovement=function(n){var a=n.e,d=n.isTop,C=n.topBuffer,x=a.clientX-this.dragStartPosition.x,I=a.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(a,!!n.isLeft,!!n.anywhereWithin,x)?0:x,movementY:this.shouldSkipY(a,!!d,C,I)?0:I}},i.prototype.shouldSkipX=function(n,a,c,d){var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),x=this.boundaryEl.getBoundingClientRect(),I=this.config.popup?this.position.x:v.left,U=I<=0&&C.left>=n.clientX||C.right<=n.clientX&&C.right<=x.right;return!!U||(a?d<0&&n.clientX>I+C.left||d>0&&n.clientX<I+C.left:c?d<0&&n.clientX>x.right||d>0&&n.clientX<I+C.left:d<0&&n.clientX>x.right||d>0&&n.clientX<x.right)},i.prototype.shouldSkipY=function(n,a,c,d){void 0===c&&(c=0);var v=this.element.getBoundingClientRect(),C=this.offsetParent.getBoundingClientRect(),x=this.boundaryEl.getBoundingClientRect(),I=this.config.popup?this.position.y:v.top,U=I<=0&&C.top>=n.clientY||C.bottom<=n.clientY&&C.bottom<=x.bottom;return!!U||(a?d<0&&n.clientY>I+C.top+c||d>0&&n.clientY<I+C.top:d<0&&n.clientY>x.bottom||d>0&&n.clientY<x.bottom)},i.prototype.createResizeMap=function(){var n=this.element;this.resizerMap={topLeft:{element:n.querySelector("[ref=eTopLeftResizer]")},top:{element:n.querySelector("[ref=eTopResizer]")},topRight:{element:n.querySelector("[ref=eTopRightResizer]")},right:{element:n.querySelector("[ref=eRightResizer]")},bottomRight:{element:n.querySelector("[ref=eBottomRightResizer]")},bottom:{element:n.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:n.querySelector("[ref=eBottomLeftResizer]")},left:{element:n.querySelector("[ref=eLeftResizer]")}}},i.prototype.addResizers=function(){if(!this.resizersAdded){var n=this.element;if(n){var c=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;n.appendChild(c.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},i.prototype.removeResizers=function(){this.resizerMap=void 0;var n=this.element.querySelector(".ag-resizer-wrapper");n&&this.element.removeChild(n),this.resizersAdded=!1},i.prototype.getResizerElement=function(n){return this.resizerMap[n].element},i.prototype.onResizeStart=function(n,a){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!a.match(/top/i),isRight:!!a.match(/right/i),isBottom:!!a.match(/bottom/i),isLeft:!!a.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[a].element.classList.add("ag-active");var c=this.config;!c.popup&&!c.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(n.clientX,n.clientY)},i.prototype.getSiblings=function(){var a=this.element.parentElement;return a?Array.prototype.slice.call(a.children).filter(function(c){return!c.classList.contains("ag-hidden")}):null},i.prototype.getMinSizeOfSiblings=function(){for(var n=this.getSiblings()||[],a=0,c=0,d=0;d<n.length;d++){var v=n[d];if(v!==this.element){var x=this.minHeight||0,I=this.minWidth||0;if(v.style.flex&&"0 0 auto"!==v.style.flex){var U=window.getComputedStyle(v);U.minHeight&&(x=parseInt(U.minHeight,10)),U.minWidth&&(I=parseInt(U.minWidth,10))}else x=v.offsetHeight,I=v.offsetWidth;a+=x,c+=I}}return{height:a,width:c}},i.prototype.applySizeToSiblings=function(n){var a=null,c=this.getSiblings();if(c){for(var d=0;d<c.length;d++){var v=c[d];v!==a&&(n?v.style.height=v.offsetHeight+"px":v.style.width=v.offsetWidth+"px",v.style.flex="0 0 auto",v===this.element&&(a=c[d+1]))}a&&(a.style.removeProperty("height"),a.style.removeProperty("min-height"),a.style.removeProperty("max-height"),a.style.flex="1 1 auto")}},i.prototype.onResize=function(n){if(this.isResizing&&this.currentResizer){var a=this.config,c=a.popup,d=a.forcePopupParentAsOffsetParent,v=this.currentResizer,C=v.isTop,U=v.isLeft,pe=v.isRight||U,_e=v.isBottom||C,it=this.calculateMouseMovement({e:n,isLeft:U,isTop:C}),xt=it.movementX,Ut=it.movementY,sn=this.position.x,qt=this.position.y,En=0,xn=0;if(pe&&xt){var er=U?-1:1,Ar=this.getWidth(),hi=Ar+xt*er,vi=!1;U&&(sn+(En=Ar-hi)<=0||hi<=this.minWidth)&&(vi=!0,En=0),vi||this.setWidth(hi)}if(_e&&Ut){er=C?-1:1;var ei=this.getHeight(),Br=ei+Ut*er,Ai=!1;C?(qt+(xn=ei-Br)<=0||Br<=this.minHeight)&&(Ai=!0,xn=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&ei<Br&&this.getMinSizeOfSiblings().height+Br>this.element.parentElement.offsetHeight&&(Ai=!0),Ai||this.setHeight(Br)}this.updateDragStartPosition(n.clientX,n.clientY),((c||d)&&En||xn)&&this.offsetElement(sn+En,qt+xn)}},i.prototype.onResizeEnd=function(n,a){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var c={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[a].element.classList.remove("ag-active"),this.dispatchEvent(c)},i.prototype.refreshSize=function(){var n=this.element;this.config.popup&&(this.config.width||this.setWidth(n.offsetWidth),this.config.height||this.setHeight(n.offsetHeight))},i.prototype.onMoveStart=function(n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(n.clientX,n.clientY)},i.prototype.onMove=function(n){if(this.isMoving){var v,a=this.position,c=a.x,d=a.y;this.config.calculateTopBuffer&&(v=this.config.calculateTopBuffer());var C=this.calculateMouseMovement({e:n,isTop:!0,anywhereWithin:!0,topBuffer:v});this.offsetElement(c+C.movementX,d+C.movementY),this.updateDragStartPosition(n.clientX,n.clientY)}},i.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},i.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},i.prototype.findBoundaryElement=function(){for(var n=this.element;n;){if("static"!==window.getComputedStyle(n).position)return n;n=n.parentElement}return this.element},i.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var n=this.resizeListeners.pop();this.dragService.removeDragSource(n)}},i.prototype.destroy=function(){u.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},N0([ce("popupService")],i.prototype,"popupService",void 0),N0([ce("dragService")],i.prototype,"dragService",void 0),i}(yn),Ff=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},z0=function(u){function i(n){var a=u.call(this,i.getTemplate(n))||this;return a.closable=!0,a.config=n,a}return Ff(i,u),i.getTemplate=function(n){var a=n&&n.cssIdentifier||"default";return'<div class="ag-panel ag-'+a+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+a+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+a+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+a+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+a+'-panel-content-wrapper"></div>\n        </div>'},i.prototype.postConstruct=function(){var n=this,a=this.config,c=a.component,d=a.closable,v=a.hideTitleBar,C=a.title,x=a.minWidth,I=void 0===x?250:x,U=a.width,pe=a.minHeight,_e=void 0===pe?250:pe,it=a.height,xt=a.centered,Ut=a.popup,sn=a.x,qt=a.y;this.positionableFeature=new gd(this.getGui(),{minWidth:I,width:U,minHeight:_e,height:it,centered:xt,x:sn,y:qt,popup:Ut,calculateTopBuffer:function(){return n.positionableFeature.getHeight()-n.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var En=this.getGui();c&&this.setBodyComponent(c),v?this.eTitleBar.classList.add("ag-hidden"):(C&&this.setTitle(C),this.setClosable(null!=d?d:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(xn){var er=n.gridOptionsWrapper.getDocument();if(En.contains(xn.relatedTarget)||En.contains(er.activeElement)||n.eTitleBarButtons.contains(xn.target))xn.preventDefault();else{var Ar=n.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Ar&&Ar.focus()}}),(!Ut||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},i.prototype.renderComponent=function(){var n=this,a=this.getGui();a.focus(),this.close=function(){a.parentElement.removeChild(a),n.destroy()}},i.prototype.getHeight=function(){return this.positionableFeature.getHeight()},i.prototype.setHeight=function(n){this.positionableFeature.setHeight(n)},i.prototype.getWidth=function(){return this.positionableFeature.getWidth()},i.prototype.setWidth=function(n){this.positionableFeature.setWidth(n)},i.prototype.setClosable=function(n){if(n!==this.closable&&(this.closable=n),n){var a=this.closeButtonComp=new ai(i.CLOSE_BTN_TEMPLATE);this.getContext().createBean(a);var c=a.getGui(),d=Gr("close",this.gridOptionsWrapper);d.classList.add("ag-panel-title-bar-button-icon"),c.appendChild(d),this.addTitleBarButton(a),a.addManagedListener(c,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((c=this.closeButtonComp.getGui()).parentElement.removeChild(c),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},i.prototype.setBodyComponent=function(n){n.setParentComponent(this),this.eContentWrapper.appendChild(n.getGui())},i.prototype.addTitleBarButton=function(n,a){var c=this.eTitleBarButtons,d=c.children,v=d.length;null==a&&(a=v),a=Math.max(0,Math.min(a,v)),n.addCssClass("ag-panel-title-bar-button");var C=n.getGui();0===a?c.insertAdjacentElement("afterbegin",C):a===v?c.insertAdjacentElement("beforeend",C):d[a-1].insertAdjacentElement("afterend",C),n.setParentComponent(this)},i.prototype.getBodyHeight=function(){return Kt(this.eContentWrapper)},i.prototype.getBodyWidth=function(){return Jn(this.eContentWrapper)},i.prototype.setTitle=function(n){this.eTitle.innerText=n},i.prototype.onBtClose=function(){this.close()},i.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var n=this.getGui();n&&n.offsetParent&&this.close(),u.prototype.destroy.call(this)},i.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Xl([Pn("eContentWrapper")],i.prototype,"eContentWrapper",void 0),Xl([Pn("eTitleBar")],i.prototype,"eTitleBar",void 0),Xl([Pn("eTitleBarButtons")],i.prototype,"eTitleBarButtons",void 0),Xl([Pn("eTitle")],i.prototype,"eTitle",void 0),Xl([Gt],i.prototype,"postConstruct",null),i}(ai),Ig=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),cp=function(){return cp=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},cp.apply(this,arguments)},Io=function(u){function i(n){var a=u.call(this,cp(cp({},n),{popup:!0}))||this;return a.isMaximizable=!1,a.isMaximized=!1,a.maximizeListeners=[],a.resizeListenerDestroy=null,a.lastPosition={x:0,y:0,width:0,height:0},a}return Ig(i,u),i.prototype.postConstruct=function(){var n=this,a=this.getGui(),c=this.config,d=c.movable,v=c.resizable,C=c.maximizable;this.addCssClass("ag-dialog"),u.prototype.postConstruct.call(this),this.addManagedListener(a,"focusin",function(x){a.contains(x.relatedTarget)||n.popupService.bringPopupToFront(a)}),d&&this.setMovable(d),C&&this.setMaximizable(C),v&&this.setResizable(v)},i.prototype.renderComponent=function(){var n=this.getGui(),a=this.config,c=a.alwaysOnTop,d=a.modal,v=a.title,C=this.gridOptionsWrapper.getLocaleTextFunc(),x=this.popupService.addPopup({modal:d,eChild:n,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:c,ariaLabel:v||C("ariaLabelDialog","Dialog")});x&&(this.close=x.hideFunc)},i.prototype.toggleMaximize=function(){var n=this.positionableFeature.getPosition();if(this.isMaximized){var a=this.lastPosition,c=a.x,d=a.y,C=a.height;this.setWidth(a.width),this.setHeight(C),this.positionableFeature.offsetElement(c,d)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=n.x,this.lastPosition.y=n.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},i.prototype.refreshMaximizeIcon=function(){Di(this.maximizeIcon,!this.isMaximized),Di(this.minimizeIcon,this.isMaximized)},i.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(n){return n()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},i.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),u.prototype.destroy.call(this)},i.prototype.setResizable=function(n){this.positionableFeature.setResizable(n)},i.prototype.setMovable=function(n){this.positionableFeature.setMovable(n,this.eTitleBar)},i.prototype.setMaximizable=function(n){var a=this;if(!n)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var c=this.eTitleBar;if(c&&n!==this.isMaximizable){var d=this.maximizeButtonComp=this.createBean(new ai('<div class="ag-dialog-button"></span>')),v=d.getGui();v.appendChild(this.maximizeIcon=Gr("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),v.appendChild(this.minimizeIcon=Gr("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),d.addManagedListener(v,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(d,0),this.maximizeListeners.push(this.addManagedListener(c,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){a.isMaximized=!1,a.refreshMaximizeIcon()})}},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([ce("popupService")],i.prototype,"popupService",void 0),i}(z0),Lf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ja=function(u){function i(n,a,c){return void 0===a&&(a="ag-text-field"),void 0===c&&(c="text"),u.call(this,n,a,c)||this}return Lf(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},i.prototype.setValue=function(n,a){var c=u.prototype.setValue.call(this,n,a);return this.eInput.value!==n&&(this.eInput.value=ue(n)?n:""),c},i.prototype.preventDisallowedCharacters=function(){var n=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(c){c.key&&!n.test(c.key)&&c.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(c){var d,v=null===(d=c.clipboardData)||void 0===d?void 0:d.getData("text");v&&v.split("").some(function(C){return!n.test(C)})&&c.preventDefault()})},i}(ic),If=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),I2=function(u){function i(n){return u.call(this,n,"ag-text-area",null,"textarea")||this}return If(i,u),i.prototype.setValue=function(n,a){var c=u.prototype.setValue.call(this,n,a);return this.eInput.value=n,c},i.prototype.setCols=function(n){return this.eInput.cols=n,this},i.prototype.setRows=function(n){return this.eInput.rows=n,this},i}(ic),Nf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vd=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},kf=function(u){function i(n){var a=u.call(this,n,i.TEMPLATE)||this;return a.labelAlignment="top",a}return Nf(i,u),i.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},i.prototype.onValueChange=function(n){var a=this,c=Xs.EVENT_CHANGED;return this.addManagedListener(this.eText,c,function(){var d=parseFloat(a.eText.getValue());a.eSlider.setValue(d.toString(),!0),n(d||0)}),this.addManagedListener(this.eSlider,c,function(){var d=a.eSlider.getValue();a.eText.setValue(d,!0),n(parseFloat(d))}),this},i.prototype.setSliderWidth=function(n){return this.eSlider.setWidth(n),this},i.prototype.setTextFieldWidth=function(n){return this.eText.setWidth(n),this},i.prototype.setMinValue=function(n){return this.eSlider.setMinValue(n),this.eText.setMin(n),this},i.prototype.setMaxValue=function(n){return this.eSlider.setMaxValue(n),this.eText.setMax(n),this},i.prototype.getValue=function(){return this.eText.getValue()},i.prototype.setValue=function(n){return this.getValue()===n||(this.eText.setValue(n,!0),this.eSlider.setValue(n,!0),this.dispatchEvent({type:Xs.EVENT_CHANGED})),this},i.prototype.setStep=function(n){return this.eSlider.setStep(n),this.eText.setStep(n),this},i.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',vd([Pn("eLabel")],i.prototype,"eLabel",void 0),vd([Pn("eSlider")],i.prototype,"eSlider",void 0),vd([Pn("eText")],i.prototype,"eText",void 0),vd([Gt],i.prototype,"init",null),i}(Uu),V0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Zl=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},up=function(u){function i(n){var a=u.call(this,i.TEMPLATE)||this;return a.H=1,a.S=1,a.B=1,a.A=1,a.isSpectrumDragging=!1,a.isSpectrumHueDragging=!1,a.isSpectrumAlphaDragging=!1,a.colorChanged=!1,a.picker=n.picker,a}return V0(i,u),i.prototype.postConstruct=function(){var n=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(n,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(n,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(n,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},i.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},i.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},i.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},i.prototype.onSpectrumDraggerDown=function(n){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(n)},i.prototype.onSpectrumDraggerMove=function(n){this.isSpectrumDragging&&this.moveDragger(n)},i.prototype.onSpectrumHueDown=function(n){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(n)},i.prototype.onSpectrumHueMove=function(n){this.isSpectrumHueDragging&&this.moveHueSlider(n)},i.prototype.onSpectrumAlphaDown=function(n){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(n)},i.prototype.onSpectrumAlphaMove=function(n){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(n)},i.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},i.prototype.moveDragger=function(n){var a=this.spectrumValRect;if(a){var c=n.clientX-a.left,d=n.clientY-a.top;c=Math.max(c,0),c=Math.min(c,a.width),d=Math.max(d,0),d=Math.min(d,a.height),this.setSpectrumValue(c/a.width,1-d/a.height)}},i.prototype.moveHueSlider=function(n){var a=this.spectrumHueRect;if(a){var c=this.spectrumHueSlider,d=c.getBoundingClientRect(),v=n.clientX-a.left;v=Math.max(v,0),v=Math.min(v,a.width),this.H=1-v/a.width,c.style.left=v+d.width/2+"px",this.update()}},i.prototype.moveAlphaSlider=function(n){var a=this.spectrumAlphaRect;if(a){var c=this.spectrumAlphaSlider,d=c.getBoundingClientRect(),v=n.clientX-a.left;v=Math.max(v,0),v=Math.min(v,a.width),this.A=v/a.width,c.style.left=v+d.width/2+"px",this.update()}},i.prototype.update=function(){var n=Wo.fromHSB(360*this.H,this.S,this.B,this.A),a=Wo.fromHSB(360*this.H,1,1),c=n.toRgbaString(),d=this.picker;Wo.fromString(d.getValue()).toRgbaString()!==c&&(this.colorChanged=!0),d.setValue(c),this.spectrumColor.style.backgroundColor=a.toRgbaString(),this.spectrumDragger.style.backgroundColor=c},i.prototype.setSpectrumValue=function(n,a){var c=this.spectrumValRect||this.refreshSpectrumRect();if(c){var d=this.spectrumDragger,v=d.getBoundingClientRect();n=Math.max(0,n),n=Math.min(1,n),a=Math.max(0,a),a=Math.min(1,a),this.S=n,this.B=a,d.style.left=n*c.width-v.width/2+"px",d.style.top=(1-a)*c.height-v.height/2+"px",this.update()}},i.prototype.initRecentColors=function(){var a=i.recentColors.map(function(c,d){return'<div class="ag-recent-color" id='+d+' style="background-color: '+c+'; width: 15px; height: 15px;" recent-color="'+c+'"></div>'});this.recentColors.innerHTML=a.join("")},i.prototype.setValue=function(n){var a=Wo.fromString(n),c=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d}(a.toHSB(),3),d=c[0],v=c[1],C=c[2];this.H=(isNaN(d)?0:d)/360,this.A=a.a;var x=this.spectrumHueRect||this.refreshHueRect(),I=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-x.width+"px",this.spectrumAlphaSlider.style.left=this.A*I.width+"px",this.setSpectrumValue(v,C)},i.prototype.onRecentColorClick=function(n){var a=n.target;if(ue(a.id)){var c=parseInt(a.id,10);this.setValue(i.recentColors[c]),this.destroy()}},i.prototype.addRecentColor=function(){var a=Wo.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),c=i.recentColors;!this.colorChanged||c[0]===a||(c=c.filter(function(d){return d!=a}),(c=[a].concat(c)).length>i.maxRecentColors&&(c=c.slice(0,i.maxRecentColors)),i.recentColors=c)},i.prototype.destroy=function(){this.addRecentColor(),u.prototype.destroy.call(this)},i.maxRecentColors=8,i.recentColors=[],i.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Zl([Pn("spectrumColor")],i.prototype,"spectrumColor",void 0),Zl([Pn("spectrumVal")],i.prototype,"spectrumVal",void 0),Zl([Pn("spectrumDragger")],i.prototype,"spectrumDragger",void 0),Zl([Pn("spectrumHue")],i.prototype,"spectrumHue",void 0),Zl([Pn("spectrumHueSlider")],i.prototype,"spectrumHueSlider",void 0),Zl([Pn("spectrumAlpha")],i.prototype,"spectrumAlpha",void 0),Zl([Pn("spectrumAlphaSlider")],i.prototype,"spectrumAlphaSlider",void 0),Zl([Pn("recentColors")],i.prototype,"recentColors",void 0),Zl([Gt],i.prototype,"postConstruct",null),i}(ai),xu=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ql=function(u){function i(n){var a=u.call(this,n,"ag-color-picker","colorPicker")||this;return n&&n.color&&(a.value=n.color),a}return xu(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},i.prototype.showPicker=function(){var n=this,a=this.getGui().getBoundingClientRect(),c=this.createBean(new Io({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:a.right-190,y:a.top-250}));this.isPickerDisplayed=!0,c.addCssClass("ag-color-dialog"),Ui(this.eWrapper,!0);var d=this.createBean(new up({picker:this}));return d.addDestroyFunc(function(){c.isAlive()&&n.destroyBean(c)}),c.setParentComponent(this),c.setBodyComponent(d),d.setValue(this.getValue()),c.addDestroyFunc(function(){n.isDestroyingPicker?n.isDestroyingPicker=!1:(n.isDestroyingPicker=!0,d.isAlive()&&n.destroyBean(d)),n.isAlive()&&(Ui(n.eWrapper,!1),n.getFocusableElement().focus()),n.isPickerDisplayed=!1}),c},i.prototype.setValue=function(n){return this.value===n?this:(this.eDisplayField.style.backgroundColor=n,u.prototype.setValue.call(this,n))},i.prototype.getValue=function(){return this.value},i}(Lp),kg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),H0=function(u){function i(n){return u.call(this,n,"ag-number-field","number")||this}return kg(i,u),i.prototype.postConstruct=function(){var n=this;u.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var a=parseFloat(n.eInput.value),c=isNaN(a)?"":n.normalizeValue(a.toString());n.value!==c&&n.setValue(c)}),this.eInput.step="any"},i.prototype.normalizeValue=function(n){if(""===n)return"";this.precision&&(n=this.adjustPrecision(n));var a=parseFloat(n);return null!=this.min&&a<this.min?n=this.min.toString():null!=this.max&&a>this.max&&(n=this.max.toString()),n},i.prototype.adjustPrecision=function(n){if(this.precision){var a=parseFloat(n).toFixed(this.precision);n=parseFloat(a).toString()}return n},i.prototype.setMin=function(n){return this.min===n||(this.min=n,po(this.eInput,"min",n)),this},i.prototype.setMax=function(n){return this.max===n||(this.max=n,po(this.eInput,"max",n)),this},i.prototype.setPrecision=function(n){return this.precision=n,this},i.prototype.setStep=function(n){return this.step===n||(this.step=n,po(this.eInput,"step",n)),this},i.prototype.setValue=function(n,a){return(n=this.adjustPrecision(n))!=this.normalizeValue(n)?this:u.prototype.setValue.call(this,n,a)},i}(Ja),zg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vg=function(u){function i(n){return u.call(this,n,"ag-range-field","range")||this}return zg(i,u),i.prototype.postConstruct=function(){u.prototype.postConstruct.call(this);var n=this.config,a=n.min,c=n.max,d=n.step;null!=a&&this.setMinValue(a),null!=c&&this.setMaxValue(c),this.setStep(d||1)},i.prototype.addInputListeners=function(){var n=this;this.addManagedListener(this.eInput,"input",function(a){n.setValue(a.target.value)})},i.prototype.setMinValue=function(n){return this.min=n,this.eInput.setAttribute("min",n.toString()),this},i.prototype.setMaxValue=function(n){return this.max=n,this.eInput.setAttribute("max",n.toString()),this},i.prototype.setStep=function(n){return this.eInput.setAttribute("step",n.toString()),this},i.prototype.setValue=function(n,a){null!=this.min&&(n=Math.max(parseFloat(n),this.min).toString()),null!=this.max&&(n=Math.min(parseFloat(n),this.max).toString());var c=u.prototype.setValue.call(this,n,a);return this.eInput.value=n,c},i}(ic),dp=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),md=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},ol=function(u){function i(n){var a=u.call(this,n,i.TEMPLATE)||this;return a.radius=0,a.offsetX=0,a.offsetY=0,a}return dp(i,u),i.prototype.postConstruct=function(){var n=this;u.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(a){n.parentCircleRect=n.eParentCircle.getBoundingClientRect()},onDragging:function(a){return n.calculateAngleDrag(a)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(a){(null==a||""===a)&&(a="0"),a=n.eAngleValue.normalizeValue(a);var c=parseFloat(a);c>180&&(c-=360),n.setValue(c)}),this.updateNumberInput(),ue(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Xs.EVENT_CHANGED,function(){var a=n.gridOptionsWrapper.getDocument();n.eAngleValue.getInputElement().contains(a.activeElement)||n.updateNumberInput()})},i.prototype.updateNumberInput=function(){var n=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(n.toString())},i.prototype.positionChildCircle=function(n){var a=this.parentCircleRect||{width:24,height:24},c=this.eChildCircle,v=a.height/2;c.style.left=a.width/2+8*Math.cos(n)+"px",c.style.top=v+8*Math.sin(n)+"px"},i.prototype.calculatePolar=function(){var n=this.offsetX,a=this.offsetY,c=Math.atan2(a,n);this.degrees=this.toDegrees(c),this.radius=Math.sqrt(n*n+a*a),this.positionChildCircle(c)},i.prototype.calculateCartesian=function(){var n=this.toRadians(this.getValue()),a=this.getRadius();this.setOffsetX(Math.cos(n)*a).setOffsetY(Math.sin(n)*a)},i.prototype.setOffsetX=function(n){return this.offsetX!==n&&(this.offsetX=n,this.calculatePolar()),this},i.prototype.setOffsetY=function(n){return this.offsetY!==n&&(this.offsetY=n,this.calculatePolar()),this},i.prototype.calculateAngleDrag=function(n){var a=this.parentCircleRect,U=Math.atan2(n.clientY-a.top-a.height/2,n.clientX-a.left-a.width/2);this.setValue(U,!0)},i.prototype.toDegrees=function(n){return n/Math.PI*180},i.prototype.toRadians=function(n){return n/180*Math.PI},i.prototype.normalizeNegativeValue=function(n){return n<0?360+n:n},i.prototype.normalizeAngle180=function(n){return(n%=2*Math.PI)<-Math.PI?n+=2*Math.PI:n>=Math.PI&&(n-=2*Math.PI),n},i.prototype.getRadius=function(){return this.radius},i.prototype.setRadius=function(n){return this.radius===n||(this.radius=n,this.calculateCartesian()),this},i.prototype.onValueChange=function(n){var a=this;return this.addManagedListener(this,Xs.EVENT_CHANGED,function(){n(a.degrees)}),this},i.prototype.getValue=function(n){return n?this.toRadians(this.degrees):this.degrees},i.prototype.setValue=function(n,a){var c;return c=a?n:this.normalizeAngle180(this.toRadians(n)),n=this.toDegrees(c),this.degrees!==n&&(this.degrees=Math.floor(n),this.calculateCartesian(),this.positionChildCircle(c),this.dispatchEvent({type:Xs.EVENT_CHANGED})),this},i.prototype.setWidth=function(n){return tn(this.getGui(),n),this},i.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),u.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',md([Pn("eLabel")],i.prototype,"eLabel",void 0),md([Pn("eParentCircle")],i.prototype,"eParentCircle",void 0),md([Pn("eChildCircle")],i.prototype,"eChildCircle",void 0),md([Pn("eAngleValue")],i.prototype,"eAngleValue",void 0),md([ce("dragService")],i.prototype,"dragService",void 0),i}(Uu),G0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),zf=function(u){function i(n){return u.call(this,n,"ag-toggle-button")||this}return G0(i,u),i.prototype.setValue=function(n,a){return u.prototype.setValue.call(this,n,a),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},i}(Cu),B0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),dh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Hg=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return B0(i,u),i.prototype.getFirstRow=function(){var a,n=0;return this.pinnedRowModel.getPinnedTopRowCount()?a=St.PINNED_TOP:this.rowModel.getRowCount()?(a=null,n=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(a=St.PINNED_BOTTOM),void 0===a?null:{rowIndex:n,rowPinned:a}},i.prototype.getLastRow=function(){var n,a=null,c=this.pinnedRowModel.getPinnedBottomRowCount(),d=this.pinnedRowModel.getPinnedTopRowCount();return c?(a=St.PINNED_BOTTOM,n=c-1):this.rowModel.getRowCount()?(a=null,n=this.paginationProxy.getPageLastRow()):d&&(a=St.PINNED_TOP,n=d-1),void 0===n?null:{rowIndex:n,rowPinned:a}},i.prototype.getRowNode=function(n){switch(n.rowPinned){case St.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case St.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},i.prototype.sameRow=function(n,a){return!n&&!a||!(n&&!a||!n&&a)&&n.rowIndex===a.rowIndex&&n.rowPinned==a.rowPinned},i.prototype.before=function(n,a){switch(n.rowPinned){case St.PINNED_TOP:if(a.rowPinned!==St.PINNED_TOP)return!0;break;case St.PINNED_BOTTOM:if(a.rowPinned!==St.PINNED_BOTTOM)return!1;break;default:if(ue(a.rowPinned))return a.rowPinned!==St.PINNED_TOP}return n.rowIndex<a.rowIndex},dh([ce("rowModel")],i.prototype,"rowModel",void 0),dh([ce("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),dh([ce("paginationProxy")],i.prototype,"paginationProxy",void 0),dh([bn("rowPositionUtils")],i)}(yn),Vf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Gg=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Vf(i,u),i.prototype.createId=function(n){return this.createIdFromValues(n.rowIndex,n.column,n.rowPinned)},i.prototype.createIdFromValues=function(n,a,c){return n+"."+(null==c?"null":c)+"."+a.getId()},i.prototype.equals=function(n,a){return n.column===a.column&&n.rowPinned===a.rowPinned&&n.rowIndex===a.rowIndex},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([bn("cellPositionUtils")],i),i}(yn),Bg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Pu=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},qc=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Bg(i,u),i.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},i.prototype.isEmpty=function(n){return De(n===St.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},i.prototype.isRowsToRender=function(n){return!this.isEmpty(n)},i.prototype.getRowAtPixel=function(n,a){var c=a===St.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(De(c))return 0;for(var d=0;d<c.length;d++){var v=c[d];if(v.rowTop+v.rowHeight-1>=n)return d}return c.length-1},i.prototype.setPinnedTopRowData=function(n){this.pinnedTopRows=this.createNodesFromData(n,!0),this.eventService.dispatchEvent({type:Ye.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setPinnedBottomRowData=function(n){this.pinnedBottomRows=this.createNodesFromData(n,!1),this.eventService.dispatchEvent({type:Ye.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.createNodesFromData=function(n,a){var c=this,d=[];if(n){var v=0;n.forEach(function(C,x){var I=new _i(c.beans);I.data=C,I.id=(a?_i.ID_PREFIX_TOP_PINNED:_i.ID_PREFIX_BOTTOM_PINNED)+x,I.rowPinned=a?St.PINNED_TOP:St.PINNED_BOTTOM,I.setRowTop(v),I.setRowHeight(c.gridOptionsWrapper.getRowHeightForNode(I).height),I.setRowIndex(x),v+=I.rowHeight,d.push(I)})}return d},i.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},i.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},i.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},i.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},i.prototype.getPinnedTopRow=function(n){return this.pinnedTopRows[n]},i.prototype.getPinnedBottomRow=function(n){return this.pinnedBottomRows[n]},i.prototype.forEachPinnedTopRow=function(n){De(this.pinnedTopRows)||this.pinnedTopRows.forEach(n)},i.prototype.forEachPinnedBottomRow=function(n){De(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(n)},i.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},i.prototype.getTotalHeight=function(n){if(!n||0===n.length)return 0;var a=bt(n);return a.rowTop+a.rowHeight},Pu([ce("columnApi")],i.prototype,"columnApi",void 0),Pu([ce("gridApi")],i.prototype,"gridApi",void 0),Pu([ce("beans")],i.prototype,"beans",void 0),Pu([Gt],i.prototype,"init",null),Pu([bn("pinnedRowModel")],i)}(yn),hh=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ph=function u(i){this.cellValueChanges=i},Au=function(u){function i(n,a,c){var d=u.call(this,n)||this;return d.initialRange=a,d.finalRange=c,d}return hh(i,u),i}(ph),Wg=function(){function u(i){this.actionStack=[],this.maxStackSize=i||u.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return u.prototype.pop=function(){return this.actionStack.pop()},u.prototype.push=function(i){!(i.cellValueChanges&&i.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(i))},u.prototype.clear=function(){this.actionStack=[]},u.prototype.getCurrentStackSize=function(){return this.actionStack.length},u.DEFAULT_STACK_SIZE=10,u}(),jg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xc=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},W0=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.cellValueChanges=[],n.activeCellEdit=null,n.activeRowEdit=null,n.isPasting=!1,n.isFilling=!1,n.onCellValueChanged=function(a){var c={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned},d=null!==n.activeCellEdit&&n.cellPositionUtils.equals(n.activeCellEdit,c),v=null!==n.activeRowEdit&&n.rowPositionUtils.sameRow(n.activeRowEdit,c);if(d||v||n.isPasting||n.isFilling){var pe=a.oldValue,_e=a.value,it={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:a.column.getColId(),newValue:_e,oldValue:pe};n.cellValueChanges.push(it)}},n.clearStacks=function(){n.undoStack.clear(),n.redoStack.clear()},n}return jg(i,u),i.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var n=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();n<=0||(this.undoStack=new Wg(n),this.redoStack=new Wg(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Ye.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Ye.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ye.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Ye.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Ye.EVENT_ROW_DRAG_END,this.clearStacks))}},i.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},i.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},i.prototype.undo=function(){if(this.undoStack){var n=this.undoStack.pop();!n||!n.cellValueChanges||(this.processAction(n,function(a){return a.oldValue}),n instanceof Au?this.processRangeAndCellFocus(n.cellValueChanges,n.initialRange):this.processRangeAndCellFocus(n.cellValueChanges),this.redoStack.push(n))}},i.prototype.redo=function(){if(this.redoStack){var n=this.redoStack.pop();!n||!n.cellValueChanges||(this.processAction(n,function(a){return a.newValue}),n instanceof Au?this.processRangeAndCellFocus(n.cellValueChanges,n.finalRange):this.processRangeAndCellFocus(n.cellValueChanges),this.undoStack.push(n))}},i.prototype.processAction=function(n,a){var c=this;n.cellValueChanges.forEach(function(d){var x=d.columnId,U=c.getRowNode({rowIndex:d.rowIndex,rowPinned:d.rowPinned});!U.displayed||U.setDataValue(x,a(d))})},i.prototype.processRangeAndCellFocus=function(n,a){var c;if(a){var d=a.startRow,v=a.endRow;return c={rowPinned:d.rowPinned,rowIndex:d.rowIndex,columnId:a.startColumn.getColId()},this.setLastFocusedCell(c),void this.gridApi.addCellRange({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,rowEndIndex:v.rowIndex,rowEndPinned:v.rowPinned,columnStart:a.startColumn,columns:a.columns})}var x=n[0],_e=this.getRowNode({rowIndex:x.rowIndex,rowPinned:x.rowPinned});this.setLastFocusedCell(c={rowPinned:x.rowPinned,rowIndex:_e.rowIndex,columnId:x.columnId})},i.prototype.setLastFocusedCell=function(n){var a=n.rowIndex,c=n.columnId,d=n.rowPinned;this.gridApi.ensureIndexVisible(a),this.gridApi.ensureColumnVisible(c),jn.isRegistered(_n.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(a,c,d,!0)},i.prototype.addRowEditingListeners=function(){var n=this;this.addManagedListener(this.eventService,Ye.EVENT_ROW_EDITING_STARTED,function(a){n.activeRowEdit={rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,Ye.EVENT_ROW_EDITING_STOPPED,function(){var a=new ph(n.cellValueChanges);n.pushActionsToUndoStack(a),n.activeRowEdit=null})},i.prototype.addCellEditingListeners=function(){var n=this;this.addManagedListener(this.eventService,Ye.EVENT_CELL_EDITING_STARTED,function(a){n.activeCellEdit={column:a.column,rowIndex:a.rowIndex,rowPinned:a.rowPinned}}),this.addManagedListener(this.eventService,Ye.EVENT_CELL_EDITING_STOPPED,function(){if(n.activeCellEdit=null,!n.activeRowEdit&&!n.isPasting&&!n.isFilling){var c=new ph(n.cellValueChanges);n.pushActionsToUndoStack(c)}})},i.prototype.addPasteListeners=function(){var n=this;this.addManagedListener(this.eventService,Ye.EVENT_PASTE_START,function(){n.isPasting=!0}),this.addManagedListener(this.eventService,Ye.EVENT_PASTE_END,function(){var a=new ph(n.cellValueChanges);n.pushActionsToUndoStack(a),n.isPasting=!1})},i.prototype.addFillListeners=function(){var n=this;this.addManagedListener(this.eventService,Ye.EVENT_FILL_START,function(){n.isFilling=!0}),this.addManagedListener(this.eventService,Ye.EVENT_FILL_END,function(a){var c=new Au(n.cellValueChanges,a.initialRange,a.finalRange);n.pushActionsToUndoStack(c),n.isFilling=!1})},i.prototype.pushActionsToUndoStack=function(n){this.undoStack.push(n),this.cellValueChanges=[],this.redoStack.clear()},i.prototype.getRowNode=function(n){switch(n.rowPinned){case St.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[n.rowIndex];case St.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[n.rowIndex];default:return this.rowModel.getRow(n.rowIndex)}},Xc([ce("focusService")],i.prototype,"focusService",void 0),Xc([ce("gridApi")],i.prototype,"gridApi",void 0),Xc([ce("rowModel")],i.prototype,"rowModel",void 0),Xc([ce("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Xc([ce("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),Xc([ce("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Xc([Gt],i.prototype,"init",null),Xc([bn("undoRedoService")],i)}(yn),N2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),hp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},k2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return N2(i,u),i.prototype.findHeader=function(n,a){var c;if(c=n.column instanceof Or?this.columnModel["getDisplayedGroup"+a](n.column):this.columnModel["getDisplayedCol"+a](n.column))return{column:c,headerRowIndex:n.headerRowIndex}},i.prototype.findColAtEdgeForHeaderRow=function(n,a){var c=this.columnModel.getAllDisplayedColumns(),d=c["start"===a?0:c.length-1];if(d){var C=this.ctrlsService.getHeaderRowContainerCtrl(d.getPinned()).getRowType(n);return C==ki.COLUMN_GROUP?{headerRowIndex:n,column:this.columnModel.getColumnGroupAtLevel(d,n)}:{headerRowIndex:null==C?-1:n,column:d}}},hp([ce("columnModel")],i.prototype,"columnModel",void 0),hp([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),hp([bn("headerPositionUtils")],i)}(yn),j0=function(){function u(){}return u.prototype.buildColumnDefs=function(i,n,a){var c=this,d=[],v={};return i.forEach(function(C){for(var I=!0,U=c.createDefFromColumn(C,n,a),pe=C.getOriginalParent();pe;){var _e=null;if(pe.isPadding())pe=pe.getOriginalParent();else{var it=v[pe.getGroupId()];if(it){it.children.push(U),I=!1;break}(_e=c.createDefFromGroup(pe))&&(_e.children=[U],v[_e.groupId]=_e,U=_e,pe=pe.getOriginalParent())}}I&&d.push(U)}),d},u.prototype.createDefFromGroup=function(i){var n=Xt(i.getColGroupDef(),["children"]);return n&&(n.groupId=i.getGroupId()),n},u.prototype.createDefFromColumn=function(i,n,a){var c=Xt(i.getColDef());return c.colId=i.getColId(),c.width=i.getActualWidth(),c.rowGroup=i.isRowGroupActive(),c.rowGroupIndex=i.isRowGroupActive()?n.indexOf(i):null,c.pivot=i.isPivotActive(),c.pivotIndex=i.isPivotActive()?a.indexOf(i):null,c.aggFunc=i.isValueActive()?i.getAggFunc():null,c.hide=!i.isVisible()||void 0,c.pinned=i.isPinned()?i.getPinned():null,c.sort=i.getSort()?i.getSort():null,c.sortIndex=null!=i.getSortIndex()?i.getSortIndex():null,c},u=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([bn("columnDefFactory")],u),u}(),Ug=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},fh=function(){function u(){}return u.prototype.getInitialRowClasses=function(i){var n=[];return ue(i.extraCssClass)&&n.push(i.extraCssClass),n.push("ag-row"),n.push(i.rowFocused?"ag-row-focus":"ag-row-no-focus"),i.fadeRowIn&&n.push("ag-opacity-zero"),n.push(i.rowIsEven?"ag-row-even":"ag-row-odd"),i.rowNode.isRowPinned()&&n.push("ag-row-pinned"),i.rowNode.isSelected()&&n.push("ag-row-selected"),i.rowNode.footer&&n.push("ag-row-footer"),n.push("ag-row-level-"+i.rowLevel),i.rowNode.stub&&n.push("ag-row-loading"),i.fullWidthRow&&n.push("ag-full-width-row"),i.expandable&&(n.push("ag-row-group"),n.push(i.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),i.rowNode.dragging&&n.push("ag-row-dragging"),Sr(n,this.processClassesFromGridOptions(i.rowNode,i.scope)),Sr(n,this.preProcessRowClassRules(i.rowNode,i.scope)),n.push(i.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),i.firstRowOnPage&&n.push("ag-row-first"),i.lastRowOnPage&&n.push("ag-row-last"),i.fullWidthRow&&(i.pinned===St.PINNED_LEFT&&n.push("ag-cell-last-left-pinned"),i.pinned===St.PINNED_RIGHT&&n.push("ag-cell-first-right-pinned")),n},u.prototype.processClassesFromGridOptions=function(i,n){var a=[],c=function(I){"string"==typeof I?a.push(I):Array.isArray(I)&&I.forEach(function(U){return a.push(U)})},d=this.gridOptionsWrapper.getRowClass();if(d){if("function"==typeof d)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];c(d)}var v=this.gridOptionsWrapper.getRowClassFunc();return v&&c(v({data:i.data,node:i,rowIndex:i.rowIndex,$scope:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),a},u.prototype.preProcessRowClassRules=function(i,n){var a=[];return this.processRowClassRules(i,n,function(c){a.push(c)},function(c){}),a},u.prototype.processRowClassRules=function(i,n,a,c){var d={data:i.data,node:i,rowIndex:i.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:n,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),d,a,c)},u.prototype.calculateRowLevel=function(i){return i.group?i.level:i.parent?i.parent.level+1:0},Ug([ce("stylingService")],u.prototype,"stylingService",void 0),Ug([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Ug([bn("rowCssClassCalculator")],u)}(),Yg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hf=function(u){function i(n){var a=u.call(this)||this;return a.state=i.STATE_WAITING_TO_LOAD,a.version=0,a.id=n,a}return Yg(i,u),i.prototype.getId=function(){return this.id},i.prototype.load=function(){this.state=i.STATE_LOADING,this.loadFromDatasource()},i.prototype.getVersion=function(){return this.version},i.prototype.setStateWaitingToLoad=function(){this.version++,this.state=i.STATE_WAITING_TO_LOAD},i.prototype.getState=function(){return this.state},i.prototype.pageLoadFailed=function(n){this.isRequestMostRecentAndLive(n)&&(this.state=i.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},i.prototype.success=function(n,a){this.successCommon(n,a)},i.prototype.pageLoaded=function(n,a,c){this.successCommon(n,{rowData:a,rowCount:c})},i.prototype.isRequestMostRecentAndLive=function(n){var a=n===this.version,c=this.isAlive();return a&&c},i.prototype.successCommon=function(n,a){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(n)&&(this.state=i.STATE_LOADED,this.processServerResult(a))},i.prototype.dispatchLoadCompleted=function(n){void 0===n&&(n=!0),this.dispatchEvent({type:i.EVENT_LOAD_COMPLETE,success:n,block:this})},i.EVENT_LOAD_COMPLETE="loadComplete",i.STATE_WAITING_TO_LOAD="needsLoading",i.STATE_LOADING="loading",i.STATE_LOADED="loaded",i.STATE_FAILED="failed",i}(yn),Kg=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ru=function(u,i){return function(n,a){i(n,a,u)}},z2=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.activeBlockLoadsCount=0,a.blocks=[],a.active=!0,a}var n;return Kg(i,u),n=i,i.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var a=this.gridOptionsWrapper.getBlockLoadDebounceMillis();a&&a>0&&(this.checkBlockToLoadDebounce=au.debounce(this.performCheckBlocksToLoad.bind(this),a))},i.prototype.setBeans=function(a){this.logger=a.create("RowNodeBlockLoader")},i.prototype.addBlock=function(a){this.blocks.push(a),a.addEventListener(Hf.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},i.prototype.removeBlock=function(a){au.removeFromArray(this.blocks,a)},i.prototype.destroy=function(){u.prototype.destroy.call(this),this.active=!1},i.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},i.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},i.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var a=null;this.blocks.forEach(function(c){c.getState()===Hf.STATE_WAITING_TO_LOAD&&(a=c)}),a&&(a.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},i.prototype.getBlockState=function(){var a={};return this.blocks.forEach(function(c){var d=c.getBlockStateJson();a[d.id]=d.state}),a},i.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},i.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},i.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",pp([Gt],i.prototype,"postConstruct",null),pp([Ru(0,We("loggerFactory"))],i.prototype,"setBeans",null),n=pp([bn("rowNodeBlockLoader")],i)}(yn),gh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Gf=function(){function u(){}return u.prototype.doFullSort=function(i,n){var c=i.map(function(d,v){return{currentPos:v,rowNode:d}});return c.sort(this.compareRowNodes.bind(this,n)),c.map(function(d){return d.rowNode})},u.prototype.compareRowNodes=function(i,n,a){for(var c=n.rowNode,d=a.rowNode,v=0,C=i.length;v<C;v++){var _e,x=i[v],I=x.sort===St.SORT_DESC,U=this.getValue(c,x.column),pe=this.getValue(d,x.column),it=this.getComparator(x,c);if(_e=it?it(U,pe,c,d,I):au.defaultComparator(U,pe,this.gridOptionsWrapper.isAccentedSort()),!isNaN(_e)&&0!==_e)return x.sort===St.SORT_ASC?_e:-1*_e}return n.currentPos-a.currentPos},u.prototype.getComparator=function(i,n){var a=i.column,c=a.getColDef().comparator;if(null!=c)return c;if(n.rowGroupColumn)return n.rowGroupColumn.getColDef().comparator;if(a.getColDef().showRowGroup){var d=!n.group&&a.getColDef().field;if(d){var v=this.columnModel.getPrimaryColumn(d);if(v)return v.getColDef().comparator}}},u.prototype.getValue=function(i,n){return this.valueService.getValue(n,i,!1,!1)},gh([ce("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),gh([ce("valueService")],u.prototype,"valueService",void 0),gh([ce("columnModel")],u.prototype,"columnModel",void 0),gh([bn("rowNodeSorter")],u)}(),Bf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),V2=function(u){function i(){var a=null!==u&&u.apply(this,arguments)||this;return a.ready=!1,a.readyCallbacks=[],a}var n;return Bf(i,u),n=i,i.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var a=this.createReadyParams();this.readyCallbacks.forEach(function(c){return c(a)}),this.readyCallbacks.length=0}},i.prototype.whenReady=function(a){this.ready?a(this.createReadyParams()):this.readyCallbacks.push(a)},i.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},i.prototype.registerFakeHScrollCtrl=function(a){this.fakeHScrollCtrl=a,this.checkReady()},i.prototype.registerGridHeaderCtrl=function(a){this.gridHeaderCtrl=a,this.checkReady()},i.prototype.registerCenterRowContainerCtrl=function(a){this.centerRowContainerCtrl=a,this.checkReady()},i.prototype.registerLeftRowContainerCtrl=function(a){this.leftRowContainerCtrl=a,this.checkReady()},i.prototype.registerRightRowContainerCtrl=function(a){this.rightRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopCenterRowContainerCtrl=function(a){this.topCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopLeftRowContainerCon=function(a){this.topLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerTopRightRowContainerCtrl=function(a){this.topRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomCenterRowContainerCtrl=function(a){this.bottomCenterRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomLeftRowContainerCtrl=function(a){this.bottomLeftRowContainerCtrl=a,this.checkReady()},i.prototype.registerBottomRightRowContainerCtrl=function(a){this.bottomRightRowContainerCtrl=a,this.checkReady()},i.prototype.registerHeaderContainer=function(a,c){switch(c){case St.PINNED_LEFT:this.leftHeaderRowContainerCtrl=a;break;case St.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=a;break;default:this.centerHeaderRowContainerCtrl=a}this.checkReady()},i.prototype.registerGridBodyCtrl=function(a){this.gridBodyCtrl=a,this.checkReady()},i.prototype.registerGridCtrl=function(a){this.gridCtrl=a,this.checkReady()},i.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},i.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},i.prototype.getGridCtrl=function(){return this.gridCtrl},i.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},i.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},i.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},i.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},i.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},i.prototype.getHeaderRowContainerCtrl=function(a){switch(a){case St.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case St.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},i.NAME="ctrlsService",i=n=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([bn(n.NAME)],i),i}(yn),Wf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),et=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.registry={},n}return Wf(i,u),i.prototype.register=function(n){this.registry[n.controllerName]=n.controllerClass},i.prototype.getInstance=function(n){var a=this.registry[n];if(null!=a)return new a},i=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d}([bn("ctrlsFactory")],i),i}(yn),be=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Vt=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},hn=function(u){function i(){return u.call(this)||this}return be(i,u),i.prototype.setComp=function(n,a,c,d){this.view=n,this.eViewport=c,this.eContainer=d,this.eGui=a,this.addManagedListener(this.eventService,Ye.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var v=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,v),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,v),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_DOM_LAYOUT,v),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},i.prototype.addActiveListenerToggles=function(){var n=this;["mouseenter","mousedown","touchstart"].forEach(function(d){return n.addManagedListener(n.eGui,d,function(){return n.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(d){return n.addManagedListener(n.eGui,d,function(){return n.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},i.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Pi()},i.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},i.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var n=this;this.addManagedListener(this.eventService,Ye.EVENT_BODY_SCROLL,function(a){"horizontal"===a.direction&&n.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,Ye.EVENT_BODY_SCROLL_END,function(){return n.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},i.prototype.setFakeHScrollSpacerWidths=function(){var n=this.scrollVisibleService.isVerticalScrollShowing(),a=this.columnModel.getDisplayedColumnsRightWidth(),c=!this.enableRtl&&n,d=this.gridOptionsWrapper.getScrollbarWidth();c&&(a+=d),this.view.setRightSpacerFixedWidth(a),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",a<=d);var v=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&n&&(v+=d),this.view.setLeftSpacerFixedWidth(v),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",v<=d)},i.prototype.setScrollVisible=function(){var n=this.scrollVisibleService.isHorizontalScrollShowing(),a=this.invisibleScrollbar,c=this.gridOptionsWrapper.isSuppressHorizontalScroll(),d=n&&this.gridOptionsWrapper.getScrollbarWidth()||0,C=c?0:0===d&&a?15:d;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",a),this.view.setHeight(C),this.view.setViewportHeight(C),this.view.setContainerHeight(C)},i.prototype.getViewport=function(){return this.eViewport},i.prototype.getContainer=function(){return this.eContainer},Vt([ce("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Vt([ce("columnModel")],i.prototype,"columnModel",void 0),Vt([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),Vt([Gt],i.prototype,"postConstruct",null),i}(yn),Fn=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yn=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Ir=function(u){function i(){return u.call(this,i.TEMPLATE)||this}return Fn(i,u),i.prototype.postConstruct=function(){var n=this,a={addOrRemoveCssClass:function(d,v){return n.addOrRemoveCssClass(d,v)},setHeight:function(d){return Bn(n.getGui(),d)},setContainerHeight:function(d){return Bn(n.eContainer,d)},setViewportHeight:function(d){return Bn(n.eViewport,d)},setRightSpacerFixedWidth:function(d){return tn(n.eRightSpacer,d)},setLeftSpacerFixedWidth:function(d){return tn(n.eLeftSpacer,d)},includeLeftSpacerScrollerCss:function(d,v){return n.eLeftSpacer.classList.toggle(d,v)},includeRightSpacerScrollerCss:function(d,v){return n.eRightSpacer.classList.toggle(d,v)}};this.createManagedBean(new hn).setComp(a,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Go(function(d){return n.eContainer.style.width=d+"px"}))},i.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Yn([Pn("eLeftSpacer")],i.prototype,"eLeftSpacer",void 0),Yn([Pn("eRightSpacer")],i.prototype,"eRightSpacer",void 0),Yn([Pn("eViewport")],i.prototype,"eViewport",void 0),Yn([Pn("eContainer")],i.prototype,"eContainer",void 0),Yn([Gt],i.prototype,"postConstruct",null),i}(ai),Vi=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gs=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Jl=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Vi(i,u),i.prototype.postConstruct=function(){var n=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,Ye.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.gridOptionsWrapper,hr.PROP_DOM_LAYOUT,n)},i.prototype.checkContainerWidths=function(){var n=this.gridOptionsWrapper.getDomLayout()===St.DOM_LAYOUT_PRINT,a=n?0:this.columnModel.getDisplayedColumnsLeftWidth(),c=n?0:this.columnModel.getDisplayedColumnsRightWidth();a!=this.leftWidth&&(this.leftWidth=a,this.eventService.dispatchEvent({type:Ye.EVENT_LEFT_PINNED_WIDTH_CHANGED})),c!=this.rightWidth&&(this.rightWidth=c,this.eventService.dispatchEvent({type:Ye.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},i.prototype.getPinnedRightWidth=function(){return this.rightWidth},i.prototype.getPinnedLeftWidth=function(){return this.leftWidth},gs([ce("columnModel")],i.prototype,"columnModel",void 0),gs([Gt],i.prototype,"postConstruct",null),gs([bn("pinnedWidthService")],i)}(yn),Ki=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gp=function(u){function i(n){var a=u.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return a.params=n,a}return Ki(i,u),i.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),i.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},i.prototype.addKeyDownListener=function(){var n=this,a=this.getGui(),c=this.params;this.addManagedListener(a,"keydown",function(v){Tc(n.gridOptionsWrapper,v,c.node,c.column,!0)||c.onKeyDown(v)})},i.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Gt],i.prototype,"postConstruct",null),i}(Ac),jf=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Sc=function(){return Sc=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},Sc.apply(this,arguments)},H2=function(u){function i(n,a,c,d,v,C){var x=u.call(this)||this;x.scope=null,x.rendererVersion=0,x.editorVersion=0,x.scope=n,x.beans=a,x.column=c.getColumn(),x.rowNode=c.getRowNode(),x.rowCtrl=c.getRowCtrl(),x.eRow=v,x.setTemplate('<div comp-id="'+x.getCompId()+'"/>');var I=x.getGui();x.forceWrapper=c.isForceWrapper(),x.refreshWrapper(!1);var U=function(_e,it,xt){var Ut=xt||I;null!=it&&""!=it?Ut.setAttribute(_e,it):Ut.removeAttribute(_e)},pe={addOrRemoveCssClass:function(_e,it){return x.addOrRemoveCssClass(_e,it)},setUserStyles:function(_e){return He(I,_e)},getFocusableElement:function(){return x.getFocusableElement()},setTabIndex:function(_e){return U("tabindex",_e.toString())},setRole:function(_e){return ro(I,_e)},setColId:function(_e){return U("col-id",_e)},setTitle:function(_e){return U("title",_e)},setIncludeSelection:function(_e){return x.includeSelection=_e},setIncludeRowDrag:function(_e){return x.includeRowDrag=_e},setIncludeDndSource:function(_e){return x.includeDndSource=_e},setRenderDetails:function(_e,it,xt){return x.setRenderDetails(_e,it,xt)},setEditDetails:function(_e,it,xt){return x.setEditDetails(_e,it,xt)},getCellEditor:function(){return x.cellEditor||null},getCellRenderer:function(){return x.cellRenderer||null},getParentOfValue:function(){return x.getParentOfValue()}};return x.cellCtrl=c,c.setComp(pe,x.scope,x.getGui(),x.eCellWrapper,d,C),x}return jf(i,u),i.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},i.prototype.setRenderDetails=function(n,a,c){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var v=this.isUsingAngular1Template(),C=this.refreshWrapper(!1);n?!c&&!C&&this.refreshCellRenderer(n)||(this.destroyRenderer(),this.createCellRendererInstance(n)):(this.destroyRenderer(),v?this.insertValueUsingAngular1Template():this.insertValueWithoutCellRenderer(a))}},i.prototype.setEditDetails=function(n,a,c){n?this.createCellEditorInstance(n,a,c):this.destroyEditor()},i.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},i.prototype.refreshWrapper=function(n){var a=this.includeRowDrag||this.includeDndSource||this.includeSelection,c=a||this.forceWrapper,d=c&&null==this.eCellWrapper;d&&(this.eCellWrapper=_t('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var v=!c&&null!=this.eCellWrapper;v&&(X(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!c);var C=!n&&c,x=C&&null==this.eCellValue;x&&(this.eCellValue=_t('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var I=!C&&null!=this.eCellValue;I&&(X(this.eCellValue),this.eCellValue=void 0);var U=d||v||x||I;return U&&this.removeControls(),!n&&a&&this.addControls(),U},i.prototype.addControls=function(){var n=this.eCellValue.id="cell-"+this.getCompId(),a=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),a.push(this.checkboxSelectionComp.getCheckboxId())),a.push(n),eo(this.getGui(),a.join(" "))},i.prototype.createCellEditorInstance=function(n,a,c){var d=this,v=this.editorVersion,C=n.newAgStackInstance();if(C){var x=n.params;C.then(function(U){return d.afterCellEditorCreated(v,U,x,a,c)}),at(this.cellEditor)&&x.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},i.prototype.insertValueWithoutCellRenderer=function(n){var a=this.getParentOfValue();j(a);var c=null!=n?Co(n):null;null!=c&&(a.innerHTML=c)},i.prototype.insertValueUsingAngular1Template=function(){var v,n=this,a=this.column.getColDef(),c=a.template,d=a.templateUrl;null!=c?v=c:null!=d&&(v=this.beans.templateService.getTemplate(d,function(){return n.cellCtrl.refreshCell({forceRefresh:!0})})),null!=v&&(this.getParentOfValue().innerHTML=v,this.updateAngular1ScopeAndCompile())},i.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},i.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),X(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},i.prototype.destroyEditor=function(){var n=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=n.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=n.destroyBean(this.cellEditorPopupWrapper),X(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},i.prototype.refreshCellRenderer=function(n){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==n.componentClass)return!1;var a=this.cellRenderer.refresh(n.params);return!0===a||void 0===a},i.prototype.createCellRendererInstance=function(n){var a=this,c=this.beans.gridOptionsWrapper.isAngularCompileRows(),d=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),C=this.rendererVersion,x=n.componentClass,I=function(){if(a.rendererVersion===C&&a.isAlive()){var pe=n.newAgStackInstance(),_e=a.afterCellRendererCreated.bind(a,C,x);pe&&pe.then(_e)}};c||d||!this.firstRender?I():this.beans.animationFrameService.createTask(I,this.rowNode.rowIndex,"createTasksP2")},i.prototype.isUsingAngular1Template=function(){var n=this.column.getColDef();return null!=n.template||null!=n.templateUrl},i.prototype.getCtrl=function(){return this.cellCtrl},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getCellRenderer=function(){return this.cellRenderer},i.prototype.getCellEditor=function(){return this.cellEditor},i.prototype.afterCellRendererCreated=function(n,a,c){if(this.isAlive()&&n===this.rendererVersion){if(this.cellRenderer=c,this.cellRendererClass=a,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var v=this.getParentOfValue();j(v),v.appendChild(this.cellRendererGui),this.updateAngular1ScopeAndCompile()}}else this.beans.context.destroyBean(c)},i.prototype.afterCellEditorCreated=function(n,a,c,d,v){if(n!==this.editorVersion)this.beans.context.destroyBean(a);else{if(a.isCancelBeforeStart&&a.isCancelBeforeStart())return this.beans.context.destroyBean(a),void this.cellCtrl.stopEditing();if(!a.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(a);this.cellEditor=a,this.cellEditorGui=a.getGui(),d||void 0!==a.isPopup&&a.isPopup()?(d||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(c,v)):this.addInCellEditor(),a.afterGuiAttached&&a.afterGuiAttached()}},i.prototype.addInCellEditor=function(){var n=this.getGui(),a=this.beans.gridOptionsWrapper.getDocument();n.contains(a.activeElement)&&n.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},i.prototype.addPopupCellEditor=function(n,a){var c=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var d=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new gp(n));var v=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&v.appendChild(this.cellEditorGui);var C=this.beans.popupService,x=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),I=null!=a?a:d.getPopupPosition?d.getPopupPosition():"over",U={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:v,keepWithinBounds:!0},pe="under"===I?C.positionPopupUnderComponent.bind(C,U):C.positionPopupOverComponent.bind(C,U),_e=this.beans.gridOptionsWrapper.getLocaleTextFunc(),it=C.addPopup({modal:x,eChild:v,closeOnEsc:!0,closedCallback:function(){c.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:pe,ariaLabel:_e("ariaLabelCellEditor","Cell Editor")});it&&(this.hideEditorPopup=it.hideFunc)},i.prototype.detach=function(){this.eRow.removeChild(this.getGui())},i.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),this.angularCompiledElement&&(this.angularCompiledElement.remove(),this.angularCompiledElement=void 0),u.prototype.destroy.call(this)},i.prototype.clearParentOfValue=function(){var n=this.getGui(),a=this.beans.gridOptionsWrapper.getDocument();n.contains(a.activeElement)&&n.focus({preventScroll:!0}),j(this.getParentOfValue())},i.prototype.updateAngular1ScopeAndCompile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope){this.scope.data=Sc({},this.rowNode.data),this.angularCompiledElement&&this.angularCompiledElement.remove();var n=this.getParentOfValue();this.angularCompiledElement=this.beans.$compile(n.children)(this.scope),this.beans.ctrlsService.getGridBodyCtrl().requestAngularApply()}},i}(ai),J3=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),G2=function(u){function i(n,a,c){var d=u.call(this)||this;d.cellComps={},d.beans=a,d.rowCtrl=n,d.setTemplate('<div comp-id="'+d.getCompId()+'" style="'+d.getInitialStyle()+'"/>');var v=d.getGui(),C=v.style;return n.setComp({setDomOrder:function(I){return d.domOrder=I},setCellCtrls:function(I){return d.setCellCtrls(I)},showFullWidth:function(I){return d.showFullWidth(I)},getFullWidthCellRenderer:function(){return d.getFullWidthCellRenderer()},addOrRemoveCssClass:function(I,U){return d.addOrRemoveCssClass(I,U)},setUserStyles:function(I){return He(v,I)},setTop:function(I){return C.top=I},setTransform:function(I){return C.transform=I},setRowIndex:function(I){return v.setAttribute("row-index",I)},setRole:function(I){return ro(v,I)},setRowId:function(I){return v.setAttribute("row-id",I)},setRowBusinessKey:function(I){return v.setAttribute("row-business-key",I)},setTabIndex:function(I){return v.setAttribute("tabindex",I.toString())}},d.getGui(),c),d}return J3(i,u),i.prototype.getInitialStyle=function(){var n=this.rowCtrl.getInitialTransform(),a=this.rowCtrl.getInitialRowTop();return n?"transform: "+n:"top: "+a},i.prototype.showFullWidth=function(n){var a=this,d=n.newAgStackInstance();!d||d.then(function(v){if(a.isAlive()){var C=v.getGui();a.getGui().appendChild(C),a.rowCtrl.setupDetailRowAutoHeight(C),a.setFullWidthRowComp(v)}else a.beans.context.destroyBean(v)})},i.prototype.setCellCtrls=function(n){var a=this,c=Object.assign({},this.cellComps);n.forEach(function(v){var C=v.getInstanceId();null==a.cellComps[C]?a.newCellComp(v):c[C]=null});var d=ri(c).filter(function(v){return null!=v});this.destroyCells(d),this.ensureDomOrder(n)},i.prototype.ensureDomOrder=function(n){var a=this;if(this.domOrder){var c=[];n.forEach(function(d){var v=a.cellComps[d.getInstanceId()];v&&c.push(v.getGui())}),L(this.getGui(),c)}},i.prototype.newCellComp=function(n){var a=new H2(this.rowCtrl.getScope(),this.beans,n,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[n.getInstanceId()]=a,this.getGui().appendChild(a.getGui())},i.prototype.destroy=function(){u.prototype.destroy.call(this),this.destroyAllCells()},i.prototype.destroyAllCells=function(){var n=ri(this.cellComps).filter(function(a){return null!=a});this.destroyCells(n)},i.prototype.setFullWidthRowComp=function(n){var a=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=n,this.addDestroyFunc(function(){a.fullWidthCellRenderer=a.beans.context.destroyBean(a.fullWidthCellRenderer)})},i.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},i.prototype.destroyCells=function(n){var a=this;n.forEach(function(c){if(c){var d=c.getCtrl().getInstanceId();a.cellComps[d]===c&&(c.detach(),c.destroy(),a.cellComps[d]=null)}})},i}(ai),B2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),vh=function(){return vh=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},vh.apply(this,arguments)},vp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},j2=function(u){function i(){var n=u.call(this,function W2(){var u=ai.elementGettingCreated.getAttribute("name"),i=df.getRowContainerCssClasses(u);return u===Ln.CENTER?'<div class="'+i.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+i.container+'" ref="eContainer" role="rowgroup"></div>\n                </div>\n            </div>':u===Ln.TOP_CENTER||u===Ln.BOTTOM_CENTER?'<div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+i.container+'" ref="eContainer" role="presentation"></div>\n            </div>':'<div class="'+i.container+'" ref="eContainer" role="presentation"></div>'}())||this;return n.rowComps={},n.name=ai.elementGettingCreated.getAttribute("name"),n.type=function qv(u){switch(u){case Ln.CENTER:case Ln.TOP_CENTER:case Ln.BOTTOM_CENTER:return Os.CENTER;case Ln.LEFT:case Ln.TOP_LEFT:case Ln.BOTTOM_LEFT:return Os.LEFT;case Ln.RIGHT:case Ln.TOP_RIGHT:case Ln.BOTTOM_RIGHT:return Os.RIGHT;case Ln.FULL_WIDTH:case Ln.TOP_FULL_WIDTH:case Ln.BOTTOM_FULL_WIDTH:return Os.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(n.name),n}return B2(i,u),i.prototype.postConstruct=function(){var n=this,a={setViewportHeight:function(d){return n.eViewport.style.height=d},setRowCtrls:function(d){return n.setRowCtrls(d)},setDomOrder:function(d){n.domOrder=d},setContainerWidth:function(d){return n.eContainer.style.width=d}};this.createManagedBean(new df(this.name)).setComp(a,this.eContainer,this.eViewport,this.eWrapper)},i.prototype.preDestroy=function(){this.setRowCtrls([])},i.prototype.setRowCtrls=function(n){var a=this,c=vh({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,n.forEach(function(v){var C=v.getInstanceId(),x=c[C];if(x)a.rowComps[C]=x,delete c[C],a.ensureDomOrder(x.getGui());else{var I=a.newRowComp(v);a.rowComps[C]=I,a.appendRow(I.getGui())}}),ri(c).forEach(function(v){a.eContainer.removeChild(v.getGui()),v.destroy()})},i.prototype.appendRow=function(n){this.domOrder?$(this.eContainer,n,this.lastPlacedElement):this.eContainer.appendChild(n),this.lastPlacedElement=n},i.prototype.ensureDomOrder=function(n){this.domOrder&&(P(this.eContainer,n,this.lastPlacedElement),this.lastPlacedElement=n)},i.prototype.newRowComp=function(n){return df.getPinned(this.name),new G2(n,this.beans,this.type)},vp([ce("beans")],i.prototype,"beans",void 0),vp([Pn("eViewport")],i.prototype,"eViewport",void 0),vp([Pn("eContainer")],i.prototype,"eContainer",void 0),vp([Pn("eWrapper")],i.prototype,"eWrapper",void 0),vp([Gt],i.prototype,"postConstruct",null),vp([vn],i.prototype,"preDestroy",null),i}(ai),Y0=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),mh=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},U2=function(u){function i(){var n=null!==u&&u.apply(this,arguments)||this;return n.events=[],n}return Y0(i,u),i.prototype.postConstruct=function(){this.rowModel.getType()==St.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},i.prototype.dispatchExpanded=function(n){var a=this;null!=this.clientSideRowModel?(this.events.push(n),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){a.clientSideRowModel&&a.clientSideRowModel.onRowGroupOpened(),a.events.forEach(function(d){return a.eventService.dispatchEvent(d)}),a.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(n)},mh([ce("animationFrameService")],i.prototype,"animationFrameService",void 0),mh([ce("rowModel")],i.prototype,"rowModel",void 0),mh([Gt],i.prototype,"postConstruct",null),mh([bn("rowNodeEventThrottle")],i)}(yn),Y2=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),mp=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},K2=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return Y2(i,u),i.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},i.prototype.showMenuAfterMouseEvent=function(n,a){var c=this;this.showPopup(n,function(d){c.popupService.positionPopupUnderMouseEvent({column:n,type:"columnMenu",mouseEvent:a,ePopup:d})},a.target)},i.prototype.showMenuAfterButtonClick=function(n,a,c){var d=this;this.showPopup(n,function(v){d.popupService.positionPopupUnderComponent({type:c,eventSource:a,ePopup:v,keepWithinBounds:!0,column:n})},a)},i.prototype.showPopup=function(n,a,c){var d=this,v=this.filterManager.getOrCreateFilterWrapper(n,"COLUMN_MENU");if(!v)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var C=document.createElement("div");ro(C,"presentation"),C.classList.add("ag-menu"),this.tabListener=this.addManagedListener(C,"keydown",function(it){return d.trapFocusWithin(it,C)}),v.guiPromise.then(function(it){return C.appendChild(it)});var x,I=c||this.ctrlsService.getGridBodyCtrl().getGui(),pe=this.gridOptionsWrapper.getLocaleTextFunc(),_e=this.popupService.addPopup({modal:!0,eChild:C,closeOnEsc:!0,closedCallback:function(it){n.setMenuVisible(!1,"contextMenu");var xt=it instanceof KeyboardEvent;if(d.tabListener&&(d.tabListener=d.tabListener()),xt&&c&&Ve(c)){var Ut=d.focusService.findTabbableParent(c);Ut&&Ut.focus()}},positionCallback:function(){return a(C)},anchorToElement:I,ariaLabel:pe("ariaLabelColumnMenu","Column Menu")});_e&&(this.hidePopup=x=_e.hideFunc),v.filterPromise.then(function(it){a(C),it.afterGuiAttached&&it.afterGuiAttached({container:"columnMenu",hidePopup:x})}),n.setMenuVisible(!0,"contextMenu")},i.prototype.trapFocusWithin=function(n,a){n.key!==Rn.TAB||n.defaultPrevented||this.focusService.findNextFocusableElement(a,!1,n.shiftKey)||(n.preventDefault(),this.focusService.focusInto(a,n.shiftKey))},i.prototype.isMenuEnabled=function(n){return n.isFilterAllowed()},mp([ce("filterManager")],i.prototype,"filterManager",void 0),mp([ce("popupService")],i.prototype,"popupService",void 0),mp([ce("focusService")],i.prototype,"focusService",void 0),mp([ce("ctrlsService")],i.prototype,"ctrlsService",void 0),mp([bn("menuFactory")],i)}(yn),$2=function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var c,v,a=n.call(u),d=[];try{for(;(void 0===i||i-- >0)&&!(c=a.next()).done;)d.push(c.value)}catch(C){v={error:C}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(v)throw v.error}}return d},K0=function(){for(var u=[],i=0;i<arguments.length;i++)u=u.concat($2(arguments[i]));return u},em=function(){function u(i,n,a){n?(this.gridOptions=n,(new q2).create(i,n,function(c){var d=new K3(i);c.createBean(d)},void 0,a)):console.error("AG Grid: no gridOptions provided to the grid")}return u.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},u}(),q2=function(){function u(){}return u.prototype.create=function(i,n,a,c,d){var v=this,C=!!n.debug,x=this.getRegisteredModules(d),I=this.createBeansList(n.rowModelType,x),U=this.createProvidedBeans(i,n,d);if(I){var pe={providedBeanInstances:U,beanClasses:I,debug:C},_e=new eh("AG Grid",function(){return n.debug}),it=new eh("Context",function(){return pe.debug}),xt=new Nn(pe,it),Ut=xt.getBean("beans");this.registerModuleUserComponents(Ut,x),this.registerStackComponents(Ut,x),this.registerControllers(Ut,x),a(xt),Ut.ctrlsService.whenReady(function(){v.setColumnsAndData(Ut),v.dispatchGridReadyEvent(Ut,n);var sn=jn.isRegistered(_n.EnterpriseCoreModule);_e.log("initialised successfully, enterprise = "+sn)}),c&&c(xt)}},u.prototype.registerControllers=function(i,n){n.forEach(function(a){a.controllers&&a.controllers.forEach(function(c){return i.ctrlsFactory.register(c)})})},u.prototype.registerStackComponents=function(i,n){var a=this.createAgStackComponentsList(n);i.agStackComponentsRegistry.setupComponents(a)},u.prototype.getRegisteredModules=function(i){var n=i?i.modules:null,a=jn.getRegisteredModules(),c=[],d={};function v(C,x){(function I(U){d[U.moduleName]||(d[U.moduleName]=!0,c.push(U),jn.register(U,C))})(x),x.dependantModules&&x.dependantModules.forEach(v.bind(null,C))}return n&&n.forEach(v.bind(null,!0)),a&&a.forEach(v.bind(null,!jn.isPackageBased())),c},u.prototype.registerModuleUserComponents=function(i,n){this.extractModuleEntity(n,function(c){return c.userComponents?c.userComponents:[]}).forEach(function(c){i.userComponentRegistry.registerDefaultComponent(c.componentName,c.componentClass)})},u.prototype.createProvidedBeans=function(i,n,a){var c=a?a.frameworkOverrides:null;at(c)&&(c=new sd);var d={gridOptions:n,eGridDiv:i,$scope:a?a.$scope:null,$compile:a?a.$compile:null,globalEventListener:a?a.globalEventListener:null,frameworkOverrides:c};return a&&a.providedBeanInstances&&Object.assign(d,a.providedBeanInstances),d},u.prototype.createAgStackComponentsList=function(i){var n=[{componentName:"AgCheckbox",componentClass:Cu},{componentName:"AgRadioButton",componentClass:S0},{componentName:"AgToggleButton",componentClass:zf},{componentName:"AgInputTextField",componentClass:Ja},{componentName:"AgInputTextArea",componentClass:I2},{componentName:"AgInputNumberField",componentClass:H0},{componentName:"AgInputRange",componentClass:Vg},{componentName:"AgSelect",componentClass:Gh},{componentName:"AgSlider",componentClass:kf},{componentName:"AgAngleSelect",componentClass:ol},{componentName:"AgColorPicker",componentClass:Ql},{componentName:"AgGridBody",componentClass:fg},{componentName:"AgHeaderRoot",componentClass:u0},{componentName:"AgPagination",componentClass:F0},{componentName:"AgOverlayWrapper",componentClass:ql},{componentName:"AgGroupComponent",componentClass:Rf},{componentName:"AgPanel",componentClass:z0},{componentName:"AgDialog",componentClass:Io},{componentName:"AgRowContainer",componentClass:j2},{componentName:"AgFakeHorizontalScroll",componentClass:Ir}],a=this.extractModuleEntity(i,function(c){return c.agStackComponents?c.agStackComponents:[]});return n.concat(a)},u.prototype.createBeansList=function(i,n){var a=this.getRowModelClass(i,n);if(a){var c=[a,vu,Hg,Gg,k2,Rs,Bc,Ic,O0,Fs,L0,us,X3,_2,qc,E2,Ma,ar,hr,mg,kd,d0,Gs,mf,Lo,uc,v2,Ga,id,Kc,R2,ah,ug,Jd,ws,Eu,K2,La,Za,Su,w0,P0,$3,ad,x2,T2,_g,xf,ap,wl,Du,ud,R0,W0,To,j0,fh,z2,Gf,V2,Jl,U2,et],d=this.extractModuleEntity(n,function(C){return C.beans?C.beans:[]});c.push.apply(c,K0(d));var v=[];return c.forEach(function(C){v.indexOf(C)<0&&v.push(C)}),v}},u.prototype.extractModuleEntity=function(i,n){return[].concat.apply([],K0(i.map(n)))},u.prototype.setColumnsAndData=function(i){var n=i.gridOptionsWrapper.getColumnDefs();i.columnModel.setColumnDefs(n||[],"gridInitializing"),i.rowModel.start()},u.prototype.dispatchGridReadyEvent=function(i,n){i.eventService.dispatchEvent({type:Ye.EVENT_GRID_READY,api:n.api,columnApi:n.columnApi})},u.prototype.getRowModelClass=function(i,n){i||(i=St.ROW_MODEL_TYPE_CLIENT_SIDE);var a={};n.forEach(function(d){qe(d.rowModels,function(v,C){a[v]=C})});var c=a[i];if(ue(c))return c;i===St.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+_n.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+i),i===St.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+_n.ViewportRowModelModule+" is registered.';"),i===St.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+_n.ServerSideRowModelModule+" is registered.';"),i===St.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+_n.ClientSideRowModelModule+" is registered.';")},u}(),nm=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Uf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},O8=function(u){function i(n){var a=u.call(this,i.getTemplate(n.cssClass))||this;return a.items=[],a.tabbedItemScrollMap=new Map,a.params=n,n.items&&n.items.forEach(function(c){return a.addItem(c)}),a}return nm(i,u),i.prototype.postConstruct=function(){this.createManagedBean(new Yo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},i.getTemplate=function(n){return'<div class="ag-tabs '+n+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(n?n+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(n?n+"-body":"")+'"></div>\n        </div>'},i.prototype.handleKeyDown=function(n){var a=this.gridOptionsWrapper.getDocument();switch(n.key){case Rn.RIGHT:case Rn.LEFT:if(!this.eHeader.contains(a.activeElement))return;var c=this.items.indexOf(this.activeItem),d=n.key===Rn.RIGHT?Math.min(c+1,this.items.length-1):Math.max(c-1,0);if(c===d)return;n.preventDefault();var v=this.items[d];this.showItemWrapper(v),v.eHeaderButton.focus();break;case Rn.UP:case Rn.DOWN:n.stopPropagation()}},i.prototype.onTabKeyDown=function(n){if(!n.defaultPrevented){var a=this,c=a.focusService,d=a.eHeader,v=a.eBody,C=a.activeItem,I=this.gridOptionsWrapper.getDocument().activeElement;if(n.preventDefault(),d.contains(I))c.focusInto(v,n.shiftKey);else if(c.isFocusUnderManagedComponent(v))C.eHeaderButton.focus();else{var U=c.findNextFocusableElement(v,!1,n.shiftKey);U?U.focus():C.eHeaderButton.focus()}}},i.prototype.setAfterAttachedParams=function(n){this.afterAttachedParams=n},i.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},i.prototype.addItem=function(n){var a=document.createElement("span");ro(a,"tab"),a.setAttribute("tabIndex","-1"),a.appendChild(n.title),a.classList.add("ag-tab"),this.eHeader.appendChild(a),xr(a,n.titleLabel);var c={tabbedItem:n,eHeaderButton:a};this.items.push(c),a.addEventListener("click",this.showItemWrapper.bind(this,c))},i.prototype.showItem=function(n){var a=this.items.find(function(c){return c.tabbedItem===n});a&&this.showItemWrapper(a)},i.prototype.showItemWrapper=function(n){var a=this,c=n.tabbedItem,d=n.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:c}),this.activeItem!==n?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),j(this.eBody),c.bodyPromise.then(function(v){a.eBody.appendChild(v);var C=!a.focusService.isKeyboardMode();if(a.focusService.focusInto(a.eBody,!1,C),c.afterAttachedCallback&&c.afterAttachedCallback(a.afterAttachedParams),a.params.keepScrollPosition){var x=c.getScrollableContainer&&c.getScrollableContainer()||v;a.lastScrollListener=a.addManagedListener(x,"scroll",function(){a.tabbedItemScrollMap.set(c.name,x.scrollTop)});var I=a.tabbedItemScrollMap.get(c.name);void 0!==I&&setTimeout(function(){x.scrollTop=I},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),d.classList.add("ag-tab-selected"),this.activeItem=n):gn(this.params.onActiveItemClicked)},Uf([ce("focusService")],i.prototype,"focusService",void 0),Uf([Pn("eHeader")],i.prototype,"eHeader",void 0),Uf([Pn("eBody")],i.prototype,"eBody",void 0),Uf([Gt],i.prototype,"postConstruct",null),i}(ai),$g=(()=>(function(u){u.Applied="Applied",u.StoreNotFound="StoreNotFound",u.StoreLoading="StoreLoading",u.StoreWaitingToLoad="StoreWaitingToLoad",u.StoreLoadingFailed="StoreLoadingFailed",u.StoreWrongType="StoreWrongType",u.Cancelled="Cancelled"}($g||($g={})),$g))(),rm=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qg=function(){return qg=Object.assign||function(u){for(var i,n=1,a=arguments.length;n<a;n++)for(var c in i=arguments[n])Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c]);return u},qg.apply(this,arguments)},es=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},yd=function(u){function i(n){void 0===n&&(n=1);var a=u.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return a.level=n,a.menuItems=[],a}return rm(i,u),i.prototype.postConstruct=function(){var n=this;this.initialiseTabGuard({onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}})},i.prototype.onTabKeyDown=function(n){var a=this.getParentComponent(),c=a&&a.getGui();c&&c.classList.contains("ag-focus-managed")||n.preventDefault(),n.shiftKey&&this.closeIfIsChild(n)},i.prototype.handleKeyDown=function(n){switch(n.key){case Rn.UP:case Rn.RIGHT:case Rn.DOWN:case Rn.LEFT:n.preventDefault(),this.handleNavKey(n.key);break;case Rn.ESCAPE:var a=this.findTopMenu();a&&this.focusService.focusInto(a.getGui())}},i.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},i.prototype.addMenuItems=function(n){var a=this;null!=n&&n.forEach(function(c){"separator"===c?a.addSeparator():"string"==typeof c?console.warn("AG Grid: unrecognised menu item "+c):a.addItem(c)})},i.prototype.addItem=function(n){var a=this,c=this.createManagedBean(new yp(qg(qg({},n),{isAnotherSubMenuOpen:function(){return a.menuItems.some(function(d){return d.isSubMenuOpen()})}})));c.setParentComponent(this),Ya(c.getGui(),this.level),this.menuItems.push(c),this.appendChild(c.getGui()),this.addManagedListener(c,yp.EVENT_MENU_ITEM_SELECTED,function(d){a.dispatchEvent(d)}),this.addManagedListener(c,yp.EVENT_MENU_ITEM_ACTIVATED,function(d){a.activeMenuItem&&a.activeMenuItem!==d.menuItem&&a.activeMenuItem.deactivate(),a.activeMenuItem=d.menuItem})},i.prototype.activateFirstItem=function(){var n=this.menuItems.filter(function(a){return!a.isDisabled()})[0];!n||n.activate()},i.prototype.addSeparator=function(){this.appendChild(_t('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},i.prototype.findTopMenu=function(){var n=this.getParentComponent();if(!n&&this instanceof i)return this;for(;;){var a=n&&n.getParentComponent&&n.getParentComponent();if(!a||!(a instanceof i||a instanceof yp))break;n=a}return n instanceof i?n:void 0},i.prototype.handleNavKey=function(n){switch(n){case Rn.UP:case Rn.DOWN:var a=this.findNextItem(n===Rn.UP);return void(a&&a!==this.activeMenuItem&&a.activate())}n===(this.gridOptionsWrapper.isEnableRtl()?Rn.RIGHT:Rn.LEFT)?this.closeIfIsChild():this.openChild()},i.prototype.closeIfIsChild=function(n){var a=this.getParentComponent();a&&a instanceof yp&&(n&&n.preventDefault(),a.closeSubMenu(),a.getGui().focus())},i.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},i.prototype.findNextItem=function(n){var a=this.menuItems.filter(function(x){return!x.isDisabled()});if(a.length){if(!this.activeMenuItem)return n?bt(a):a[0];n&&a.reverse();for(var c,d=!1,v=0;v<a.length;v++){var C=a[v];if(d){c=C;break}C===this.activeMenuItem&&(d=!0)}return c||this.activeMenuItem}},i.prototype.destroy=function(){this.clearActiveItem(),u.prototype.destroy.call(this)},es([ce("focusService")],i.prototype,"focusService",void 0),es([Gt],i.prototype,"postConstruct",null),i}(Uc),im=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yf=function(u){function i(n){var a=u.call(this)||this;return a.wrappedComponent=n,a.setTemplateFromElement(n.getGui()),a}return im(i,u),i.prototype.postConstruct=function(){var n=this;this.initialiseTabGuard({onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}})},i.prototype.handleKeyDown=function(n){n.key===Rn.ESCAPE&&this.closePanel()},i.prototype.onTabKeyDown=function(n){n.defaultPrevented||(this.closePanel(),n.preventDefault())},i.prototype.closePanel=function(){var n=this.parentComponent;n.closeSubMenu(),setTimeout(function(){return n.getGui().focus()},0)},function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);c>3&&d&&Object.defineProperty(i,n,d)}([Gt],i.prototype,"postConstruct",null),i}(Uc),om=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Z2=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},yp=function(u){function i(n){var a=u.call(this)||this;return a.params=n,a.isActive=!1,a.subMenuIsOpen=!1,a.setTemplate('<div class="'+a.getClassName()+'" tabindex="-1" role="treeitem"></div>'),a}return om(i,u),i.prototype.init=function(){var n=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var a=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Fo(a,!0)):(this.addGuiEventListener("click",function(c){return n.onItemSelected(c)}),this.addGuiEventListener("keydown",function(c){(c.key===Rn.ENTER||c.key===Rn.SPACE)&&(c.preventDefault(),n.onItemSelected(c))}),this.addGuiEventListener("mousedown",function(c){c.stopPropagation(),c.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return n.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return n.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(c){return n.addCssClass(c)})},i.prototype.isDisabled=function(){return!!this.params.disabled},i.prototype.openSubMenu=function(n){var a=this;if(void 0===n&&(n=!1),this.closeSubMenu(),this.params.subMenu){var d,c=_t('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var v=Us(this.getGui()),C=isNaN(v)?1:v+1,x=this.createBean(new yd(C));x.setParentComponent(this),x.addMenuItems(this.params.subMenu),c.appendChild(x.getGui()),this.addManagedListener(x,i.EVENT_MENU_ITEM_SELECTED,function(En){return a.dispatchEvent(En)}),x.addGuiEventListener("mouseenter",function(){return a.cancelDeactivate()}),d=function(){return a.destroyBean(x)},n&&setTimeout(function(){return x.activateFirstItem()},0)}else{var I=this.params.subMenu,U=this.createBean(new Yf(I));U.setParentComponent(this);var pe=U.getGui(),_e="mouseenter",it=function(){return a.cancelDeactivate()};pe.addEventListener(_e,it),d=function(){return pe.removeEventListener(_e,it)},c.appendChild(pe),I.afterGuiAttached&&setTimeout(function(){return I.afterGuiAttached()},0)}var xt=this.getGui(),Ut=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:xt,ePopup:c}),sn=this.gridOptionsWrapper.getLocaleTextFunc(),qt=this.popupService.addPopup({modal:!0,eChild:c,positionCallback:Ut,anchorToElement:xt,ariaLabel:sn("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Ui(xt,!0),this.hideSubMenu=function(){qt&&qt.hideFunc(),a.subMenuIsOpen=!1,Ui(xt,!1),d()}}},i.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Ui(this.getGui(),!1))},i.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},i.prototype.activate=function(n){var a=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),n&&this.params.subMenu&&window.setTimeout(function(){a.isAlive()&&a.isActive&&a.openSubMenu()},300),this.onItemActivated())},i.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},i.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var n=_t('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?n.appendChild(Gr("check",this.gridOptionsWrapper)):this.params.icon&&(Fr(this.params.icon)?n.appendChild(this.params.icon):"string"==typeof this.params.icon?n.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(n)}},i.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var n=_t('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(n)}},i.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new g1(this)))},i.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},i.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var n=_t('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(n)}},i.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var n=_t('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),a=this.getGui();if(this.params.subMenu){var c=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Ui(a,!1),n.appendChild(Gr(c,this.gridOptionsWrapper))}a.appendChild(n)}},i.prototype.onItemSelected=function(n){this.params.action?this.params.action():this.openSubMenu(n&&"keydown"===n.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:i.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:n})},i.prototype.onItemActivated=function(){this.dispatchEvent({type:i.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},i.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},i.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},i.prototype.onMouseEnter=function(){var n=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return n.activate(!0)},i.ACTIVATION_DELAY):this.activate(!0)},i.prototype.onMouseLeave=function(){var n=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return n.deactivate()},i.ACTIVATION_DELAY):this.deactivate()},i.prototype.getClassName=function(n){var a=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return n?a+"-"+n:a},i.EVENT_MENU_ITEM_SELECTED="menuItemSelected",i.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",i.ACTIVATION_DELAY=80,Z2([ce("popupService")],i.prototype,"popupService",void 0),Z2([Gt],i.prototype,"init",null),i}(ai),am=function(){var u=function(i,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])})(i,n)};return function(i,n){function a(){this.constructor=i}u(i,n),i.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Kf=function(u,i,n,a){var v,c=arguments.length,d=c<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(u,i,n,a);else for(var C=u.length-1;C>=0;C--)(v=u[C])&&(d=(c<3?v(d):c>3?v(i,n,d):v(i,n))||d);return c>3&&d&&Object.defineProperty(i,n,d),d},Q2=function(u){function i(n,a,c){void 0===n&&(n="default"),void 0===a&&(a="listbox");var d=u.call(this,i.getTemplate(n))||this;return d.cssIdentifier=n,d.ariaRole=a,d.listName=c,d.renderedRows=new Map,d.rowHeight=20,d.isDestroyed=!1,d}return am(i,u),i.prototype.postConstruct=function(){var n=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(a){return n.onFocusIn(a)},onFocusOut:function(a){return n.onFocusOut(a)},focusInnerElement:function(a){return n.focusInnerElement(a)},onTabKeyDown:function(a){return n.onTabKeyDown(a)},handleKeyDown:function(a){return n.handleKeyDown(a)}}),this.setAriaProperties()},i.prototype.setAriaProperties=function(){var a=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),c=this.eContainer;ro(c,this.ariaRole),xr(c,a)},i.prototype.addResizeObserver=function(){var n=this.drawVirtualRows.bind(this),a=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(a)},i.prototype.focusInnerElement=function(n){this.focusRow(n?this.model.getRowCount()-1:0)},i.prototype.onFocusIn=function(n){var a=n.target;return a.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=nr(a)-1),!1},i.prototype.onFocusOut=function(n){return this.getFocusableElement().contains(n.relatedTarget)||(this.lastFocusedRowIndex=null),!1},i.prototype.handleKeyDown=function(n){switch(n.key){case Rn.UP:case Rn.DOWN:this.navigate(n.key===Rn.UP)&&n.preventDefault()}},i.prototype.onTabKeyDown=function(n){this.navigate(n.shiftKey)?n.preventDefault():this.focusService.focusInto(this.getGui(),!n.shiftKey)},i.prototype.navigate=function(n){if(null==this.lastFocusedRowIndex)return!1;var a=this.lastFocusedRowIndex+(n?-1:1);return!(a<0||a>=this.model.getRowCount()||(this.focusRow(a),0))},i.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},i.prototype.focusRow=function(n){var a=this;this.ensureIndexVisible(n),window.setTimeout(function(){var c=a.renderedRows.get(n);c&&c.eDiv.focus()},10)},i.prototype.getComponentAt=function(n){var a=this.renderedRows.get(n);return a&&a.rowComponent},i.getTemplate=function(n){return'\n            <div class="ag-virtual-list-viewport ag-'+n+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+n+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},i.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},i.prototype.ensureIndexVisible=function(n){var a=this.model.getRowCount();if("number"!=typeof n||n<0||n>=a)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+n);else{var c=n*this.rowHeight,d=c+this.rowHeight,v=this.getGui(),C=v.scrollTop,x=v.offsetHeight,pe=C+x<d;C>c?v.scrollTop=c:pe&&(v.scrollTop=d-x)}},i.prototype.setComponentCreator=function(n){this.componentCreator=n},i.prototype.getRowHeight=function(){return this.rowHeight},i.prototype.getScrollTop=function(){return this.getGui().scrollTop},i.prototype.setRowHeight=function(n){this.rowHeight=n,this.refresh()},i.prototype.refresh=function(){var n=this;if(null!=this.model&&!this.isDestroyed){var a=this.model.getRowCount();this.eContainer.style.height=a*this.rowHeight+"px",ut(function(){return n.eContainer.clientHeight>=a*n.rowHeight},function(){n.isDestroyed||(n.clearVirtualRows(),n.drawVirtualRows())})}},i.prototype.clearVirtualRows=function(){var n=this;this.renderedRows.forEach(function(a,c){return n.removeRow(c)})},i.prototype.drawVirtualRows=function(){var n=this.getGui(),a=n.scrollTop,c=a+n.offsetHeight,d=Math.floor(a/this.rowHeight),v=Math.floor(c/this.rowHeight);this.ensureRowsRendered(d,v)},i.prototype.ensureRowsRendered=function(n,a){var c=this;this.renderedRows.forEach(function(v,C){(C<n||C>a)&&C!==c.lastFocusedRowIndex&&c.removeRow(C)});for(var d=n;d<=a;d++)this.renderedRows.has(d)||d<this.model.getRowCount()&&this.insertRow(d)},i.prototype.insertRow=function(n){var a=this,c=this.model.getRow(n),d=document.createElement("div");if(d.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),ro(d,"tree"===this.ariaRole?"treeitem":"option"),Ka(d,this.model.getRowCount()),iu(d,n+1),d.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var v=this.model.isRowSelected(n);Ks(d,!!v),Mp(d,v)}d.style.height=this.rowHeight+"px",d.style.top=this.rowHeight*n+"px";var C=this.componentCreator(c,d);C.addGuiEventListener("focusin",function(){return a.lastFocusedRowIndex=n}),d.appendChild(C.getGui()),this.renderedRows.has(n-1)?this.renderedRows.get(n-1).eDiv.insertAdjacentElement("afterend",d):this.renderedRows.has(n+1)?this.renderedRows.get(n+1).eDiv.insertAdjacentElement("beforebegin",d):this.eContainer.appendChild(d),this.renderedRows.set(n,{rowComponent:C,eDiv:d})},i.prototype.removeRow=function(n){var a=this.renderedRows.get(n);this.eContainer.removeChild(a.eDiv),this.destroyBean(a.rowComponent),this.renderedRows.delete(n)},i.prototype.addScrollListener=function(){var n=this;this.addGuiEventListener("scroll",function(){return n.drawVirtualRows()})},i.prototype.setModel=function(n){this.model=n},i.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,u.prototype.destroy.call(this))},Kf([ce("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Kf([ce("focusService")],i.prototype,"focusService",void 0),Kf([Pn("eContainer")],i.prototype,"eContainer",void 0),Kf([Gt],i.prototype,"postConstruct",null),i}(Uc),J2=function(){function u(){}return u.prototype.wrap=function(i,n,a,c){var d=this;void 0===a&&(a=[]);var v=this.createWrapper(i,c);return n.forEach(function(C){d.createMethod(v,C,!0)}),a.forEach(function(C){d.createMethod(v,C,!1)}),v},u.prototype.unwrap=function(i){return i},u.prototype.createMethod=function(i,n,a){i.addMethod(n,this.createMethodProxy(i,n,a))},u.prototype.createMethodProxy=function(i,n,a){return function(){return i.hasMethod(n)?i.callMethod(n,arguments):(a&&console.warn("AG Grid: Framework component is missing the method "+n+"()"),null)}},u}(),yh="undefined"==typeof global?{}:global;yh.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,yh.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,yh.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,yh.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,yh.Node="undefined"==typeof Node?{}:Node,yh.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent},6431:(An,Dt,H)=>{H.d(Dt,{t:()=>Je});var M=H(3900),G=H(9646),B=H(2810),Le=H(6305),Ne=H(7043),Ue=H(7854),Ze=H(2423),nt=H(5e3);let Je=(()=>{class Fe{constructor(Ae){this.injector=Ae}http(){return this.injector.get(Ne.C)}get shared(){return this.injector.get(Le.W)}read(){return B.X.readBy(this.shared)}load(Ae){return new Promise((ot,lt)=>{Ae=Ae||Ze.X5,this.http().get(Ae).subscribe({next:mt=>{let zt=this.read().assign(mt);zt.saveBy(this.shared),console.log(`API URL: ${zt.api_url}`),ot(zt)},error:mt=>lt(mt)})})}initLoad(){}loadApi(Ae){let ot=this.read(),lt=ot.fixUrl(`config/${Ae}`);return this.http().sendGet(lt).pipe((0,M.w)(mt=>(ot.cors_url=(0,Ue.EU)(mt.cors_url)?ot.cors_url:mt.cors_url,delete mt.cors_url,ot.api_ticket=mt,ot.saveBy(this.shared),(0,G.of)(mt))))}loadAgGridCfig(){let Ae=this.read(),ot=Ae.fixUrl("config/ag_grid");return this.http().sendGet(ot).pipe((0,M.w)(lt=>(Ae.aggrid={columns:lt.columns},Ae.saveBy(this.shared),(0,G.of)(lt))))}clearAllCache(){let Ae=`${this.read().fixUrl("cache/remove-all")}`;return this.http().sendGet(Ae)}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)(nt.LFG(nt.zs3))},Fe.\u0275prov=nt.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})()},7043:(An,Dt,H)=>{H.d(Dt,{C:()=>Fe});var M=H(520),G=H(262),B=H(3900),Le=H(2843),Ne=H(9646),Ue=H(7854),Ze=H(3063),nt=H(5e3),Je=H(6305);let Fe=(()=>{class we extends M.eN{constructor(ot,lt){super(ot),this.handler2=ot,this.shared=lt,this.logger=new Ze.Y(we)}checkError(ot,lt=!0,mt=0){let zt,gt=ot.statusText;if(zt="Unknown Error"===gt?{message:"Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i t\u1edbi m\xe1y ch\u1ee7.",code:"client_error"}:"Bad Gateway"===gt?{message:"M\xe1y ch\u1ee7 b\u1ecb l\u1ed7i.",code:"client_error"}:{message:(ot=ot.error).msg,code:ot.code},lt){let fn=zt.code;if(["client_error","SessionExpired"].includes(fn)){let w=this.shared.getAppConfig().getApiUrl();this.shared.modal.create({nzTitle:"Th\xf4ng b\xe1o",nzOkText:null,nzCancelText:"\u0110\xf3ng",nzMaskClosable:!1,nzClosable:!1,nzContent:`<b class="text-info">- ${zt.message}</b><br>${"client_error"===fn?`- Vui l\xf2ng ki\u1ec3m tra k\u1ebft n\u1ed1i <b class="text-danger">${w}</b>.`:""}`})}else this.shared.showError(zt)}return this.logger.info(zt),(0,Le._)(zt)}static getMsgOd(ot){let lt=ot.data&&ot.data.arguments?ot.data.arguments[0]:null;return lt=(0,Ue.Ft)(lt)?"L\u1ed7i h\u1ec7 th\u1ed1ng":lt,`[TS24${(0,Ue.EU)(ot.from)?"":" > "+ot.from}] ${lt}`}send(ot,lt,mt){let zt=!!(0,Ue.Ft)((mt=mt||{}).alert)||mt.alert;return delete mt.alert,this.request(ot,lt,mt).pipe((0,G.K)(gt=>this.checkError(gt,zt,1)),(0,B.w)(gt=>gt&&gt.error?this.checkError(gt,zt,2):(0,Ne.of)(gt)))}sendGet(ot,lt,mt){return mt=Object.assign({},mt,{params:lt}),this.send("GET",ot,mt)}sendPost(ot,lt,mt){return mt=Object.assign({},mt,{body:lt}),this.send("POST",ot,mt)}sendPut(ot,lt,mt){return mt=Object.assign({},mt,{body:lt}),this.send("PUT",ot,mt)}sendDelete(ot,lt){return lt=Object.assign({},lt),this.send("DELETE",ot,lt)}}return we.\u0275fac=function(ot){return new(ot||we)(nt.LFG(M.PG),nt.LFG(Je.W))},we.\u0275prov=nt.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},6305:(An,Dt,H)=>{H.d(Dt,{W:()=>Fe});var M=H(7854),G=H(5e3),B=H(1083);let Le=(()=>{class we{constructor(ot){this.r=ot}allParam(){return this.r.snapshot.params}isDebug(){return this.allParam.debug}debug(...ot){!0===this.isDebug()&&ot.forEach(lt=>console.debug(lt))}}return we.\u0275fac=function(ot){return new(ot||we)(G.LFG(B.gz))},we.\u0275prov=G.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();var Ne=H(2810),Ue=H(2423),Ze=H(9727),nt=H(7957);let Fe=(()=>{class we{constructor(ot,lt,mt){this.inj=ot,this.alert=lt,this.modal=mt}get NO_REMOVE_KEY(){return[we.USER_REMEMBER,"AppConfig"]}get LOGGER(){return this.inj.get(Le)}showError(ot,lt){const mt=`${ot.msg||ot.message} (M\xe3 l\u1ed7i: ${ot.code})`;let zt=(0,M.Ft)(lt)?{}:{nzDuration:1e3*lt};this.alert.error(mt,zt)}loading(ot,lt){return lt=Object.assign({nzAnimate:!0,nzDuration:-1},lt),this.alert.create("",ot=`<i class="fal fa-sync fa-spin"></i>${ot}`,lt)}encrypt(ot){return ot}decrypt(ot){return ot}getByKey(ot){const mt=localStorage.getItem(ot||we.APP_CONFIG);if((0,M.Ft)(mt))return;let zt=this.decrypt(mt)||"{}";try{return JSON.parse(zt)}catch(gt){return zt}}clearAll(){Object.keys(localStorage).filter(ot=>-1===this.NO_REMOVE_KEY.indexOf(ot)).forEach(ot=>localStorage.removeItem(ot))}getBoolean(ot,lt){const mt=localStorage.getItem(ot||we.SHOW_FORM_CREATE);return(0,M.EU)(mt)?lt:"true"===mt}setByKey(ot,lt){(0,M.Ft)(lt)?localStorage.removeItem(ot):("object"==typeof lt&&(lt=JSON.stringify(lt)),localStorage.setItem(ot,this.encrypt(lt).toString()))}setRememberLogin(ot,lt,mt){!0===ot?this.rememberUser={remember:ot,username:lt,password:mt}:localStorage.removeItem(we.USER_REMEMBER)}getRememberLogin(){return this.rememberUser}get rememberUser(){return this.getByKey(we.USER_REMEMBER)||{}}set rememberUser(ot){this.setByKey(we.USER_REMEMBER,ot)}get showFormCreate(){return this.getBoolean()}set showFormCreate(ot){this.setByKey(we.SHOW_FORM_CREATE,ot)}get catalogs(){return this.getByKey(we.CATALOGS)||{}}set catalogs(ot){this.setByKey(we.CATALOGS,ot)}getAppConfig(){return(new Ne.X).init().assign(this.getByKey("AppConfig")||{})}navigateLogin(ot,lt){this.clearAll();let mt=this.getAppConfig().isDev,zt={isDev:!!(0,M.oA)(mt)||void 0,redirect_url:(0,M.Ft)(lt)?void 0:lt};ot.navigate(["/",Ue.pG],{queryParams:zt})}}return we.REPORT_KPI_TOKEN="REPORT_KPI_TOKEN",we.USER_REMEMBER="USER_REMEMBER",we.USER_DETAIL="USER_DETAIL",we.APP_CONFIG="APP_CONFIG",we.COLUMN_KPI="COLUMN_KPI",we.AG_GRID_KEY="AG-GRID-COLUMN-DEF",we.SYSTEM_CONFIG="SYSTEM_CONFIG",we.SHOW_FORM_CREATE="SHOW_FORM_CREATE",we.CATALOGS="CATALOGS",we.PROFILE="T2T-HELPDESK-PROFILE",we.SECRET_KEY="@!#$%^@20aF*%$+=",we.\u0275fac=function(ot){return new(ot||we)(G.LFG(G.zs3),G.LFG(Ze.dD),G.LFG(nt.Sf))},we.\u0275prov=G.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},2810:(An,Dt,H)=>{H.d(Dt,{X:()=>G});var M=H(7854);class G{constructor(){}init(){return this}static readBy(Le){return Le.getAppConfig()}assign(Le,Ne){return Object.assign(this,Le)}saveBy(Le){return Le.setByKey("AppConfig",this),this}getApiUrl(){let Le=this[this.api_key];return console.log(Le),Le}fixUrl(...Le){let Ne=[...Le].filter(Ue=>!(0,M.EU)(Ue)).map(Ue=>Ue.endsWith("/")?Ue.substring(0,Ue.length-1):Ue);return(0,M.pM)(Ne[0])?Ne.join("/"):`${this.getApiUrl()}/${Ne.join("/")}`}clear(Le,Ne=["api_url"]){}}},2423:(An,Dt,H)=>{H.d(Dt,{AK:()=>we,IN:()=>Ue,Ji:()=>Le,X5:()=>B,_J:()=>nt,g1:()=>Ze,pG:()=>Je,z:()=>Ne});var M=H(5e3),G=H(7854);const B="assets/file/app.config.json",Le=new M.OlP("appVersion"),Ne="ticket_list",Ue="send_report",Ze="SEND_HELPDESK",nt="ag_default",Je="signin",we=((0,G._3)(),"/assets/file/reportkpi_mau.xlsx")},7854:(An,Dt,H)=>{H.d(Dt,{DS:()=>w,EU:()=>we,Em:()=>lt,Ft:()=>Ue,G5:()=>Ae,K$:()=>Yt,Ov:()=>at,_3:()=>fn,gS:()=>Je,h0:()=>ue,kl:()=>Ne,mA:()=>Le,mz:()=>Vn,oA:()=>B,pM:()=>G});var lt,w,Yt,De,M=H(9808);function G(De){return!Ue(De)&&(De.startsWith("http://")||De.startsWith("https://"))}function B(De){return!Ue(De)&&(1===De||"1"===De||"true"===De||!0===De)}function Le(De){return!Ue(De)&&(1===De||"0"===De||"false"===De||!1===De)}function Ne(De,Qe){return Ue(De)||De===Qe}function Ue(De){return null==De}function Je(De){return Ue(De)||"object"==typeof De&&0===Object.keys(De).length}function we(De){return Ue(De)||0===(""+De).trim().length}function Ae(De){return!!Ue(De)||0===De.length}function fn(De="yyyyMMdd"){return new M.uU("en-US").transform(new Date,De)}(lt||(lt={})).parseDate=function Qe(Ct,je){return we(Ct)?je:new Date(Ct)},(De=w||(w={})).decode=function Qe(It){return atob(It)},De.encode=function Ct(It){return btoa(It)},De.decodeJson=function je(It){return decodeURIComponent(Array.prototype.map.call(atob(It),Et=>"%"+("00"+Et.charCodeAt(0).toString(16)).slice(-2)).join(""))},De.getBase64=function yt(It){return new Promise((Et,ln)=>{const ht=new FileReader;ht.readAsDataURL(It),ht.onload=()=>Et(ht.result),ht.onerror=Sn=>ln(Sn)})};class Vn{static reduce(Qe,Ct){return Qe.map(je=>Ct(je)).reduce((je,yt)=>Object.assign(Object.assign({},je),yt),{})}}!function(De){De.isNotNullFilter=function Qe(ht){return!Ue(ht)},De.log=function Ct(...ht){(ht="string"==typeof ht?[ht]:ht).forEach(Sn=>console.log(Sn))},De.jsonEmpty=function je(ht){return Ue(ht)||0===Object.keys(ht).length},De.arrToObj=function yt(ht,Sn){return Sn.map((qe,Zt)=>({[qe]:ht[Zt]})).reduce((qe,Zt)=>Object.assign(Object.assign({},qe),Zt),{})},De.replaceAll=function It(ht,Sn,qe){return ht.replace(new RegExp(Sn,"g"),qe)},De.replaceQuery=function Et(ht,Sn){if(we(ht))throw"@text must not empty.";let Zt=new RegExp("{(.+?)}","g");return ht.replace(Zt,wt=>((wt,Xt)=>{let Kn=wt.substring(1,wt.length-1);return void 0===Xt[Kn]?wt:Xt[Kn]})(wt,Sn))},De.base64decode=function ln(ht){return decodeURIComponent(Array.prototype.map.call(atob(ht),Sn=>"%"+("00"+Sn.charCodeAt(0).toString(16)).slice(-2)).join(""))}}(Yt||(Yt={}));class ue{static getMessage(Qe,Ct){return Ct.code===DOMException.NOT_FOUND_ERR?`T\u1ec7p tin [${Qe.name}] kh\xf4ng t\u1ed3n t\u1ea1i`:Ct.message}}class at{static dateAdd(Qe,Ct,je){if(!(Qe instanceof Date))return;let yt=new Date(Qe),It=()=>yt.getDate()!=Qe.getDate()?yt.setDate(0):"";switch(Ct){case"year":yt.setFullYear(yt.getFullYear()+je),It();break;case"quarter":yt.setMonth(yt.getMonth()+3*je),It();break;case"month":yt.setMonth(yt.getMonth()+je),It();break;case"week":yt.setDate(yt.getDate()+7*je);break;case"day":yt.setDate(yt.getDate()+je);break;case"hour":yt.setTime(yt.getTime()+36e5*je);break;case"minute":yt.setTime(yt.getTime()+6e4*je);break;case"second":yt.setTime(yt.getTime()+1e3*je);break;default:yt=void 0}return yt}static dateToString(Qe,Ct){return new M.uU("en-US").transform(Qe,Ct)}}},3063:(An,Dt,H)=>{H.d(Dt,{Y:()=>G});var M=H(9808);class G{constructor(Ne){this.type=Ne}debug(Ne,...Ue){this.doLog(B.debug,Ne,Ue)}info(Ne,...Ue){this.doLog(B.info,Ne,Ue)}warn(Ne,...Ue){this.doLog(B.warn,Ne,Ue)}error(Ne,...Ue){this.doLog(B.error,Ne,Ue)}log(Ne,...Ue){this.doLog(B.log,Ne,Ue)}doLog(Ne,Ue,...Ze){let Je=`${new M.uU("en-US").transform(Date.now(),"yyyy-MM-ddTHH:mm:ss").toString()} -- ${Ne} -- [${this.type.name}]: ${Ue}`,Fe=console[B[Ne]];0==Ze.length?Fe(Je):Fe(Je,Ze)}}var B=(()=>{return(Le=B||(B={}))[Le.log=0]="log",Le[Le.debug=1]="debug",Le[Le.info=2]="info",Le[Le.warn=3]="warn",Le[Le.error=4]="error",B;var Le})()},7628:(An,Dt,H)=>{var M=H(2313),G=H(5e3),B=H(1083);let Le=(()=>{class l{constructor(){this.title="TS24AppWeb"}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=G.Xpm({type:l,selectors:[["cy-root"]],decls:1,vars:0,template:function(e,r){1&e&&G._UZ(0,"router-outlet")},directives:[B.lC],styles:[""],encapsulation:2}),l})();var Ne=H(6431),Ue=H(6360),Ze=H(520),nt=H(2382),Je=H(9727),Fe=H(2359),we=H(7957),Ae=H(2423),ot=H(7904);let lt=(()=>{class l{constructor(){}intercept(e,r){return this.handleAccess(e,r)}handleAccess(e,r){let o=e;const s={},h=e.headers.keys();let p=h.indexOf("cookie");-1!==p&&h.splice(p,1);for(const S of h)s[S]=e.headers.getAll(S);const y=new Ze.WM(s);return o=e.clone({headers:y}),r.handle(o)}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=G.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const mt=[{path:"signin",loadChildren:()=>Promise.all([H.e(328),H.e(546),H.e(392)]).then(H.bind(H,5392)).then(l=>l.SigninModule)},{path:"signup",loadChildren:()=>Promise.all([H.e(328),H.e(94)]).then(H.bind(H,9094)).then(l=>l.SignupModule),canActivate:[]},{path:"ticket-list",loadChildren:()=>Promise.all([H.e(328),H.e(546),H.e(662),H.e(982)]).then(H.bind(H,5982)).then(l=>l.TicketListModule)},{path:"ticket-form",loadChildren:()=>Promise.all([H.e(328),H.e(546),H.e(662),H.e(52)]).then(H.bind(H,5052)).then(l=>l.TicketFormRouting)},{path:"**",redirectTo:"ticket-list",pathMatch:"full"}];function zt(l){return()=>l.load().then(t=>{console.log(`K\u1ebft n\u1ed1i t\u1edbi m\xe1y ch\u1ee7 ${t.api_url}`),l.shared.setByKey("isDebug","true")}).catch(t=>console.error(t))}let gt=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=G.oAB({type:l,bootstrap:[Le]}),l.\u0275inj=G.cJS({providers:[{provide:Ze.TP,useClass:lt,multi:!0},{provide:G.ip1,useFactory:zt,deps:[Ne.t],multi:!0},{provide:Ae.Ji,useValue:Date.now()},{provide:ot.u7,useValue:ot.iF}],imports:[[M.b2,nt.u5,B.Bz.forRoot(mt,{preloadingStrategy:B.wm,useHash:!0}),Ue.PW,Ze.JF,nt.UX,nt.u5,Je.gR,we.Qp,Fe.L]]}),l})();var l,w=H(8267),Vn=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)},function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Yt=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},at=function(l){function t(){var r=null!==l&&l.apply(this,arguments)||this;return r.watermarkMessage=void 0,r}var e;return Vn(t,l),e=t,t.prototype.validateLicense=function(){if(w._.missingOrEmpty(e.licenseKey))this.outputMissingLicenseKey();else if(e.licenseKey.length>32){var r=e.extractLicenseComponents(e.licenseKey),s=r.license,h=r.version,p=r.isTrial;r.md5===this.md5.md5(s)?w._.exists(h)&&h?this.validateLicenseKeyForVersion(h,!!p,s):this.validateLegacyKey(s):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(r){var o=r.substring(r.lastIndexOf("_")+1,r.length);return new Date(parseInt(e.decode(o),10))},t.extractLicenseComponents=function(r){var o=r.replace(/[\u200B-\u200D\uFEFF]/g,""),s=(o=o.replace(/\r?\n|\r/g,"")).length-32,h=o.substring(s),p=o.substring(0,s),y=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(e.extractBracketedInformation(o),2);return{md5:h,license:p,version:y[0],isTrial:y[1]}},t.prototype.getLicenseDetails=function(r){var o=e.extractLicenseComponents(r),h=o.license,p=o.version,y=o.isTrial,S=o.md5===this.md5.md5(h),E=null;return S&&(E=e.extractExpiry(h),S=!isNaN(E.getTime())),{licenseKey:r,valid:S,expiry:S?e.formatDate(E):null,version:p||"legacy",isTrial:y}},t.prototype.isDisplayWatermark=function(){return!w._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(r){var s=r.getDate(),h=r.getMonth(),p=r.getFullYear();return s+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][h]+" "+p},t.getGridReleaseDate=function(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))},t.decode=function(r){for(var p,y,S,E,T,O,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",F=0,k=r.replace(/[^A-Za-z0-9+/=]/g,"");F<k.length;)S=o.indexOf(k.charAt(F++)),p=(15&(E=o.indexOf(k.charAt(F++))))<<4|(T=o.indexOf(k.charAt(F++)))>>2,y=(3&T)<<6|(O=o.indexOf(k.charAt(F++))),s+=String.fromCharCode(S<<2|E>>4),64!=T&&(s+=String.fromCharCode(p)),64!=O&&(s+=String.fromCharCode(y));return e.utf8_decode(s)},t.utf8_decode=function(r){r=r.replace(/rn/g,"n");for(var o="",s=0;s<r.length;s++){var h=r.charCodeAt(s);h<128?o+=String.fromCharCode(h):h>127&&h<2048?(o+=String.fromCharCode(h>>6|192),o+=String.fromCharCode(63&h|128)):(o+=String.fromCharCode(h>>12|224),o+=String.fromCharCode(h>>6&63|128),o+=String.fromCharCode(63&h|128))}return o},t.setLicenseKey=function(r){e.licenseKey=r},t.extractBracketedInformation=function(r){var o=r.split("[").filter(function(p){return p.indexOf("]")>-1}).map(function(p){return p.split("]")[0]});if(!o||0===o.length)return[null,null];var s=1===o.filter(function(p){return"TRIAL"===p}).length;return[o.filter(function(p){return 0===p.indexOf("v")}).map(function(p){return p.replace(/^v/,"")})[0],s]},t.prototype.validateLicenseKeyForVersion=function(r,o,s){"2"===r&&(o?this.validateForTrial(s):this.validateLegacyKey(s))},t.prototype.validateLegacyKey=function(r){var o=e.getGridReleaseDate(),s=e.extractExpiry(r),h=!1,p=!1;if(isNaN(s.getTime())||(h=!0,p=o<s),h){if(!p){var y=e.formatDate(s),S=e.formatDate(o);this.outputIncompatibleVersion(y,S)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(r){var o=e.extractExpiry(r),s=new Date,h=!1,p=!1;if(isNaN(o.getTime())||(h=!0,p=o>s),h){if(!p){var y=e.formatDate(o);this.outputExpiredTrialKey(y)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(r){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+r+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(r,o){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+r+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+o+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY0Njk4MzkwMjkyOA==",Yt([(0,w.fsG)("md5")],t.prototype,"md5",void 0),Yt([w.$j7],t.prototype,"validateLicense",null),e=Yt([(0,w.Vu6)("licenseManager")],t)}(w.AS9),De=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qe=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ct=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return De(t,l),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,r){var o=e[0],s=e[1],h=e[2],p=e[3];o=this.ff(o,s,h,p,r[0],7,-680876936),p=this.ff(p,o,s,h,r[1],12,-389564586),h=this.ff(h,p,o,s,r[2],17,606105819),s=this.ff(s,h,p,o,r[3],22,-1044525330),o=this.ff(o,s,h,p,r[4],7,-176418897),p=this.ff(p,o,s,h,r[5],12,1200080426),h=this.ff(h,p,o,s,r[6],17,-1473231341),s=this.ff(s,h,p,o,r[7],22,-45705983),o=this.ff(o,s,h,p,r[8],7,1770035416),p=this.ff(p,o,s,h,r[9],12,-1958414417),h=this.ff(h,p,o,s,r[10],17,-42063),s=this.ff(s,h,p,o,r[11],22,-1990404162),o=this.ff(o,s,h,p,r[12],7,1804603682),p=this.ff(p,o,s,h,r[13],12,-40341101),h=this.ff(h,p,o,s,r[14],17,-1502002290),s=this.ff(s,h,p,o,r[15],22,1236535329),o=this.gg(o,s,h,p,r[1],5,-165796510),p=this.gg(p,o,s,h,r[6],9,-1069501632),h=this.gg(h,p,o,s,r[11],14,643717713),s=this.gg(s,h,p,o,r[0],20,-373897302),o=this.gg(o,s,h,p,r[5],5,-701558691),p=this.gg(p,o,s,h,r[10],9,38016083),h=this.gg(h,p,o,s,r[15],14,-660478335),s=this.gg(s,h,p,o,r[4],20,-405537848),o=this.gg(o,s,h,p,r[9],5,568446438),p=this.gg(p,o,s,h,r[14],9,-1019803690),h=this.gg(h,p,o,s,r[3],14,-187363961),s=this.gg(s,h,p,o,r[8],20,1163531501),o=this.gg(o,s,h,p,r[13],5,-1444681467),p=this.gg(p,o,s,h,r[2],9,-51403784),h=this.gg(h,p,o,s,r[7],14,1735328473),s=this.gg(s,h,p,o,r[12],20,-1926607734),o=this.hh(o,s,h,p,r[5],4,-378558),p=this.hh(p,o,s,h,r[8],11,-2022574463),h=this.hh(h,p,o,s,r[11],16,1839030562),s=this.hh(s,h,p,o,r[14],23,-35309556),o=this.hh(o,s,h,p,r[1],4,-1530992060),p=this.hh(p,o,s,h,r[4],11,1272893353),h=this.hh(h,p,o,s,r[7],16,-155497632),s=this.hh(s,h,p,o,r[10],23,-1094730640),o=this.hh(o,s,h,p,r[13],4,681279174),p=this.hh(p,o,s,h,r[0],11,-358537222),h=this.hh(h,p,o,s,r[3],16,-722521979),s=this.hh(s,h,p,o,r[6],23,76029189),o=this.hh(o,s,h,p,r[9],4,-640364487),p=this.hh(p,o,s,h,r[12],11,-421815835),h=this.hh(h,p,o,s,r[15],16,530742520),s=this.hh(s,h,p,o,r[2],23,-995338651),o=this.ii(o,s,h,p,r[0],6,-198630844),p=this.ii(p,o,s,h,r[7],10,1126891415),h=this.ii(h,p,o,s,r[14],15,-1416354905),s=this.ii(s,h,p,o,r[5],21,-57434055),o=this.ii(o,s,h,p,r[12],6,1700485571),p=this.ii(p,o,s,h,r[3],10,-1894986606),h=this.ii(h,p,o,s,r[10],15,-1051523),s=this.ii(s,h,p,o,r[1],21,-2054922799),o=this.ii(o,s,h,p,r[8],6,1873313359),p=this.ii(p,o,s,h,r[15],10,-30611744),h=this.ii(h,p,o,s,r[6],15,-1560198380),s=this.ii(s,h,p,o,r[13],21,1309151649),o=this.ii(o,s,h,p,r[4],6,-145523070),p=this.ii(p,o,s,h,r[11],10,-1120210379),h=this.ii(h,p,o,s,r[2],15,718787259),s=this.ii(s,h,p,o,r[9],21,-343485551),e[0]=this.add32(o,e[0]),e[1]=this.add32(s,e[1]),e[2]=this.add32(h,e[2]),e[3]=this.add32(p,e[3])},t.prototype.cmn=function(e,r,o,s,h,p){return r=this.add32(this.add32(r,e),this.add32(s,p)),this.add32(r<<h|r>>>32-h,o)},t.prototype.ff=function(e,r,o,s,h,p,y){return this.cmn(r&o|~r&s,e,r,h,p,y)},t.prototype.gg=function(e,r,o,s,h,p,y){return this.cmn(r&s|o&~s,e,r,h,p,y)},t.prototype.hh=function(e,r,o,s,h,p,y){return this.cmn(r^o^s,e,r,h,p,y)},t.prototype.ii=function(e,r,o,s,h,p,y){return this.cmn(o^(r|~s),e,r,h,p,y)},t.prototype.md51=function(e){var s,r=e.length,o=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=e.length;s+=64)this.md5cycle(o,this.md5blk(e.substring(s-64,s)));e=e.substring(s-64);var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<e.length;s++)h[s>>2]|=e.charCodeAt(s)<<(s%4<<3);if(h[s>>2]|=128<<(s%4<<3),s>55)for(this.md5cycle(o,h),s=0;s<16;s++)h[s]=0;return h[14]=8*r,this.md5cycle(o,h),o},t.prototype.md5blk=function(e){for(var r=[],o=0;o<64;o+=4)r[o>>2]=e.charCodeAt(o)+(e.charCodeAt(o+1)<<8)+(e.charCodeAt(o+2)<<16)+(e.charCodeAt(o+3)<<24);return r},t.prototype.rhex=function(e){for(var r="0123456789abcdef".split(""),o="",s=0;s<4;s++)o+=r[e>>8*s+4&15]+r[e>>8*s&15];return o},t.prototype.hex=function(e){for(var r=0;r<e.length;r++)e[r]=this.rhex(e[r]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,r){return this.ieCompatibility?this.add32Compat(e,r):this.add32Std(e,r)},t.prototype.add32Std=function(e,r){return e+r&4294967295},t.prototype.add32Compat=function(e,r){var o=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(o>>16)<<16|65535&o},Qe([w.NqP],t.prototype,"init",null),Qe([(0,w.Vu6)("md5")],t)}(w.AS9),je=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yt=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},It=function(l){function t(){return l.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return je(t,l),t.prototype.postConstruct=function(){var e=this,r=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!r),r&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var o=(this.gridOptionsWrapper.getDocument().defaultView||window).location,s=o.hostname,h=void 0===s?"":s,p=o.pathname,y=this.licenseManager.isDisplayWatermark(),S=null!=h.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!p&&-1!==p.indexOf("forceWatermark")||y&&!S},yt([(0,w.fsG)("licenseManager")],t.prototype,"licenseManager",void 0),yt([(0,w.cqo)("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),yt([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),Et={moduleName:w.GXE.EnterpriseCoreModule,beans:[at,Ct],agStackComponents:[{componentName:"AgWatermark",componentClass:It}]};const ht_getTemplate=function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}},qe_getTemplate=function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}},wt_getTemplate=function(l){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:l.width}}]}}},Kn_getTemplate=function(l){var t=l.mergeAcross,e=l.styleId,r=l.data,o={};return t&&(o.MergeAcross=t),e&&(o.StyleID=e),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:o}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:r.type}}]},textNode:r.value}]}};var or={getTemplate:function(l){return{name:"Row",children:l.cells.map(function(e){return Kn_getTemplate(e)})}}};const gr=or;var _r={getTemplate:function(l){var t=l.table,e=l.name,o=t.rows,s=t.columns.map(function(p){return wt_getTemplate(p)}),h=o.map(function(p){return gr.getTemplate(p)});return{name:"Worksheet",children:[{name:"Table",children:s.concat(h)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}};const mi=_r,Dr_getTemplate=function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}},Ii={getTemplate:function(l){var t=l.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},Er={getTemplate:function(l){var t=l.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(h,p){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==p?"Bottom":1==p?"Left":2==p?"Right":"Top",LineStyle:h.lineStyle,Weight:h.weight,Color:h.color}}]}}})}}},Ti={getTemplate:function(l){var t=l.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},no={getTemplate:function(l){var t=l.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},Ur={getTemplate:function(l){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:l.protection.protected,HideFormula:l.protection.hideFormula}}]}}}},Ht={getTemplate:function(l){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:l.numberFormat.format}}]}}}},rt_getTemplate=function(l){var t=l.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:l.name||t}}]}}};var Re=function(){function l(){}return l.prototype.setBeans=function(t){this.beans=t},l.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},l.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},l}(),xe=function(){function l(t){this.groupColumns=[];var r=t.valueService,o=t.gridOptionsWrapper,s=t.processCellCallback,h=t.processHeaderCallback,p=t.processGroupHeaderCallback,y=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=r,this.gridOptionsWrapper=o,this.processCellCallback=s,this.processHeaderCallback=h,this.processGroupHeaderCallback=p,this.processRowGroupCallback=y}return l.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},l.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},l.prototype.extractRowCellValue=function(t,e,r,o,s){var y,h=this.gridOptionsWrapper.isGroupMultiAutoColumn()?s.rowGroupIndex:0;y=s&&s.group&&(e===h&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(s):this.valueService.getValue(t,s);var S=this.processCell(r,s,t,y,this.processCellCallback,o);return null!=S?S:""},l.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},l.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},l.prototype.processCell=function(t,e,r,o,s,h){return s?s({accumulatedRowIndex:t,column:r,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:h}):null!=o?o:""},l}(),oe=function(){function l(){}return l.download=function(t,e){var r=document.defaultView||window;if(r){var o=document.createElement("a"),s=r.URL.createObjectURL(e);o.setAttribute("href",s),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(o),r.setTimeout(function(){r.URL.revokeObjectURL(s)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},l}(),Me=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ze=function(l){function t(e){var r=l.call(this,e)||this;r.isFirstLine=!0,r.result="";var s=e.columnSeparator;return r.suppressQuotes=e.suppressQuotes,r.columnSeparator=s,r}return Me(t,l),t.prototype.addCustomContent=function(e){var r=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(o){r.beginNewLine(),o.forEach(function(s,h){0!==h&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(s.data.value||""),s.mergeAcross&&r.appendEmptyCells(s.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,r,r,w.gTE.EXPORT_TYPE_CSV,o))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?r=e:"function"==typeof e.toString?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r=""),'"'+r.replace(/"/g,'""')+'"');var r},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(xe),ut=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),en=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},gn=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ut(t,l),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),o=this.getData(r),s=new Blob(["\ufeff",o],{type:"text/plain"});return oe.download(this.getFileName(r.fileName),s),o},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var r=this.getMergedParams(e);return this.getData(r)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this;return new ze({columnModel:r.columnModel,valueService:r.valueService,gridOptionsWrapper:r.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},en([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),en([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),en([(0,w.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),en([(0,w.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),en([w.NqP],t.prototype,"postConstruct",null),en([(0,w.Vu6)("csvCreator")],t)}(Re),Nn=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ur=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},qn=(()=>(function(l){l[l.HEADER_GROUPING=0]="HEADER_GROUPING",l[l.HEADER=1]="HEADER",l[l.BODY=2]="BODY"}(qn||(qn={})),qn))(),Gt=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Nn(t,l),t.prototype.serialize=function(e,r){void 0===r&&(r={});var o=this.getColumnsToExport(r.allColumns,r.columnKeys);return w._.compose(this.prepareSession(o),this.prependContent(r),this.exportColumnGroups(r,o),this.exportHeaders(r,o),this.processPinnedTopRows(r,o),this.processRows(r,o),this.processPinnedBottomRows(r,o),this.appendContent(r))(e).parse()},t.prototype.processRow=function(e,r,o,s){var h=this,p=r.shouldRowBeSkipped||function(){return!1},y=this.gridOptionsWrapper,S=y.getContext(),E=y.getApi(),T=y.getColumnApi(),O=y.isGroupRemoveSingleChildren(),F=y.isGroupHideOpenParents(),k=y.isGroupRemoveLowestSingleChildren(),Q=this.columnModel.isPivotMode()?s.leafGroup:!s.group,fe=1===s.allChildrenCount&&(O||k&&s.leafGroup);(r.skipGroups||r.skipRowGroups)&&r.skipGroups&&w._.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var ve={rowIndex:s.rowIndex,rowPinned:s.rowPinned};if(!(!Q&&(r.skipRowGroups||fe||F)||r.onlySelected&&!s.isSelected()||r.rowNodes&&!r.rowNodes.some(function(Nt){return h.rowPositionUtils.sameRow(Nt,ve)})||r.skipPinnedTop&&"top"===s.rowPinned||r.skipPinnedBottom&&"bottom"===s.rowPinned)&&(-1!==s.level||s.leafGroup)&&!p({node:s,api:E,context:S})){var tt=e.onNewBodyRow();if(o.forEach(function(Nt,jt){tt.onColumn(Nt,jt,s)}),r.getCustomContentBelowRow){var Ft=r.getCustomContentBelowRow({node:s,api:E,columnApi:T,context:S});Ft&&e.addCustomContent(Ft)}}},t.prototype.appendContent=function(e){return function(r){var o=e.customFooter||e.appendContent;return o&&(e.customFooter&&w._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),r.addCustomContent(o)),r}},t.prototype.prependContent=function(e){return function(r){var o=e.customHeader||e.prependContent;return o&&(e.customHeader&&w._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),r.addCustomContent(o)),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var o=this;return function(s){if(e.skipColumnGroupHeaders)e.columnGroups&&w._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var h=new w.fkf,p=o.displayedGroupCreator.createDisplayedGroups(r,o.columnModel.getGridBalancedTree(),h,null);o.recursivelyAddHeaderGroups(p,s,e.processGroupHeaderCallback)}return s}},t.prototype.exportHeaders=function(e,r){return function(o){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&w._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var s=o.onNewHeaderRow();r.forEach(function(h,p){s.onColumn(h,p,void 0)})}return o}},t.prototype.processPinnedTopRows=function(e,r){var o=this;return function(s){var h=o.processRow.bind(o,s,e,r);return o.pinnedRowModel.forEachPinnedTopRow(h),s}},t.prototype.processRows=function(e,r){var o=this;return function(s){var h=o.rowModel,p=h.getType(),y=p===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,S=p===w.gTE.ROW_MODEL_TYPE_SERVER_SIDE,E=!y&&e.onlySelected,T=o.processRow.bind(o,s,e,r);return o.columnModel.isPivotMode()?y?h.forEachPivotNode(T):h.forEachNode(T):e.onlySelectedAllPages||E?o.selectionService.getSelectedNodes().forEach(T):y||S?h.forEachNodeAfterFilterAndSort(T):h.forEachNode(T),s}},t.prototype.processPinnedBottomRows=function(e,r){var o=this;return function(s){var h=o.processRow.bind(o,s,e,r);return o.pinnedRowModel.forEachPinnedBottomRow(h),s}},t.prototype.getColumnsToExport=function(e,r){void 0===e&&(e=!1);var o=this.columnModel.isPivotMode();return r&&r.length?this.columnModel.getGridColumns(r):e&&!o?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([w.gTE.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,r,o){var s=[];e.forEach(function(h){!h.getChildren||h.getChildren().forEach(function(y){return s.push(y)})}),e.length>0&&e[0]instanceof w.Exx&&this.doAddHeaderHeader(r,e,o),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,r,o)},t.prototype.doAddHeaderHeader=function(e,r,o){var s=this,h=e.onNewHeaderGroupingRow(),p=0;r.forEach(function(y){var E,S=y;E=o?o({columnGroup:S,api:s.gridOptionsWrapper.getApi(),columnApi:s.gridOptionsWrapper.getColumnApi(),context:s.gridOptionsWrapper.getContext()}):s.columnModel.getDisplayNameForColumnGroup(S,"header");var T=S.getLeafColumns().reduce(function(O,F,k,Q){var de=w._.last(O);return"open"===F.getColumnGroupShow()?(!de||null!=de[1])&&O.push(de=[k]):de&&null==de[1]&&(de[1]=k-1),k===Q.length-1&&de&&null==de[1]&&(de[1]=k),O},[]);h.onColumn(E||"",p++,S.getLeafColumns().length-1,T)})},ur([(0,w.fsG)("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),ur([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),ur([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),ur([(0,w.fsG)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ur([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),ur([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ur([(0,w.Vu6)("gridSerializer")],t)}(w.AS9),vn={moduleName:w.GXE.CsvExportModule,beans:[gn,Gt]},ce=function(){function l(){}return l.createHeader=function(t){void 0===t&&(t={});var o=["version"];return t.version||(t.version="1.0"),t.encoding&&o.push("encoding"),t.standalone&&o.push("standalone"),"<?xml "+o.map(function(h){return h+'="'+t[h]+'"'}).join(" ")+" ?>"},l.createXml=function(t,e){var r=this,o="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(h){Object.keys(h.map).forEach(function(p){o+=r.returnAttributeIfPopulated(h.prefix+p,h.map[p],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(h){o+=r.returnAttributeIfPopulated(h,t.properties.rawMap[h],e)}));var s="<"+t.name+o;return t.children||null!=t.textNode?null!=t.textNode?s+">"+t.textNode+"</"+t.name+">\r\n":(s+=">\r\n",t.children&&t.children.forEach(function(h){s+=r.createXml(h,e)}),s+"</"+t.name+">\r\n"):s+"/>\r\n"},l.returnAttributeIfPopulated=function(t,e,r){if(!e&&""!==e&&0!==e)return"";var o=e;return"boolean"==typeof e&&r&&(o=r(e))," "+t+'="'+o+'"'},l}(),pt=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),We=function(){function l(){}return l.addFolders=function(t){t.forEach(this.addFolder.bind(this))},l.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},l.addFile=function(t,e,r){void 0===r&&(r=!1),this.files.push({path:t,created:new Date,content:e,isBase64:r})},l.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),r=this.buildUint8Array(e);return this.clearStream(),new Blob([r],{type:t})},l.clearStream=function(){this.folders=[],this.files=[]},l.buildFileStream=function(t){var e,r;void 0===t&&(t="");var o=this.folders.concat(this.files),s=o.length,h="",p=0,y=0;try{for(var S=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),E=S.next();!E.done;E=S.next()){var O=this.getHeader(E.value,p),F=O.fileHeader,k=O.folderHeader,Q=O.content;p+=F.length+Q.length,y+=k.length,t+=F+Q,h+=k}}catch(he){e={error:he}}finally{try{E&&!E.done&&(r=S.return)&&r.call(S)}finally{if(e)throw e.error}}return t+h+this.buildFolderEnd(s,y,p)},l.getHeader=function(t,e){var r=t.content,o=t.path,s=t.created,h=t.isBase64,y=w._.decToHex,S=(0,w._.utf8_encode)(o),E=S!==o,T=this.convertTime(s),O=this.convertDate(s),F="";if(E){var k=y(1,1)+y(this.getFromCrc32Table(S),4)+S;F="up"+y(k.length,2)+k}var Q=r?this.getConvertedContent(r,h):{size:0,content:""},de=Q.size,he=Q.content,fe="\n\0"+(E?"\0\b":"\0\0")+"\0\0"+y(T,2)+y(O,2)+y(de?this.getFromCrc32Table(he):0,4)+y(de,4)+y(de,4)+y(S.length,2)+y(F.length,2);return{fileHeader:"PK\x03\x04"+fe+S+F,folderHeader:"PK\x01\x02\x14\0"+fe+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+y(e,4)+S+F,content:he||""}},l.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},l.buildFolderEnd=function(t,e,r){var o=w._.decToHex;return"PK\x05\x06\0\0\0\0"+o(t,2)+o(t,2)+o(e,4)+o(r,4)+"\0\0"},l.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),r=0;r<e.length;r++)e[r]=t.charCodeAt(r);return e},l.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,r=new Uint8Array(e),o=0;o<e;o++)r[o]=t.charCodeAt(o);var s=-1;for(o=0;o<e;o++)s=s>>>8^pt[255&(s^r[o])];return-1^s},l.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},l.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},l.folders=[],l.files=[],l}(),kt=function(){function l(){}return l.createExcel=function(t,e){var r=this.excelXmlHeader(),o=Dr_getTemplate(),s=qe_getTemplate(),h=this.workbook(o,s,t,e);return""+r+ce.createXml(h,function(p){return p?"1":"0"})},l.workbook=function(t,e,r,o){var s=[t,e,this.stylesXmlElement(r)].concat(mi.getTemplate(o));return Object.assign({},ht_getTemplate(),{children:s})},l.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},l.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map(function(r){return e.styleXmlElement(r)}):[]}},l.styleXmlElement=function(t){var e=w._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},rt_getTemplate(t),{children:e})},l.addProperty=function(t,e){return function(r){return e[t]?r.concat({alignment:Ii,borders:Er,font:Ti,interior:no,numberFormat:Ht,protection:Ur}[t].getTemplate(e)):r}},l.factoryMode=w.nPL.SINGLE_SHEET,l}(),Hn={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},St=function(l){return Math.round(96*l/72)},_n=function(l){return Math.ceil(9525*l)},pi=function(l,t){if(t)return function(l){return Math.round(72*l/96)}("number"==typeof t?t:t({rowIndex:l}))},vt=function(l){return""+ce.createHeader({encoding:"UTF-8",standalone:"yes"})+ce.createXml(l)},$e=function(l){var r=String.fromCharCode,o=Math.floor(l/26),s=l%26;return o&&26!==l?s?o<26?r(65+o-1)+r(65+s-1):$e(o)+r(65+s-1):$e(o-1)+"Z":r(65+l-1)},bt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ge=function(){return Ge=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Ge.apply(this,arguments)},Wt=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},ge=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Wt(arguments[t]));return l},Mt=function(l){function t(e){var r=l.call(this,e)||this;return r.mixedStyles={},r.mixedStyleCounter=0,r.rows=[],r.config=Object.assign({},e),r.stylesByIds={},r.config.baseExcelStyles.forEach(function(o){r.stylesByIds[o.id]=o}),r.excelStyles=ge(r.config.baseExcelStyles),r}return bt(t,l),t.prototype.addCustomContent=function(e){var r=this;e.forEach(function(o){var s=r.rows.length+1;r.rows.push({height:pi(s,r.config.rowHeight),cells:o.map(function(h,p){var y=r.addImage(s,r.columnsToExport[p],h.data.value),S=Ge({},h);return y&&(S.data={},null!=y.value?S.data.value=y.value:(S.data.type="e",S.data.value=null)),S})})})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,r=[];return this.rows.push({cells:r,height:pi(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(o,s,h,p){var y=e.config.styleLinker(qn.HEADER_GROUPING,1,"grouping-"+o,void 0,void 0);r.push(Ge(Ge({},e.createMergedCell(e.getStyleId(y),e.getDataTypeForValue("string"),o,h)),{collapsibleRanges:p}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(e){var r=this;l.prototype.prepare.call(this,e),this.columnsToExport=ge(e),this.cols=e.map(function(o,s){return r.convertColumnToExcel(o,s)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(o,s){return Math.max(o,s.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,r){var o=this.config.columnWidth;return o?"number"==typeof o?{width:o}:{width:o({column:e,index:r})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,r){var o=this;return function(s,h){var p=o.extractHeaderValue(s),y=o.config.styleLinker(qn.HEADER,e,p,s,void 0);r.push(o.createCell(o.getStyleId(y),o.getDataTypeForValue("string"),p))}},t.prototype.onNewRow=function(e,r){var o=[];return this.rows.push({cells:o,height:pi(this.rows.length+1,r)}),{onColumn:e.bind(this,this.rows.length,o)()}},t.prototype.onNewBodyColumn=function(e,r){var o=this,s=0;return function(h,p,y){if(s>0)s-=1;else{var S=o.extractRowCellValue(h,p,e,w.gTE.EXPORT_TYPE_EXCEL,y),E=o.config.styleLinker(qn.BODY,e,S,h,y),T=o.getStyleId(E),O=h.getColSpan(y),F=o.addImage(e,h,S);F?r.push(o.createCell(T,o.getDataTypeForValue(F.value),null==F.value?"":F.value)):O>1?(s=O-1,r.push(o.createMergedCell(T,o.getDataTypeForValue(S),S,O-1))):r.push(o.createCell(T,o.getDataTypeForValue(S),S))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var r=e.join("-");return this.mixedStyles[r]||this.addNewMixedStyle(e),this.mixedStyles[r].excelID},t.prototype.addNewMixedStyle=function(e){var r=this;this.mixedStyleCounter+=1;var o="mixedStyle"+this.mixedStyleCounter,s={};e.forEach(function(p){r.excelStyles.forEach(function(y){y.id===p&&w._.mergeDeep(s,w._.deepCloneObject(y))})}),s.id=o,s.name=o;var h=e.join("-");this.mixedStyles[h]={excelID:o,key:h,result:s},this.excelStyles.push(s),this.stylesByIds[o]=s},t}(xe),Tn=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zn=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Tn(t,l),t.prototype.createExcel=function(e){return kt.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return w._.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,r,o){if(this.isFormula(o))return"Formula";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,r,o){var s=this.getStyleById(e),h=this.getType(r,s,o)||r;return{styleId:s?e:void 0,data:{type:h,value:this.getValueTransformed(h,o)}}},t.prototype.getValueTransformed=function(e,r){var p,o=this;switch(e){case"String":return function(p){if(o.config.suppressTextAsCDATA)return w._.escapeString(p);var y="<![CDATA[",S="]]>",E=new RegExp(S,"g");return y+String(p).replace(E,"]]"+S+y+">")+S}(r);case"Number":return Number(r).valueOf()+"";case"Boolean":return(p=r)&&"0"!==p&&"false"!==p?"1":"0";default:return r}},t.prototype.createMergedCell=function(e,r,o,s){return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:o},mergeAcross:s}},t}(Mt),pr={getTemplate:function(l){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:l},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}};const Mr=pr,Bi_getTemplate=function(l){return{name:l.name,properties:{rawMap:{Extension:l.Extension,PartName:l.PartName,ContentType:l.ContentType}}}};var Xr=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Sr={getTemplate:function(l){var t=new Array(l).fill(void 0).map(function(p,y){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(y+1)+".xml"}}),e=sr.worksheetImages.size,r={};sr.workbookImageIds.forEach(function(p){r[p.type]=!0});var o=new Array(e).fill(void 0).map(function(p,y){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(y+1)+".xml"}}),h=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Xr(arguments[t]));return l}(Object.keys(r).map(function(p){return{name:"Default",ContentType:"image/"+p,Extension:p}}),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],o,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(p){return Bi_getTemplate(p)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:h}}};const ui=Sr;var Zi=function(l,t){return{name:"xdr:"+l,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},ii=function(l){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(l.recolor&&l.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},Or=function(l,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:l.id,descr:null!=l.altText?l.altText:void 0}},children:[ii(l)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},fr=function(l){if(l.saturation||l.tint){var t=[];return l.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*l.saturation}}}),l.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*l.tint}}}),t}},lo=function(l,t){var e;if(l.transparency){var r=Math.min(Math.max(l.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*r)}}}]}if(l.recolor)switch(e||(e=[]),l.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(function(l,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:l.color}},children:fr(l)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:fr(t)}]}}({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},Qr=function(l,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return l.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(l.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},Wi=function(l,t,e,r){return{name:"xdr:pic",children:[Or(l,t+1),lo(l,e+1),Qr(l,r)]}},$i={getTemplate:function(l){var t=l.sheetIndex,e=sr.worksheetImages.get(t),r=sr.worksheetImageIds.get(t),o=e.map(function(s,h){var p=function(l){l.fitCell=!!l.fitCell||!l.width||!l.height;var t=l.position,e=void 0===t?{}:t,r=l.fitCell,o=l.width,s=void 0===o?0:o,h=l.height,p=void 0===h?0:h,y=l.totalHeight,S=l.totalWidth,E=e.offsetX,T=void 0===E?0:E,O=e.offsetY,F=void 0===O?0:O,k=e.row,Q=void 0===k?1:k,de=e.rowSpan,he=void 0===de?1:de,fe=e.column,ve=void 0===fe?1:fe,Be=e.colSpan,ct=void 0===Be?1:Be;return{from:{row:Q-1,col:ve-1,offsetX:_n(T),offsetY:_n(F)},to:{row:Q-1+(r?1:he-1),col:ve-1+(r?1:ct-1),offsetX:_n(s+T),offsetY:_n(p+F)},height:_n(y||p),width:_n(S||s)}}(s);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[Zi("from",p.from),Zi("to",p.to),Wi(s,h,r.get(s.id).index,p),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:o}}};const ko=$i;var ti=function(l){var t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(l,4);return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}};const zo_getTemplate=function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[ti(["dk1","sysClr","windowText","000000"]),ti(["lt1","sysClr","window","FFFFFF"]),ti(["dk2","srgbClr","44546A"]),ti(["lt2","srgbClr","E7E6E6"]),ti(["accent1","srgbClr","4472C4"]),ti(["accent2","srgbClr","ED7D31"]),ti(["accent3","srgbClr","A5A5A5"]),ti(["accent4","srgbClr","FFC000"]),ti(["accent5","srgbClr","5B9BD5"]),ti(["accent6","srgbClr","70AD47"]),ti(["hlink","srgbClr","0563C1"]),ti(["folHlink","srgbClr","954F72"])]}};var rn=function(l){var t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(l,4);return{name:"a:"+t[0],properties:{rawMap:{script:t[2],typeface:t[1],panose:t[3]}}}},Po={getTemplate:function(){var l=w._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[rn(["latin","Calibri Light",void 0,"020F0302020204030204"]),rn(["ea",""]),rn(["cs",""]),rn(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),rn(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),rn(["font",l("\u7b49\u7ebf Light"),"Hans"]),rn(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),rn(["font","Times New Roman","Arab"]),rn(["font","Times New Roman","Hebr"]),rn(["font","Tahoma","Thai"]),rn(["font","Nyala","Ethi"]),rn(["font","Vrinda","Beng"]),rn(["font","Shruti","Gujr"]),rn(["font","MoolBoran","Khmr"]),rn(["font","Tunga","Knda"]),rn(["font","Raavi","Guru"]),rn(["font","Euphemia","Cans"]),rn(["font","Plantagenet Cherokee","Cher"]),rn(["font","Microsoft Yi Baiti","Yiii"]),rn(["font","Microsoft Himalaya","Tibt"]),rn(["font","MV Boli","Thaa"]),rn(["font","Mangal","Deva"]),rn(["font","Gautami","Telu"]),rn(["font","Latha","Taml"]),rn(["font","Estrangelo Edessa","Syrc"]),rn(["font","Kalinga","Orya"]),rn(["font","Kartika","Mlym"]),rn(["font","DokChampa","Laoo"]),rn(["font","Iskoola Pota","Sinh"]),rn(["font","Mongolian Baiti","Mong"]),rn(["font","Times New Roman","Viet"]),rn(["font","Microsoft Uighur","Uigh"]),rn(["font","Sylfaen","Geor"]),rn(["font","Arial","Armn"]),rn(["font","Leelawadee UI","Bugi"]),rn(["font","Microsoft JhengHei","Bopo"]),rn(["font","Javanese Text","Java"]),rn(["font","Segoe UI","Lisu"]),rn(["font","Myanmar Text","Mymr"]),rn(["font","Ebrima","Nkoo"]),rn(["font","Nirmala UI","Olck"]),rn(["font","Ebrima","Osma"]),rn(["font","Phagspa","Phag"]),rn(["font","Estrangelo Edessa","Syrn"]),rn(["font","Estrangelo Edessa","Syrj"]),rn(["font","Estrangelo Edessa","Syre"]),rn(["font","Nirmala UI","Sora"]),rn(["font","Microsoft Tai Le","Tale"]),rn(["font","Microsoft New Tai Lue","Talu"]),rn(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[rn(["latin","Calibri",void 0,"020F0502020204030204"]),rn(["ea",""]),rn(["cs",""]),rn(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),rn(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),rn(["font",l("\u7b49\u7ebf"),"Hans"]),rn(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),rn(["font","Arial","Arab"]),rn(["font","Arial","Hebr"]),rn(["font","Tahoma","Thai"]),rn(["font","Nyala","Ethi"]),rn(["font","Vrinda","Beng"]),rn(["font","Shruti","Gujr"]),rn(["font","DaunPenh","Khmr"]),rn(["font","Tunga","Knda"]),rn(["font","Raavi","Guru"]),rn(["font","Euphemia","Cans"]),rn(["font","Plantagenet Cherokee","Cher"]),rn(["font","Microsoft Yi Baiti","Yiii"]),rn(["font","Microsoft Himalaya","Tibt"]),rn(["font","MV Boli","Thaa"]),rn(["font","Mangal","Deva"]),rn(["font","Gautami","Telu"]),rn(["font","Latha","Taml"]),rn(["font","Estrangelo Edessa","Syrc"]),rn(["font","Kalinga","Orya"]),rn(["font","Kartika","Mlym"]),rn(["font","DokChampa","Laoo"]),rn(["font","Iskoola Pota","Sinh"]),rn(["font","Mongolian Baiti","Mong"]),rn(["font","Arial","Viet"]),rn(["font","Microsoft Uighur","Uigh"]),rn(["font","Sylfaen","Geor"]),rn(["font","Arial","Armn"]),rn(["font","Leelawadee UI","Bugi"]),rn(["font","Microsoft JhengHei","Bopo"]),rn(["font","Javanese Text","Java"]),rn(["font","Segoe UI","Lisu"]),rn(["font","Myanmar Text","Mymr"]),rn(["font","Ebrima","Nkoo"]),rn(["font","Nirmala UI","Olck"]),rn(["font","Ebrima","Osma"]),rn(["font","Phagspa","Phag"]),rn(["font","Estrangelo Edessa","Syrn"]),rn(["font","Estrangelo Edessa","Syrj"]),rn(["font","Estrangelo Edessa","Syre"]),rn(["font","Nirmala UI","Sora"]),rn(["font","Microsoft Tai Le","Tale"]),rn(["font","Microsoft New Tai Lue","Talu"]),rn(["font","Ebrima","Tfng"])]}]}}};const yo=Po;var yn=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},bi=function(l,t,e){return{name:"a:"+l,properties:{rawMap:{val:t}},children:e}},ia=function(l){var t=yn(l,6),e=t[0],r=t[1],s=t[3],h=t[4],p=t[5],y=[];return y.push(bi("satMod",t[2])),s&&y.push(bi("lumMod",s)),h&&y.push(bi("tint",h)),p&&y.push(bi("shade",p)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:r}},children:y}]}},Vo=function(l,t){return{name:"a:solidFill",children:[bi("schemeClr",l,t)]}},Ga=function(l){var t=yn(l,5),e=t[0],r=t[1],o=t[2],s=t[3],p=yn(t[4],2),y=p[0],S=p[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[ia(r),ia(o),ia(s)]},{name:"a:lin",properties:{rawMap:{ang:y,scaled:S}}}]}},Ye=function(l){var t=yn(l,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[Vo("phClr"),bi("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},ns=function(l){var t=[];if(l){var e=yn(l,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[bi("srgbClr","000000",[bi("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}};const ys_getTemplate=function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[Vo("phClr"),Ga(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),Ga(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[Ye(["6350","flat","sng","ctr"]),Ye(["12700","flat","sng","ctr"]),Ye(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[ns(),ns(),ns(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[Vo("phClr"),Vo("phClr",[bi("tint","95000"),bi("satMod","170000")]),Ga(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}},Hs_getTemplate=function(){return{name:"a:themeElements",children:[zo_getTemplate(),yo.getTemplate(),ys_getTemplate()]}},Pl_getTemplate=function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[Hs_getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}};var tc=function(l){var t=[];return l.forEach(function(e,r){var o=r.toString(),s={name:"t",textNode:w._.utf8_encode(w._.escapeString(o))};o.trim().length!==o.length&&(s.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[s]})}),t},fa={getTemplate:function(l){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.size,uniqueCount:l.size}},children:tc(l)}}};const uo=fa,dl_getTemplate=function(l){return{name:"numFmt",properties:{rawMap:{formatCode:l.formatCode,numFmtId:l.numFmtId}}}};var nc={getTemplate:function(l){return{name:"numFmts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return dl_getTemplate(t)})}}};const _s=nc,Wa_getTemplate=function(l){var r=l.color,s=l.fontName,p=l.family,y=l.scheme,S=l.italic,E=l.bold,T=l.strikeThrough,O=l.outline,F=l.shadow,k=l.underline,Q=l.verticalAlign,de=[{name:"sz",properties:{rawMap:{val:l.size}}},{name:"color",properties:{rawMap:{theme:l.colorTheme,rgb:void 0===r?"FF000000":r}}},{name:"name",properties:{rawMap:{val:void 0===s?"Calibri":s}}}];return p&&de.push({name:"family",properties:{rawMap:{val:p}}}),y&&de.push({name:"scheme",properties:{rawMap:{val:y}}}),S&&de.push({name:"i"}),E&&de.push({name:"b"}),T&&de.push({name:"strike"}),O&&de.push({name:"outline"}),F&&de.push({name:"shadow"}),k&&de.push({name:"u",properties:{rawMap:{val:k}}}),Q&&de.push({name:"vertAlign",properties:{rawMap:{val:Q}}}),{name:"font",children:de}};var Dc={getTemplate:function(l){return{name:"fonts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Wa_getTemplate(t)})}}};const ws=Dc,aa_getTemplate=function(l){var e=l.fgTheme,r=l.fgTint,o=l.fgRgb,s=l.bgRgb,h=l.bgIndexed,p={name:"patternFill",properties:{rawMap:{patternType:l.patternType}}};return(e||r||o)&&(p.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:r,rgb:o}}}]),(h||s)&&(p.children||(p.children=[]),p.children.push({name:"bgColor",properties:{rawMap:{indexed:h,rgb:s}}})),{name:"fill",children:[p]}};var Ma={getTemplate:function(l){return{name:"fills",properties:{rawMap:{count:l.length}},children:l.map(function(t){return aa_getTemplate(t)})}}};const rs=Ma;var ga={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},Bs=["Dashed","DashDot","DashDotDot"],os={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},Bo={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},Pa={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},Xo=function(l){return null==l?l:("#"===l.charAt(0)&&(l=l.substr(1)),6===l.length?"FF"+l:l)},To=function(l,t){if(!l)return"thin";var e=function(l){switch(l){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(t),r=ga[l];return"Continuous"===l?e:"medium"===e&&-1!==Bs.indexOf(r)?"medium"+r:r.charAt(0).toLowerCase()+r.substr(1)},hl=function(l){return Bo[l]||"general"},pl=function(l){return Pa[l]||void 0},ho=function(l){return{name:"color",properties:{rawMap:{rgb:Xo(l||"#000000")}}}},Ws={getTemplate:function(l){var t=l.left,e=l.right,r=l.top,o=l.bottom,s=l.diagonal,h=t?[ho(t.color)]:void 0,p=e?[ho(e.color)]:void 0,y=r?[ho(r.color)]:void 0,S=o?[ho(o.color)]:void 0,E=s?[ho(s.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:h},{name:"right",properties:{rawMap:{style:e&&e.style}},children:p},{name:"top",properties:{rawMap:{style:r&&r.style}},children:y},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:S},{name:"diagonal",properties:{rawMap:{style:s&&s.style}},children:E}]}}};const Wo=Ws;var _o={getTemplate:function(l){return{name:"borders",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Wo.getTemplate(t)})}}};const Zo=_o;var as=function(l){var e=["Context","LeftToRight","RightToLeft"].indexOf(l);return Math.max(e,0)},Ua={getTemplate:function(l){var t=l.horizontal,e=l.indent,r=l.readingOrder,o=l.rotate,s=l.shrinkToFit,h=l.vertical,p=l.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&hl(t),indent:e,readingOrder:r&&as(r),textRotation:o,shrinkToFit:s,vertical:h&&pl(h),wrapText:p}}}}};const Mi=Ua,Ee_getTemplate=function(l){return{name:"protection",properties:{rawMap:{hidden:!0===l.hideFormula?1:0,locked:!1===l.protected?0:1}}}};var ee={getTemplate:function(l){var t=l.alignment,e=l.borderId,r=l.fillId,o=l.fontId,s=l.numFmtId,h=l.protection,p=l.xfId,y=[];return t&&y.push(Mi.getTemplate(t)),h&&y.push(Ee_getTemplate(h)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:h?1:void 0,applyBorder:e?1:void 0,applyFill:r?1:void 0,borderId:e,fillId:r,applyFont:o?1:void 0,fontId:o,applyNumberFormat:s?1:void 0,numFmtId:s,xfId:p}},children:y.length?y:void 0}}};const Pe=ee;var Ot={getTemplate:function(l){return{name:"cellStyleXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Pe.getTemplate(t)})}}};const an=Ot;var mn={getTemplate:function(l){return{name:"cellXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Pe.getTemplate(t)})}}};const tr=mn,ni_getTemplate=function(l){return{name:"cellStyle",properties:{rawMap:{builtinId:l.builtinId,name:l.name,xfId:l.xfId}}}};var Yr={getTemplate:function(l){return{name:"cellStyles",properties:{rawMap:{count:l.length}},children:l.map(function(t){return ni_getTemplate(t)})}}};const di=Yr;var Ei,Pi,va,io,mr,jo,Aa,ss,Di,ji=function(){return ji=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},ji.apply(this,arguments)},ne=function(l,t){return-1!==l.indexOf("mixedStyle")&&t>1&&(l+="_"+t),l},q=function(){Ei={base:0},Pi=[],va=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],io=[{patternType:"none"},{patternType:"gray125"}],mr=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],jo=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],Aa=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],ss=[{builtinId:0,name:"Normal",xfId:0}]},Rr=function(l){var t=l.alignment,e=l.borders,r=l.font,o=l.interior,s=l.numberFormat,h=l.protection,p=l.id,y=0,S=0,E=0,T=0;!p||(p=ne(p,Di),null==Ei[p]&&(o&&(y=function(l){var t=function(l){return l?os[l]||l:"none"}(l.pattern),e=Xo(l.color),r=Xo(l.patternColor),o=io.findIndex(function(s){return!(s.patternType!=t||s.fgRgb!=e||s.bgRgb!=r)});return-1===o&&(o=io.length,io.push({patternType:t,fgRgb:e,bgRgb:r})),o}(o)),e&&(S=function(l){var s,h,p,y,S,E,T,O,t=l.borderBottom,e=l.borderTop,r=l.borderLeft,o=l.borderRight;r&&(p=To(r.lineStyle,r.weight),T=Xo(r.color)),o&&(y=To(o.lineStyle,o.weight),O=Xo(o.color)),t&&(s=To(t.lineStyle,t.weight),S=Xo(t.color)),e&&(h=To(e.lineStyle,e.weight),E=Xo(e.color));var F=mr.findIndex(function(k){var Q=k.left,de=k.right,he=k.top,fe=k.bottom;if(!Q&&(p||T)||!de&&(y||O)||!he&&(h||E)||!fe&&(s||S))return!1;var ve=Q||{},tt=de||{},jt=he||{},Dn=fe||{};return!(ve.style!=p||ve.color!=T||tt.style!=y||tt.color!=O||jt.style!=h||jt.color!=E||Dn.style!=s||Dn.color!=S)});return-1===F&&(F=mr.length,mr.push({left:{style:p,color:T},right:{style:y,color:O},top:{style:h,color:E},bottom:{style:s,color:S},diagonal:{style:void 0,color:void 0}})),F}(e)),r&&(E=function(l){var t=l.fontName,e=void 0===t?"Calibri":t,r=l.color,o=l.size,s=l.bold,h=l.italic,p=l.outline,y=l.shadow,S=l.strikeThrough,E=l.underline,T=l.family,O=l.verticalAlign,F=e&&w._.utf8_encode(e),k=Xo(r),Q=function(l){if(void 0!==l){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(l||"Automatic");return Math.max(e,0)}}(T),de=E?E.toLocaleLowerCase():void 0,he=O?O.toLocaleLowerCase():void 0,fe=va.findIndex(function(ve){return!(ve.fontName!=F||ve.color!=k||ve.size!=o||ve.bold!=s||ve.italic!=h||ve.outline!=p||ve.shadow!=y||ve.strikeThrough!=S||ve.underline!=de||ve.verticalAlign!=he||ve.family!=Q)});return-1===fe&&(fe=va.length,va.push({fontName:F,color:k,size:o,bold:s,italic:h,outline:p,shadow:y,strikeThrough:S,underline:de,verticalAlign:he,family:null!=Q?Q.toString():void 0})),fe}(r)),s&&(T=function(l){if(l=w._.utf8_encode(l),Hn[l])return Hn[l];var t=Pi.findIndex(function(e){return e.formatCode===l});return-1===t?Pi.push({formatCode:l,numFmtId:t=Pi.length+164}):t=Pi[t].numFmtId,t}(s.format)),Ei[p]=Aa.length,Aa.push({alignment:t,borderId:S||0,fillId:y||0,fontId:E||0,numFmtId:T||0,protection:h,xfId:0})))},bo={getTemplate:function(l){var t=_s.getTemplate(Pi),e=ws.getTemplate(va.map(function(y){return ji(ji({},y),{size:null!=y.size?y.size:l})})),r=rs.getTemplate(io),o=Zo.getTemplate(mr),s=an.getTemplate(jo),h=tr.getTemplate(Aa),p=di.getTemplate(ss);return q(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,r,o,s,h,p,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},Ao=function(l,t){return Ei[ne(l,t)]||0};const Ra=bo,ae_getTemplate=function(l,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:l,sheetId:e,"r:id":"rId"+e}}}};var X={getTemplate:function(l){return{name:"sheets",children:l.map(function(t,e){return ae_getTemplate(t,e)})}}};const Ve=X;var _t={getTemplate:function(l){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[Ve.getTemplate(l)]}}};const nn=_t;var Jr={getTemplate:function(l){var t=l.min,e=l.max,r=l.outlineLevel,o=l.s,s=l.width,h=l.hidden,p=l.bestFit,y=1,S="0";return s>1&&(y=function(l){return Math.ceil((l-12)/7+1)}(s),S="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:null!=r?r:void 0,width:y,style:o,hidden:h?"1":"0",bestFit:p?"1":"0",customWidth:S}}}}};const se=Jr;var L={getTemplate:function(l,t,e){var r=l.ref,o=l.data,s=l.styleId,h=o.type,p=o.value,y=h;"f"===h?y="str":h.charAt(0)===h.charAt(0).toUpperCase()&&(y=function(l){var t=l.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(h));var E,S={name:"c",properties:{rawMap:{r,t:"empty"===y?void 0:y,s:s?Ao(s,e):void 0}}};return"empty"===y?S:(E="str"===y&&"f"===h?[{name:"f",textNode:w._.escapeString(w._.utf8_encode(p))}]:"inlineStr"===y?[{name:"is",children:[{name:"t",textNode:w._.escapeString(w._.utf8_encode(p))}]}]:[{name:"v",textNode:p}],Object.assign({},S,{children:E}))}};const $=L;var me=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},He=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(me(arguments[t]));return l},ft=function(l){return""!==l.data.value||void 0!==l.styleId},Bt={getTemplate:function(l,t,e){var r=l.index,o=l.collapsed,s=l.hidden,h=l.height,p=l.s,y=l.cells,S=void 0===y?[]:y;return function(l,t){for(var e=[],r=0,o=0;o<l.length;o++)(s=l[o]).mergeAcross&&(e.push({pos:o,excelPos:r}),r+=s.mergeAcross),r++;if(e.length)for(o=e.length-1;o>=0;o--){for(var h=[],s=l[e[o].pos],p=1;p<=s.mergeAcross;p++)h.push({ref:""+$e(e[o].excelPos+1+p)+(t+1),styleId:s.styleId,data:{type:"empty",value:null}});h.length&&l.splice.apply(l,He([e[o].pos+1,0],h))}}(S,t),{name:"row",properties:{rawMap:{r,collapsed:o,hidden:s?"1":"0",ht:h,customHeight:null!=h?"1":"0",s:p,customFormat:null!=p?"1":"0"}},children:S.filter(ft).map(function(T,O){return $.getTemplate(T,O,e)})}}};const tn=Bt,Bn_getTemplate=function(l){return{name:"mergeCell",properties:{rawMap:{ref:l}}}};var Wr=function(l){return!l||"Portrait"!==l&&"Landscape"!==l?"portrait":l.toLocaleLowerCase()},wr=function(l){if(null==l)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(l);return-1===e?1:e+1},So=function(l){return l.reduce(function(t,e){var r=function(l){return"Center"===l?"C":"Right"===l?"R":"L"}(e.position),o=function(l,t){return t&&(l+="&amp;&quot;",l+=t.fontName||"Calibri",l+=t.bold!==t.italic?t.bold?",Bold":",Italic":t.bold?",Bold Italic":",Regular",l+="&quot;",t.size&&(l+="&amp;"+t.size),t.strikeThrough&&(l+="&amp;S"),t.underline&&(l+="&amp;"+("Double"===t.underline?"E":"U")),t.color&&(l+="&amp;K"+t.color.replace("#","").toUpperCase())),l}(t+"&amp;"+r,e.font);return""+o+w._.escapeString(function(l){return w._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,r){l=l.replace(e,r)}),l}(e.value))},"")},sa=function(l){var e=[];return["all","first","even"].forEach(function(r){var o=l[r],s="all"===r?"odd":r;!o||!o.header&&!o.footer||w._.iterateObject(o,function(h,p){var y=""+h.charAt(0).toUpperCase()+h.slice(1);p&&e.push({name:""+s+y,properties:{rawMap:{"xml:space":"preserve"}},textNode:So(p)})})}),e},Ji={getTemplate:function(l){var e=l.currentSheet,r=l.margins,o=void 0===r?{}:r,s=l.pageSetup,h=l.headerFooterConfig,p=l.worksheet.table,y=p.rows,S=p.columns,E=S&&S.length?function(l,t){var e=[],r=[];l.forEach(function(h,p){var E,y=h.cells,S=0;h.index=p+1,y.forEach(function(T,O){var F=O+S+1,k=$e(F),Q=p+1;if(T.mergeAcross){var de=$e(O+(S+=T.mergeAcross)+1);e.push(""+k+Q+":"+de+Q)}t[F-1]||(t[F-1]={});var he=T.collapsibleRanges;he&&he.forEach(function(fe){r.push([F+fe[0],F+fe[1]])}),(E=t[F-1]).min=F,E.max=F,T.ref=""+k+Q})}),r.sort(function(h,p){return h[0]!==p[0]?h[0]-p[0]:p[1]-h[1]});var o=new Map,s=new Map;return r.filter(function(h){var p=h.toString();return!o.get(p)&&(o.set(p,!0),!0)}).forEach(function(h){var p=t.find(function(S){return S.min==h[0]&&S.max==h[1]}),y=s.get(h[0]);t.push({min:h[0],max:h[1],outlineLevel:y||1,width:(p||{width:100}).width}),s.set(h[0],(y||0)+1)}),e}(y,S):[],T=w._.compose(function(l){return function(t){return l.length&&t.push({name:"cols",children:l.map(function(e){return se.getTemplate(e)})}),t}}(S),function(l,t){return function(e){return l.length&&e.push({name:"sheetData",children:l.map(function(r,o){return tn.getTemplate(r,o,t)})}),e}}(y,e+1),function(l){return function(t){return l.length&&t.push({name:"mergeCells",properties:{rawMap:{count:l.length}},children:l.map(function(e){return Bn_getTemplate(e)})}),t}}(E),function(l){return function(t){var e=l.top,o=l.right,h=l.bottom,y=l.left,E=l.header,O=l.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===h?.75:h,footer:void 0===O?.3:O,header:void 0===E?.3:E,left:void 0===y?.7:y,right:void 0===o?.7:o,top:void 0===e?.75:e}}}),t}}(o),function(l){return function(t){return l&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:Wr(l.orientation),paperSize:wr(l.pageSize)}}}),t}}(s),function(l){return function(t){return l?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=l.first?1:0,differentOddEven:null!=l.even?1:0}},children:sa(l)}),t):t}}(h),function(l){return function(t){return sr.worksheetImages.get(l)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(e));return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:T([])}}};const Al=Ji,js_getTemplate=function(l){return{name:"Relationship",properties:{rawMap:{Id:l.Id,Type:l.Type,Target:l.Target}}}};var Us={getTemplate:function(l){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:l.map(function(e){return js_getTemplate(e)})}}};const nr=Us;var Tr=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},sr=function(){function l(){}return l.createExcel=function(t,e,r,o,s){return this.addSheetName(e),function(l,t){1===(Di=t)&&q(),l.forEach(Rr)}(t,this.sheetNames.length),this.createWorksheet(e,r,o,s)},l.buildImageMap=function(t,e,r,o,s){var h=this.sheetNames.length,p=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:o.indexOf(r)+1}));var y=t;if(function(l,t){var e=l.position,r=e.colSpan,o=e.column;if(l.width)if(r)for(var s=t.slice(o-1,o+r-1),h=0,p=0;p<s.length;p++){var y=s[p].getActualWidth();if(l.width<h+y){l.position.colSpan=p+1,l.totalWidth=l.width,l.width=l.totalWidth-h;break}h+=y}else l.totalWidth=l.width}(y,o),function(l,t){var e=l.position,r=e.rowSpan,o=e.row;if(l.height)if(r)for(var s=0,h=0,p=o;p<o+r;p++){var y=St(pi(p,t)||20);if(l.height<s+y){l.position.rowSpan=h+1,l.totalHeight=l.height,l.height=l.totalHeight-s;break}s+=y,h++}else l.totalHeight=l.height}(y,s),p){var S=p.find(function(E){return E.sheetId===h});S?S.image.push(y):p.push({sheetId:h,image:[y]})}else this.images.set(y.id,[{sheetId:h,image:[y]}]),this.workbookImageIds.set(y.id,{type:y.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(h,y)},l.buildSheetImageMap=function(t,e){var r=this.worksheetImageIds.get(t);r||this.worksheetImageIds.set(t,r=new Map);var o=this.worksheetImages.get(t);o?(o.push(e),r.get(e.id)||r.set(e.id,{index:r.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),r.set(e.id,{index:0,type:e.imageType}))},l.addSheetName=function(t){for(var e=t.name,r="";-1!==this.sheetNames.indexOf(e+r);)if(""===r)r="_1";else{var o=parseInt(r.slice(1),10);r="_"+(o+1)}t.name+=r,this.sheetNames.push(t.name)},l.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},l.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=w.nPL.SINGLE_SHEET},l.createWorkbook=function(){return vt(nn.getTemplate(this.sheetNames))},l.createStylesheet=function(t){return vt(Ra.getTemplate(t))},l.createSharedStrings=function(){return vt(uo.getTemplate(this.sharedStrings))},l.createCore=function(t){return vt(Mr.getTemplate(t))},l.createContentTypes=function(t){return vt(ui.getTemplate(t))},l.createRels=function(){var t=nr.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return vt(t)},l.createTheme=function(){return vt(Pl_getTemplate())},l.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(o,s){return{Id:"rId"+(s+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(s+1)+".xml"}}),r=nr.getTemplate(function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Tr(arguments[t]));return l}(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return vt(r)},l.createDrawing=function(t){return vt(ko.getTemplate({sheetIndex:t}))},l.createDrawingRel=function(t){var e=this,r=this.worksheetImageIds.get(t),o=[];return r.forEach(function(s,h){o.push({Id:"rId"+(s.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(h).index+1)+"."+s.type})}),vt(nr.getTemplate(o))},l.createWorksheetDrawingRel=function(t){var e=nr.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return vt(e)},l.createWorksheet=function(t,e,r,o){return vt(Al.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:r,headerFooterConfig:o}))},l.sharedStrings=new Map,l.sheetNames=[],l.images=new Map,l.worksheetImages=new Map,l.workbookImageIds=new Map,l.worksheetImageIds=new Map,l.factoryMode=w.nPL.SINGLE_SHEET,l}(),eo=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ya=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return eo(t,l),t.prototype.createExcel=function(e){var s=this.config;return sr.createExcel(this.excelStyles,e,s.margins,s.pageSetup,s.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":w._.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,r,o){if(this.isFormula(o))return"f";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return e},t.prototype.addImage=function(e,r,o){if(this.config.addImageToCell){var s=this.config.addImageToCell(e,r,o);if(s)return sr.buildImageMap(s.image,e,r,this.columnsToExport,this.config.rowHeight),s}},t.prototype.createCell=function(e,r,o){var s=this.getStyleById(e),h=this.getType(r,s,o)||r;return{styleId:s?e:void 0,data:{type:h,value:this.getCellValue(h,o)}}},t.prototype.createMergedCell=function(e,r,o,s){var h=null==o?"":o;return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:"s"===r?sr.getStringPosition(h).toString():o},mergeAcross:s}},t.prototype.getCellValue=function(e,r){if(null==r)return sr.getStringPosition("").toString();switch(e){case"s":return""===r?"":sr.getStringPosition(r).toString();case"f":return r.slice(1);case"n":return Number(r).toString();default:return r}},t}(Mt),Fo=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ui=function(){return Ui=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Ui.apply(this,arguments)},Fi=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ka=function(l){var t=l.data,e=l.fontSize,r=void 0===e?11:e,o=l.author,s=void 0===o?"AG Grid":o,h=sr.images.size>0;if(We.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),h){We.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var p=0;sr.images.forEach(function(T){var O=T[0].image[0];We.addFile("xl/media/image"+ ++p+"."+O.imageType,O.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void sr.resetFactory();var y=t.length,S=0;return t.forEach(function(T,O){We.addFile("xl/worksheets/sheet"+(O+1)+".xml",T),h&&sr.worksheetImages.get(O)&&la(O,S++)}),We.addFile("xl/workbook.xml",sr.createWorkbook()),We.addFile("xl/styles.xml",sr.createStylesheet(r)),We.addFile("xl/sharedStrings.xml",sr.createSharedStrings()),We.addFile("xl/theme/theme1.xml",sr.createTheme()),We.addFile("xl/_rels/workbook.xml.rels",sr.createWorkbookRels(y)),We.addFile("docProps/core.xml",sr.createCore(s)),We.addFile("[Content_Types].xml",sr.createContentTypes(y)),We.addFile("_rels/.rels",sr.createRels()),sr.resetFactory(),We.getContent(l.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},la=function(l,t){var e="xl/drawings",r=e+"/drawing"+(t+1)+".xml",s="xl/worksheets/_rels/sheet"+(l+1)+".xml.rels";We.addFile(e+"/_rels/drawing"+(t+1)+".xml.rels",sr.createDrawingRel(l)),We.addFile(r,sr.createDrawing(l)),We.addFile(s,sr.createWorksheetDrawingRel(t))},Rl=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.exportMode="xlsx",e}return Fo(t,l),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},r,e)},t.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),l.prototype.getData.call(this,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),o=this.getData(r),h=this.packageFile({data:[o],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType});return h&&oe.download(this.getFileName(r.fileName),h),o},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var r=this.getMergedParams(e),o=this.getData(r);return e&&"xml"===e.exportMode?o:this.packageFile({data:[o],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType})},t.prototype.setFactoryMode=function(e,r){void 0===r&&(r="xlsx"),("xlsx"===r?sr:kt).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?sr:kt).factoryMode},t.prototype.getSheetDataForExcel=function(e){var r=this.getMergedParams(e);return this.getData(r)},t.prototype.getMultipleSheetsAsExcel=function(e){return Ka(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return function(l){var t=l.fileName,e=void 0===t?"export.xlsx":t,r=Ka(l);r&&oe.download(e,r)}(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var r=this,o=r.columnModel,s=r.valueService,h=r.gridOptionsWrapper,p="xlsx"===this.getExportMode(),y="ag-grid";null!=e.sheetName&&(y=w._.utf8_encode(e.sheetName.toString().substr(0,31)));var S=Ui(Ui({},e),{sheetName:y,columnModel:o,valueService:s,gridOptionsWrapper:h,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(p?Ya:zn)(S)},t.prototype.styleLinker=function(e,r,o,s,h){if(e===qn.HEADER)return["header"];if(e===qn.HEADER_GROUPING)return["header","headerGroup"];var p=this.gridOptions.excelStyles,y=["cell"];if(!p||!p.length)return y;var S=p.map(function(E){return E.id});return this.stylingService.processAllCellClasses(s.getColDef(),{value:o,data:h.data,node:h,colDef:s.getColDef(),rowIndex:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:null,context:this.gridOptionsWrapper.getContext()},function(E){S.indexOf(E)>-1&&y.push(E)}),y.sort(function(E,T){return S.indexOf(E)<S.indexOf(T)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):Ka(e)},Fi([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Fi([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Fi([(0,w.fsG)("gridOptions")],t.prototype,"gridOptions",void 0),Fi([(0,w.fsG)("stylingService")],t.prototype,"stylingService",void 0),Fi([(0,w.fsG)("gridSerializer")],t.prototype,"gridSerializer",void 0),Fi([(0,w.fsG)("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Fi([w.NqP],t.prototype,"postConstruct",null),Fi([(0,w.Vu6)("excelCreator")],t)}(Re),Fa={moduleName:w.GXE.ExcelExportModule,beans:[Rl,Gt,gn],dependantModules:[vn,Et]},Ys=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fo=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Gu=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Fh=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.navigatorApiFailed=!1,e}return Ys(t,l),t.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(r){e.gridCtrl=r.gridCtrl})},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(o){w._.doOnce(function(){console.warn(o),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement(function(r){return r.focus({preventScroll:!0})},function(r){e.processClipboardData(r.value)})},t.prototype.processClipboardData=function(e){var r=this;if(null!=e){var o=w._.stringToArray(e,this.gridOptionsWrapper.getClipboardDelimiter()),s=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();s&&(o=s({data:o})),null!=o&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(o),this.doPasteOperation(function(p,y,S,E){r.rangeService&&r.rangeService.isMoreThanOneCell()&&!r.hasOnlyOneValueToPaste(o)?r.pasteIntoActiveRange(o,p,y,E):r.pasteStartingFromFocusedCell(o,p,y,S,E)}))}},t.prototype.doPasteOperation=function(e){var h,r=this.gridOptionsWrapper.getApi(),o=this.gridOptionsWrapper.getColumnApi(),s="clipboard";if(this.eventService.dispatchEvent({type:w.zW2.EVENT_PASTE_START,api:r,columnApi:o,source:s}),this.clientSideRowModel){var p=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();h=new w.Dkq(p,this.clientSideRowModel.getRootNode())}var y={},S=[],E=this.focusService.getFocusedCell();e(y,S,E,h),h&&this.clientSideRowModel.doAggregate(h),this.rowRenderer.refreshCells(),this.dispatchFlashCells(y),this.fireRowChanged(S),E&&this.focusService.setFocusedCell(E.rowIndex,E.column,E.rowPinned,!0),this.eventService.dispatchEvent({type:w.zW2.EVENT_PASTE_END,api:r,columnApi:o,source:s})},t.prototype.pasteIntoActiveRange=function(e,r,o,s){var h=this,p=this.getRangeSize()%e.length!=0,y=0,S=0;this.iterateActiveRanges(!1,function(T,O,F,k){if(k-y>=e.length){if(p)return;y+=S,S=0}var de=e[k-y];o.push(O);var he=h.gridOptionsWrapper.getProcessCellFromClipboardFunc();F.forEach(function(fe,ve){if(fe.isCellEditable(O)&&!fe.isSuppressPaste(O)){ve>=de.length&&(ve%=de.length);var Be=h.processCell(O,fe,de[ve],w.gTE.EXPORT_TYPE_DRAG_COPY,he);O.setDataValue(fe,Be,w.gTE.SOURCE_PASTE),s&&s.addParentNode(O.parent,[fe]);var ct=h.cellPositionUtils.createIdFromValues(T.rowIndex,fe,T.rowPinned);r[ct]=!0}}),S++})},t.prototype.pasteStartingFromFocusedCell=function(e,r,o,s,h){if(s){var p={rowIndex:s.rowIndex,rowPinned:s.rowPinned},y=this.columnModel.getDisplayedColumnsStartingAt(s.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,o,r,h):this.pasteMultipleValues(e,p,o,y,r,w.gTE.EXPORT_TYPE_CLIPBOARD,h)}},t.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(e,r,o,s){var h=this,p=e[0][0];this.iterateActiveRanges(!1,function(S,E,T){r.push(E),T.forEach(function(O){return h.updateCellValue(E,O,p,o,w.gTE.EXPORT_TYPE_CLIPBOARD,s)})})},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var r=[];this.doPasteOperation(function(s,h,p,y){var S=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),E=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(O,F,k){r.length?(h.push(F),k.forEach(function(Q,de){if(Q.isCellEditable(F)&&!Q.isSuppressPaste(F)){var he=e.processCell(F,Q,r[de],w.gTE.EXPORT_TYPE_DRAG_COPY,E);F.setDataValue(Q,he,w.gTE.SOURCE_PASTE),y&&y.addParentNode(F.parent,[Q]);var fe=e.cellPositionUtils.createIdFromValues(O.rowIndex,Q,O.rowPinned);s[fe]=!0}})):k.forEach(function(Q){var de=e.processCell(F,Q,e.valueService.getValue(Q,F),w.gTE.EXPORT_TYPE_DRAG_COPY,S);r.push(de)})})})}},t.prototype.removeLastLineIfBlank=function(e){var r=w._.last(e);r&&1===r.length&&""===r[0]&&w._.removeFromArray(e,r)},t.prototype.fireRowChanged=function(e){var r=this;!this.gridOptionsWrapper.isFullRowEdit()||e.forEach(function(o){var s={type:w.zW2.EVENT_ROW_VALUE_CHANGED,node:o,data:o.data,rowIndex:o.rowIndex,rowPinned:o.rowPinned,context:r.gridOptionsWrapper.getContext(),api:r.gridOptionsWrapper.getApi(),columnApi:r.gridOptionsWrapper.getColumnApi()};r.eventService.dispatchEvent(s)})},t.prototype.pasteMultipleValues=function(e,r,o,s,h,p,y){var S=this,E=r,T=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach(function(F){var k=function(){for(;;){if(!E)return null;var F=S.rowPositionUtils.getRowNode(E);if(E=S.cellNavigationService.getRowBelow({rowPinned:E.rowPinned,rowIndex:E.rowIndex}),null==F)return null;if(!(F.detail||F.footer||T&&F.group))return F}}();!k||(F.forEach(function(Q,de){return S.updateCellValue(k,s[de],Q,h,p,y)}),o.push(k))})},t.prototype.updateCellValue=function(e,r,o,s,h,p){if(e&&r&&r.isCellEditable(e)&&!r.isSuppressPaste(e)){var y=this.processCell(e,r,o,h,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());e.setDataValue(r,y,w.gTE.SOURCE_PASTE),s[this.cellPositionUtils.createIdFromValues(e.rowIndex,r,e.rowPinned)]=!0,p&&p.addParentNode(e.parent,[r])}},t.prototype.copyToClipboard=function(e){void 0===e&&(e={});var r=e.includeHeaders,o=e.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+r),null==r&&(r=this.gridOptionsWrapper.isCopyHeadersToClipboard()),null==o&&(o=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var s={includeHeaders:r,includeGroupHeaders:o},h=!this.selectionService.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeService&&this.rangeService.isMoreThanOneCell()?this.copySelectedRangeToClipboard(s):h?this.copySelectedRowsToClipboard(s):this.focusService.isAnyCellFocused()?this.copyFocusedCellToClipboard(s):this.copySelectedRangeToClipboard(s)},t.prototype.iterateActiveRanges=function(e,r,o){var s=this;if(this.rangeService&&!this.rangeService.isEmpty()){var h=this.rangeService.getCellRanges();e?this.iterateActiveRange(h[0],r,o,!0):h.forEach(function(p,y){return s.iterateActiveRange(p,r,o,y===h.length-1)})}},t.prototype.iterateActiveRange=function(e,r,o,s){if(this.rangeService){var h=this.rangeService.getRangeStartRow(e),p=this.rangeService.getRangeEndRow(e);o&&e.columns&&o(e.columns);for(var y=0,S=!1;!S&&null!=h;){var E=this.rowPositionUtils.getRowNode(h);S=this.rowPositionUtils.sameRow(h,p),r(h,E,e.columns,y++,S&&s),h=this.cellNavigationService.getRowBelow(h)}}},t.prototype.copySelectedRangeToClipboard=function(e){if(void 0===e&&(e={}),this.rangeService&&!this.rangeService.isEmpty()){var o=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(e):this.buildDataFromRanges(e),h=o.cellsToFlash;this.copyDataToClipboard(o.data),this.dispatchFlashCells(h)}},t.prototype.buildDataFromMergedRanges=function(e){var r=this,o=new Set,s=this.rangeService.getCellRanges(),h=[],p={};s.forEach(function(T){T.columns.forEach(function(Q){return o.add(Q)});var O=r.getRangeRowPositionsAndCellsToFlash(T),k=O.cellsToFlash;h.push.apply(h,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Gu(arguments[t]));return l}(O.rowPositions)),Object.assign(p,k)});var y=this.columnModel.getAllDisplayedColumns(),S=Array.from(o);return S.sort(function(T,O){return y.indexOf(T)-y.indexOf(O)}),{data:this.buildExportParams({columns:S,rowPositions:h,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}),cellsToFlash:p}},t.prototype.buildDataFromRanges=function(e){var r=this,o=this.rangeService.getCellRanges(),s=[],h={};return o.forEach(function(p){var y=r.getRangeRowPositionsAndCellsToFlash(p),S=y.rowPositions;Object.assign(h,y.cellsToFlash),s.push(r.buildExportParams({columns:p.columns,rowPositions:S,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}))}),{data:s.join("\n"),cellsToFlash:h}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(e){for(var r=this,o=[],s={},h=this.rangeService.getRangeStartRow(e),p=this.rangeService.getRangeEndRow(e),y=h;y&&(o.push(y),e.columns.forEach(function(S){var E=r.cellPositionUtils.createIdFromValues(y.rowIndex,S,y.rowPinned);s[E]=!0}),!this.rowPositionUtils.sameRow(y,p));)y=this.cellNavigationService.getRowBelow(y);return{rowPositions:o,cellsToFlash:s}},t.prototype.copyFocusedCellToClipboard=function(e){var r;void 0===e&&(e={});var o=this.focusService.getFocusedCell();if(null!=o){var s=this.cellPositionUtils.createId(o),y=this.buildExportParams({columns:[o.column],rowPositions:[{rowPinned:o.rowPinned,rowIndex:o.rowIndex}],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(y),this.dispatchFlashCells(((r={})[s]=!0,r))}},t.prototype.copySelectedRowsToClipboard=function(e){void 0===e&&(e={});var h=this.buildExportParams({columns:e.columnKeys,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(h)},t.prototype.buildExportParams=function(e){var o=e.rowPositions,s=e.includeHeaders,p=e.includeGroupHeaders,S={columnKeys:e.columns,rowNodes:o,skipColumnHeaders:!(void 0!==s&&s),skipColumnGroupHeaders:!(void 0!==p&&p),suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDelimiter(),onlySelected:!o,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(E){return E.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(S)},t.prototype.dispatchFlashCells=function(e){var r=this;window.setTimeout(function(){r.eventService.dispatchEvent({type:w.zW2.EVENT_FLASH_CELLS,cells:e,api:r.gridApi,columnApi:r.columnApi})},0)},t.prototype.processCell=function(e,r,o,s,h){return h?h({column:r,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:s}):o},t.prototype.copyDataToClipboard=function(e){var r=this,o=this.gridOptionsWrapper.getSendToClipboardFunc();o?o({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch(function(h){w._.doOnce(function(){console.warn(h),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),r.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)},t.prototype.copyDataToClipboardLegacy=function(e){var r=this;this.executeOnTempElement(function(o){var s=r.gridOptionsWrapper.getDocument(),h=s.activeElement;o.value=e||" ",o.select(),o.focus({preventScroll:!0}),s.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=h&&null!=h.focus&&h.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(e,r){var o=this.gridOptionsWrapper.getDocument(),s=o.createElement("textarea");s.style.width="1px",s.style.height="1px",s.style.top=o.documentElement.scrollTop+"px",s.style.left=o.documentElement.scrollLeft+"px",s.style.position="absolute",s.style.opacity="0";var h=this.gridCtrl.getGui();h.appendChild(s);try{e(s)}catch(p){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}r?window.setTimeout(function(){r(s),h.removeChild(s)},100):h.removeChild(s)},t.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),r=0,o=0;return e.length>0&&(r=this.rangeService.getRangeStartRow(e[0]).rowIndex,o=this.rangeService.getRangeEndRow(e[0]).rowIndex),r-o+1},fo([(0,w.fsG)("csvCreator")],t.prototype,"csvCreator",void 0),fo([(0,w.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),fo([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),fo([(0,w.FiY)("rangeService")],t.prototype,"rangeService",void 0),fo([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),fo([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),fo([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),fo([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),fo([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),fo([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),fo([(0,w.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),fo([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),fo([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),fo([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),fo([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),fo([w.NqP],t.prototype,"init",null),fo([(0,w.Vu6)("clipboardService")],t)}(w.AS9),Ks={moduleName:w.GXE.ClipboardModule,beans:[Fh],dependantModules:[Et,vn]},Mp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ss=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ma=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(ma||(ma={})),ma))(),Bu=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Mp(t,l),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(ma.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=w._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=w._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=w._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,r=!this.params.suppressExpandAll,o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search..."));var h=this.columnModel.getAllGridColumns().some(function(p){return p.getOriginalParent()&&p.isFilterAllowed()});w._.setDisplayed(this.eFilterTextField.getGui(),e),w._.setDisplayed(this.eExpand,r&&h)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=w._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===ma.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,w._.setDisplayed(this.eExpandChecked,this.currentExpandState===ma.EXPANDED),w._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===ma.COLLAPSED),w._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===ma.INDETERMINATE)},Ss([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ss([(0,w.cqo)("eExpand")],t.prototype,"eExpand",void 0),Ss([(0,w.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),Ss([w.$j7],t.prototype,"preConstruct",null),Ss([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),Dd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fl=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Pp=function(l){function t(e){void 0===e&&(e=!1);var r=l.call(this,t.TEMPLATE)||this;return r.expanded=!1,r.hideHeader=e,r}return Dd(t,l),t.prototype.postConstruct=function(){this.eExpandChecked=w._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=w._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var r=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(o){o.key===w.VDZ.ENTER&&r.toggleExpanded()}),this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,w.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,r,o){if(null!=r){var s=w._.createIconNoSpan(e,this.gridOptionsWrapper,o);r.appendChild(s)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:w.sgG.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var r,e=this;if(!this.expanded){this.expanded=!0,w._.setAriaExpanded(this.eFilterToolPanelHeader,!0);var o=w._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),s=null===(r=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===r?void 0:r.filterPromise;s&&s.then(function(h){e.underlyingFilter=h,h&&(o.appendChild(h.getGui()),e.agFilterToolPanelBody.appendChild(o),h.afterGuiAttached&&h.afterGuiAttached({container:"toolPanel"}))}),w._.setDisplayed(this.eExpandChecked,!0),w._.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){!this.expanded||(this.expanded=!1,w._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),w._.setDisplayed(this.eExpandChecked,!1),w._.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;!e||"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&(!this.expanded||this.collapse())},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',Fl([(0,w.cqo)("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),Fl([(0,w.cqo)("eFilterName")],t.prototype,"eFilterName",void 0),Fl([(0,w.cqo)("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),Fl([(0,w.cqo)("eFilterIcon")],t.prototype,"eFilterIcon",void 0),Fl([(0,w.cqo)("eExpand")],t.prototype,"eExpand",void 0),Fl([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),Fl([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Fl([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),W=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),z=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},N=function(l){function t(e,r,o,s,h){var p=l.call(this)||this;return p.columnGroup=e,p.childFilterComps=r,p.depth=s,p.expandedCallback=o,p.showingColumn=h,p}return W(t,l),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(r){e.filterGroupComp.addItem(r),r.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var r=function(){var o=e.columnGroup.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof t?e.refreshFilters():e.refreshFilter()})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof w.KTm},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,r){this.filterGroupComp.hideItem(e,r)},t.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(r){r instanceof Pp&&e(r)})},t.prototype.addExpandCollapseListeners=function(){var e=this,r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.expand()})},o=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.collapse()})};this.addManagedListener(this.filterGroupComp,w.H1u.EVENT_EXPANDED,r),this.addManagedListener(this.filterGroupComp,w.H1u.EVENT_COLLAPSED,o)},t.prototype.getColumns=function(){return this.columnGroup instanceof w.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(r){e.addManagedListener(r,w.sgG.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof w.KTm||this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(o){return o.isFilterActive()}))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&(!this.isExpanded()||this.collapse())},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof w.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),w._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',z([(0,w.cqo)("filterGroupComp")],t.prototype,"filterGroupComp",void 0),z([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),z([w.$j7],t.prototype,"preConstruct",null),z([w.NqP],t.prototype,"init",null),t}(w.wA2),J=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),re=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Oe=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return J(t,l),t.prototype.init=function(e){var r=this;this.initialised=!0;var o={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};w._.mergeDeep(o,e),this.params=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_MOVED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,w.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(s){"filters"===s.source&&r.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var r=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(r,0);var o=this.filterGroupComps.length;o&&(this.filterGroupComps.forEach(function(s){return e.appendChild(s)}),this.setFirstAndLastVisible(0,o-1)),w._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var r=this;this.destroyFilters();var o=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(o,0);var s=this.filterGroupComps.length;s&&(this.filterGroupComps.forEach(function(h){return r.appendChild(h)}),this.setFirstAndLastVisible(0,s-1)),w._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,r){var o=this;return w._.flatten(e.map(function(s){if(s instanceof w.KTm)return w._.flatten(o.recursivelyAddFilterGroupComps(s,r));var h=s;if(!o.shouldDisplayFilter(h))return[];var y=new Pp(0===r);if(o.getContext().createBean(y),y.setColumn(h),r>0)return y;var S=o.createBean(new N(h,[y],o.onGroupExpanded.bind(o),r,!0));return S.addCssClassToTitleBar("ag-filter-toolpanel-header"),S.collapse(),S}))},t.prototype.recursivelyAddFilterGroupComps=function(e,r){if(this.filtersExistInChildren(e.getChildren())){var o=e.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var s=e.isPadding()?r:r+1,h=w._.flatten(this.recursivelyAddComps(e.getChildren(),s));if(e.isPadding())return h;var p=new N(e,h,this.onGroupExpanded.bind(this),r,!1);return this.getContext().createBean(p),p.addCssClassToTitleBar("ag-filter-toolpanel-header"),[p]}},t.prototype.filtersExistInChildren=function(e){var r=this;return e.some(function(o){return o instanceof w.KTm?r.filtersExistInChildren(o.getChildren()):r.shouldDisplayFilter(o)})},t.prototype.shouldDisplayFilter=function(e){var r=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!r},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,r){var o=[],s=function(p){var y=p.getFilterGroupId();(!r||w._.includes(r,y))&&(e&&p.isColumnGroup()?p.expand():p.collapse(),o.push(y)),p.getChildren().forEach(function(E){E instanceof N&&s(E)})};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),r){var h=r.filter(function(p){return o.indexOf(p)<0});h.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",h)}},t.prototype.expandFilters=function(e,r){var o=[],s=function(p){if(p instanceof N){var y=!1;return p.getChildren().forEach(function(T){s(T)&&(e?(p.expand(),y=!0):p.isColumnGroup()||p.collapse())}),y}var S=p.getColumn().getColId(),E=!r||w._.includes(r,S);return E&&(e?p.expand():p.collapse(),o.push(S)),E};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),r){var h=r.filter(function(p){return o.indexOf(p)<0});h.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",h)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,r=0,o=function(h){!h.isColumnGroup()||(h.isExpanded()?e++:r++,h.getChildren().forEach(function(p){p instanceof N&&o(p)}))};this.filterGroupComps.forEach(o),this.dispatchEvent({type:"groupExpanded",state:e>0&&r>0?ma.INDETERMINATE:r>0?ma.COLLAPSED:ma.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=w._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var s,h,r=function(p){return!w._.exists(e)||-1!==p.toLowerCase().indexOf(e)},o=function(p,y){if(!(p instanceof N))return r(p.getColumnFilterName()||"");var S=p.getChildren(),E=r(p.getFilterGroupName()),T=y||E;if(T){p.hideGroup(!1);for(var O=0;O<S.length;O++)o(S[O],T),p.hideGroupItem(!1,O);return!0}var F=!1;return S.forEach(function(k,Q){var de=o(k,y);p.hideGroupItem(!de,Q),de&&(F=!0)}),p.hideGroup(!F),F};this.filterGroupComps.forEach(function(p,y){o(p,!1),void 0===s?p.containsCssClass("ag-hidden")||(s=y,h=y):!p.containsCssClass("ag-hidden")&&h!==y&&(h=y)}),this.setFirstAndLastVisible(s,h)},t.prototype.setFirstAndLastVisible=function(e,r){this.filterGroupComps.forEach(function(o,s){o.removeCssClass("ag-first-group-visible"),o.removeCssClass("ag-last-group-visible"),s===e&&o.addCssClass("ag-first-group-visible"),s===r&&o.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),w._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',re([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),re([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),re([(0,w.fsG)("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),re([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(w.wA2),st=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tt=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},pn=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return st(t,l),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(h){return h()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var r={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};w._.mergeDeep(r,e),this.params=r,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',Tt([(0,w.cqo)("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),Tt([(0,w.cqo)("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),Tt([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Tt([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(w.wA2),cr=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oi=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},yr=function(l){function t(){var e=l.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return cr(t,l),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var o=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width=o+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},oi([(0,w.fsG)("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),oi([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),fi=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gr=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},$a=function(l){function t(e){var r=l.call(this)||this;return r.toolPanelDef=e,r}return fi(t,l),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",w._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+e(r.labelKey,r.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",Gr([(0,w.cqo)("eToggleButton")],t.prototype,"eToggleButton",void 0),Gr([(0,w.cqo)("eIconWrapper")],t.prototype,"eIconWrapper",void 0),Gr([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),$s=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Tc=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return $s(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===w.VDZ.TAB&&e.shiftKey){var r=w._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(r,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(r){r.setSelected(e===r.getToolPanelId())})},t.prototype.addButtonComp=function(e){var r=this,o=this.createBean(new $a(e));this.buttonComps.push(o),this.appendChild(o),o.addEventListener($a.EVENT_TOGGLE_BUTTON_CLICKED,function(){r.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),w._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',Oc([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),Oc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Oc([w.NqP],t.prototype,"postConstruct",null),Oc([w.FXL],t.prototype,"clearButtons",null),t}(w.wA2),xc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ap=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return xc(t,l),t.prototype.setupResize=function(){var e=this.getGui(),r=this.resizeBar=new yr;this.getContext().createBean(r),r.setElementToResize(e),this.appendChild(r)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var r=e.id,o=e.minWidth,s=e.maxWidth,h=e.width;this.toolPanelId=r,this.width=h;var p={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},S=this.userComponentFactory.getToolPanelCompDetails(e,p).newAgStackInstance();null!=S?(S.then(this.setToolPanelComponent.bind(this)),null!=o&&this.resizeBar.setMinWidth(o),null!=s&&this.resizeBar.setMaxWidth(s)):console.warn("AG Grid: error processing tool panel component "+r+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var r=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){r.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var r=this.gridOptionsWrapper.isEnableRtl(),o="left"===e;this.resizeBar.setInverted(r?o:!o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',Mc([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Mc([w.NqP],t.prototype,"setupResize",null),t}(w.wA2),f1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Od=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ou=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return f1(t,l),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(Tc.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new w.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var o=this.focusService,s=this.sideBarButtonsComp,h=this.getGui(),p=s.getGui(),S=this.gridOptionsWrapper.getDocument().activeElement,E=h.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(E)if(p.contains(S))o.focusInto(E,e.shiftKey)&&e.preventDefault();else if(!o.isFocusUnderManagedComponent(E)&&e.shiftKey){var T=o.findFocusableElements(E)[0];if(this.gridOptionsWrapper.getDocument().activeElement===T){var F=p.querySelector(".ag-selected button");F&&(e.preventDefault(),F.focus())}}}},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(r.activeElement)){var o=this.sideBarButtonsComp.getGui(),s=Array.prototype.slice.call(o.querySelectorAll(".ag-side-button")),h=r.activeElement,p=s.findIndex(function(E){return E.contains(h)}),y=null;switch(e.key){case w.VDZ.LEFT:case w.VDZ.UP:y=Math.max(0,p-1);break;case w.VDZ.RIGHT:case w.VDZ.DOWN:y=Math.min(p+1,s.length-1)}if(null!==y){var S=s[y].querySelector("button");S&&(S.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var r=e.toolPanelId,o=this.openedItem();this.openToolPanel(o===r?void 0:r)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),r=!!e&&!!e.toolPanels;if(r){this.setDisplayed(r&&!e.hiddenByDefault);var s=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(s),this.setupToolPanels(s),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var r="left"===e,o=r?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",r),this.addOrRemoveCssClass("ag-side-bar-right",!r),this.toolPanelWrappers.forEach(function(s){s.setResizerSizerSide(o)}),this},t.prototype.setupToolPanels=function(e){var r=this;e.forEach(function(o){if(null!=o.id){if("agColumnsToolPanel"===o.toolPanel&&!w.O3h.assertRegistered(w.GXE.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===o.toolPanel&&!w.O3h.assertRegistered(w.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var h=new Ap;r.getContext().createBean(h),h.setToolPanelDef(o),h.setDisplayed(!1),r.getGui().appendChild(h.getGui()),r.toolPanelWrappers.push(h)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var r=this.openedItem();r!==e&&(this.toolPanelWrappers.forEach(function(h){var p=e===h.getToolPanelId();h.setDisplayed(p)}),r!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var r=this.toolPanelWrappers.filter(function(o){return o.getToolPanelId()===e})[0];if(r)return r.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var r={type:w.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(r)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(r){r.isDisplayed()&&(e=r.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',Od([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Od([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),Od([(0,w.cqo)("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),Od([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),go=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},au=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isColGroupDef=function(r){return r&&void 0!==r.children},e.getId=function(r){return e.isColGroupDef(r)?r.groupId:r.colId},e}return go(t,l),t.prototype.createColumnTree=function(e){var r=this,o=[],s=function(p,y){if(r.isColGroupDef(p)){var S=p,T=new w.KTm(S,void 0!==S.groupId?S.groupId:S.headerName,!1,y),O=[];return S.children.forEach(function(de){var he=s(de,y+1);he&&O.push(he)}),T.setChildren(O),T}var F=p,Q=r.columnModel.getPrimaryColumn(F.colId?F.colId:F.field);return Q||o.push(F),Q},h=[];return e.forEach(function(p){var y=s(p,0);y&&h.push(y)}),o.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",o),h},t.prototype.syncLayoutWithGrid=function(e){var r=this.getLeafPathTrees();e(this.mergeLeafPathTrees(r))},t.prototype.getLeafPathTrees=function(){var e=function(s,h){var p;if(s instanceof w.KTm)if(s.isPadding())p=h;else{var y=Object.assign({},s.getColGroupDef());y.groupId=s.getGroupId(),y.children=[h],p=y}else{var S=Object.assign({},s.getColDef());S.colId=s.getColId(),p=S}var E=s.getOriginalParent();return E?e(E,p):p};return this.columnModel.getAllGridColumns().filter(function(s){var h=s.getColDef();return s.isPrimary()&&!h.showRowGroup}).map(function(s){return e(s,s.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var r=this,h=function(T,O){if(!r.isColGroupDef(O))return T;var F=T,k=O;return k.children&&k.groupId&&r.addChildrenToGroup(F,k.groupId,k.children[0])||k.children.forEach(function(de){return h(F,de)}),F},p=[],y=1;y<=e.length;y++){var S=e[y-1],E=e[y];O=E,r.isColGroupDef(T=S)&&r.isColGroupDef(O)&&r.getId(T)===r.getId(O)?e[y]=h(S,E):p.push(S)}var T,O;return p},t.prototype.addChildrenToGroup=function(e,r,o){var s=this;if(!this.isColGroupDef(e))return!0;var T,O,F,k,Q,de,p=e,y=o;if(O=y,F=(T=p).children.map(s.getId),k=w._.includes(F,s.getId(O)),de=(Q=w._.last(T.children))&&s.getId(Q)!==s.getId(O),k&&de)return p.children.push(y),!0;if(p.groupId===r){var S=p.children.map(this.getId);if(!w._.includes(S,this.getId(y)))return p.children.push(y),!0}return p.children.forEach(function(T){return s.addChildrenToGroup(T,r,o)}),!1},Wu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Wu([(0,w.Vu6)("toolPanelColDefService")],t)}(w.AS9),su={moduleName:w.GXE.SideBarModule,beans:[au],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:yr},{componentName:"AgSideBar",componentClass:ou},{componentName:"AgSideBarButtons",componentClass:Tc}],dependantModules:[Et]},fl={moduleName:w.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:Bu},{componentName:"AgFiltersToolPanelList",componentClass:Oe}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:pn}],dependantModules:[su,Et]},ls=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cv=function(){return Cv=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Cv.apply(this,arguments)},Rp=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return ls(t,l),t.prototype.init=function(e,r){var o=this;this.params=r,this.comp=e,null!=r.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(r.node.parent,w.Fxk.EVENT_DATA_CHANGED,function(){o.needRefresh=!0}))},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),o=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(o,!0)},t.prototype.setupRefreshStrategy=function(){if(this.params.suppressRefresh)return console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),void(this.refreshStrategy="nothing");var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(w._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),r=Cv({},this.params.detailGridOptions);e&&(r.domLayout="autoHeight"),this.comp.setDetailGrid(r)}},t.prototype.registerDetailWithMaster=function(e,r){var o=this.params.node.id,s=this.params.api,h={id:o,api:e,columnApi:r},p=this.params.node;s.addDetailGridInfo(o,h),p.detailGridInfo=h,this.addDestroyFunc(function(){p.detailGridInfo===h&&(s.removeDetailGridInfo(o),p.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var r=this.loadRowDataVersion,o=this.params.getDetailRowData;o?o({node:this.params.node,data:this.params.node.data,successCallback:function(p){e.loadRowDataVersion===r&&e.comp.setRowData(p)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!(this.needRefresh&&"nothing"!==this.refreshStrategy&&(this.needRefresh=!1,"everything"===this.refreshStrategy||(this.loadRowData(),0)))},function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("environment")],t.prototype,"environment",void 0),t}(w.AS9),Lh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g1=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Lh(t,l),t.prototype.init=function(e){var r=this;this.params=e,this.selectAndSetTemplate();var o={addOrRemoveCssClass:function(s,h){return r.addOrRemoveCssClass(s,h)},addOrRemoveDetailGridCssClass:function(s,h){return r.eDetailGrid.classList.toggle(s,h)},setDetailGrid:function(s){return r.setDetailGrid(s)},setRowData:function(s){return r.setRowData(s)}};this.ctrl=this.createManagedBean(new Rp),this.ctrl.init(o,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var r=function(){e.setTemplate(t.TEMPLATE)};if(w._.missing(this.params.template))r();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var s=(0,this.params.template)(this.params);this.setTemplate(s)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),r();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var r=this.context.getBean("agGridReact"),o=r?w._.cloneObject(r):void 0,s=this.context.getBean("frameworkComponentWrapper"),h=this.getFrameworkOverrides();new w.rjZ(this.eDetailGrid,e,{$scope:this.params.$scope,$compile:this.params.$compile,frameworkOverrides:h,providedBeanInstances:{agGridReact:o,frameworkComponentWrapper:s}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.cqo)("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(w.wA2),R3={moduleName:w.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:g1}],controllers:[{controllerName:"detailCellRenderer",controllerClass:Rp}],dependantModules:[Et]},_v=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ll=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ih=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},ai=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Ih(arguments[t]));return l},Pn=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e}return _v(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this)),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new w.Cvn({scrollContainer:r.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return r.getScrollFeature().setVerticalScrollPosition(o)},getHorizontalPosition:function(){return r.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(o){return r.getScrollFeature().setHorizontalScrollPosition(o)},shouldSkipVerticalScroll:function(){return e.gridOptionsWrapper.getDomLayout()!==w.gTE.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return r.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach(function(r){var o=r.columns;r.columns=r.columns.filter(function(h){return h.isVisible()}),!w._.areEqual(o,r.columns)&&e.dispatchChangedEvent(!1,!0,r.id)})},t.prototype.refreshLastRangeStart=function(){var e=w._.last(this.cellRanges);!e||this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var r=e.columns;if(!r.length)return!1;var o=this.columnModel.getAllDisplayedColumns(),s=r.map(function(h){return o.indexOf(h)}).sort(function(h,p){return h-p});return w._.last(s)-s[0]+1===r.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?w.gTE.PINNED_TOP:null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var r=this.pinnedRowModel.getPinnedBottomRowCount();return r>0?{rowIndex:r-1,rowPinned:w.gTE.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,r){if(void 0===r&&(r=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var o=this.calculateColumnsBetween(e.column,e.column);if(o){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!r||w._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var p,h={rowIndex:e.rowIndex,rowPinned:e.rowPinned},y=0;y<this.cellRanges.length;y++){var S=this.cellRanges[y];if(S.columns&&1===S.columns.length&&S.columns[0]===e.column&&this.rowPositionUtils.sameRow(h,S.startRow)&&this.rowPositionUtils.sameRow(h,S.endRow)){p=S;break}}p?w._.last(this.cellRanges)!==p&&(w._.removeFromArray(this.cellRanges,p),this.cellRanges.push(p)):this.cellRanges.push(p={startRow:h,endRow:h,columns:o,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0,p.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var r=w._.last(this.cellRanges);this.updateRangeEnd(r,e)}},t.prototype.updateRangeEnd=function(e,r,o){void 0===o&&(o=!1);var h=this.calculateColumnsBetween(e.startColumn,r.column);!h||this.isLastCellOfRange(e,r)||(e.columns=h,e.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},o||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var r=e.startColumn,o=e.columns,s=function(T,O){var F=e.columns.filter(function(k){return k!==T});T?(e.startColumn=T,e.columns=O?ai([T],F):ai(F,[T])):e.columns=F},h=this.getRangeEdgeColumns(e),p=h.left,y=h.right;r===o[0]&&r!==p?s(p,!0):r===w._.last(o)&&r===y&&s(y,!1)},t.prototype.getRangeEdgeColumns=function(e){var r=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(s){return r.indexOf(s)}).filter(function(s){return s>-1}).sort(function(s,h){return s-h});return{left:r[o[0]],right:r[w._.last(o)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var r=w._.last(this.cellRanges),o=this.newestRangeStartCell,s=r.columns[0],h=w._.last(r.columns),T=this.cellNavigationService.getNextCellToFocus(e,{column:o.column===s?h:s,rowIndex:r.endRow.rowIndex,rowPinned:r.endRow.rowPinned});if(T)return this.setCellRange({rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:T.rowIndex,rowEndPinned:T.rowPinned,columnStart:o.column,columnEnd:T.column}),T}},t.prototype.setCellRange=function(e){!this.gridOptionsWrapper.isEnableRangeSelection()||(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var r=this;w._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(o){o.columns&&o.startRow&&r.setNewestRangeStartCell({rowIndex:o.startRow.rowIndex,rowPinned:o.startRow.rowPinned,column:o.columns[0]}),r.cellRanges.push(o)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.createCellRangeFromCellRangeParams=function(e){var o,r=this;if(e.columns)o=e.columns.map(function(S){return r.columnModel.getColumnWithValidation(S)}).filter(function(S){return S});else{var s=this.columnModel.getColumnWithValidation(e.columnStart),h=this.columnModel.getColumnWithValidation(e.columnEnd);if(!s||!h)return;o=this.calculateColumnsBetween(s,h)}if(o)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:o,startColumn:o[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var r=this.createCellRangeFromCellRangeParams(e);r&&(r.startRow&&this.setNewestRangeStartCell({rowIndex:r.startRow.rowIndex,rowPinned:r.startRow.rowPinned,column:r.columns[0]}),this.cellRanges.push(r),this.dispatchChangedEvent(!1,!0,r.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(1!==e)return 0!==e;var r=this.cellRanges[0],o=this.getRangeStartRow(r),s=this.getRangeEndRow(r);return o.rowPinned!==s.rowPinned||o.rowIndex!==s.rowIndex||1!==r.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,r,p,o=this,s=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(O){for(var F=o.getRangeStartRow(O),k=o.getRangeEndRow(O),Q=F,de=function(){var fe=(Q.rowPinned||"normal")+"_"+Q.rowIndex,ve=s.get(fe),Be=O.columns.map(function(tt){return tt.getId()});if(ve){var ct=Be.filter(function(tt){return-1===ve.indexOf(tt)});ve.push.apply(ve,ai(ct))}else s.set(fe,Be);if(o.rowPositionUtils.sameRow(Q,k))return"break";Q=o.cellNavigationService.getRowBelow(Q)};Q&&"break"!==de(););});try{for(var y=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s.values()),S=y.next();!S.done;S=y.next()){var T=S.value.sort().join();if(void 0!==p){if(p!==T)return!1}else p=T}}catch(O){e={error:O}}finally{try{S&&!S.done&&(r=y.return)&&r.call(y)}finally{if(e)throw e.error}}return!0},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,r){var o=null!==r.columns&&w._.includes(r.columns,e.column),s=this.isRowInRange(e.rowIndex,e.rowPinned,r);return o&&s},t.prototype.isLastCellOfRange=function(e,r){var o=e.startRow,s=e.endRow,h=this.rowPositionUtils.before(o,s)?s:o,p=r.rowIndex===h.rowIndex&&r.rowPinned===h.rowPinned,y=e.columns[0],S=w._.last(e.columns);return r.column===(e.startColumn===y?S:y)&&p},t.prototype.isBottomRightCell=function(e,r){var o=this.columnModel.getAllDisplayedColumns(),s=e.columns.map(function(T){return o.indexOf(T)}).sort(function(T,O){return T-O}),h=e.startRow,p=e.endRow,y=this.rowPositionUtils.before(h,p)?p:h,S=o.indexOf(r.column)===w._.last(s),E=r.rowIndex===y.rowIndex&&w._.makeNull(r.rowPinned)===w._.makeNull(y.rowPinned);return S&&E},t.prototype.getCellRangeCount=function(e){var r=this;return this.isEmpty()?0:this.cellRanges.filter(function(o){return r.isCellInSpecificRange(e,o)}).length},t.prototype.isRowInRange=function(e,r,o){var s=this.getRangeStartRow(o),h=this.getRangeEndRow(o),p={rowIndex:e,rowPinned:r||null};if(p.rowIndex===s.rowIndex&&p.rowPinned==s.rowPinned||p.rowIndex===h.rowIndex&&p.rowPinned==h.rowPinned)return!0;var E=!this.rowPositionUtils.before(p,s),T=this.rowPositionUtils.before(p,h);return E&&T},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var s=e.shiftKey,h=e.ctrlKey||e.metaKey,y=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&h,S=s&&w._.existsAndNotEmpty(this.cellRanges);if(!y&&(!S||w._.exists(w._.last(this.cellRanges).type))&&this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,S||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=w._.last(this.cellRanges);else{var E={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:E,endRow:E,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!(!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=r)},t.prototype.onDragging=function(e){var r=this;if(this.dragging&&e){var o=this.lastCellHovered,s=function(y){return o&&o.rowPinned===y&&r.newestRangeStartCell.rowPinned===y},h=s("top")||s("bottom");if(this.autoScrollService.check(e,h),this.cellHasChanged){var p=this.calculateColumnsBetween(this.newestRangeStartCell.column,o.column);!p||(this.draggingRange.endRow={rowIndex:o.rowIndex,rowPinned:o.rowPinned},this.draggingRange.columns=p,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,r,o){var s=Object.freeze({type:w.zW2.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:r,id:o});this.eventService.dispatchEvent(s)},t.prototype.calculateColumnsBetween=function(e,r){var o=this.columnModel.getAllDisplayedColumns(),s=e===r,h=o.indexOf(e);if(h<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var p=s?h:o.indexOf(r);if(!(p<0)){if(s)return[e];for(var y=Math.min(h,p),S=y===h?p:h,E=[],T=y;T<=S;T++)E.push(o[T]);return E}console.warn("AG Grid: column "+r.getId()+" is not visible")}},Ll([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),Ll([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ll([(0,w.fsG)("mouseEventService")],t.prototype,"mouseEventService",void 0),Ll([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Ll([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Ll([(0,w.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ll([(0,w.fsG)("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ll([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ll([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ll([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),Ll([w.NqP],t.prototype,"init",null),Ll([(0,w.Vu6)("rangeService")],t)}(w.AS9),Td=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},v1=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return Td(t,l),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(r){e.dragging=!0,e.rangeService.autoScrollService.check(r),e.changedCalculatedValues&&(e.onDrag(r),e.changedCalculatedValues=!1)},onDragStop:function(r){e.dragging=!1,e.onDragEnd(r),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===w.Lm6.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered)||(this.lastCellHovered=r,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var r=this.getCellCtrl(),o=this.getGui(),s=w._.last(this.rangeService.getCellRanges()),h=s.startRow,p=s.endRow;if(h&&p&&(this.rowPositionUtils.before(p,h)?(this.setRangeStartRow(p),this.setRangeEndRow(h)):(this.setRangeStartRow(h),this.setRangeEndRow(p))),r!==e||!w._.isVisible(o)){this.setCellCtrl(e);var S=e.getComp().getParentOfValue();S&&S.appendChild(o)}this.setCellRange(s)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return w._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,l.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},rc([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),rc([(0,w.fsG)("dragService")],t.prototype,"dragService",void 0),rc([(0,w.fsG)("rangeService")],t.prototype,"rangeService",void 0),rc([(0,w.fsG)("mouseEventService")],t.prototype,"mouseEventService",void 0),rc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),rc([(0,w.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),rc([(0,w.fsG)("navigationService")],t.prototype,"navigationService",void 0),rc([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),rc([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),rc([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),rc([w.NqP],t.prototype,"init",null),t}(w.wA2),vl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qa=function(){return qa=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},qa.apply(this,arguments)},Nh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Fp=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=w.Lm6.FILL,e}return vl(t,l),t.prototype.updateValuesOnMove=function(e){l.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var O,r=this.initialXY,o=r.x,s=r.y,h=this.mouseEventService.getNormalisedPosition(e),y=h.y,S=Math.abs(o-h.x),E=Math.abs(s-y),T=this.gridOptionsWrapper.getFillHandleDirection();(O="xy"===T?S>E?"x":"y":T)!==this.dragAxis&&(this.dragAxis=O,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var r=this.getCellCtrl();if(!r)return;this.initialPosition=r.getCellPosition()}var o=this.getLastCellHovered();o&&this.markPathFrom(this.initialPosition,o)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var y,r="x"===this.dragAxis,o=this.getCellRange(),s=o.columns.length,h=this.getRangeStartRow(),p=this.getRangeEndRow();if(this.isUp||this.isLeft){var S=r?h:this.lastCellMarked;y=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:S.rowIndex,rowStartPinned:S.rowPinned,columnStart:r?this.lastCellMarked.column:o.columns[0],rowEndIndex:p.rowIndex,rowEndPinned:p.rowPinned,columnEnd:o.columns[s-1]})}else y=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:h.rowIndex,rowStartPinned:h.rowPinned,columnStart:o.columns[0],rowEndIndex:r?p.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:r?p.rowPinned:this.lastCellMarked.rowPinned,columnEnd:r?this.lastCellMarked.column:o.columns[s-1]});y&&(this.raiseFillStartEvent(),this.handleValueChanged(o,y,e),this.rangeService.setCellRanges([y]),this.raiseFillEndEvent(o,y))}},t.prototype.raiseFillStartEvent=function(){var e={type:w.zW2.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,r){var o={type:w.zW2.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:r};this.eventService.dispatchEvent(o)},t.prototype.handleValueChanged=function(e,r,o){var s=this,h=this.rangeService.getRangeEndRow(e),p=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(r),S=this.rangeService.getRangeStartRow(r),E="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var F=!0,k=[],Q=[],de=0,he=function(){k.length=0,Q.length=0,de=0},fe=function(Be,ct){var tt=s.isUp?h:p,Ft=!1;E&&(F=!0,he());for(var Nt=function(){var Jt=s.rowPositionUtils.getRowNode(tt);if(!Jt)return"break";E&&Be?ve(k,Be,Jt,function(){return!s.rowPositionUtils.sameRow(tt,s.isUp?p:h)}):ct&&(F=!0,he(),ct.forEach(function(Mn){return ve(k,Mn,Jt,function(){return Mn!==(s.isLeft?e.columns[0]:w._.last(e.columns))})})),Ft=s.rowPositionUtils.sameRow(tt,s.isUp?S:y),tt=s.isUp?s.cellNavigationService.getRowAbove(tt):s.cellNavigationService.getRowBelow(tt)};!Ft&&tt&&"break"!==Nt(););},ve=function(Be,ct,tt,Ft){var Nt,jt=!1;if(F)Nt=s.valueService.getValue(ct,tt),Q.push(Nt),F=Ft();else{var Jt=s.processValues(o,Be,Q,ct,tt,de++),Dn=Jt.fromUserFunction;if(Nt=Jt.value,ct.isCellEditable(tt)){var on=s.valueService.getValue(ct,tt);Dn&&on===Nt?jt=!0:tt.setDataValue(ct,Nt)}}jt||Be.push(Nt)};E?e.columns.forEach(function(Be){fe(Be)}):(T=this.isLeft?function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Nh(arguments[t]));return l}(r.columns).reverse():r.columns,fe(void 0,T))}else{var T=E?e.columns:e.columns.filter(function(Be){return r.columns.indexOf(Be)<0}),O=E?this.cellNavigationService.getRowBelow(y):S;O&&this.clearCellsInRange(O,h,T)}},t.prototype.clearCellsInRange=function(e,r,o){for(var s=e,h=!1,p=function(){var E=y.rowPositionUtils.getRowNode(s);if(!E)return"break";o.forEach(function(T){T.isCellEditable(E)&&E.setDataValue(T,null)}),h=y.rowPositionUtils.sameRow(s,r),s=y.cellNavigationService.getRowBelow(s)},y=this;!h&&s&&"break"!==p(););},t.prototype.processValues=function(e,r,o,s,h,p){var E,y=this.gridOptionsWrapper.getFillOperation();if(E="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",y){var T=y({event:e,values:r,initialValues:o,currentIndex:p,currentCellValue:this.valueService.getValue(s,h),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),direction:E,column:s,rowNode:h});if(!1!==T)return{value:T,fromUserFunction:!0}}var O=!r.some(function(k){var Q=parseFloat(k);return isNaN(Q)||Q.toString()!==k.toString()});if(e.altKey||!O){if(O&&1===o.length){var F=this.isUp||this.isLeft?-1:1;return{value:parseFloat(w._.last(r))+1*F,fromUserFunction:!1}}return{value:r[p%r.length],fromUserFunction:!1}}return{value:w._.last(w._.findLineByLeastSquares(r.map(Number))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,l.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){var r=e.getComp();r.addOrRemoveCssClass("ag-selection-fill-top",!1),r.addOrRemoveCssClass("ag-selection-fill-right",!1),r.addOrRemoveCssClass("ag-selection-fill-bottom",!1),r.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,r){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(r,e))return;var o=this.rowPositionUtils.before(r,e),s=this.getRangeStartRow(),h=this.getRangeEndRow();o&&(r.rowPinned==s.rowPinned&&r.rowIndex>=s.rowIndex||s.rowPinned!=h.rowPinned&&r.rowPinned==h.rowPinned&&r.rowIndex<=h.rowIndex)?(this.reduceVertical(e,r),this.isReduce=!0):(this.extendVertical(e,r,o),this.isReduce=!1)}else{var p=e.column,y=r.column;if(p===y)return;var S=this.columnModel.getAllDisplayedColumns(),E=S.indexOf(p),T=S.indexOf(y);T<=E&&T>=S.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,r),this.isReduce=!0):(this.extendHorizontal(e,r,T<E),this.isReduce=!1)}this.lastCellMarked=r},t.prototype.extendVertical=function(e,r,o){var h=this.navigationService,p=this.rangeService,y=e;do{for(var S=this.getCellRange(),E=S.columns.length,T=0;T<E;T++){var O=S.columns[T],k=qa(qa({},{rowIndex:y.rowIndex,rowPinned:y.rowPinned}),{column:O}),Q=p.isCellInSpecificRange(k,S),de=this.rowPositionUtils.sameRow(y,e);if(o&&(this.isUp=!0),!de){var he=h.getCellByPosition(k);if(he){this.markedCells.push(he);var fe=he.getComp();Q||(fe.addOrRemoveCssClass("ag-selection-fill-left",0===T),fe.addOrRemoveCssClass("ag-selection-fill-right",T===E-1)),fe.addOrRemoveCssClass(o?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(y,r))}}}if(this.rowPositionUtils.sameRow(y,r))break}while(y=o?this.cellNavigationService.getRowAbove(y):this.cellNavigationService.getRowBelow(y))},t.prototype.reduceVertical=function(e,r){var o=e;do{for(var s=this.getCellRange(),h=s.columns.length,p=this.rowPositionUtils.sameRow(o,r),y=0;y<h;y++){var E=qa(qa({},{rowIndex:o.rowIndex,rowPinned:o.rowPinned}),{column:s.columns[y]}),T=this.navigationService.getCellByPosition(E);T&&(this.markedCells.push(T),T.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(o,r)))}if(p)break}while(o=this.cellNavigationService.getRowAbove(o))},t.prototype.extendHorizontal=function(e,r,o){var s=this,h=this.columnModel.getAllDisplayedColumns(),p=h.indexOf(o?r.column:e.column),y=h.indexOf(o?this.getCellRange().columns[0]:r.column),S=o?0:1,E=h.slice(p+S,y+S),T=this.getRangeStartRow(),O=this.getRangeEndRow();E.forEach(function(F){var k=T,Q=!1;do{Q=s.rowPositionUtils.sameRow(k,O);var de=s.navigationService.getCellByPosition({rowIndex:k.rowIndex,rowPinned:k.rowPinned,column:F});if(de){s.markedCells.push(de);var he=de.getComp();he.addOrRemoveCssClass("ag-selection-fill-top",s.rowPositionUtils.sameRow(k,T)),he.addOrRemoveCssClass("ag-selection-fill-bottom",s.rowPositionUtils.sameRow(k,O)),o?(s.isLeft=!0,he.addOrRemoveCssClass("ag-selection-fill-left",F===E[0])):he.addOrRemoveCssClass("ag-selection-fill-right",F===w._.last(E))}k=s.cellNavigationService.getRowBelow(k)}while(!Q)})},t.prototype.reduceHorizontal=function(e,r){var o=this,s=this.columnModel.getAllDisplayedColumns(),h=s.indexOf(r.column),p=s.indexOf(e.column),y=s.slice(h,p),S=this.getRangeStartRow(),E=this.getRangeEndRow();y.forEach(function(T){var O=S,F=!1;do{F=o.rowPositionUtils.sameRow(O,E);var k=o.navigationService.getCellByPosition({rowIndex:O.rowIndex,rowPinned:O.rowPinned,column:T});k&&(o.markedCells.push(k),k.getComp().addOrRemoveCssClass("ag-selection-fill-right",T===y[0])),O=o.cellNavigationService.getRowBelow(O)}while(!F)})},t.prototype.refresh=function(e){var r=this.rangeService.getCellRanges()[0];r.startRow&&r.endRow?l.prototype.refresh.call(this,e):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),t}(v1),w4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rn=function(){return Rn=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Rn.apply(this,arguments)},S4=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.type=w.Lm6.RANGE,e.rangeFixed=!1,e}return w4(t,l),t.prototype.onDrag=function(e){var r=this.getLastCellHovered();if(r){var o=this.rangeService.getCellRanges(),s=w._.last(o);this.rangeFixed||(this.fixRangeStartEnd(s),this.rangeFixed=!0),this.endPosition={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column},2===o.length&&o[0].type===w.StC.DIMENSION&&s.type===w.StC.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(s))&&this.rangeService.updateRangeEnd(o[0],Rn(Rn({},this.endPosition),{column:o[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var r=w._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(r),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var r=this.rangeService.getRangeStartRow(e),o=this.rangeService.getRangeEndRow(e),s=e.columns[0];e.startRow=r,e.endRow=o,e.startColumn=s},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(v1),wv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yo=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return wv(t,l),t.prototype.createSelectionHandle=function(e){return this.createBean(e===w.Lm6.RANGE?new S4:new Fp)},t=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([(0,w.Vu6)("selectionHandleFactory")],t),t}(w.AS9),kh={moduleName:w.GXE.RangeSelectionModule,beans:[Pn,Yo],agStackComponents:[{componentName:"AgFillHandle",componentClass:Fp},{componentName:"AgRangeHandle",componentClass:S4}],dependantModules:[Et]},lu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},qs=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(qs||(qs={})),qs))(),b4=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return lu(t,l),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(o){o.key===w.VDZ.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(r("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(r("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=w._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=w._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=w._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(qs.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,r=!this.params.suppressColumnSelectAll,o=!this.params.suppressColumnExpandAll,s=this.columnModel.isPrimaryColumnGroupsPresent(),h=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(h("searchOoo","Search...")),w._.setDisplayed(this.eFilterTextField.getGui(),e),w._.setDisplayed(this.eSelect.getGui(),r),w._.setDisplayed(this.eExpand,o&&s)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=w._.debounce(function(){var r=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:r})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var r=this;e.key===w.VDZ.ENTER&&setTimeout(function(){return r.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===qs.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,w._.setDisplayed(this.eExpandChecked,this.expandState===qs.EXPANDED),w._.setDisplayed(this.eExpandUnchecked,this.expandState===qs.COLLAPSED),w._.setDisplayed(this.eExpandIndeterminate,this.expandState===qs.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',cu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),cu([(0,w.cqo)("eExpand")],t.prototype,"eExpand",void 0),cu([(0,w.cqo)("eSelect")],t.prototype,"eSelect",void 0),cu([(0,w.cqo)("eFilterTextField")],t.prototype,"eFilterTextField",void 0),cu([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),Uu=function(){function l(t,e,r,o,s){void 0===o&&(o=!1),this.eventService=new w.POd,this.displayName=t,this.dept=r,this.group=o,o?(this.columnGroup=e,this.expanded=s,this.children=[]):this.column=e}return l.prototype.isGroup=function(){return this.group},l.prototype.getDisplayName=function(){return this.displayName},l.prototype.getColumnGroup=function(){return this.columnGroup},l.prototype.getColumn=function(){return this.column},l.prototype.getDept=function(){return this.dept},l.prototype.isExpanded=function(){return!!this.expanded},l.prototype.getChildren=function(){return this.children},l.prototype.isPassesFilter=function(){return this.passesFilter},l.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:l.EVENT_EXPANDED_CHANGED}))},l.prototype.setPassesFilter=function(t){this.passesFilter=t},l.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},l.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},l.EVENT_EXPANDED_CHANGED="expandedChanged",l}(),Sv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xs=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},E4=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Vh=function(l){function t(e,r,o){var s=l.call(this,'<div class="ag-menu"></div>')||this;return s.column=e,s.mouseEvent=r,s.parentEl=o,s.displayName=null,s}return Sv(t,l),t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof w.sgG?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){this.columns=e instanceof w.KTm?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(r){return r.isPrimary()&&r.isAllowRowGroup()}),this.allowValues=this.columns.some(function(r){return r.isPrimary()&&r.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(r){return r.isPrimary()&&r.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,r=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(o){return o.isPrimary()&&o.isAllowRowGroup()},activeFunction:function(o){return o.isRowGroupActive()},activateLabel:function(){return r("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return r("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var o=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(o){return o.isPrimary()&&o.isAllowValue()},activeFunction:function(o){return o.isValueActive()},activateLabel:function(){return r("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return r("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var o=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(o){return e.columnModel.isPivotMode()&&o.isPrimary()&&o.isAllowPivot()},activeFunction:function(o){return o.isPivotActive()},activateLabel:function(){return r("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return r("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var o=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(o),"toolPanelUi")},deActivateFunction:function(){var o=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(o),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(E4(arguments[t]));return l}(e).concat(this.columns.filter(function(r){return-1===e.indexOf(r)}))},t.prototype.removeColumnsFromList=function(e){var r=this;return e.filter(function(o){return-1===r.columns.indexOf(o)})},t.prototype.displayContextMenu=function(){var e=this,r=this.getGui(),o=this.createBean(new w.O_3),s=this.getMappedMenuItems(),h=function(){};r.appendChild(o.getGui()),o.addMenuItems(s),o.addManagedListener(o,w.sJC.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),h()});var p=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(o.getGui())},ariaLabel:"Foo",closedCallback:function(y){y instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(o)}});p&&(h=p.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:r})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,r,o=[],s=function(E){var T=h.columns.some(function(F){return E.allowedFunction(F)&&!E.activeFunction(F)}),O=h.columns.some(function(F){return E.allowedFunction(F)&&E.activeFunction(F)});T&&o.push({name:E.activateLabel(h.displayName),icon:w._.createIconNoSpan(E.addIcon,h.gridOptionsWrapper,null),action:function(){return E.activateFunction()}}),O&&o.push({name:E.deactivateLabel(h.displayName),icon:w._.createIconNoSpan(E.removeIcon,h.gridOptionsWrapper,null),action:function(){return E.deActivateFunction()}})},h=this;try{for(var p=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.menuItemMap.values()),y=p.next();!y.done;y=p.next())s(y.value)}catch(E){e={error:E}}finally{try{y&&!y.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}return o},Xs([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Xs([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),Xs([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),Xs([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),F3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bs=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ip=function(l){function t(e,r,o,s){var h=l.call(this)||this;return h.modelItem=e,h.allowDragging=r,h.eventType=o,h.focusWrapper=s,h.processingColumnStateChange=!1,h.modelItem=e,h.columnGroup=e.getColumnGroup(),h.columnDept=e.getDept(),h.allowDragging=r,h}return F3(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=w._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var r=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),w._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,w.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,Uu.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),w.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach(function(h){return e.addOrRemoveCssClass(h,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef();if(r){var o=function(){e.setTooltip(r.headerTooltip)};o(),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,o)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case w.VDZ.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case w.VDZ.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case w.VDZ.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var r=this,s=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var p=this.createBean(new Vh(s,e,this.focusWrapper));this.addDestroyFunc(function(){p.isAlive()&&r.destroyBean(p)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(r){e.addManagedListener(r,w.sgG.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,w.sgG.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,w.sgG.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,w.sgG.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var r={type:w.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})}else w._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(r){e[r.getId()]=r.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(w._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(w._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new w.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(e,w.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],r=function(o){o.forEach(function(s){!s.isPassesFilter()||(s.isGroup()?r(s.getChildren()):e.push(s.getColumn()))})};return r(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaColumnGroup","Column Group"),o=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");w._.setAriaLabel(this.focusWrapper,this.displayName+" "+r),this.cbSelect.setInputAriaLabel(s+" ("+o+")"),w._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),r=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(r),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",r),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,r=this.columnModel.isPivotMode(),o=this.getVisibleLeafColumns(),s=0,h=0;if(o.forEach(function(p){!r&&p.getColDef().lockVisible||(e.isColumnChecked(p,r)?s++:h++)}),!(s>0&&h>0))return s>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),r=0;return this.columnGroup.getLeafColumns().forEach(function(o){e?o.isAnyFunctionAllowed()&&r++:o.getColDef().lockVisible||r++}),0===r},t.prototype.isColumnChecked=function(e,r){if(r){var o=e.isPivotActive(),s=e.isRowGroupActive(),h=e.isValueActive();return o||s||h}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();w._.setDisplayed(this.eGroupClosedIcon,!e),w._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){w._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var r=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!r||!e&&r)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',bs([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),bs([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),bs([(0,w.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),bs([(0,w.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),bs([(0,w.cqo)("eLabel")],t.prototype,"eLabel",void 0),bs([(0,w.cqo)("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),bs([(0,w.cqo)("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),bs([(0,w.cqo)("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),bs([w.NqP],t.prototype,"init",null),t}(w.wA2),Hh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gh=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},C1="ag-list-item-hovered",_1=function(l){function t(e,r){var o=l.call(this)||this;return o.comp=e,o.virtualList=r,o.currentDragColumn=null,o.lastHoveredColumnItem=null,o}return Hh(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(h){var p=h.getColDef();return!!p.suppressMovable||!!p.lockPosition})&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(o){return o===w.rvo.ToolPanel},getIconName:function(){return w.jUB[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(o){return e.onDragging(o)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new w.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var r=this.getDragColumnItem(e),o=this.virtualList.getComponentAt(r.rowIndex);if(o){var s=o.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===r.rowIndex&&this.lastHoveredColumnItem.position===r.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=r,w._.radioCssClass(s,""+C1),w._.radioCssClass(s,"ag-item-highlight-"+r.position))}}},t.prototype.getDragColumnItem=function(e){var r=this.virtualList.getGui(),o=parseFloat(window.getComputedStyle(r).paddingTop),s=this.virtualList.getRowHeight(),h=this.virtualList.getScrollTop(),p=Math.max(0,(e.y-o+h)/s),y=this.comp.getDisplayedColsList().length-1,S=0|Math.min(y,p);return{rowIndex:S,position:Math.round(p)>p||p>y?"bottom":"top",component:this.virtualList.getComponentAt(S)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),r=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(r,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var r=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(),h=o.length;return r.indexOf(o[0])<e?h:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof w.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var o,e=this.lastHoveredColumnItem.component,r="top"===this.lastHoveredColumnItem.position;e instanceof Ip?(o=e.getColumns()[0],r=!0):o=e.getColumn();var h=this.columnModel.getAllGridColumns().indexOf(o),p=r?h:h+1;return p-this.getMoveDiff(p)},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+C1).forEach(function(r){[C1,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(o){r.classList.remove(o)})}),this.lastHoveredColumnItem=null},Gh([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Gh([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Gh([w.NqP],t.prototype,"postConstruct",null),t}(w.AS9),ic=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Il=function(l){function t(e,r,o,s,h){var p=l.call(this)||this;return p.column=e,p.columnDept=r,p.allowDragging=o,p.groupsExist=s,p.focusWrapper=h,p.processingColumnStateChange=!1,p}return ic(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=w._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var r=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var s=w._.escapeString(this.displayName);this.eLabel.innerHTML=s;var h=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+h),this.setupDragging(),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,w.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,w.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,w.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,w.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,w.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),w.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach(function(y){return e.addOrRemoveCssClass(y,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,r=function(){var o=e.column.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var r=this,s=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var p=this.createBean(new Vh(s,e,this.focusWrapper));this.addDestroyFunc(function(){p.isAlive()&&r.destroyBean(p)})}},t.prototype.handleKeyDown=function(e){e.key===w.VDZ.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("ariaColumn","Column"),o=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");w._.setAriaLabel(this.focusWrapper,this.displayName+" "+r),this.cbSelect.setInputAriaLabel(s+" ("+o+")"),w._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var r={type:w.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})}else w._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var r=this.column.isAnyFunctionActive();this.cbSelect.setValue(r)}else this.cbSelect.setValue(this.column.isVisible());var o=!0,s=!0;if(e){var h=this.gridOptionsWrapper.isFunctionsReadOnly(),p=!this.column.isAnyFunctionAllowed();s=o=!h&&!p}else{var y=this.column.getColDef();o=!y.lockVisible,s=!!y.enableRowGroup||!!y.enableValue||!(y.lockPosition||y.suppressMovable)}this.cbSelect.setReadOnly(!o),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!s),this.addOrRemoveCssClass("ag-column-select-column-readonly",!s&&!o);var de=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(de),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',xd([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),xd([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),xd([(0,w.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),xd([(0,w.cqo)("eLabel")],t.prototype,"eLabel",void 0),xd([(0,w.cqo)("cbSelect")],t.prototype,"cbSelect",void 0),xd([w.NqP],t.prototype,"init",null),t}(w.wA2),Ca=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xo=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},_a=function(){function l(t){this.items=t}return l.prototype.getRowCount=function(){return this.items.length},l.prototype.getRow=function(t){return this.items[t]},l}(),bv=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return Ca(t,l),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,r,o){var s=this;this.params=e,this.allowDragging=r,this.eventType=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[w.zW2.EVENT_COLUMN_PIVOT_CHANGED,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,w.zW2.EVENT_COLUMN_VALUE_CHANGED,w.zW2.EVENT_COLUMN_VISIBLE,w.zW2.EVENT_NEW_COLUMNS_LOADED].forEach(function(S){s.addManagedListener(s.eventService,S,s.fireSelectionChangedEvent.bind(s))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var y=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new w.CPJ("column-select","tree",y)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(S,E){return w._.setAriaLevel(E,S.getDept()+1),s.createComponentFromItem(S,E)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsWrapper.isSuppressMovableColumns()&&this.createManagedBean(new _1(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,r){if(e.isGroup()){var o=new Ip(e,this.allowDragging,this.eventType,r);return this.getContext().createBean(o),o}var s=new Il(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,r);return this.getContext().createBean(s),s},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),r=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||r?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup();o&&(e[o.getId()]=r.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){!this.allColsTree||this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup();if(o){var s=e[o.getId()];null!=s&&r.setExpanded(s)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var r=this.colDefService.createColumnTree(e);this.buildListModel(r),this.groupsExist=e.some(function(o){return o&&void 0!==o.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var r=this,o=this.onColumnExpanded.bind(this),h=function(S,E,T){S.forEach(function(O){O instanceof w.KTm?p(O,E,T):y(O,E,T)})},p=function(S,E,T){var O=S.getColGroupDef();if(!O||!O.suppressColumnsToolPanel){if(S.isPadding())return void h(S.getChildren(),E,T);var k=r.columnModel.getDisplayNameForProvidedColumnGroup(null,S,r.eventType),Q=new Uu(k,S,E,!0,r.expandGroupsByDefault);T.push(Q),function(S){S.addEventListener(Uu.EVENT_EXPANDED_CHANGED,o);var E=S.removeEventListener.bind(S,Uu.EVENT_EXPANDED_CHANGED,o);r.destroyColumnItemFuncs.push(E)}(Q),h(S.getChildren(),E+1,Q.getChildren())}},y=function(S,E,T){if(!S.getColDef()||!S.getColDef().suppressColumnsToolPanel){var F=r.columnModel.getDisplayNameForColumn(S,"columnToolPanel");T.push(new Uu(F,S,E))}};this.destroyColumnTree(),h(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var r=function(s){!s.isPassesFilter()||(e.displayedColsList.push(s),s.isGroup()&&s.isExpanded()&&s.getChildren().forEach(r))};this.allColsTree.forEach(r),this.virtualList.setModel(new _a(this.displayedColsList));var o=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=o&&this.focusRowIfAlive(o),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var r=this;window.setTimeout(function(){r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var r=function(o){o.forEach(function(s){e(s),s.isGroup()&&r(s.getChildren())})};r(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(r){r.isGroup()&&r.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,r){if(r){var o=[];this.forEachItem(function(h){if(h.isGroup()){var p=h.getColumnGroup().getId();r.indexOf(p)>=0&&(h.setExpanded(e),o.push(p))}});var s=r.filter(function(h){return!w._.includes(o,h)});s.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",s)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,r=0;return this.forEachItem(function(o){!o.isGroup()||(o.isExpanded()?e++:r++)}),e>0&&r>0?qs.INDETERMINATE:r>0?qs.COLLAPSED:qs.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,r=0,o=this.columnModel.isPivotMode();if(this.forEachItem(function(s){if(!s.isGroup()&&s.isPassesFilter()){var y,h=s.getColumn(),p=h.getColDef();if(o){if(!h.isAllowPivot()&&!h.isAllowRowGroup()&&!h.isAllowValue())return;y=h.isValueActive()||h.isPivotActive()||h.isRowGroupActive()}else{if(p.lockVisible)return;y=h.isVisible()}y?e++:r++}}),!(e>0&&r>0))return!(0===e||r>0)},t.prototype.setFilterText=function(e){this.filterText=w._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,r=function(s){if(!w._.exists(e.filterText))return!0;var h=s.getDisplayName();return null==h||-1!==h.toLowerCase().indexOf(e.filterText)},o=function(s,h){var p=!1;if(s.isGroup()){var y=r(s);s.getChildren().forEach(function(E){var T=o(E,y||h);T&&(p=T)})}var S=!(!h&&!p)||r(s);return s.setPassesFilter(S),S};this.allColsTree.forEach(function(s){return o(s,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="presentation"></div>',xo([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),xo([(0,w.fsG)("toolPanelColDefService")],t.prototype,"colDefService",void 0),xo([(0,w.fsG)("modelItemUtils")],t.prototype,"modelItemUtils",void 0),xo([w.FXL],t.prototype,"destroyColumnTree",null),t}(w.wA2),Bh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nl=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},w1=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Bh(t,l),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,w.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var r=this.gridOptionsWrapper.getApi();r&&r.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},Nl([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Nl([(0,w.cqo)("cbPivotMode")],t.prototype,"cbPivotMode",void 0),Nl([w.$j7],t.prototype,"init",null),t}(w.wA2),Ev=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Np=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Ev(t,l),t.prototype.execute=function(e){var r=w._.missingOrEmpty(this.columnModel.getValueColumns()),o=!this.gridOptionsWrapper.getGroupRowAggNodesFunc(),s=e.changedPath&&e.changedPath.isActive();if(!(r&&o&&s)){var h=this.createAggDetails(e);this.recursivelyCreateAggData(h)}},t.prototype.createAggDetails=function(e){var r=this.columnModel.isPivotActive(),o=this.columnModel.getValueColumns(),s=r?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:o,pivotColumns:s}},t.prototype.recursivelyCreateAggData=function(e){var r=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(s){if(s.hasChildren()){if(-1===s.level){var y=!r.columnModel.isPivotMode();if(r.gridOptionsWrapper.isSuppressAggAtRootLevel()&&y)return}r.aggregateRowNode(s,e)}else s.aggData&&s.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,r){var p,o=0===r.valueColumns.length,s=0===r.pivotColumns.length,h=this.gridOptionsWrapper.getGroupRowAggNodesFunc();p=h?h(e.childrenAfterFilter):o?null:s?this.aggregateRowNodeUsingValuesOnly(e,r):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(p),e.sibling&&e.sibling.setAggData(p)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var r=this,o={},s=this.pivotStage.getPivotColumnDefs();return s.filter(function(h){return!w._.exists(h.pivotTotalColumnIds)}).forEach(function(h){var y,S=h.pivotValueColumn,E=h.colId;y=e.leafGroup?r.getValuesFromMappedSet(e.childrenMapped,h.pivotKeys||[],S):r.getValuesPivotNonLeaf(e,E),o[E]=r.aggregateValues(y,S.getAggFunc(),S,e)}),s.filter(function(h){return w._.exists(h.pivotTotalColumnIds)}).forEach(function(h){var p=[],y=h.pivotValueColumn,S=h.pivotTotalColumnIds,E=h.colId;!S||!S.length||(S.forEach(function(T){p.push(o[T])}),o[E]=r.aggregateValues(p,y.getAggFunc(),y,e))}),o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,r){var o=this,s={},h=r.changedPath.isActive()?r.changedPath.getValueColumnsForNode(e,r.valueColumns):r.valueColumns,p=r.changedPath.isActive()?r.changedPath.getNotValueColumnsForNode(e,r.valueColumns):null,y=this.getValuesNormal(e,h),S=e.aggData;return h.forEach(function(E,T){s[E.getId()]=o.aggregateValues(y[T],E.getAggFunc(),E,e)}),p&&S&&p.forEach(function(E){s[E.getId()]=S[E.getId()]}),s},t.prototype.getValuesPivotNonLeaf=function(e,r){var o=[];return e.childrenAfterFilter.forEach(function(s){o.push(s.aggData[r])}),o},t.prototype.getValuesFromMappedSet=function(e,r,o){var s=this,h=e;if(r.forEach(function(y){return h=h?h[y]:null}),!h)return[];var p=[];return h.forEach(function(y){var S=s.valueService.getValue(o,y);p.push(S)}),p},t.prototype.getValuesNormal=function(e,r){var o=[];r.forEach(function(){return o.push([])});for(var s=r.length,h=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,p=h.length,y=0;y<p;y++)for(var S=h[y],E=0;E<s;E++){var O=this.valueService.getValue(r[E],S);o[E].push(O)}return o},t.prototype.aggregateValues=function(e,r,o,s){var h="string"==typeof r?this.aggFuncService.getAggFunc(r):r;if("function"!=typeof h)return console.error("AG Grid: unrecognised aggregation function "+r),null;var p=function(){w._.doOnce(function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")};return h({values:e,column:o,colDef:o?o.getColDef():void 0,rowNode:s,data:s?s.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(E,T){return p(),e.forEach(E,T)},get length(){return p(),e.length},set length(E){p(),e.length=E}})},uu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),uu([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),uu([(0,w.fsG)("pivotStage")],t.prototype,"pivotStage",void 0),uu([(0,w.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),uu([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),uu([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),uu([(0,w.Vu6)("aggregationStage")],t)}(w.AS9),du=function(){function l(){this.allSets={},this.allParents=[]}return l.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},l.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},l.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},l.prototype.getAllParents=function(){return this.allParents},l.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var r=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(o){return!r.removeFromChildrenAfterGroup[o.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(o){return!r.removeFromAllLeafChildren[o.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},l}(),Dv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zs=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},D4=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.groupIdSequence=new w.at1,e}return Dv(t,l),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var r=this.createGroupingDetails(e);r.transactions?this.handleTransaction(r):this.shotgunResetEverything(r,!0===e.afterColumnsChanged),this.sortGroupsWithComparator(r.rootNode),this.selectableService.updateSelectableAfterGrouping(r.rootNode)},t.prototype.createGroupingDetails=function(e){var r=e.rowNode,o=e.changedPath,s=e.rowNodeTransactions,h=e.rowNodeOrder,p=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:p,rootNode:r,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!p?0:p.length,rowNodeOrder:h,transactions:s,changedPath:o}},t.prototype.handleTransaction=function(e){var r=this;e.transactions.forEach(function(o){var s=r.usingTreeData?void 0:new du;if(w._.existsAndNotEmpty(o.remove)&&r.removeNodes(o.remove,e,s),w._.existsAndNotEmpty(o.update)&&r.moveNodesInWrongPath(o.update,e,s),w._.existsAndNotEmpty(o.add)&&r.insertNodes(o.add,e,!1),s){var h=s.getAllParents().slice();s.flush(),r.removeEmptyGroups(h,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(r){w._.sortRowNodesByOrder(r.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var r=this.gridOptionsWrapper.getDefaultGroupOrderComparator();w._.exists(r)&&function o(s){w._.exists(s.childrenAfterGroup)&&!s.leafGroup&&(s.childrenAfterGroup.sort(r),s.childrenAfterGroup.forEach(function(p){return o(p)}))}(e)}},t.prototype.getExistingPathForNode=function(e,r){for(var o=[],s=this.usingTreeData?e:e.parent;s&&s!==r.rootNode;)o.push({key:s.key,rowGroupColumn:s.rowGroupColumn,field:s.field}),s=s.parent;return o.reverse(),o},t.prototype.moveNodesInWrongPath=function(e,r,o){var s=this;e.forEach(function(h){r.changedPath.isActive()&&r.changedPath.addParentNode(h.parent);var p=function(T){return T.key},y=s.getExistingPathForNode(h,r).map(p),S=s.getGroupInfo(h,r).map(p);w._.areEqual(y,S)||s.moveNode(h,r,o)})},t.prototype.moveNode=function(e,r,o){this.removeNodesInStages([e],r,o),this.insertOneNode(e,r,!0),e.setData(e.data),r.changedPath.isActive()&&r.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,r,o){this.removeNodesInStages(e,r,o),r.changedPath.isActive()&&e.forEach(function(s){return r.changedPath.addParentNode(s.parent)})},t.prototype.removeNodesInStages=function(e,r,o){if(this.removeNodesFromParents(e,r,o),this.usingTreeData){this.postRemoveCreateFillerNodes(e,r);var s=e.map(function(h){return h.parent});this.removeEmptyGroups(s,r)}},t.prototype.forEachParentGroup=function(e,r,o){for(var s=r;s&&s!==e.rootNode;)o(s),s=s.parent},t.prototype.removeNodesFromParents=function(e,r,o){var s=this,h=null==o,p=o||new du;e.forEach(function(y){s.removeFromParent(y,p),s.forEachParentGroup(r,y.parent,function(S){p.removeFromAllLeafChildren(S,y)})}),h&&p.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,r){var o=this;e.forEach(function(s){if(s.hasChildren()){var p=o.getExistingPathForNode(s,r),y=o.findParentForNode(s,p,r);y.expanded=s.expanded,y.allLeafChildren=s.allLeafChildren,y.childrenAfterGroup=s.childrenAfterGroup,y.childrenMapped=s.childrenMapped,y.updateHasChildren(),y.childrenAfterGroup.forEach(function(S){return S.parent=y})}})},t.prototype.removeEmptyGroups=function(e,r){for(var o=this,s=!0,p=function(){s=!1;var y=new du;e.forEach(function(S){o.forEachParentGroup(r,S,function(E){(function(y){var S=o.getChildrenMappedKey(y.key,y.rowGroupColumn),E=y.parent;return!!(E&&E.childrenMapped&&E.childrenMapped[S]&&y.isEmptyRowGroupNode())})(E)&&(s=!0,o.removeFromParent(E,y),E.setSelected(!1))})}),y.flush()};s;)p()},t.prototype.removeFromParent=function(e,r){e.parent&&(r?r.removeFromChildrenAfterGroup(e.parent,e):(w._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[o]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,r){var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);r&&(null!=r.childrenMapped&&(r.childrenMapped[o]=e),r.childrenAfterGroup.push(e),r.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,r){return null!=e&&null!=r&&e.pivotMode===r.pivotMode&&w._.areEqual(e.groupedCols,r.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var r=this,o=function(s){!s||s.forEach(function(h){!r.usingTreeData&&!h.group||(r.setGroupData(h,{field:h.field,key:h.key,rowGroupColumn:h.rowGroupColumn}),o(h.childrenAfterGroup))})};o(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,r){if(!this.noChangeInGroupingColumns(e,r)){this.selectionService.removeGroupsFromSelection();var o=e.rootNode;o.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren();var h=o.sibling;h&&(h.childrenAfterGroup=o.childrenAfterGroup,h.childrenMapped=o.childrenMapped),this.insertNodes(o.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,r){var o=!1,s=this.columnModel.getGroupDisplayColumns(),h=s?s.map(function(p){return p.getId()}).join("-"):"";return r&&(o=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==h&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=h,o},t.prototype.insertNodes=function(e,r,o){var s=this;e.forEach(function(h){s.insertOneNode(h,r,o),r.changedPath.isActive()&&r.changedPath.addParentNode(h.parent)})},t.prototype.insertOneNode=function(e,r,o){var s=this.getGroupInfo(e,r),h=this.findParentForNode(e,s,r);h.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[h.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(h,e,o):(e.parent=h,e.level=s.length,h.childrenAfterGroup.push(e),h.updateHasChildren())},t.prototype.findParentForNode=function(e,r,o){var s=this,h=o.rootNode;return r.forEach(function(p,y){(h=s.getOrCreateNextNode(h,p,y,o)).allLeafChildren.push(e)}),h},t.prototype.swapGroupWithUserNode=function(e,r,o){r.parent=e.parent,r.key=e.key,r.field=e.field,r.groupData=e.groupData,r.level=e.level,o||(r.expanded=e.expanded),r.leafGroup=e.leafGroup,r.rowGroupIndex=e.rowGroupIndex,r.allLeafChildren=e.allLeafChildren,r.childrenAfterGroup=e.childrenAfterGroup,r.childrenMapped=e.childrenMapped,r.updateHasChildren(),this.removeFromParent(e),r.childrenAfterGroup.forEach(function(s){return s.parent=r}),this.addToParent(r,e.parent)},t.prototype.getOrCreateNextNode=function(e,r,o,s){var h=this.getChildrenMappedKey(r.key,r.rowGroupColumn),p=e.childrenMapped?e.childrenMapped[h]:void 0;return p||(p=this.createGroup(r,e,o,s),this.addToParent(p,e)),p},t.prototype.createGroup=function(e,r,o,s){var h=new w.Fxk(this.beans);return h.group=!0,h.field=e.field,h.rowGroupColumn=e.rowGroupColumn,this.setGroupData(h,e),h.id=w.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),h.key=e.key,h.level=o,h.leafGroup=!this.usingTreeData&&o===s.groupedColCount-1,h.allLeafChildren=[],h.setAllChildrenCount(0),h.rowGroupIndex=this.usingTreeData?null:o,h.childrenAfterGroup=[],h.childrenMapped={},h.updateHasChildren(),h.parent=s.includeParents?r:null,this.setExpandedInitialValue(s,h),h},t.prototype.setGroupData=function(e,r){var o=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(h){(o.usingTreeData||e.rowGroupColumn&&h.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[h.getColId()]=r.key)})},t.prototype.getChildrenMappedKey=function(e,r){return r?r.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,r){if(e.pivotMode&&r.leafGroup)r.expanded=!1;else{var o=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();r.expanded=o?1==o({rowNode:r,field:r.field,key:r.key,level:r.level,rowGroupColumn:r.rowGroupColumn}):-1===e.expandByDefault||r.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,r){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,r)},t.prototype.getGroupInfoFromCallback=function(e){var r=this.getDataPath?this.getDataPath(e.data):null;return(null==r||0===r.length)&&w._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),r?r.map(function(s){return{key:s,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,r){var o=this,s=[];return r.groupedCols.forEach(function(h){var p=o.valueService.getKeyForNode(h,e),y=null!=p;if(r.pivotMode&&!y&&(p=" ",y=!0),y){var S={key:p,field:h.getColDef().field,rowGroupColumn:h};s.push(S)}}),s},Zs([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Zs([(0,w.fsG)("selectableService")],t.prototype,"selectableService",void 0),Zs([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Zs([(0,w.fsG)("beans")],t.prototype,"beans",void 0),Zs([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),Zs([w.NqP],t.prototype,"postConstruct",null),Zs([(0,w.Vu6)("groupStage")],t)}(w.AS9),Ov=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},zp=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},S1=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(zp(arguments[t]));return l},Vp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return Ov(t,l),e=t,t.prototype.createPivotColumnDefs=function(r){var o=[],s=[],h=this.columnModel.getPivotColumns(),p=this.columnModel.getValueColumns(),y=h.length,S=new w.at1;return this.recursivelyAddGroup(o,s,1,r,[],S,y,h),this.addRowGroupTotals(o,s,p,S),this.addExpandablePivotGroups(o,s,S),this.addPivotTotalsToGroups(o,s,S),{pivotColumnGroupDefs:o,pivotColumnDefs:s.map(function(T){return w._.cloneObject(T)})}},t.prototype.recursivelyAddGroup=function(r,o,s,h,p,y,S,E){var T=this;w._.iterateObject(h,function(Q,de){var he=S1(p,[Q]);if(s!==S){var ve={children:[],headerName:Q,pivotKeys:he,columnGroupShow:"open",groupId:"pivot"+y.next()};r.push(ve),T.recursivelyAddGroup(ve.children,o,s+1,de,he,y,S,E)}else{var Be=T.columnModel.getValueColumns(),ct={children:[],headerName:Q,pivotKeys:he,columnGroupShow:"open",groupId:"pivot"+y.next()};if(0===Be.length){var tt=T.createColDef(null,"-",he,y);ct.children.push(tt),o.push(tt)}else Be.forEach(function(Ft){var Nt=T.columnModel.getDisplayNameForColumn(Ft,"header"),jt=T.createColDef(Ft,Nt,he,y);jt.columnGroupShow="open",ct.children.push(jt),o.push(jt)});r.push(ct)}});var O=E[s-1].getColDef(),k=this.headerNameComparator.bind(this,O.pivotComparator);r.sort(k)},t.prototype.addExpandablePivotGroups=function(r,o,s){var h=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var p=function(y,S,E,T){var O=y;if(O.children){var F=new Map;O.children.forEach(function(fe){p(fe,S,E,F)});var k=!O.children.some(function(fe){return fe.children});h.columnModel.getValueColumns().forEach(function(fe){var ve=h.columnModel.getDisplayNameForColumn(fe,"header"),Be=h.createColDef(fe,ve,y.pivotKeys,E);Be.pivotTotalColumnIds=F.get(fe.getColId()),Be.columnGroupShow="closed",Be.aggFunc=fe.getAggFunc(),k||(y.children.push(Be),S.push(Be))}),h.merge(T,F)}else{var Q=y;if(!Q.pivotValueColumn)return;var de=Q.pivotValueColumn.getColId(),he=T.has(de)?T.get(de):[];he.push(Q.colId),T.set(de,he)}};r.forEach(function(y){p(y,o,s,new Map)})}},t.prototype.addPivotTotalsToGroups=function(r,o,s){var h=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var p="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),y=this.columnModel.getValueColumns(),S=y.map(function(T){return T.getAggFunc()});if(S&&!(S.length<1)&&this.sameAggFuncs(S)){var E=y[0];r.forEach(function(T){h.recursivelyAddPivotTotal(T,o,s,E,p)})}}},t.prototype.recursivelyAddPivotTotal=function(r,o,s,h,p){var y=this,S=r;if(!S.children)return r.colId?[r.colId]:null;var T=[];if(S.children.forEach(function(de){var he=y.recursivelyAddPivotTotal(de,o,s,h,p);he&&(T=T.concat(he))}),S.children.length>1){var F=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),k=this.createColDef(h,F,r.pivotKeys,s);k.pivotTotalColumnIds=T,k.aggFunc=h.getAggFunc();var Q=r.children;p?Q.push(k):Q.unshift(k),o.push(k)}return T},t.prototype.addRowGroupTotals=function(r,o,s,h){var p=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var y="after"===this.gridOptionsWrapper.getPivotRowTotals(),S=y?s.slice():s.slice().reverse(),E=function(F){var k=S[F],Q=[];r.forEach(function(de){Q=Q.concat(p.extractColIdsForValueColumn(de,k))}),T.createRowGroupTotal(r,o,[],h,k,Q,y)},T=this,O=0;O<S.length;O++)E(O)},t.prototype.extractColIdsForValueColumn=function(r,o){var s=this;if(!r.children)return r.pivotValueColumn===o&&r.colId?[r.colId]:[];var y=[];return r.children.forEach(function(S){s.extractColIdsForValueColumn(S,o);var E=s.extractColIdsForValueColumn(S,o);y=y.concat(E)}),y},t.prototype.createRowGroupTotal=function(r,o,s,h,p,y,S){var E=s.slice(0),T=this.columnModel.getValueColumns(),O={children:[],pivotKeys:E,groupId:e.PIVOT_ROW_TOTAL_PREFIX+h.next()};if(0===T.length){var F=this.createColDef(null,"-",E,h);O.children.push(F),o.push(F)}else{var k=this.columnModel.getDisplayNameForColumn(p,"header");(F=this.createColDef(p,k,E,h)).pivotTotalColumnIds=y,O.children.push(F),o.push(F)}S?r.push(O):r.unshift(O)},t.prototype.createColDef=function(r,o,s,h){var p={};if(r){var y=r.getColDef();Object.assign(p,y),p.hide=!1}return p.headerName=o,p.colId="pivot_"+h.next(),p.field=p.colId,p.pivotKeys=s,p.pivotValueColumn=r,p.filter=!1,p},t.prototype.sameAggFuncs=function(r){if(1==r.length)return!0;for(var o=1;o<r.length;o++)if(r[o]!==r[0])return!1;return!0},t.prototype.headerNameComparator=function(r,o,s){return r?r(o.headerName,s.headerName):o.headerName&&!s.headerName?1:!o.headerName&&s.headerName?-1:o.headerName&&s.headerName?o.headerName<s.headerName?-1:o.headerName>s.headerName?1:0:0},t.prototype.merge=function(r,o){o.forEach(function(s,h,p){var y=r.has(h)?r.get(h):[],S=S1(y,s);r.set(h,S)})},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",kp([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),e=kp([(0,w.Vu6)("pivotColDefService")],t)}(w.AS9),b1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.uniqueValues={},e}return b1(t,l),t.prototype.execute=function(e){var r=e.rowNode,o=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(r,o):this.executePivotOff(o)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,r){var o=this.bucketUpRowNodes(e),s=this.setUniqueValues(o),h=this.columnModel.getValueColumns(),p=h.map(function(k){return k.getId()+"-"+k.getColDef().headerName}).join("#"),y=h.map(function(k){return k.getAggFunc().toString()}).join("#"),S=this.aggregationColumnsHashLastTime!==p,E=this.aggregationFuncsHashLastTime!==y;if(this.aggregationColumnsHashLastTime=p,this.aggregationFuncsHashLastTime=y,s||S||E){var T=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),O=T.pivotColumnGroupDefs;this.pivotColumnDefs=T.pivotColumnDefs,this.columnModel.setSecondaryColumns(O,"rowModelUpdated"),r&&r.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var r=this,o={},s=function(h){h.leafGroup?r.bucketRowNode(h,o):h.childrenAfterFilter.forEach(function(p){s(p)})};return s(e),o},t.prototype.bucketRowNode=function(e,r){var o=this.columnModel.getPivotColumns();e.childrenMapped=0===o.length?null:this.bucketChildren(e.childrenAfterFilter,o,0,r),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,r,o,s){var h=this,p={},y=r[o];if(e.forEach(function(E){var T=h.valueService.getKeyForNode(y,E);w._.missing(T)&&(T=""),s[T]||(s[T]={}),p[T]||(p[T]=[]),p[T].push(E)}),o===r.length-1)return p;var S={};return w._.iterateObject(p,function(E,T){S[E]=h.bucketChildren(T,r,o+1,s[E])}),S},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},Pc([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Pc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Pc([(0,w.fsG)("pivotColDefService")],t.prototype,"pivotColDefService",void 0),Pc([(0,w.Vu6)("pivotStage")],t)}(w.AS9),Hp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},kl="undefined"==typeof BigInt?null:BigInt,E1=function(l){function t(){var r=null!==l&&l.apply(this,arguments)||this;return r.aggFuncsMap={},r.initialised=!1,r}var e;return Hp(t,l),e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=O4,this.aggFuncsMap[e.AGG_FIRST]=T4,this.aggFuncsMap[e.AGG_LAST]=x4,this.aggFuncsMap[e.AGG_MIN]=M4,this.aggFuncsMap[e.AGG_MAX]=Bp,this.aggFuncsMap[e.AGG_COUNT]=Es,this.aggFuncsMap[e.AGG_AVG]=Md,this.initialised=!0},t.prototype.getDefaultAggFunc=function(r){var o=this.getFuncNames(r),s=w._.includes(o,e.AGG_SUM),h=w._.exists(this.aggFuncsMap[e.AGG_SUM]);return s&&h?e.AGG_SUM:w._.existsAndNotEmpty(o)?o[0]:null},t.prototype.addAggFuncs=function(r){w._.iterateObject(r,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(r,o){this.init(),this.aggFuncsMap[r]=o},t.prototype.getAggFunc=function(r){return this.init(),this.aggFuncsMap[r]},t.prototype.getFuncNames=function(r){var o=r.getColDef().allowedAggFuncs;return null==o?Object.keys(this.aggFuncsMap).sort():o},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",Gp([w.NqP],t.prototype,"init",null),e=Gp([(0,w.Vu6)("aggFuncService")],t)}(w.AS9);function O4(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];"number"==typeof o?null===e?e=o:e+=kl?"number"==typeof e?o:kl(o):o:"bigint"==typeof o&&(e=null===e?o:("bigint"==typeof e?e:kl(e))+o)}return e}function T4(l){return l.values.length>0?l.values[0]:null}function x4(l){return l.values.length>0?w._.last(l.values):null}function M4(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];("number"==typeof o||"bigint"==typeof o)&&(null===e||e>o)&&(e=o)}return e}function Bp(l){for(var t=l.values,e=null,r=0;r<t.length;r++){var o=t[r];("number"==typeof o||"bigint"==typeof o)&&(null===e||e<o)&&(e=o)}return e}function Es(l){for(var t=l.values,e=0,r=0;r<t.length;r++){var o=t[r];e+=null!=o&&"number"==typeof o.value?o.value:1}return{value:e,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function Md(l){for(var t=l.values,e=0,r=0,o=0;o<t.length;o++){var s=t[o],h=null;"number"==typeof s||"bigint"==typeof s?(h=s,r++):null!=s&&("number"==typeof s.value||"bigint"==typeof s.value)&&"number"==typeof s.count&&(h=kl?s.value*("number"==typeof s.value?s.count:kl(s.count)):s.value*s.count,r+=s.count),"number"==typeof h?e+=kl?"number"==typeof e?h:kl(h):h:"bigint"==typeof h&&(e=("bigint"==typeof e?e:kl(e))+h)}var p=null;return r>0&&(p=kl?e/("number"==typeof e?r:kl(r)):e/r),{count:r,value:p,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var zl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vl=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},P4=function(l){function t(e,r,o,s,h){var p=l.call(this)||this;return p.column=e,p.dragSourceDropTarget=r,p.ghost=o,p.valueColumn=s,p.horizontal=h,p.popupShowing=!1,p}return zl(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE);var e=this.getGui(),r=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(w._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(w._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!r&&this.addDragSource();var o=this.gridOptionsWrapper.getLocaleTextFunc(),s=o("ariaDropZoneColumnComponentDescription","Press DELETE to remove"),h=this.getColumnAndAggFuncName(),p=h.name,y=h.aggFuncName,S="";this.valueColumn&&!r&&(S=o("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type")),w._.setAriaLabel(e,y+" "+p+" "+s+" "+S),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this,r=function(){var o=e.column.getColDef().headerTooltip;e.setTooltip(o)};r(),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.addDragSource=function(){var e=this,r={type:w.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:w.jUB.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;w._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var r={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(s){var h=s.key===w.VDZ.ENTER;s.key===w.VDZ.DELETE&&(s.preventDefault(),e.dispatchEvent(r)),h&&e.valueColumn&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(s.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(s){e.dispatchEvent(r),s.stopPropagation()});var o=new w.rwP(this.eButton);this.addManagedListener(o,w.rwP.EVENT_TAP,function(){e.dispatchEvent(r)}),this.addDestroyFunc(o.destroy.bind(o))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,r="";if(this.valueColumn){var o=this.column.getAggFunc(),s="string"==typeof o?o:"agg";r=this.gridOptionsWrapper.getLocaleTextFunc()(s,s)}return{name:e,aggFuncName:r}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),r=e.name,h=w._.escapeString(this.valueColumn?e.aggFuncName+"("+r+")":r);this.eText.innerHTML=h},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var r=new w.CPJ("select-agg-func"),o=this.aggFuncService.getFuncNames(this.column),s=this.getGui(),h=r.getGui();r.setModel({getRow:function(O){return o[O]},getRowCount:function(){return o.length}}),this.getContext().createBean(r);var p=w._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');p.style.top="0px",p.style.left="0px",p.appendChild(h),p.style.width=s.clientWidth+"px";var S=this.gridOptionsWrapper.getLocaleTextFunc(),E=this.popupService.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:function(){e.destroyBean(r),e.popupShowing=!1,s.focus()},ariaLabel:S("ariaLabelAggregationFunction","Aggregation Function")});E&&r.setComponentCreator(this.createAggSelect.bind(this,E.hideFunc)),r.addGuiEventListener("keydown",function(O){if(O.key===w.VDZ.ENTER||O.key===w.VDZ.SPACE){var F=r.getLastFocusedRow();if(null==F)return;var k=r.getComponentAt(F);k&&k.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:s,ePopup:p,keepWithinBounds:!0,column:this.column}),r.refresh();var T=o.findIndex(function(O){return O===e.column.getAggFunc()});-1===T&&(T=0),r.focusRow(T)}},t.prototype.createAggSelect=function(e,r){var o=this,h=this.gridOptionsWrapper.getLocaleTextFunc(),p=r.toString(),y=h(p,p);return new Pd(function(){e(),o.gridOptionsWrapper.isFunctionsPassive()?o.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[o.column],aggFunc:r,api:o.gridApi,columnApi:o.columnApi}):o.columnModel.setColumnAggFunc(o.column,r,"toolPanelDragAndDrop")},y)},t.prototype.addElementClasses=function(e,r){e.classList.add("ag-column-drop-cell"+(r=r?"-"+r:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+r)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',Vl([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Vl([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Vl([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),Vl([(0,w.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),Vl([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Vl([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Vl([(0,w.cqo)("eText")],t.prototype,"eText",void 0),Vl([(0,w.cqo)("eDragHandle")],t.prototype,"eDragHandle",void 0),Vl([(0,w.cqo)("eButton")],t.prototype,"eButton",void 0),Vl([w.NqP],t.prototype,"init",null),t}(w.wA2),Pd=function(l){function t(e,r){var o=l.call(this,'<div class="ag-select-agg-func-item"/>')||this;return o.selectItem=e,o.getGui().innerText=r,o.addGuiEventListener("click",o.selectItem),o}return zl(t,l),t}(w.wA2),D1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ac=function(l){function t(e,r){var o=l.call(this,'<div class="ag-unselectable" aria-role="presentation"></div>')||this;return o.horizontal=e,o.valueColumn=r,o.state=t.STATE_NOT_DRAGGING,o.guiDestroyFunctions=[],o.childColumnComponents=[],o.resizeEnabled=!1,o.addElementClasses(o.getGui()),o.eColumnDropList=document.createElement("div"),o.addElementClasses(o.eColumnDropList,"list"),w._.setAriaRole(o.eColumnDropList,"listbox"),o}return D1(t,l),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),l.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,w._.clearElement(this.getGui()),w._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new w.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new w.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),w._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var o=e.key===w.VDZ.DOWN,s=e.key===w.VDZ.UP;if(this.horizontal){var h=this.gridOptionsWrapper.isEnableRtl();o=!h&&e.key===w.VDZ.RIGHT||h&&e.key===w.VDZ.LEFT,s=!h&&e.key===w.VDZ.LEFT||h&&e.key===w.VDZ.RIGHT}if(o||s){var p=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,s);p&&(e.preventDefault(),p.focus())}},t.prototype.addElementClasses=function(e,r){e.classList.add("ag-column-drop"+(r=r?"-"+r:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+r)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===w.rvo.HeaderCell||e===w.rvo.ToolPanel},t.prototype.checkInsertIndex=function(e){var r=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(r<0)return!1;var o=r!==this.insertIndex;return o&&(this.insertIndex=r),o},t.prototype.getNewHorizontalInsertIndex=function(e){if(w._.missing(e.hDirection))return-1;var r=0,o=e.event,s=this.beans.gridOptionsWrapper.isEnableRtl(),h=e.hDirection===w.poj.Left,p=o.clientX;return this.childColumnComponents.forEach(function(y){var S=y.getGui().getBoundingClientRect(),E=h?S.right:S.left;(s?p<=E:p>=E)&&r++}),r},t.prototype.getNewVerticalInsertIndex=function(e){if(w._.missing(e.vDirection))return-1;var r=0,o=e.event;return this.childColumnComponents.forEach(function(s){var h=s.getGui().getBoundingClientRect();o.clientY>=(e.vDirection===w.HO_.Down?h.top:h.bottom)&&r++}),r},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var r=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=r.filter(this.isColumnDroppable.bind(this));o.length>0&&(this.potentialDndColumns=o,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return w._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var r=e.dragSource.getDragItem().columns||[];this.removeColumns(r)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsWrapper.isFunctionsPassive()||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var r=this.getExistingColumns().filter(function(o){return!w._.includes(e,o)});this.updateColumns(r)},t.prototype.addColumns=function(e){if(e){var r=this.getExistingColumns().slice(),o=e.filter(function(s){return r.indexOf(s)<0});w._.insertArrayIntoArray(r,o,this.insertIndex),this.updateColumns(r)}},t.prototype.rearrangeColumns=function(e){var r=this.getNonGhostColumns().slice();return w._.insertArrayIntoArray(r,e,this.insertIndex),!w._.areEqual(r,this.getExistingColumns())&&(this.updateColumns(r),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,r=this.resizeEnabled,o=this.getFocusedItem(),s=this.focusService.findNextFocusableElement();s||(s=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),r&&this.toggleResizable(r),this.restoreFocus(o,s)},t.prototype.getFocusedItem=function(){var e=this.getGui(),r=this.gridOptionsWrapper.getDocument().activeElement;return e.contains(r)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(r):-1},t.prototype.restoreFocus=function(e,r){var o=this.getGui(),s=Array.from(o.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===s.length&&r.focus();var p=s[Math.min(s.length-1,e)];p&&p.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,r=this.getExistingColumns();return this.isPotentialDndColumns()?r.filter(function(o){return!w._.includes(e.potentialDndColumns,o)}):r},t.prototype.addColumnsToGui=function(){var e=this,r=this.getNonGhostColumns(),o=this.isPotentialDndColumns(),s=[];r.forEach(function(h,p){if(!(o&&p>=e.insertIndex)){var y=e.createColumnComponent(h,!1);s.push(y)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(h){var p=e.createColumnComponent(h,!0);s.push(p)}),r.forEach(function(h,p){if(!(p<e.insertIndex)){var y=e.createColumnComponent(h,!1);s.push(y)}})),this.appendChild(this.eColumnDropList),s.forEach(function(h,p){p>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(h.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(r,o){var s=r.getGui();w._.setAriaPosInSet(s,o+1),w._.setAriaSetSize(s,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,r){var o=this,s=new P4(e,this.dropTarget,r,this.valueColumn,this.horizontal);return s.addEventListener(P4.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(s),this.guiDestroyFunctions.push(function(){return o.destroyBean(s)}),r||this.childColumnComponents.push(s),s},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,r=document.createElement("div");if(r.setAttribute("aria-hidden","true"),this.addElementClasses(r,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),r.appendChild(e),!this.horizontal){var o=document.createElement("span");this.addElementClasses(o,"title"),o.innerHTML=this.params.title,r.appendChild(o)}this.appendChild(r)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var r=this.beans.gridOptionsWrapper.isEnableRtl(),o=w._.createIconNoSpan(r?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(o,"cell-separator"),e.appendChild(o)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),t}(w.wA2),xv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ml=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Wp=function(l){function t(e){return l.call(this,e,!1)||this}return xv(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),o=e("groups","Row Groups");l.prototype.init.call(this,{dragAndDropIcon:w.jUB.ICON_GROUP,icon:w._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?w.jUB.ICON_GROUP:w.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},ml([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),ml([(0,w.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),ml([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ml([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),ml([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),ml([w.NqP],t.prototype,"passBeansUp",null),t}(Ac),A4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},jp=function(l){function t(e){return l.call(this,e,!1)||this}return A4(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("pivotColumnsEmptyMessage","Drag here to set column labels"),o=e("pivots","Column Labels");l.prototype.init.call(this,{dragAndDropIcon:w.jUB.ICON_GROUP,icon:w._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("pivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var r=this.columnModel.isPivotActive();this.setDisplayed(e&&r);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?w.jUB.ICON_PIVOT:w.jUB.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},Yu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Yu([(0,w.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),Yu([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Yu([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Yu([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Yu([w.NqP],t.prototype,"passBeansUp",null),t}(Ac),R4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ad=function(l){function t(){return l.call(this)||this}return R4(t,l),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),r=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),w._.setAriaRole(e,"presentation"),this.rowGroupComp=new Wp(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new jp(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,w.wA2.EVENT_DISPLAYED_CHANGED,r),this.addManagedListener(this.pivotComp,w.wA2.EVENT_DISPLAYED_CHANGED,r),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===w.gTE.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===w.gTE.ONLY_WHEN_GROUPING){var r=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(r)}else this.rowGroupComp.setDisplayed(!1)}},oc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),oc([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),O1={moduleName:w.GXE.RowGroupingModule,beans:[Np,D4,Vp,hu,E1],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:Ad}],dependantModules:[Et]},T1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Mv=function(l){function t(e){return l.call(this,e,!0)||this}return T1(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("valueColumnsEmptyMessage","Drag here to aggregate"),o=e("values","Values");l.prototype.init.call(this,{dragAndDropIcon:w.jUB.ICON_AGGREGATE,icon:w._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:r,title:o}),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?w.jUB.ICON_AGGREGATE:w.jUB.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},Rd([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Rd([(0,w.fsG)("loggerFactory")],t.prototype,"loggerFactory",void 0),Rd([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Rd([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Rd([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Rd([w.NqP],t.prototype,"passBeansUp",null),t}(Ac),F4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Up=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return F4(t,l),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,r,o){this.allowDragging=e,this.params=r,this.eventType=o,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new w.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',x1([(0,w.cqo)("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),x1([(0,w.cqo)("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),x1([w.NqP],t.prototype,"postConstruct",null),t}(w.BxR),L4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},I4=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return L4(t,l),t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var r=this,o={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(w._.mergeDeep(o,e),this.params=o,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new w1),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new Up),this.childDestroyFuncs.push(function(){return r.destroyBean(r.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new Wp(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new Mv(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new jp(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var s=this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){r.resetChildrenHeight(),r.setLastVisible()});this.childDestroyFuncs.push(function(){return s()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var r=this;!this.isRowGroupingModuleLoaded()||(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new w1),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new Wp(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new Mv(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new jp(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var r=e.getGui();e.toggleResizable(!r.classList.contains("ag-last-column-drop")&&!r.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(h){return h.classList.remove("ag-last-column-drop")});var o=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),s=w._.last(o);s&&s.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var r=this.getGui().children,o=0;o<r.length;o++){var s=r[o];s.style.removeProperty("height"),s.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return w.O3h.assertRegistered(w.GXE.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,w._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',Pv([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Pv([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(w.wA2),Ku=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},L3=function(){function l(){}return l.prototype.selectAllChildren=function(t,e,r){var o=this.extractAllLeafColumns(t);this.setAllColumns(o,e,r)},l.prototype.setColumn=function(t,e,r){this.setAllColumns([t],e,r)},l.prototype.setAllColumns=function(t,e,r){this.columnModel.isPivotMode()?this.setAllPivot(t,e,r):this.setAllVisible(t,e,r)},l.prototype.extractAllLeafColumns=function(t){var e=[],r=function(o){o.forEach(function(s){!s.isPassesFilter()||(s.isGroup()?r(s.getChildren()):e.push(s.getColumn()))})};return r(t),e},l.prototype.setAllVisible=function(t,e,r){var o=[];t.forEach(function(s){s.getColDef().lockVisible||s.isVisible()!=e&&o.push({colId:s.getId(),hide:!e})}),o.length>0&&this.columnModel.applyColumnState({state:o},r)},l.prototype.setAllPivot=function(t,e,r){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,r)},l.prototype.setAllPivotPassive=function(t,e){var r=this.columnModel.getPivotColumns().slice(),o=this.columnModel.getValueColumns().slice(),s=this.columnModel.getRowGroupColumns().slice(),h=!1,p=!1,y=!1;t.forEach(e?function(Q){Q.isAnyFunctionActive()||(Q.isAllowValue()?(o.push(Q),p=!0):Q.isAllowRowGroup()?(s.push(Q),h=!0):Q.isAllowPivot()&&(r.push(Q),y=!0))}:function(Q){!Q.isAnyFunctionActive()||(r.indexOf(Q)>=0&&(w._.removeFromArray(r,Q),h=!0),o.indexOf(Q)>=0&&(w._.removeFromArray(o,Q),p=!0),s.indexOf(Q)>=0&&(w._.removeFromArray(s,Q),y=!0))}),h&&this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:r,api:this.gridApi,columnApi:this.columnApi}),y&&this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:s,api:this.gridApi,columnApi:this.columnApi}),p&&this.eventService.dispatchEvent({type:w.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:s,api:this.gridApi,columnApi:this.columnApi})},l.prototype.setAllPivotActive=function(t,e,r){var o=this,s=[];t.forEach(e?function(S){if(!S.isAnyFunctionActive())if(S.isAllowValue()){var E="string"==typeof S.getAggFunc()?S.getAggFunc():o.aggFuncService.getDefaultAggFunc(S);s.push({colId:S.getId(),aggFunc:E})}else S.isAllowRowGroup()?s.push({colId:S.getId(),rowGroup:!0}):S.isAllowPivot()&&s.push({colId:S.getId(),pivot:!0})}:function(S){(S.isPivotActive()||S.isRowGroupActive()||S.isValueActive())&&s.push({colId:S.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),s.length>0&&this.columnModel.applyColumnState({state:s},r)},Ku([(0,w.fsG)("aggFuncService")],l.prototype,"aggFuncService",void 0),Ku([(0,w.fsG)("columnModel")],l.prototype,"columnModel",void 0),Ku([(0,w.fsG)("gridOptionsWrapper")],l.prototype,"gridOptionsWrapper",void 0),Ku([(0,w.fsG)("columnApi")],l.prototype,"columnApi",void 0),Ku([(0,w.fsG)("gridApi")],l.prototype,"gridApi",void 0),Ku([(0,w.fsG)("eventService")],l.prototype,"eventService",void 0),Ku([(0,w.Vu6)("modelItemUtils")],l)}(),pu={moduleName:w.GXE.ColumnToolPanelModule,beans:[L3],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:b4},{componentName:"AgPrimaryColsList",componentClass:bv},{componentName:"AgPrimaryCols",componentClass:Up}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:I4}],dependantModules:[Et,O1,su]},_i=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},M1=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(_i(arguments[t]));return l},Hl=function(){function l(t,e,r,o,s,h,p,y){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=e,this.eventService=r,this.columnModel=o,this.gridApi=s,this.columnApi=h,this.beans=y,this.selectionService=p,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=l.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return l.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},l.prototype.getCopyOfNodesMap=function(){return w._.cloneObject(this.allNodesMap)},l.prototype.getRowNode=function(t){return this.allNodesMap[t]},l.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){var r=this.rootNode,o=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(s){return e.createNode(s,e.rootNode,l.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),o&&(o.childrenAfterFilter=r.childrenAfterFilter,o.childrenAfterGroup=r.childrenAfterGroup,o.childrenAfterSort=r.childrenAfterSort,o.childrenMapped=r.childrenMapped,o.allLeafChildren=r.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},l.prototype.updateRowData=function(t,e){var r={remove:[],update:[],add:[]},o=[];return this.executeRemove(t,r,o),this.executeUpdate(t,r,o),this.executeAdd(t,r),this.updateSelection(o),e&&w._.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},l.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach(function(o){o.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:w.zW2.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},l.prototype.executeAdd=function(t,e){var r=this,o=t.add,s=t.addIndex;if(!w._.missingOrEmpty(o)){var h=o.map(function(T){return r.createNode(T,r.rootNode,l.TOP_LEVEL)});if("number"==typeof s&&s>=0){var y=this.rootNode.allLeafChildren,S=y.slice(0,s),E=y.slice(s,y.length);this.rootNode.allLeafChildren=M1(S,h,E)}else this.rootNode.allLeafChildren=M1(this.rootNode.allLeafChildren,h);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=h}},l.prototype.executeRemove=function(t,e,r){var o=this,s=t.remove;if(!w._.missingOrEmpty(s)){var h={};s.forEach(function(p){var y=o.lookupRowNode(p);!y||(y.isSelected()&&r.push(y),y.clearRowTopAndRowIndex(),h[y.id]=!0,delete o.allNodesMap[y.id],e.remove.push(y))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(p){return!h[p.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},l.prototype.executeUpdate=function(t,e,r){var o=this,s=t.update;w._.missingOrEmpty(s)||s.forEach(function(h){var p=o.lookupRowNode(h);!p||(p.updateData(h),!p.selectable&&p.isSelected()&&r.push(p),o.setMasterForRow(p,h,l.TOP_LEVEL,!1),e.update.push(p))})},l.prototype.lookupRowNode=function(t){var r,e=this.gridOptionsWrapper.getRowIdFunc();if(e){var o=e({data:t,level:0,api:this.gridApi,columnApi:this.columnApi});if(!(r=this.allNodesMap[o]))return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(!(r=this.rootNode.allLeafChildren.find(function(s){return s.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},l.prototype.createNode=function(t,e,r){var o=new w.Fxk(this.beans);return o.group=!1,this.setMasterForRow(o,t,r,!0),e&&!this.suppressParentsInRowNodes&&(o.parent=e),o.level=r,o.setDataAndId(t,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("AG Grid: duplicate node id '"+o.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[o.id]=o,this.nextId++,o},l.prototype.setMasterForRow=function(t,e,r,o){if(this.doingTreeData)t.setMaster(!1),o&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),o){var s=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(r+(s?s.length:0))}},l.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},l.TOP_LEVEL=0,l.ROOT_NODE_ID="ROOT_NODE_ID",l}(),Fd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wa=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Sa=(()=>(function(l){l[l.Normal=0]="Normal",l[l.AfterFilter=1]="AfterFilter",l[l.AfterFilterAndSort=2]="AfterFilterAndSort",l[l.PivotNodes=3]="PivotNodes"}(Sa||(Sa={})),Sa))(),P1=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Fd(t,l),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:w.j_r.EVERYTHING}),r=!this.gridOptionsWrapper.isSuppressAnimationFrame(),o=this.refreshModel.bind(this,{step:w.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:w.j_r.PIVOT})),this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var s=this.refreshModel.bind(this,{step:w.j_r.MAP,keepRenderedRows:!0,animate:r});this.addManagedListener(this.gridOptionsWrapper,w.wfB.PROP_GROUP_REMOVE_SINGLE_CHILDREN,s),this.addManagedListener(this.gridOptionsWrapper,w.wfB.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,s),this.rootNode=new w.Fxk(this.beans),this.nodeManager=new Hl(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,r,o,s){var h,p=!1;do{h=!1;for(var y=this.getRowIndexAtPixel(e),S=this.getRowIndexAtPixel(r),E=Math.max(y,o),T=Math.min(S,s),O=E;O<=T;O++){var F=this.getRow(O);if(F.rowHeightEstimated){var k=this.gridOptionsWrapper.getRowHeightForNode(F);F.setRowHeight(k.height),h=!0,p=!0}}h&&this.setRowTopAndRowIndex()}while(h);return p},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),r=0,o=new Set,s=this.gridOptionsWrapper.getDomLayout()===w.gTE.DOM_LAYOUT_NORMAL,h=0;h<this.rowsToDisplay.length;h++){var p=this.rowsToDisplay[h];if(null!=p.id&&o.add(p.id),null==p.rowHeight){var y=this.gridOptionsWrapper.getRowHeightForNode(p,s,e);p.setRowHeight(y.height,y.estimated)}p.setRowTop(r),p.setRowIndex(h),r+=p.rowHeight}return o},t.prototype.clearRowTopAndRowIndex=function(e,r){var o=e.isActive(),s=function(p){p&&null!=p.id&&!r.has(p.id)&&p.clearRowTopAndRowIndex()},h=function(p){s(p),s(p.detailNode),s(p.sibling),p.hasChildren()&&p.childrenAfterGroup&&(o&&-1!=p.level&&!p.expanded||p.childrenAfterGroup.forEach(h))};h(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,o){var s=this;void 0===o&&(o=0);var h=this.getRowIndexAtPixel(r),p=this.getRow(h),y=!this.gridOptionsWrapper.isSuppressAnimationFrame();return p!==e[0]&&(e.forEach(function(S){w._.removeFromArray(s.rootNode.allLeafChildren,S)}),e.forEach(function(S,E){w._.insertIntoArray(s.rootNode.allLeafChildren,S,Math.max(h+o,0)+E)}),this.refreshModel({step:w.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:y}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var o=null!=r?this.getRowIndexAtPixel(r):null,s=null!=o?this.getRow(o):null;if(s&&e&&s!==e&&null!=r){var h=this.getHighlightPosition(r,s);this.lastHighlightedRow&&this.lastHighlightedRow!==s&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),s.setHighlighted(h),this.lastHighlightedRow=s}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,r){if(!r){var o=this.getRowIndexAtPixel(e);if(!(r=this.getRow(o||0)))return w.oh5.Below}return e-r.rowTop<r.rowHeight/2?w.oh5.Above:w.oh5.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var o=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;o.expanded&&o.childrenAfterSort&&o.childrenAfterSort.length>0;)o=o.childrenAfterSort[0];return o.rowIndex},t.prototype.getRowBounds=function(e){if(w._.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:w.j_r.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:w.j_r.FILTER,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:w.j_r.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:w.j_r.PIVOT}):this.refreshModel({step:w.j_r.AGGREGATE})},t.prototype.createChangePath=function(e){var r=w._.missingOrEmpty(e),o=new w.Dkq(!1,this.rootNode);return(r||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==e.rowNodeTransactions)return!1;var r=e.rowNodeTransactions.filter(function(s){return null!=s.add&&s.add.length>0||null!=s.remove&&s.remove.length>0});return null==r||0==r.length},t.prototype.refreshModel=function(e){var r=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var o=this.createChangePath(e.rowNodeTransactions);switch(e.step){case w.j_r.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,o,!!e.afterColumnsChanged);case w.j_r.FILTER:this.doFilter(o);case w.j_r.PIVOT:this.doPivot(o);case w.j_r.AGGREGATE:this.doAggregate(o);case w.j_r.SORT:this.doSort(e.rowNodeTransactions,o);case w.j_r.MAP:this.doRowsToDisplay()}var s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,s),this.eventService.dispatchEvent({type:w.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){r.$scope.$apply()},0)}},t.prototype.isEmpty=function(){var e=w._.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return w._.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return w._.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var h,o=!r,s=!1,p=[],y=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(S){var E=o&&!s;if(o||(S===r||S===e)&&(o=!0),!S.group||!y){var O=o&&!s,F=S.isParentOfNode(h);(O||F)&&p.push(S)}E&&(S===r||S===e)&&(s=!0,h=S===r?r:e)}),p},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var r=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(w._.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var h=Math.floor((r+o)/2),p=this.rowsToDisplay[h];if(this.isRowInPixel(p,e))return h;p.rowTop<e?r=h+1:p.rowTop>e&&(o=h-1)}},t.prototype.isRowInPixel=function(e,r){return e.rowTop<=r&&e.rowTop+e.rowHeight>r},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,o){return e(r,o)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Sa.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,Sa.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Sa.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Sa.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,r,o,s){if(!e)return s;for(var h=0;h<e.length;h++){var p=e[h];if(r(p,s++),p.hasChildren()){var y=null;switch(o){case Sa.Normal:y=p.childrenAfterGroup;break;case Sa.AfterFilter:y=p.childrenAfterFilter;break;case Sa.AfterFilterAndSort:y=p.childrenAfterSort;break;case Sa.PivotNodes:y=p.leafGroup?null:p.childrenAfterSort}y&&(s=this.recursivelyWalkNodesAndCallback(y,r,o,s))}}return s},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsWrapper.isTreeData();this.rootNode&&function o(p){!p||p.forEach(function(y){(r?w._.exists(y.childrenAfterGroup):y.group)&&(y.expanded=e,o(y.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:w.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:w.zW2.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,o,s,h){this.groupStage?(r?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,rowNodeOrder:o,changedPath:s}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:s,afterColumnsChanged:h}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(s)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){!e||w._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,o){"boolean"==typeof e[o]&&(r.expanded=e[o])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return w._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,o){return e[o]=r.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(w.Fxk.ID_PREFIX_ROW_GROUP)){var o=void 0;return this.forEachNode(function(s){s.id===e&&(o=s)}),o}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var r=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:w.zW2.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:w.j_r.EVERYTHING,groupState:r,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var o=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var s=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){o.executeBatchUpdateRowData()},s)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],o=[],s=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(p){var y=e.nodeManager.updateRowData(p.rowDataTransaction,void 0);o.push(y),p.callback&&r.push(p.callback.bind(null,y)),"number"==typeof p.rowDataTransaction.addIndex&&(s=!0)}),this.commonUpdateRowData(o,void 0,s),r.length>0&&window.setTimeout(function(){r.forEach(function(p){return p()})},0),o.length>0){var h={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:w.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(h)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,r);return this.commonUpdateRowData([o],r,"number"==typeof e.addIndex),o},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var o=0;o<this.rootNode.allLeafChildren.length;o++)r[this.rootNode.allLeafChildren[o].id]=o;return r}},t.prototype.commonUpdateRowData=function(e,r,o){var s=!this.gridOptionsWrapper.isSuppressAnimationFrame();o&&(r=this.createRowNodeOrder()),this.refreshModel({step:w.j_r.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),this.eventService.dispatchEvent({type:w.zW2.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:w.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var o=r.detailNode;o&&o.setRowHeight(o.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},wa([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),wa([(0,w.fsG)("$scope")],t.prototype,"$scope",void 0),wa([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),wa([(0,w.fsG)("valueCache")],t.prototype,"valueCache",void 0),wa([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),wa([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),wa([(0,w.fsG)("animationFrameService")],t.prototype,"animationFrameService",void 0),wa([(0,w.fsG)("beans")],t.prototype,"beans",void 0),wa([(0,w.fsG)("filterStage")],t.prototype,"filterStage",void 0),wa([(0,w.fsG)("sortStage")],t.prototype,"sortStage",void 0),wa([(0,w.fsG)("flattenStage")],t.prototype,"flattenStage",void 0),wa([(0,w.FiY)("groupStage")],t.prototype,"groupStage",void 0),wa([(0,w.FiY)("aggregationStage")],t.prototype,"aggregationStage",void 0),wa([(0,w.FiY)("pivotStage")],t.prototype,"pivotStage",void 0),wa([w.NqP],t.prototype,"init",null),wa([(0,w.Vu6)("rowModel")],t)}(w.AS9),Qs=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Gl=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Qs(t,l),t.prototype.execute=function(e){var r=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(r)},Rc([(0,w.fsG)("selectableService")],t.prototype,"selectableService",void 0),Rc([(0,w.fsG)("filterService")],t.prototype,"filterService",void 0),Rc([(0,w.Vu6)("filterStage")],t)}(w.AS9),La=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},fu=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return La(t,l),t.prototype.execute=function(e){var r=this.sortController.getSortOptions(),o=w._.exists(r)&&r.length>0,s=o&&w._.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),h=s?this.calculateDirtyNodes(e.rowNodeTransactions):null,p=w._.missingOrEmpty(this.columnModel.getValueColumns()),y=r.some(function(S){return!!S.column.getColDef().showRowGroup});this.sortService.sort(r,o,s,h,e.changedPath,p,y)},t.prototype.calculateDirtyNodes=function(e){var r={},o=function(s){s&&s.forEach(function(h){return r[h.id]=!0})};return e&&e.forEach(function(s){o(s.add),o(s.update),o(s.remove)}),r},Fc([(0,w.fsG)("sortService")],t.prototype,"sortService",void 0),Fc([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),Fc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Fc([(0,w.Vu6)("sortStage")],t)}(w.AS9),A1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Av=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return A1(t,l),t.prototype.execute=function(e){var r=e.rowNode,o=[],s={value:0},h=this.columnModel.isPivotMode(),p=h&&r.leafGroup;return this.recursivelyAddToRowsToDisplay(p?[r]:r.childrenAfterSort,o,s,h,0),!p&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(r),this.addRowNodeToRowsToDisplay(r.sibling,o,s,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,o,s,h){if(!w._.missingOrEmpty(e))for(var p=this.gridOptionsWrapper.isGroupHideOpenParents(),y=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),S=!y&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),E=0;E<e.length;E++){var T=e[E],O=T.hasChildren(),k=y&&O&&1===T.childrenAfterGroup.length,Q=S&&O&&T.leafGroup&&1===T.childrenAfterGroup.length;if(!(s&&!O||p&&T.expanded&&(!s||!T.leafGroup)||k||Q)&&this.addRowNodeToRowsToDisplay(T,r,o,h),!s||!T.leafGroup)if(O){var ve=k||Q;(T.expanded||ve)&&(this.recursivelyAddToRowsToDisplay(T.childrenAfterSort,r,o,s,ve?h:h+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(T),this.addRowNodeToRowsToDisplay(T.sibling,r,o,h)))}else if(T.master&&T.expanded){var ct=this.createDetailNode(T);this.addRowNodeToRowsToDisplay(ct,r,o,h)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,o,s){var h=this.gridOptionsWrapper.isGroupMultiAutoColumn();r.push(e),e.setUiLevel(h?0:s)},t.prototype.ensureFooterNodeExists=function(e){if(!w._.exists(e.sibling)){var r=new w.Fxk(this.beans);Object.keys(e).forEach(function(o){r[o]=e[o]}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,w._.exists(r.id)&&(r.id="rowGroupFooter_"+r.id),r.sibling=e,e.sibling=r}},t.prototype.createDetailNode=function(e){if(w._.exists(e.detailNode))return e.detailNode;var r=new w.Fxk(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,w._.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},R1([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),R1([(0,w.fsG)("beans")],t.prototype,"beans",void 0),R1([(0,w.Vu6)("flattenStage")],t)}(w.AS9),N4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Kp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return N4(t,l),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,r,o,s,h,p,y){var S=this,E=this.gridOptionsWrapper.isGroupMaintainOrder(),T=this.columnModel.getAllGridColumns().some(function(F){return F.isRowGroupActive()});h&&h.forEachChangedNodeDepthFirst(function(F){S.pullDownGroupDataForHideOpenParents(F.childrenAfterFilter,!0),F.childrenAfterSort=r?E&&T&&!F.leafGroup&&!y?F.childrenAfterFilter.slice(0):o?S.doDeltaSort(F,e,s,h,p):S.rowNodeSorter.doFullSort(F.childrenAfterFilter,e):F.childrenAfterFilter.slice(0),F.sibling&&(F.sibling.childrenAfterSort=F.childrenAfterSort),S.updateChildIndexes(F),S.postSortFunc&&S.postSortFunc(F.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(h)},t.prototype.mapNodeToSortedNode=function(e,r){return{currentPos:r,rowNode:e}},t.prototype.doDeltaSort=function(e,r,o,s,h){var p=e.childrenAfterSort.filter(function(T){var O=!o[T.id],F=h||s&&s.canSkip(T);return O&&F}).map(this.mapNodeToSortedNode.bind(this)),y={};p.forEach(function(T){return y[T.rowNode.id]=T.rowNode});var S=e.childrenAfterFilter.filter(function(T){return!y[T.id]}).map(this.mapNodeToSortedNode.bind(this));return S.sort(this.rowNodeSorter.compareRowNodes.bind(this,r)),(0===S.length?p:0===p.length?S:this.mergeSortedArrays(r,p,S)).map(function(T){return T.rowNode})},t.prototype.mergeSortedArrays=function(e,r,o){for(var s=[],h=0,p=0;h<r.length&&p<o.length;){var y=this.rowNodeSorter.compareRowNodes(e,r[h],o[p]);s.push(y<0?r[h++]:o[p++])}for(;h<r.length;)s.push(r[h++]);for(;p<o.length;)s.push(o[p++]);return s},t.prototype.updateChildIndexes=function(e){if(!w._.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,o=0;o<r.length;o++){var s=r[o],p=o===e.childrenAfterSort.length-1;s.setFirstChild(0===o),s.setLastChild(p),s.setChildIndex(o)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return w._.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var s=function(h){r.pullDownGroupDataForHideOpenParents(h.childrenAfterSort,!1),h.childrenAfterSort.forEach(function(p){p.hasChildren()&&s(p)})};e&&e.executeFromRootNode(function(h){return s(h)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var o=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||w._.missing(e)||e.forEach(function(s){o.columnModel.getGroupDisplayColumns().forEach(function(p){var y=p.getColDef().showRowGroup;if("string"==typeof y){var E=o.columnModel.getPrimaryColumn(y);if(E!==s.rowGroupColumn)if(r)s.setGroupValue(p.getId(),void 0);else{var O=s.getFirstChildOfFirstChild(E);O&&s.setGroupValue(p.getId(),O.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},Yp([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Yp([(0,w.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Yp([w.NqP],t.prototype,"init",null),Yp([(0,w.Vu6)("sortService")],t)}(w.AS9),Wh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$p=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},qp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Wh(t,l),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var r=this.filterManager.isAnyFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var o=this,s=function(S,E){S.hasChildren()?(S.childrenAfterFilter=e&&!E?S.childrenAfterGroup.filter(function(T){var O=T.childrenAfterFilter&&T.childrenAfterFilter.length>0,F=T.data&&o.filterManager.doesRowPassFilter({rowNode:T});return O||F}):S.childrenAfterGroup,o.setAllChildrenCount(S)):(S.childrenAfterFilter=S.childrenAfterGroup,S.setAllChildrenCount(null)),S.sibling&&(S.sibling.childrenAfterFilter=S.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var h=function(S,E){if(S.childrenAfterGroup)for(var T=0;T<S.childrenAfterGroup.length;T++){var O=S.childrenAfterGroup[T],F=E||o.filterManager.doesRowPassFilter({rowNode:O});O.childrenAfterGroup?h(S.childrenAfterGroup[T],F):s(O,F)}s(S,E)};r.executeFromRootNode(function(S){return h(S,!1)})}else r.forEachChangedNodeDepthFirst(function(S){return s(S,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterFilter.forEach(function(o){r++,r+=o.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterFilter.forEach(function(o){o.group?r+=o.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},$p([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),$p([w.NqP],t.prototype,"postConstruct",null),$p([(0,w.Vu6)("filterService")],t)}(w.AS9),Ld=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Ho=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Ld(t,l),t.prototype.postConstruct=function(){this.rowModel.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(r){var o=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(r,2),p=this.clientSideRowModel.updateRowData(o[0],o[1]);p&&this.rowRenderer.refreshFullWidthRows(p.update)}},t.prototype.createTransactionForRowData=function(e){var r=this;if(w._.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var o=this.gridOptionsWrapper.getRowIdFunc();if(null!=o){var s={remove:[],update:[],add:[]},h=this.clientSideRowModel.getCopyOfNodesMap(),y=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return w._.exists(e)&&e.forEach(function(S,E){var T=o({data:S,level:0,api:r.gridApi,columnApi:r.columnApi}),O=h[T];y&&(y[T]=E),O?(O.data!==S&&s.update.push(S),h[T]=void 0):s.add.push(S)}),w._.iterateObject(h,function(S,E){E&&s.remove.push(E.data)}),[s,y]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Lc([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),Lc([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Lc([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Lc([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Lc([w.NqP],t.prototype,"postConstruct",null),Lc([(0,w.Vu6)("immutableService")],t)}(w.AS9),Rv={moduleName:w.GXE.ClientSideRowModelModule,beans:[Gl,fu,Av,Kp,qp,Ho],rowModels:{clientSide:P1}},z4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jh=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},F1=function(l){function t(e,r,o){var s=l.call(this,e)||this;return s.parentCache=r,s.params=o,s.startRow=e*o.blockSize,s.endRow=s.startRow+o.blockSize,s}return z4(t,l),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,o){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),w._.exists(r)?e.setDataAndId(r,o.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();w._.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,r,o){var s=this;this.rowNodes.forEach(function(h,p){s.startRow+p<o&&e(h,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){return void 0===r&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,o=new w.Fxk(this.beans);o.setRowHeight(this.params.rowHeight),o.uiLevel=0,o.setRowIndex(r),o.setRowTop(this.params.rowHeight*r),this.rowNodes.push(o)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(s,h){r.setDataAndId(s,e.rowData?e.rowData[h]:void 0,r.startRow+h)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},jh([(0,w.fsG)("beans")],t.prototype,"beans",void 0),jh([w.NqP],t.prototype,"postConstruct",null),jh([w.FXL],t.prototype,"destroyRowNodes",null),t}(w.NlK),V4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},H4=function(l,t){return function(e,r){t(e,r,l)}},G4=function(l){function t(e){var r=l.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return V4(t,l),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){void 0===r&&(r=!1);var o=Math.floor(e/this.params.blockSize),s=this.blocks[o];if(!s){if(r)return;s=this.createBlock(o)}return s.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new F1(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,o=this.getBlocksInOrder().filter(function(S){return S!=e});o.sort(function(S,E){return E.getLastAccessed()-S.getLastAccessed()});var h=this.params.maxBlocksInCache>0,p=h?this.params.maxBlocksInCache-1:null,y=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(S,E){if(S.getState()===F1.STATE_WAITING_TO_LOAD&&E>=y||h&&E>=p){if(r.isBlockCurrentlyDisplayed(S)||r.isBlockFocused(S))return;r.removeBlockFromCache(S)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||null!=r.rowPinned)return!1;var o=e.getStartRow(),s=e.getEndRow();return r.rowIndex>=o&&r.rowIndex<s},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),o=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,o)},t.prototype.removeBlockFromCache=function(e){!e||this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if("number"==typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var s=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<s&&(this.rowCount=s)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,w._.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,o=new w.at1;this.getBlocksInOrder().forEach(function(s){return s.forEachNode(e,o,r.rowCount)})},t.prototype.getBlocksInOrder=function(){return w._.getAllValuesInObject(this.blocks).sort(function(o,s){return o.getId()-s.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(o){o.getId()*e.params.blockSize>=e.rowCount&&r.push(o)}),r.length>0&&r.forEach(function(o){return e.destroyBlock(o)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var o=this,s=[],h=-1,p=!1,y=new w.at1;w._.missing(e)&&(p=!0);var S=!1;return this.getBlocksInOrder().forEach(function(T){if(!S){if(p&&h+1!==T.getId())return void(S=!0);h=T.getId(),T.forEachNode(function(O){var F=O===e||O===r;(p||F)&&s.push(O),F&&(p=!p)},y,o.rowCount)}}),S||p?[]:s},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,Xp([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Xp([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),Xp([H4(0,(0,w.qaB)("loggerFactory"))],t.prototype,"setBeans",null),Xp([w.FXL],t.prototype,"destroyAllBlocks",null),t}(w.AS9),Zp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ic=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},I3=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Zp(t,l),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,o,s){return!1},t.prototype.init=function(){var e=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&w._.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!w._.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return w.gTE.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var o=this.createModelUpdatedEvent();this.eventService.dispatchEvent(o)}},t.prototype.createModelUpdatedEvent=function(){return{type:w.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new w.at1},this.infiniteCache=this.createBean(new G4(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,r){return e>0?e:r},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var r=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return r>o?o:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},Ic([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),Ic([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),Ic([(0,w.fsG)("selectionService")],t.prototype,"selectionService",void 0),Ic([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Ic([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Ic([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Ic([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ic([w.NqP],t.prototype,"init",null),Ic([w.FXL],t.prototype,"destroyDatasource",null),Ic([(0,w.Vu6)("rowModel")],t)}(w.AS9),Uh={moduleName:w.GXE.InfiniteRowModelModule,rowModels:{infinite:I3}},cs=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Fv=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return cs(t,l),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var o=this.extractRowsFromGridRowModel(e);return o.chartData=this.aggregateRowsByDimension(e,o.chartData),o},t.prototype.extractRowsFromGridRowModel=function(e){var E,r=this,o=[],s={},h={},p={},y={},S=[];if(e.crossFiltering)y=this.getFilteredRowNodes(),E=(S=this.getAllRowNodes()).length;else{var T=this.gridRowModel.getRowCount()-1;E=(e.endRow>=0?Math.min(e.endRow,T):T)-e.startRow+1}for(var F=function(fe){var ve={},Be=e.crossFiltering?S[fe]:k.gridRowModel.getRow(fe+e.startRow);e.dimensionCols.forEach(function(ct){var tt=ct.colId,Ft=r.columnModel.getGridColumn(tt);if(Ft){var Nt=r.valueService.getValue(Ft,Be);if(e.grouping){var jt=Nt&&Nt.toString?String(Nt.toString()):"",Jt=t.getGroupLabels(Be,jt);ve[tt]={labels:Jt,toString:function(){return this.labels.filter(function(Dn){return!!Dn}).reverse().join(" - ")}},Be.group&&(h[Jt.toString()]=fe);var Mn=Jt.slice(1,Jt.length).toString();Mn&&(p[Mn]=h[Mn])}else ve[tt]=Nt}else ve[$u.DEFAULT_CATEGORY]=fe+1}),e.valueCols.forEach(function(ct){var tt=[],Ft=ct.getColDef().pivotKeys;Ft&&(tt=Ft.slice());var Nt=ct.getColDef().headerName;Nt&&tt.push(Nt),tt.length>0&&(s[ct.getId()]=tt);var jt=ct.getColId();if(e.crossFiltering){var Jt=jt+"-filtered-out",Dn=null!=(Mn=r.valueService.getValue(ct,Be))&&"function"==typeof Mn.toNumber?Mn.toNumber():Mn;y[Be.id]?(ve[jt]=Dn,ve[Jt]=e.aggFunc||e.isScatter?void 0:0):(ve[jt]=e.aggFunc||e.isScatter?void 0:0,ve[Jt]=Dn)}else{var Mn=r.valueService.getValue(ct,Be);ve[jt]=null!=Mn&&"function"==typeof Mn.toNumber?Mn.toNumber():Mn}}),Be.footer&&(ve.footer=!0),o.push(ve)},k=this,Q=0;Q<E;Q++)F(Q);if(e.grouping){var de=w._.values(p);o=o.filter(function(fe,ve){return!fe.footer&&!w._.includes(de,ve)})}return{chartData:o,columnNames:s}},t.prototype.aggregateRowsByDimension=function(e,r){var o=this,s=e.dimensionCols;if(!e.aggFunc||0===s.length)return r;var h=w._.last(s),p=h&&h.colId,y={},S=[];return r.forEach(function(E){var T=y;s.forEach(function(O){var F=O.colId,k=E[F];if(F===p){var Q=T[k];Q||(Q={__children:[]},s.forEach(function(de){var he=de.colId;Q[he]=E[he]}),T[k]=Q,S.push(Q)),Q.__children.push(E)}else T[k]||(T[k]={}),T=T[k]})}),w.O3h.assertRegistered(w.GXE.RowGroupingModule,"Charting Aggregation")&&S.forEach(function(E){return e.valueCols.forEach(function(T){if(e.crossFiltering)e.valueCols.forEach(function(k){var Q=E.__children.filter(function(Be){return void 0!==Be[k.getColId()]}).map(function(Be){return Be[k.getColId()]}),de=o.aggregationStage.aggregateValues(Q,e.aggFunc);E[k.getId()]=de&&void 0!==de.value?de.value:de;var he=k.getId()+"-filtered-out",fe=E.__children.filter(function(Be){return void 0!==Be[he]}).map(function(Be){return Be[he]}),ve=o.aggregationStage.aggregateValues(fe,e.aggFunc);E[he]=ve&&void 0!==ve.value?ve.value:ve});else{var O=E.__children.map(function(k){return k[T.getId()]}),F=0;w.O3h.assertRegistered(w.GXE.RowGroupingModule,"Charting Aggregation")&&(F=o.aggregationStage.aggregateValues(O,e.aggFunc)),E[T.getId()]=F&&void 0!==F.value?F.value:F}})}),S},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var r=this.extractPivotKeySeparator(e);e.forEach(function(o){var s=o.getColId().split(r);o.getColDef().pivotKeys=s.slice(0,s.length-1)})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var r=function(s,h){var p=s.getGroupId();return s.getParent()?r(s.getParent(),p):h.split(p)[1][0]},o=e[0];return r(o.getParent(),o.getColId())},t.getGroupLabels=function(e,r){for(var o=[r];e&&0!==e.level;)(e=e.parent)&&o.push(e.key);return o},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(r){e[r.id]=r}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(r){e.push(r)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var r=this.sortController.getSortOptions();return r&&0!=r.length?this.rowNodeSorter.doFullSort(e,r):e},Nc([(0,w.fsG)("rowModel")],t.prototype,"gridRowModel",void 0),Nc([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Nc([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Nc([(0,w.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Nc([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),Nc([(0,w.FiY)("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(w.AS9),L1=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ko=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Yh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Id=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Yh(arguments[t]));return l},$u=function(l){function t(e){var r=l.call(this)||this;return r.unlinked=!1,r.chartData=[],r.valueColState=[],r.dimensionColState=[],r.columnNames={},r.grouping=!1,r.crossFiltering=!1,r.suppressComboChartWarnings=!1,r.chartId=e.chartId,r.chartType=e.chartType,r.pivotChart=e.pivotChart,r.chartThemeName=e.chartThemeName,r.aggFunc=e.aggFunc,r.referenceCellRange=e.cellRange,r.suppliedCellRange=e.cellRange,r.suppressChartRanges=e.suppressChartRanges,r.unlinked=!!e.unlinkChart,r.crossFiltering=!!e.crossFiltering,r.seriesChartTypes=e.seriesChartTypes||[],r.initComboCharts(e),r}return L1(t,l),t.prototype.initComboCharts=function(e){("customCombo"===e.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.init=function(){this.datasource=this.createManagedBean(new Fv),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var r=this.getAllChartColumns(),o=r.dimensionCols,s=r.valueCols,h=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(o,h,e),this.setValueCellRange(s,h,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},t.prototype.updateSeriesChartTypes=function(){if(this.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var r=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!r&&e.secondaryAxis,e}),"customCombo"===this.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(h){return t.SUPPORTED_COMBO_CHART_TYPES.includes(h.chartType)||(console.warn("AG Grid: invalid chartType '"+h.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),h.chartType="line"),h});var s=this.valueColState.map(function(h){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(y){return y.colId===h.colId})||(h.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+h.colId+"', defaulting to 'line'."),{colId:h.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=s,this.savedCustomSeriesChartTypes=s,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",r="columnLineCombo"===this.chartType?"line":"groupedColumn",o=this.valueColState.filter(function(h){return h.selected}),s=Math.ceil(o.length/2);this.seriesChartTypes=o.map(function(h,p){return{colId:h.colId,chartType:p>=s?r:e,secondaryAxis:!1}})},t.prototype.updateData=function(){var e=this.getRowIndexes(),r=e.startRow,o=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var s={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:r,endRow:o,isScatter:w._.includes(["scatter","bubble"],this.chartType)},h=this.datasource.getData(s),y=h.columnNames;this.chartData=h.chartData,this.columnNames=y},t.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),r=e?null:this.columnModel.getRowGroupColumns(),o=e||r&&r.length>0,s=this.getSelectedDimension().colId,p=this.columnModel.getGroupDisplayColumns().map(function(y){return y.getColId()}).some(function(y){return y===s});return!!o&&p},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.createCellRange=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:r,startColumn:e===w.StC.DIMENSION?r[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return w._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,Id(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,Id(this.valueCellRange.columns)),w._.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,r=0,o=this.rangeService,s=this.valueCellRange;if(o&&s){e=o.getRangeStartRow(s).rowIndex;var h=o.getRangeEndRow(s);r=h.rowPinned===w.gTE.PINNED_BOTTOM?-1:h.rowIndex}return{startRow:e,endRow:r}},t.prototype.getAllChartColumns=function(){var e=this,r=this.columnModel.getAllDisplayedColumns(),o=new Set,s=new Set;return r.forEach(function(h){var p=h.getColDef(),y=p.chartDataType;if(y)switch(y){case"category":case"time":return void o.add(h);case"series":return void s.add(h);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+y+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==p.colId?h.isPrimary()?(e.isNumberCol(h)?s:o).add(h):s.add(h):o.add(h)}),{dimensionCols:o,valueCols:s}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var r=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!r)return!1;var o=this.valueService.getValue(e,r);return null==o&&(o=this.extractLeafData(r,e)),null!=o&&"function"==typeof o.toNumber&&(o=o.toNumber()),"number"==typeof o},t.prototype.extractLeafData=function(e,r){if(!e.allLeafChildren)return null;for(var o=0;o<e.allLeafChildren.length;o++){var h=this.valueService.getValue(r,e.allLeafChildren[o]);if(null!=h)return h}return null},t.prototype.resetColumnState=function(){var e=this,r=this.getAllChartColumns(),o=r.dimensionCols,s=r.valueCols,h=this.getAllColumnsFromRanges(),p=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var y=!1,S=1,E=this.suppliedCellRange.columns[0];o.forEach(function(F){var k="ag-Grid-AutoColumn"===F.getColId(),Q=!1;e.crossFiltering&&e.aggFunc?E.getColId()===F.getColId()&&(Q=!0):Q=!!k||!y&&h.has(F),e.dimensionColState.push({column:F,colId:F.getColId(),displayName:e.getColDisplayName(F),selected:Q,order:S++}),Q&&(y=!0)});var T={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!y,order:0};this.dimensionColState.unshift(T);var O=this.referenceCellRange.columns.filter(function(F){return s.has(F)});s.forEach(function(F){p&&w._.includes(e.referenceCellRange.columns,F)&&(F=O.shift()),e.valueColState.push({column:F,colId:F.getColId(),displayName:e.getColDisplayName(F),selected:h.has(F),order:S++})})},t.prototype.updateColumnState=function(e){var r=function(S){return S.colId===e.colId},s=this.dimensionColState,h=this.valueColState;s.filter(r).length>0?s.forEach(function(S){return S.selected=r(S)}):h.filter(r).forEach(function(S){return S.selected=e.selected});var p=Id(s,h),y=[];p.forEach(function(S,E){E===e.order&&y.push(e.colId),S.colId!==e.colId&&y.push(S.colId)}),p.forEach(function(S){var E=y.indexOf(S.colId);S.order=E>=0?y.indexOf(S.colId):p.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(r,o){return r.order-o.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,r,o){var s=this;if(this.dimensionCellRange=void 0,o||this.dimensionColState.length){var h=o;if(this.crossFiltering&&this.aggFunc){var p=this.suppliedCellRange.columns[0];h=this.dimensionColState.filter(function(y){return y.colId===p.getColId()})[0]}else(!h||!e.has(h.column))&&(h=this.dimensionColState.filter(function(y){return y.selected})[0]);h&&h.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(w.StC.DIMENSION,h.column))}else e.forEach(function(y){s.dimensionCellRange||!r.has(y)||(s.dimensionCellRange=s.createCellRange(w.StC.DIMENSION,y))})},t.prototype.setValueCellRange=function(e,r,o){this.valueCellRange=void 0;var s=[];if(e.forEach(function(p){o&&o.colId===p.getColId()?o.selected&&s.push(o.column):r.has(p)&&s.push(p)}),s.length>0){var h=[];this.valueColState.length>0?h=this.valueColState.map(function(p){return p.colId}):r.forEach(function(p){return h.push(p.getColId())}),s.sort(function(p,y){return h.indexOf(p.getColId())-h.indexOf(y.getColId())}),this.valueCellRange=this.createCellRange.apply(this,Id([w.StC.VALUE],s))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(w.StC.DIMENSION,e.column))},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],Ko([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Ko([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),Ko([(0,w.fsG)("rangeService")],t.prototype,"rangeService",void 0),Ko([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),Ko([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ko([w.NqP],t.prototype,"init",null),t}(w.AS9),Qp=function(){return Qp=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Qp.apply(this,arguments)},Xa=function(){function l(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return l.prototype.addPropertyListener=function(t,e,r){void 0===r&&(r=this);var o=this.allPropertyListeners,s=o.get(t);s||o.set(t,s=new Map),s.has(e)||s.set(e,new Set);var p=s.get(e);p&&p.add(r)},l.prototype.removePropertyListener=function(t,e,r){void 0===r&&(r=this);var s=this.allPropertyListeners.get(t);if(s)if(e){var h=s.get(e);h&&(h.delete(r),h.size||s.delete(e))}else s.clear()},l.prototype.notifyPropertyListeners=function(t,e,r){var o=this,h=this.allPropertyListeners.get(t);h&&h.forEach(function(p,y){p.forEach(function(S){return y.call(S,{type:t,source:o,value:r,oldValue:e})})})},l.prototype.addEventListener=function(t,e,r){void 0===r&&(r=this);var o=this.allEventListeners,s=o.get(t);s||o.set(t,s=new Map),s.has(e)||s.set(e,new Set);var p=s.get(e);p&&p.add(r)},l.prototype.removeEventListener=function(t,e,r){void 0===r&&(r=this);var s=this.allEventListeners.get(t);if(s)if(e){var h=s.get(e);h&&(h.delete(r),h.size||s.delete(e))}else s.clear()},l.prototype.notifyEventListeners=function(t){var e=this,r=this.allEventListeners;t.forEach(function(o){var s=r.get(o);s&&s.forEach(function(h,p){h.forEach(function(y){return p.call(y,{type:o,source:e})})})})},l.prototype.fireEvent=function(t){var e=this,r=this.allEventListeners.get(t.type);r&&r.forEach(function(o,s){o.forEach(function(h){return s.call(h,Qp(Qp({},t),{source:e}))})})},l.privateKeyPrefix="_",l}();function un(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return l.indexOf("debugger"),function(r,o){var s=Xa.privateKeyPrefix+o,h=s+"Events";r[o]||(l&&(r[h]=l),Object.defineProperty(r,o,{set:function(p){var y=this[s];if(p!==y||"object"==typeof p&&null!==p){this[s]=p,this.notifyPropertyListeners(o,y,p);var S=this[h];S&&this.notifyEventListeners(S)}},get:function(){return this[s]},enumerable:!0,configurable:!0}))}}var Lv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Nd=function(l){function t(e,r,o,s){void 0===e&&(e=0),void 0===r&&(r=e),void 0===o&&(o=e),void 0===s&&(s=r);var h=l.call(this)||this;return h.top=e,h.right=r,h.bottom=o,h.left=s,h}return Lv(t,l),t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},Jp([un("layoutChange")],t.prototype,"top",void 0),Jp([un("layoutChange")],t.prototype,"right",void 0),Jp([un("layoutChange")],t.prototype,"bottom",void 0),Jp([un("layoutChange")],t.prototype,"left",void 0),t}(Xa),Jo=function(){function l(t,e,r,o){this.x=t,this.y=e,this.width=r,this.height=o}return l.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},l.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},l.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.render=function(t,e){void 0===e&&(e=l.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},l.noParams={},l}(),Kh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},ac=function(){function l(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return l.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},l.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(l.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),l.prototype.AxB=function(t,e,r){var o=Kh(t,6),s=o[0],h=o[1],p=o[2],y=o[3],S=o[4],E=o[5],T=Kh(e,6),O=T[0],F=T[1],k=T[2],Q=T[3],de=T[4],he=T[5];(r=r||t)[0]=s*O+p*F,r[1]=h*O+y*F,r[2]=s*k+p*Q,r[3]=h*k+y*Q,r[4]=s*de+p*he+S,r[5]=h*de+y*he+E},l.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},l.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new l(e)},l.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var t=Kh(this.elements,6),e=t[0],r=t[1],o=t[2],s=t[3],h=t[4],p=t[5],y=1/(e*s-r*o);return new l([s*=y,-(r*=y),-(o*=y),e*=y,o*p-s*h,r*h-e*p])},l.prototype.inverseTo=function(t){var e=Kh(this.elements,6),r=e[0],o=e[1],s=e[2],h=e[3],p=e[4],y=e[5],S=1/(r*h-o*s);return t.setElements([h*=S,-(o*=S),-(s*=S),r*=S,s*y-h*p,o*p-r*y]),this},l.prototype.invertSelf=function(){var t=this.elements,e=Kh(t,6),r=e[0],o=e[1],s=e[2],h=e[3],p=e[4],y=e[5],S=1/(r*h-o*s);return r*=S,o*=S,s*=S,t[0]=h*=S,t[1]=-o,t[2]=-s,t[3]=r,t[4]=s*y-h*p,t[5]=o*p-r*y,this},l.prototype.clone=function(){return new l(this.elements.slice())},l.prototype.transformPoint=function(t,e){var r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}},l.prototype.transformBBox=function(t,e,r){void 0===e&&(e=0);var F,k,o=this.elements,s=o[0],h=o[1],p=o[2],y=o[3],S=.5*t.width,E=.5*t.height,T=t.x+S,O=t.y+E;if(e){S-=e,E-=e;var Q=Math.sqrt(s*s+p*p),de=Math.sqrt(h*h+y*y);F=Math.abs(S*s)+Math.abs(E*p)+Math.abs(Q*e),k=Math.abs(S*h)+Math.abs(E*y)+Math.abs(de*e)}else F=Math.abs(S*s)+Math.abs(E*p),k=Math.abs(S*h)+Math.abs(E*y);return r||(r=new Jo(0,0,0,0)),r.x=T*s+O*p+o[4]-F,r.y=T*h+O*y+o[5]-k,r.width=F+F,r.height=k+k,r},l.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(t){return t?l.matrix.setElements(t instanceof l?t.elements:t):l.matrix.setIdentityElements(),l.matrix},l.matrix=new l,l}();function Bl(l){var t=l.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var us=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(us||(us={})),us))(),sc=function(){function l(){this.id=Bl(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new ac,this.inverseMatrix=new ac,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.dirtyZIndex=!1,this._zIndex=0,this.pointerEvents=us.All}return l.isNode=function(t){return!!t&&void 0!==t.matrix},l.prototype._setScene=function(t){this._scene=t;for(var e=this.children,r=e.length,o=0;o<r;o++)e[o]._setScene(t)},Object.defineProperty(l.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),l.prototype._setParent=function(t){this._parent=t},Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),l.prototype.countChildren=function(t){if(void 0===t&&(t=l.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,r=e.length,o=r,s=0;s<r;s++)o+=e[s].countChildren(t-1);return o},l.prototype.append=function(t){l.isNode(t)&&(t=[t]);for(var e=t.length,r=0;r<e;r++){var o=t[r];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},l.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},l.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},l.prototype.insertBefore=function(t,e){var r=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var o=this.children.indexOf(e);if(!(o>=0))throw new Error(e+" has "+r+" as the parent, but is not in its list of children.");this._children.splice(o,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(l.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,r=e.indexOf(this);if(r>=0&&r<=e.length-1)return e[r+1]}},enumerable:!0,configurable:!0}),l.prototype.transformPoint=function(t,e){for(var r=ac.flyweight(this.matrix),o=this.parent;o;)r.preMultiplySelf(o.matrix),o=o.parent;return r.invertSelf().transformPoint(t,e)},l.prototype.inverseTransformPoint=function(t,e){for(var r=ac.flyweight(this.matrix),o=this.parent;o;)r.preMultiplySelf(o.matrix),o=o.parent;return r.transformPoint(t,e)},Object.defineProperty(l.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),l.prototype.containsPoint=function(t,e){return!1},l.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==us.None&&this.containsPoint(t,e)){var r=this.children;if(r.length)for(var o=r.length-1;o>=0;o--){var s=r[o].pickNode(t,e);if(s)return s}else if(!this.isContainerNode)return this}},l.prototype.computeBBox=function(){},l.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},l.prototype.computeTransformMatrix=function(){var h,p,t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}([0,0],2),e=t[0],r=t[1],o=this.scalingX,s=this.scalingY;1===o&&1===s?(h=0,p=0):(h=null===this.scalingCenterX?e:this.scalingCenterX,p=null===this.scalingCenterY?r:this.scalingCenterY);var T,O,y=this.rotation,S=Math.cos(y),E=Math.sin(y);0===y?(T=0,O=0):(T=null===this.rotationCenterX?e:this.rotationCenterX,O=null===this.rotationCenterY?r:this.rotationCenterY);var F=this.translationX,k=this.translationY,Q=h*(1-o)-T,de=p*(1-s)-O;this.dirtyTransform=!1,this.matrix.setElements([S*o,E*o,-E*s,S*s,S*Q-E*de+T+F,E*Q+S*de+O+k]).inverseTo(this.inverseMatrix)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.dirtyZIndex=!0),this.dirty=!0)},enumerable:!0,configurable:!0}),l.MAX_SAFE_INTEGER=Math.pow(2,53)-1,l}();function Wl(l,t){var e=Object.create(l);for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function qu(l,t){return!1!==t.clone&&t.isMergeableObject(l)?$o(function B4(l){return Array.isArray(l)?[]:{}}(l),l,t):l}function W4(l,t,e){return l.concat(t).map(function(r){return qu(r,e)})}function I1(l){return Object.keys(l).concat(function U4(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(t){return l.propertyIsEnumerable(t)}):[]}(l))}function Iv(l,t){try{return t in l}catch(e){return!1}}function Nv(l){return function kv(l){return!!l&&"object"==typeof l}(l)&&!function hr(l){var t=Object.prototype.toString.call(l);return"[object RegExp]"===t||"[object Date]"===t}(l)}function $o(l,t,e){(e=e||{}).arrayMerge=e.arrayMerge||W4,e.isMergeableObject=e.isMergeableObject||Nv,e.cloneUnlessOtherwiseSpecified=qu;var r=Array.isArray(t);return r===Array.isArray(l)?r?e.arrayMerge(l,t,e):function N1(l,t,e){var r={};return e.isMergeableObject(l)&&I1(l).forEach(function(o){r[o]=qu(l[o],e)}),I1(t).forEach(function(o){(function Cn(l,t){return Iv(l,t)&&!(Object.hasOwnProperty.call(l,t)&&Object.propertyIsEnumerable.call(l,t))})(l,o)||(r[o]=Iv(l,o)&&e.isMergeableObject(t[o])?function j4(l,t){if(!t.customMerge)return $o;var e=t.customMerge(l);return"function"==typeof e?e:$o}(o,e)(l[o],t[o],e):qu(t[o],e))}),r}(l,t,e):qu(t,e)}function k1(l){return"object"==typeof l&&!Array.isArray(l)}var jl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ia=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return jl(t,l),t.createInstance=function(e){var r=Object.create(e);return r._setParent(void 0),r.id=e.id+"-Instance-"+String(++e.lastInstanceId),r},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,r=Object.getOwnPropertyNames(e),o=0,s=r.length;o<s;o++){var h=r[o];this[h]=e[h]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var r in e)this[r]=e[r]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,r=Object.getPrototypeOf(e);for(var o in e)e.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(this[o]=e[o])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,r,o){return null!=o?Math.floor(o)+Math.floor(r%1+o%1):Math.floor(r)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var r=this._lineDash;if(r!==e){if(r&&e&&r.length===e.length){for(var o=!0,s=e.length,h=0;h<s;h++)if(r[h]!==e[h]){o=!1;break}if(o)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var r=this._fillShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var r=this._strokeShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var r=this.scene.canvas.pixelRatio||1,o=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=o*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*r,e.shadowOffsetY=s.yOffset*r,e.shadowBlur=s.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=o*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var h=this.strokeShadow;h&&h.enabled&&(e.shadowColor=h.color,e.shadowOffsetX=h.xOffset*r,e.shadowOffsetY=h.yOffset*r,e.shadowBlur=h.blur*r),e.stroke()}}},t.prototype.containsPoint=function(e,r){return this.isPointInPath(e,r)},t.defaultStyles=Wl({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(sc),kd=function(){function l(t,e,r){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===r&&(r=300),this._container=void 0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,r)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),l.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},l.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},l.prototype.getDataURL=function(t){return this.element.toDataURL(t)},l.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var r=this.getDataURL("image/png"),o=this.document,s=o.createElement("a");s.href=r,s.download=t,s.style.display="none",o.body.appendChild(s),s.click(),o.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,o=r.element,s=r.context,h=r.pixelRatio;o.width=Math.round(t*h),o.height=Math.round(e*h),o.style.width=t+"px",o.style.height=e+"px",s.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!r,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),l.measureText=function(t,e,r,o){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=r,s.textAlign=o,s.measureText(t)},l.getTextSize=function(t,e){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=e;var o=r.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},l.measureSvgText=function(t,e){var r=this.textSizeCache,o=r[e];if(o){var s=o[t];if(s)return s}else r[e]={};var h=this.svgText;h.style.font=e,h.textContent=t;var p=h.getBBox(),y={width:p.width,height:p.height};return r[e][t]=y,y},l.overrideScale=function(t,e){var r=0,o={save:function(){this.$save(),r++},restore:function(){r>0&&(this.$restore(),r--)},setTransform:function(h,p,y,S,E,T){this.$setTransform(h*e,p*e,y*e,S*e,E*e,T*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),r=0}};for(var s in o)o.hasOwnProperty(s)&&(t["$"+s]||(t["$"+s]=t[s]),t[s]=o[s])},l.textSizeCache={},l}(),zv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Za=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return zv(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=zd(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return kd.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=kd.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Jo(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=kd.getTextSize(this.text,this.font),o=this.x,s=this.y;switch(this.textAlign){case"end":case"right":o-=e.width;break;case"center":o-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new Jo(o,s,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return!!s&&s.containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.fill,s=r.stroke,h=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var p=this.scene.canvas.pixelRatio||1,y=e.globalAlpha;if(o){e.fillStyle=o,e.globalAlpha=y*this.opacity*this.fillOpacity;var S=this,E=S.fillShadow,T=S.text,O=S.x,F=S.y;E&&E.enabled&&(e.shadowColor=E.color,e.shadowOffsetX=E.xOffset*p,e.shadowOffsetY=E.yOffset*p,e.shadowBlur=E.blur*p),e.fillText(T,O,F)}if(s&&h){e.strokeStyle=s,e.lineWidth=h,e.globalAlpha=y*this.opacity*this.strokeOpacity;var k=this,Q=k.lineDash,de=k.lineDashOffset,he=k.lineCap,fe=k.lineJoin,ve=k.strokeShadow;T=k.text,O=k.x,F=k.y,Q&&e.setLineDash(Q),de&&(e.lineDashOffset=de),he&&(e.lineCap=he),fe&&(e.lineJoin=fe),ve&&ve.enabled&&(e.shadowColor=ve.color,e.shadowOffsetX=ve.xOffset*p,e.shadowOffsetY=ve.yOffset*p,e.shadowBlur=ve.blur*p),e.strokeText(T,O,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=Wl(Ia.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Ia);function zd(l,t,e,r){return[e||"",r||"",l+"px",t].join(" ").trim()}var Na=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},qh=function(l){function t(){var e=l.call(this)||this;e.node=new Za,e.enabled=!1,e.padding=new Nd(10);var r=e.node;return r.textAlign="center",r.textBaseline="top",r.pointerEvents=us.None,e}return Na(t,l),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),gu([un("change")],t.prototype,"enabled",void 0),gu([un("change")],t.prototype,"padding",void 0),t}(Xa),Y4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function Xh(l,t,e){var r=Zu(l,t,e);return function k3(l,t,e){void 0===e&&(e=1);for(var r=Math.abs(e),o=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,s=Math.pow(10,o),h=Math.max(0,Math.ceil((t-l)/e))||0,p=new z1(o),y=0;y<h;y++)p[y]=Math.round((l+e*y)*s)/s;return p}(l=Math.ceil(l/r)*r,t=Math.floor(t/r)*r+r/2,r)}var Xu=Math.sqrt(50),ef=Math.sqrt(10),tf=Math.sqrt(2);function Zu(l,t,e){var r=Math.abs(t-l)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/o;return s>=Xu?o*=10:s>=ef?o*=5:s>=tf&&(o*=2),t<l?-o:o}function Zh(l,t,e){var r=(t-l)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,o);return o>=0?(s>=Xu?10:s>=ef?5:s>=tf?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=Xu?10:s>=ef?5:s>=tf?2:1)}var z1=function(l){function t(e,r){var o=l.call(this)||this;if(r)for(var s=0,h=r.length;s<h;s++)o[s]=r[s];return o.fractionDigits=e,o}return Y4(t,l),t}(Array);function vu(l,t){return l=+l,t=+t,function(e){return l*(1-e)+t*e}}var Hv=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},lc=function(){function l(t,e,r,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,o||0))}return l.fromString=function(t){if(t.indexOf("#")>=0)return l.fromHexString(t);var e=l.nameToHex[t];if(e)return l.fromHexString(e);if(t.indexOf("rgb")>=0)return l.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},l.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(o){return parseInt(o,16)}).map(function(o){return o+16*o})}if(e.length>=3&&e.every(function(o){return o>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(t){var e=l.parseHex(t);if(e){var r=Hv(e,4);return new l(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},l.stringToRgba=function(t){for(var e=Hv([NaN,NaN],2),r=e[0],o=e[1],s=0;s<t.length;s++){var h=t[s];if(r||"("!==h){if(")"===h){o=s;break}}else r=s}var p=r&&o&&t.substring(r+1,o);if(p){var y=p.split(","),S=[];for(s=0;s<y.length;s++){var E=y[s],T=parseFloat(E);if(isNaN(T))return;E.indexOf("%")>=0?(T=Math.max(0,Math.min(100,T)),T/=100):3===s?T=Math.max(0,Math.min(1,T)):(T=Math.max(0,Math.min(255,T)),T/=255),S.push(T)}return S}},l.fromRgbaString=function(t){var e=l.stringToRgba(t);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},l.fromArray=function(t){if(4===t.length)return new l(t[0],t[1],t[2],t[3]);if(3===t.length)return new l(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(t,e,r,o){void 0===o&&(o=1);var s=l.HSBtoRGB(t,e,r);return new l(s[0],s[1],s[2],o)},l.padHex=function(t){return 1===t.length?"0"+t:t},l.prototype.toHexString=function(){var t="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=l.padHex(Math.round(255*this.a).toString(16))),t},l.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(t,e,r){var o=Math.min(t,e,r),s=Math.max(t,e,r),p=NaN;if(o!==s){var y=s-o,S=(s-t)/y,E=(s-e)/y,T=(s-r)/y;p=t===s?T-E:e===s?2+S-T:4+E-S,(p/=6)<0&&(p+=1)}return[360*p,0!==s?(s-o)/s:0,s]},l.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,s=0,h=0;if(0===e)o=s=h=r;else{var p=6*(t-Math.floor(t)),y=p-Math.floor(p),S=r*(1-e),E=r*(1-e*y),T=r*(1-e*(1-y));switch(p>>0){case 0:o=r,s=T,h=S;break;case 1:o=E,s=r,h=S;break;case 2:o=S,s=r,h=T;break;case 3:o=S,s=E,h=r;break;case 4:o=T,s=S,h=r;break;case 5:o=r,s=S,h=E}}return[o,s,h]},l.prototype.derive=function(t,e,r,o){var s=l.RGBtoHSB(this.r,this.g,this.b),h=s[2];0==h&&r>1&&(h=.05);var p=((s[0]+t)%360+360)%360,y=Math.max(Math.min(s[1]*e,1),0);h=Math.max(Math.min(h*r,1),0);var S=Math.max(Math.min(this.a*o,1),0),E=l.HSBtoRGB(p,y,h);return E.push(S),l.fromArray(E)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function nf(l,t){if("string"==typeof l)try{l=lc.fromString(l)}catch(h){l=lc.fromArray([0,0,0])}if("string"==typeof t)try{t=lc.fromString(t)}catch(h){t=lc.fromArray([0,0,0])}var e=vu(l.r,t.r),r=vu(l.g,t.g),o=vu(l.b,t.b),s=vu(l.a,t.a);return function(h){return lc.fromArray([e(h),r(h),o(h),s(h)]).toRgbaString()}}function rf(l,t){var e=typeof t;if(null==t||"boolean"===e)return function(l){return function(){return l}}(t);if("number"===e)return vu(l,t);if("string"===e)try{return nf(l,t=lc.fromString(t))}catch(o){}return t instanceof lc?nf(l,t):t instanceof Date?function $4(l,t){var e=new Date,r=+l,o=+t;return function(s){return e.setTime(r*(1-s)+o*s),e}}(l,t):Array.isArray(t)?function Vv(l,t){var h,e=t?t.length:0,r=l?Math.min(e,l.length):0,o=new Array(r),s=new Array(e);for(h=0;h<r;++h)o[h]=rf(l[h],t[h]);for(;h<e;++h)s[h]=t[h];return function(p){for(h=0;h<r;++h)s[h]=o[h](p);return s}}(l,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function q4(l,t){var o,e={},r={};for(o in(null===l||"object"!=typeof l)&&(l={}),(null===t||"object"!=typeof t)&&(t={}),t)o in l?e[o]=rf(l[o],t[o]):r[o]=t[o];return function(s){for(o in e)r[o]=e[o](s);return r}}(l,t):vu(l,t)}function af(l,t){return l<t?-1:l>t?1:l>=t?0:NaN}var Qu=function(l){return l};function kc(l){var t,e=l[0],r=l[l.length-1];return e>r&&(t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}([r,e],2),e=t[0],r=t[1]),function(o){return Math.max(e,Math.min(r,o))}}var ep,Gd,cf,J4,ds=function(){function l(){this.unknown=void 0,this.clamper=kc,this._clamp=Qu,this._domain=[0,1],this._range=[0,1],this.transform=Qu,this.untransform=Qu,this._interpolate=rf,this.rescale()}return Object.defineProperty(l.prototype,"clamp",{get:function(){return this._clamp!==Qu},set:function(t){this._clamp=t?this.clamper(this.domain):Qu},enumerable:!0,configurable:!0}),l.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==Qu&&(this._clamp=this.clamper(this.domain)),this.rescale()},l.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(l.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},l.prototype.normalize=function(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:function(l){return function(){return l}}(isNaN(e)?NaN:.5)},l.prototype.bimap=function(t,e,r){var y,S,o=t[0],s=t[1],h=e[0],p=e[1];return s<o?(y=this.normalize(s,o),S=r(p,h)):(y=this.normalize(o,s),S=r(h,p)),function(E){return S(y(E))}},l.prototype.polymap=function(t,e,r){var o=this,s=Math.min(t.length,e.length)-1;t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());var h=Array.from({length:s},function(y,S){return o.normalize(t[S],t[S+1])}),p=Array.from({length:s},function(y,S){return r(e[S],e[S+1])});return function(y){var S=function X4(l,t,e,r,o){for(void 0===r&&(r=0),void 0===o&&(o=l.length);r<o;){var s=r+o>>>1;e(l[s],t)>0?o=s:r=s+1}return r}(t,y,af,1,s)-1;return p[S](h[S](y))}},l.prototype.convert=function(t,e){if(t=+t,isNaN(t))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var r=e?e(this.domain):this._clamp;return this.output(this.transform(r(t)))},l.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),vu)),this._clamp(this.untransform(this.input(t)))},l}(),B1={"":function jv(l,t){var e=l.toPrecision(t);e:for(var r=e.length,o=1,s=-1,h=0;o<r;++o)switch(e[o]){case".":s=h=o;break;case"0":0===s&&(s=o),h=o;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(h+1):e},"%":function(l,t){return(100*l).toFixed(t)},b:function(l){return Math.round(l).toString(2)},c:function(l){return String(l)},d:function j1(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:function(l,t){return l.toExponential(t)},f:function(l,t){return l.toFixed(t)},g:function(l,t){return l.toPrecision(t)},o:function(l){return Math.round(l).toString(8)},p:function(l,t){return U1(100*l,t)},r:U1,s:function Uv(l,t){void 0===t&&(t=0);var e=lf(l,t);if(!e)return String(l);var r=e[0],o=e[1],s=o-(ep=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,h=r.length;if(s===h)return r;if(s>h)return r+new Array(s-h+1).join("0");if(s>0)return r.slice(0,s)+"."+r.slice(s);var p=lf(l,Math.max(0,t+s-1));return"0."+new Array(1-s).join("0")+p[0]},X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}},W1=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Ul=function l(t){t instanceof l?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},sf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,Jh=/(#\{(.*?)\})/g;function Hd(l){if(l instanceof Ul)return new Ul(l);var t=!1,e=l.replace(Jh,function(){return t||(l=arguments[2],t=!0),"#{}"}),r=sf.exec(l);if(!r)throw new Error("Invalid format: "+l);return new Ul({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10],string:t?e:void 0})}function U1(l,t){var e=lf(l,t);if(!e)return String(l);var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}function lf(l,t){var e=t?l.toExponential(t-1):l.toExponential(),r=e.indexOf("e");if(!(r<0)){var o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}}function Y1(l){return l}function Bd(l){var t=lf(Math.abs(l));return t?t[1]:NaN}!function uf(l){Gd=function Yl(l){var t=void 0===l.grouping||void 0===l.thousands?Y1:function cc(l,t){return function(e,r){for(var o=[],s=e.length,h=0,p=l[0],y=0;s>0&&p>0&&(y+p+1>r&&(p=Math.max(1,r-y)),o.push(e.substring(s-=p,s+p)),!((y+=p+1)>r));)p=l[h=(h+1)%l.length];return o.reverse().join(t)}}(Array.prototype.map.call(l.grouping,Number),String(l.thousands)),e=void 0===l.currency?"":String(l.currency[0]),r=void 0===l.currency?"":String(l.currency[1]),o=void 0===l.decimal?".":String(l.decimal),s=void 0===l.numerals?Y1:function Q4(l){return function(t){return t.replace(/[0-9]/g,function(e){return l[+e]})}}(Array.prototype.map.call(l.numerals,String)),h=void 0===l.percent?"%":String(l.percent),p=void 0===l.minus?"\u2212":String(l.minus),y=void 0===l.nan?"NaN":String(l.nan);function S(T){var O=Hd(T),F=O.fill,k=O.align,Q=O.sign,de=O.symbol,he=O.zero,fe=O.width,ve=O.comma,Be=O.precision,ct=O.trim,tt=O.type;"n"===tt?(ve=!0,tt="g"):B1[tt]||(void 0===Be&&(Be=12),ct=!0,tt="g"),(he||"0"===F&&"="===k)&&(he=!0,F="0",k="=");var Ft="$"===de?e:"#"===de&&/[boxX]/.test(tt)?"0"+tt.toLowerCase():"",Nt="$"===de?r:/[%p]/.test(tt)?h:"",jt=B1[tt],Jt=/[defgprs%]/.test(tt);return Be=void 0===Be?6:/[gprs]/.test(tt)?Math.max(1,Math.min(21,Be)):Math.max(0,Math.min(20,Be)),function Mn(Dn){var cn,on=Ft,wn=Nt;if("c"===tt)wn=jt(+Dn)+wn,cn="";else{var dn=+Dn,lr=Dn<0||1/dn<0;if(cn=isNaN(dn)?y:jt(Math.abs(dn),Be),ct&&(cn=function Yv(l){e:for(var t=l.length,e=1,r=-1,o=0;e<t;++e)switch(l[e]){case".":r=o=e;break;case"0":0===r&&(r=e),o=e;break;default:if(!+l[e])break e;r>0&&(r=0)}return r>0?l.slice(0,r)+l.slice(o+1):l}(cn)),lr&&0==+cn&&"+"!==Q&&(lr=!1),on=(lr?"("===Q?Q:p:"-"===Q||"("===Q?"":Q)+on,wn=("s"===tt?W1[8+ep/3]:"")+wn+(lr&&"("===Q?")":""),Jt)for(var Wn=0,zr=cn.length;Wn<zr;Wn++){var $n=cn.charCodeAt(Wn);if(48>$n||$n>57){wn=(46===$n?o+cn.slice(Wn+1):cn.slice(Wn))+wn,cn=cn.slice(0,Wn);break}}}ve&&!he&&(cn=t(cn,1/0));var jr=on.length+cn.length+wn.length,Vr=jr<fe?new Array(fe-jr+1).join(F):"";switch(ve&&he&&(cn=t(Vr+cn,Vr.length?fe-wn.length:1/0),Vr=""),k){case"<":cn=on+cn+wn+Vr;break;case"=":cn=on+Vr+cn+wn;break;case"^":cn=Vr.slice(0,jr=Vr.length>>1)+on+cn+wn+Vr.slice(jr);break;default:cn=Vr+on+cn+wn}var xi=O.string;return xi?xi.replace(Jh,function(){return s(cn)}):s(cn)}}return{format:S,formatPrefix:function E(T,O){var F=Hd(T);F.type="f";var k=S(F),Q=3*Math.max(-8,Math.min(8,Math.floor(Bd(O)/3))),de=Math.pow(10,-Q),he=W1[8+Q/3];return function(fe){return k(de*+fe)+he}}}}(l),cf=Gd.format,J4=Gd.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var $v=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Go=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="linear",e}return $v(t,l),t.prototype.ticks=function(e){void 0===e&&(e=10);var r=this._domain;return Xh(r[0],r[r.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var y,r=this.domain,o=0,s=r.length-1,h=r[o],p=r[s];p<h&&(y=h,h=p,p=y,y=o,o=s,s=y),(y=Zh(h,p,e))>0?y=Zh(h=Math.floor(h/y)*y,p=Math.ceil(p/y)*y,e):y<0&&(y=Zh(h=Math.ceil(h*y)/y,p=Math.floor(p*y)/y,e)),y>0?(r[o]=Math.floor(h/y)*y,r[s]=Math.ceil(p/y)*y,this.domain=r):y<0&&(r[o]=Math.ceil(h*y)/y,r[s]=Math.floor(p*y)/y,this.domain=r)},t.prototype.tickFormat=function(e,r){var o=this.domain;return function Ds(l,t,e,r){var h,o=Zu(l,t,e),s=Hd(null==r?",f":r);switch(s.type){case"s":var p=Math.max(Math.abs(l),Math.abs(t));return null==s.precision&&!isNaN(h=function K1(l,t){var e=Math.floor(Bd(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-Bd(Math.abs(l)))}(o,p))&&(s.precision=h),J4(s,p);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(h=function e2(l,t){return l=Math.abs(l),t=Math.abs(t)-l,Math.max(0,Bd(t)-Bd(l))+1}(o,Math.max(Math.abs(l),Math.abs(t))))&&(s.precision=h-+("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(h=function Kv(l){return Math.max(0,-Bd(Math.abs(l)))}(o))&&(s.precision=h-2*+("%"===s.type))}return cf(s)}(o[0],o[o.length-1],null==e?10:e,r)},t}(ds);function zc(l,t){for(var e=0;e<l.length;e++){var r=l[e];if(t(r,e,l))return r}}function n2(l){return l}function Ln(l,t,e){for(var h,p,y,r=e||n2,o=l.length,s=-1;++s<o;)if(t(h=l[s]))for(p=y=h;++s<o;)t(h=l[s])&&(p>h&&(p=h),y<h&&(y=h));return void 0===p||void 0===y?void 0:[r(p),r(y)]}function qv(l,t,e){void 0===t&&(t=0),void 0===e&&(e=l.length);var r=[],o=l.length;if(o)for(var s=0;s<e;s++)r.push(l[(t+s)%o]);return r}function yu(l){var t=typeof l;return"string"!==t&&"number"===t&&l-l<1}function hf(l){return"string"==typeof l}function ba(l){return hf(l)||function pf(l){return!!l&&l.hasOwnProperty("toString")&&hf(l.toString())}(l)}function Xi(l){return function Xv(l){return yu(l)||function li(l){return!!l&&l.hasOwnProperty("valueOf")&&yu(l.valueOf())}(l)}(l)||function df(l){return l instanceof Date&&!isNaN(+l)}(l)}var Vc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),so=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return Vc(t,l),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,r){return!0},t.prototype.computeBBox=function(){var e=1/0,r=-1/0,o=1/0,s=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(h){if(h.visible){var p=h.computeBBox();if(p){if(!(h instanceof t)){h.dirtyTransform&&h.computeTransformMatrix();for(var y=ac.flyweight(h.matrix),S=h.parent;S;)y.preMultiplySelf(S.matrix),S=S.parent;y.transformBBox(p,0,p)}var E=p.x,T=p.y;E<e&&(e=E),T<o&&(o=T),E+p.width>r&&(r=E+p.width),T+p.height>s&&(s=T+p.height)}}}),new Jo(e,o,r-e,s-o)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.children,o=r.length;e.globalAlpha*=this.opacity,this.dirtyZIndex&&(this.dirtyZIndex=!1,r.sort(function(p,y){return p.zIndex-y.zIndex}));for(var s=0;s<o;s++){var h=r[s];h.visible&&(e.save(),h.render(e),e.restore())}},t.className="Group",t}(sc),Qa=function(){function l(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return l.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!sc.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},l.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},l}(),ea=function(){function l(t,e){this.groups=t,this.parents=e}return l.select=function(t){return new l([["function"==typeof t?t():t]],[void 0])},l.selectAll=function(t){return new l([null==t?[]:t],[void 0])},l.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},l.prototype.appendFn=function(t){return this.select(function(e,r,o,s){return e.appendChild(t(e,r,o,s))})},l.prototype.select=function(t){for(var e=this.groups,r=e.length,o=[],s=0;s<r;s++)for(var h=e[s],p=h.length,y=o[s]=new Array(p),S=0;S<p;S++){var E=h[S];if(E){var T=t(E,E.datum,S,h);T&&(T.datum=E.datum),y[S]=T}}return new l(o,this.parents)},l.prototype.selectByClass=function(t){return this.select(function(e){if(sc.isNode(e))for(var r=e.children,o=r.length,s=0;s<o;s++){var h=r[s];if(h instanceof t)return h}})},l.prototype.selectByTag=function(t){return this.select(function(e){if(sc.isNode(e))for(var r=e.children,o=r.length,s=0;s<o;s++){var h=r[s];if(h.tag===t)return h}})},l.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var r=[];if(sc.isNode(e))for(var o=e.children,s=o.length,h=0;h<s;h++){var p=o[h];p instanceof t&&r.push(p)}return r})},l.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var r=[];if(sc.isNode(e))for(var o=e.children,s=o.length,h=0;h<s;h++){var p=o[h];p.tag===t&&r.push(p)}return r})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],r=[],o=this.groups,s=o.length,h=0;h<s;h++)for(var p=o[h],y=p.length,S=0;S<y;S++){var E=p[S];E&&(e.push(t(E,E.datum,S,p)),r.push(E))}return new l(e,r)},l.prototype.each=function(t){for(var e=this.groups,r=e.length,o=0;o<r;o++)for(var s=e[o],h=s.length,p=0;p<h;p++){var y=s[p];y&&t(y,y.datum,p,s)}return this},l.prototype.remove=function(){return this.each(function(t){if(sc.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},l.prototype.merge=function(t){for(var e=this.groups,r=t.groups,o=e.length,h=Math.min(o,r.length),p=new Array(o),y=0;y<h;y++)for(var S=e[y],E=r[y],T=S.length,O=p[y]=new Array(T),F=0;F<T;F++)O[F]=S[F]||E[F]||void 0;for(;y<o;y++)p[y]=e[y];return new l(p,this.parents)},l.prototype.node=function(){for(var t=this.groups,e=t.length,r=0;r<e;r++)for(var o=t[r],s=o.length,h=0;h<s;h++){var p=o[h];if(p)return p}return null},l.prototype.attr=function(t,e){return this.each(function(r){r[t]=e}),this},l.prototype.attrFn=function(t,e){return this.each(function(r,o,s,h){r[t]=e(r,o,s,h)}),this},l.prototype.call=function(t){return t(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var t=[];return this.each(function(e,r){return t.push(r)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),l.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(l.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),l.prototype.setData=function(t,e){if("function"!=typeof t){var r=t;t=function(){return r}}for(var o=this.groups,s=this.parents,h=o.length,p=new Array(h),y=new Array(h),S=new Array(h),E=0;E<h;E++){var T=o[E],O=s[E];if(!O)throw new Error("Group #"+E+" has no parent: "+T);var F=T.length,k=t(O,O.datum,E,s),Q=k.length,de=y[E]=new Array(Q),he=p[E]=new Array(Q),fe=S[E]=new Array(F);e?this.bindKey(O,T,de,he,fe,k,e):this.bindIndex(O,T,de,he,fe,k);for(var ve=0,Be=0;ve<Q;ve++){var ct=de[ve];if(ct){ve>=Be&&(Be=ve+1);for(var tt=void 0;!(tt=he[Be])&&Be<Q;)Be++;ct.next=tt||null}}}var Ft=new l(p,s);return Ft.enterGroups=y,Ft.exitGroups=S,Ft},l.prototype.bindIndex=function(t,e,r,o,s,h){for(var p=e.length,y=h.length,S=0;S<y;S++)(E=e[S])?(E.datum=h[S],o[S]=E):r[S]=new Qa(t,h[S]);for(;S<p;S++){var E;(E=e[S])&&(s[S]=E)}},l.prototype.bindKey=function(t,e,r,o,s,h,p){for(var y=e.length,S=h.length,E=new Array(y),T={},O=0;O<y;O++)(F=e[O])&&((k=E[O]=l.keyPrefix+p(F,F.datum,O,e))in T?s[O]=F:T[k]=F);for(O=0;O<S;O++){var k;(F=T[k=l.keyPrefix+p(t,h[O],O,h)])?(o[O]=F,F.datum=h[O],T[k]=void 0):r[O]=new Qa(t,h[O])}for(O=0;O<y;O++){var F;(F=e[O])&&T[E[O]]===F&&(s[O]=F)}},l.keyPrefix="$",l}(),ff=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uc=function(l){function t(){var e=l.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return ff(t,l),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new Jo(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.x1,o=this.y1,s=this.x2,h=this.y2;if(r===s){var p=Math.round(r)+Math.floor(this.strokeWidth)%2/2;r=p,s=p}else if(o===h){var y=Math.round(o)+Math.floor(this.strokeWidth)%2/2;o=y,h=y}e.beginPath(),e.moveTo(r,o),e.lineTo(s,h),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=Wl(Ia.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Ia),$1=Math.sign?Math.sign:function(l){return 0==(l=+l)||isNaN(l)?l:l>0?1:-1};function Ju(l,t,e,r,o,s,h,p){var y=(e-l)*(p-s)-(r-t)*(h-o);if(0===y)return null;var S=((h-o)*(t-s)-(l-o)*(p-s))/y,E=((e-l)*(t-s)-(r-t)*(l-o))/y;return S>=0&&S<=1&&E>=0&&E<=1?{x:l+S*(e-l),y:t+S*(r-t)}:null}function q1(l,t,e,r,o,s,h,p,y,S,E,T){for(var O=[],F=S-T,k=E-y,Q=y*(T-S)-S*(E-y),de=vf(l,e,o,h),he=vf(t,r,s,p),tt=function gf(l,t,e,r){if(0===l)return function Wd(l,t,e){if(0===l)return function H3(l,t){var e=-t/l;return 0!==l&&e>=0&&e<=1?[e]:[]}(t,e);var r=t*t-4*l*e,o=[];if(0===r){var s=-t/(2*l);s>=0&&s<=1&&o.push(s)}else if(r>0){var h=Math.sqrt(r),p=(-t-h)/(2*l),y=(-t+h)/(2*l);p>=0&&p<=1&&o.push(p),y>=0&&y<=1&&o.push(y)}return o}(t,e,r);var o=t/l,s=e/l,p=(3*s-o*o)/9,y=(9*o*s-r/l*27-2*o*o*o)/54,S=p*p*p+y*y,E=1/3,T=[];if(S>=0){var O=Math.sqrt(S),F=$1(y+O)*Math.pow(Math.abs(y+O),E),k=$1(y-O)*Math.pow(Math.abs(y-O),E),Q=Math.abs(Math.sqrt(3)*(F-k)/2),de=-E*o+(F+k);if(de>=0&&de<=1&&T.push(de),0===Q){var he=-E*o-(F+k)/2;he>=0&&he<=1&&T.push(he)}}else{var fe=Math.acos(y/Math.sqrt(-p*p*p)),ve=E*o,Be=2*Math.sqrt(-p),ct=Be*Math.cos(E*fe)-ve,tt=Be*Math.cos(E*(fe+2*Math.PI))-ve,Ft=Be*Math.cos(E*(fe+4*Math.PI))-ve;ct>=0&&ct<=1&&T.push(ct),tt>=0&&tt<=1&&T.push(tt),Ft>=0&&Ft<=1&&T.push(Ft)}return T}(F*de[0]+k*he[0],F*de[1]+k*he[1],F*de[2]+k*he[2],F*de[3]+k*he[3]+Q),Ft=0;Ft<tt.length;Ft++){var on,Nt=tt[Ft],jt=Nt*Nt,Jt=Nt*jt,Mn=de[0]*Jt+de[1]*jt+de[2]*Nt+de[3],Dn=he[0]*Jt+he[1]*jt+he[2]*Nt+he[3];(on=y!==E?(Mn-y)/(E-y):(Dn-S)/(T-S))>=0&&on<=1&&O.push({x:Mn,y:Dn})}return O}function vf(l,t,e,r){return[3*t-l-3*e+r,3*l-6*t+3*e,-3*l+3*t,l]}var X1=function(){function l(){this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.draw=function(t){var e=this.commands,r=this.params,o=e.length,s=0;t.beginPath();for(var h=0;h<o;h++)switch(e[h]){case"M":t.moveTo(r[s++],r[s++]);break;case"L":t.lineTo(r[s++],r[s++]);break;case"C":t.bezierCurveTo(r[s++],r[s++],r[s++],r[s++],r[s++],r[s++]);break;case"Z":t.closePath()}},l.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},l.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},l.prototype.rect=function(t,e,r,o){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+o),this.lineTo(t,e+o),this.closePath()},l.prototype.arcTo=function(t,e,r,o,s,h,p){var y=this.xy;if(y){t<0&&(t=-t),e<0&&(e=-e);var S=y[0],E=y[1],T=(S-h)/2,O=(E-p)/2,F=Math.sin(r),k=Math.cos(r),Q=k*T+F*O,de=-F*T+k*O,he=Q/t,fe=de/e,ve=he*he+fe*fe,Be=(S+h)/2,ct=(E+p)/2,tt=0,Ft=0;ve>=1?(t*=ve=Math.sqrt(ve),e*=ve):(ve=Math.sqrt(1/ve-1),o===s&&(ve=-ve),Be+=k*(tt=ve*t*fe)-F*(Ft=-ve*e*he),ct+=F*tt+k*Ft);var Nt=Math.atan2((de-Ft)/e,(Q-tt)/t),jt=Math.atan2((-de-Ft)/e,(-Q-tt)/t)-Nt;this.cubicArc(Be,ct,t,e,r,Nt,Nt+jt,1-s)}},l.cubicArc=function(t,e,r,o,s,h,p,y,S,E){if(E){var T=y;y=S,S=T}var O=e.length,F=.5522847498307935,k=Math.sin(y),Q=Math.cos(y),de=Math.sin(p),he=Math.cos(p),fe=Math.PI/2,ve=he*Q*s-de*k*h,Be=de*Q*s+he*k*h,ct=-he*k*s-de*Q*h,tt=-de*k*s+he*Q*h;for((S-=y)<0&&(S+=2*Math.PI),t.push("M"),e.push(ve+r,Be+o);S>=fe;){S-=fe,t.push("C");var Ft=ct+r;e.push(ve+ct*F+r,Be+tt*F+o,ve*F+ct+r,Be*F+tt+o,Math.abs(Ft)<1e-8?0:Ft,tt+o),T=ve,ve=ct,ct=-T,T=Be,Be=tt,tt=-T}if(S){var Nt=1.3333333333333333*Math.tan(S/4),jt=Math.sin(S),Jt=Math.cos(S),Mn=Jt+Nt*jt,Dn=jt-Nt*Jt;t.push("C"),Ft=ve*Jt+ct*jt+r,e.push(ve+ct*Nt+r,Be+tt*Nt+o,ve*Mn+ct*Dn+r,Be*Mn+tt*Dn+o,Math.abs(Ft)<1e-8?0:Ft,Be*Jt+tt*jt+o)}if(E)for(var on=O,wn=e.length-2;on<wn;on+=2,wn-=2)T=e[on],e[on]=e[wn],e[wn]=T,T=e[on+1],e[on+1]=e[wn+1],e[wn+1]=T},l.prototype.cubicArc=function(t,e,r,o,s,h,p,y){var S=this.commands,E=this.params,T=S.length;l.cubicArc(S,E,t,e,r,o,s,h,p,y);var O=E[E.length-2],F=E[E.length-1];this.xy?(S[T]="L",this.xy[0]=O,this.xy[1]=F):this.xy=[O,F]},l.prototype.deCasteljau=function(t,e){var r=t.length;if(r<2||r%2==1)throw new Error("Fewer than two points or not an even count.");if(2===r||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var o=[],s=r-2,h=0;h<s;h+=2)o.push((1-e)*t[h]+e*t[h+2],(1-e)*t[h+1]+e*t[h+3]);return this.deCasteljau(o,e)},l.prototype.approximateCurve=function(t,e){var r=this.deCasteljau(t,0);this.moveTo(r[0],r[1]);for(var o=1/e,s=o;s<=1;s+=o){var h=this.deCasteljau(t,s);this.lineTo(h[0],h[1])}},l.prototype.quadraticCurveTo=function(t,e,r,o){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+r)/3,(2*e+o)/3,r,o)},l.prototype.cubicCurveTo=function(t,e,r,o,s,h){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,r,o,s,h),this.xy[0]=s,this.xy[1]=h},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(t,e){for(var r=this.commands,o=this.params,s=r.length,h=-1e4,p=-1e4,y=NaN,S=NaN,E=0,T=0,O=0,F=0,k=0;F<s;F++)switch(r[F]){case"M":isNaN(y)||Ju(y,S,E,T,h,p,t,e)&&O++,y=E=o[k++],S=T=o[k++];break;case"L":Ju(E,T,E=o[k++],T=o[k++],h,p,t,e)&&O++;break;case"C":O+=q1(E,T,o[k++],o[k++],o[k++],o[k++],E=o[k++],T=o[k++],h,p,t,e).length;break;case"Z":isNaN(y)||Ju(y,S,E,T,h,p,t,e)&&O++}return O%2==1},l.fromString=function(t){var e=new l;return e.setFromString(t),e},l.parseSvgPath=function(t){return t.trim().split(l.splitCommandsRe).map(function(e){var r=e.match(l.matchParamsRe);return{command:e.substr(0,1),params:r?r.map(parseFloat):[]}})},l.prettifySvgPath=function(t){return l.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},l.prototype.setFromString=function(t){var o,s,h,p,y,e=this;function S(){y.match(l.quadraticCommandRe)||(h=o,p=s)}function E(){y.match(l.cubicCommandRe)||(h=o,p=s)}this.clear(),l.parseSvgPath(t).forEach(function(T){var O=T.params,F=O.length,k=0;switch(T.command){case"M":for(e.moveTo(o=O[k++],s=O[k++]);k<F;)e.lineTo(o=O[k++],s=O[k++]);break;case"m":for(e.moveTo(o+=O[k++],s+=O[k++]);k<F;)e.lineTo(o+=O[k++],s+=O[k++]);break;case"L":for(;k<F;)e.lineTo(o=O[k++],s=O[k++]);break;case"l":for(;k<F;)e.lineTo(o+=O[k++],s+=O[k++]);break;case"C":for(;k<F;)e.cubicCurveTo(O[k++],O[k++],h=O[k++],p=O[k++],o=O[k++],s=O[k++]);break;case"c":for(;k<F;)e.cubicCurveTo(o+O[k++],s+O[k++],h=o+O[k++],p=s+O[k++],o+=O[k++],s+=O[k++]);break;case"S":for(E();k<F;)e.cubicCurveTo(o+o-h,s+s-p,h=O[k++],p=O[k++],o=O[k++],s=O[k++]);break;case"s":for(E();k<F;)e.cubicCurveTo(o+o-h,s+s-p,h=o+O[k++],p=s+O[k++],o+=O[k++],s+=O[k++]);break;case"Q":for(;k<F;)e.quadraticCurveTo(h=O[k++],p=O[k++],o=O[k++],s=O[k++]);break;case"q":for(;k<F;)e.quadraticCurveTo(h=o+O[k++],p=s+O[k++],o+=O[k++],s+=O[k++]);break;case"T":for(S();k<F;)e.quadraticCurveTo(h=o+o-h,p=s+s-p,o=O[k++],s=O[k++]);break;case"t":for(S();k<F;)e.quadraticCurveTo(h=o+o-h,p=s+s-p,o+=O[k++],s+=O[k++]);break;case"A":for(;k<F;)e.arcTo(O[k++],O[k++],O[k++]*Math.PI/180,O[k++],O[k++],o=O[k++],s=O[k++]);break;case"a":for(;k<F;)e.arcTo(O[k++],O[k++],O[k++]*Math.PI/180,O[k++],O[k++],o+=O[k++],s+=O[k++]);break;case"Z":case"z":e.closePath();break;case"H":for(;k<F;)e.lineTo(o=O[k++],s);break;case"h":for(;k<F;)e.lineTo(o+=O[k++],s);break;case"V":for(;k<F;)e.lineTo(o,s=O[k++]);break;case"v":for(;k<F;)e.lineTo(o,s+=O[k++])}y=T.command})},l.prototype.toString=function(){for(var t=this.commands,e=this.params,r=t.length,o=[],s=0,h=0;s<r;s++)switch(t[s]){case"M":o.push("M"+e[h++]+","+e[h++]);break;case"L":o.push("L"+e[h++]+","+e[h++]);break;case"C":o.push("C"+e[h++]+","+e[h++]+" "+e[h++]+","+e[h++]+" "+e[h++]+","+e[h++]);break;case"Z":o.push("Z")}return o.join("")},l.prototype.toPrettyString=function(){return l.prettifySvgPath(this.toString())},l.prototype.toSvg=function(){return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toDebugSvg=function(){var t=l.prettifySvgPath(this.toString());return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toCubicPaths=function(){var r,o,s,h,p,t=[],e=this.params,y=0;return this.commands.forEach(function(S){switch(S){case"M":r=[o=h=e[y++],s=p=e[y++]],t.push(r);break;case"L":var E=e[y++],T=e[y++];r.push((h+h+E)/3,(p+p+T)/3,(h+E+E)/3,(p+T+T)/3,h=E,p=T);break;case"C":r.push(e[y++],e[y++],e[y++],e[y++],h=e[y++],p=e[y++]);break;case"Z":r.push((h+h+o)/3,(p+p+s)/3,(h+o+o)/3,(p+s+s)/3,h=o,p=s)}}),t},l.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},l.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,l.matchParamsRe=/-?[0-9]*\.?\d+/g,l.quadraticCommandRe=/[QqTt]/,l.cubicCommandRe=/[CcSs]/,l.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',l.xmlns="http://www.w3.org/2000/svg",l}(),r2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ts=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.path=new X1,e._dirtyPath=!0,e._svgPath="",e}return r2(t,l),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.path.closedPath&&this.path.isPointInPath(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.draw(e),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Ia),Js=2*Math.PI;function Kl(l){return l%=Js,(l+=Js)%Js}function ki(l){return l/180*Math.PI}function Z1(l,t,e){return void 0===e&&(e=1e-10),Math.abs(l-t)<e}function Hc(l,t){void 0===t&&(t=2);var e=Math.floor(Math.log(Math.abs(l))/Math.LN10);return e>=0||!isFinite(e)?l.toFixed(t):l.toFixed(Math.abs(e)-1+t)}Number.EPSILON||Math.pow(2,-52);var G3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dc=(()=>(function(l){l[l.Open=0]="Open",l[l.Chord=1]="Chord",l[l.Round=2]="Round"}(dc||(dc={})),dc))(),Jv=function(l){function t(){var e=l.call(this)||this;return e._centerX=0,e._centerY=0,e._radiusX=10,e._radiusY=10,e._startAngle=0,e._endAngle=2*Math.PI,e._counterClockwise=!1,e._type=dc.Open,e.restoreOwnStyles(),e}return G3(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return Z1(Kl(this.startAngle),Kl(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===dc.Chord?e.closePath():this.type===dc.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new Jo(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return this.type!==dc.Open&&s.containsPoint(o.x,o.y)&&this.path.isPointInPath(o.x,o.y)},t.className="Arc",t.defaultStyles=Wl(Ia.defaultStyles,{lineWidth:1,fillStyle:null}),t}(Ts),e0={};function a2(l,t){e0[t]||(l(),e0[t]=!0)}var yl=(()=>(function(l){l[l.Tick=0]="Tick",l[l.GridLine=1]="GridLine"}(yl||(yl={})),yl))(),W3=function l(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},Gc=function(){function l(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(l.prototype,"format",{get:function(){return this._format},set:function(t){this._format!==t&&(this._format=t,this.onFormatChange&&this.onFormatChange(t))},enumerable:!0,configurable:!0}),l}(),Q1=function(){function l(t){this.id=Bl(this),this.lineNode=new uc,this.group=new so,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new W3,this.label=new Gc,this.translation={x:0,y:0},this.rotation=0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=t,this.groupSelection=ea.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(l.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.requestedRange=t.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ticks",{get:function(){return this._ticks},set:function(t){this._ticks=t},enumerable:!0,configurable:!0}),l.prototype.getMeta=function(){},l.prototype.updateRange=function(){var t=this,e=t.requestedRange,r=t.visibleRange,s=(e[1]-e[0])/(r[1]-r[0]),p=e[0]-s*r[0];t.scale.range=[p,p+s]},l.prototype.inRange=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=0),0===this.inRangeEx(t,e,r)},l.prototype.inRangeEx=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var o=this.range,s=Math.min(o[0],o[1]),h=Math.max(o[0],o[1]);return t+e<s-r?-1:t>h+r?1:0},Object.defineProperty(l.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(t,2),r=e[0],o=e[1];r=Math.max(0,r),o=Math.min(1,o),r=Math.min(r,o),o=Math.max(r,o),this._visibleRange=[r,o],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(t){this.scale.domain=t.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),l.prototype.onLabelFormatChange=function(t){if(t&&this.scale&&this.scale.tickFormat)try{this.labelFormatter=this.scale.tickFormat(this.tick.count,t)}catch(e){this.labelFormatter=void 0,a2(function(){return console.warn("AG Charts - the axis label format string "+t+" is invalid. No formatting will be applied")},"invalid axis label format string "+t)}else this.labelFormatter=void 0},Object.defineProperty(l.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.group.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.group.appendChild(t.node)),this._title=t,this.positionTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),l.prototype.update=function(){var t=this,e=this,r=e.group,o=e.scale,s=e.tick,h=e.label,p=e.gridStyle,y=e.requestedRange,S=Math.min(y[0],y[1]),E=Math.max(y[0],y[1]),T=ki(this.rotation),O=h.parallel,F=Kl(ki(h.rotation));r.translationX=this.translation.x,r.translationY=this.translation.y,r.rotation=T;var k=(o.bandwidth||0)/2,Q=h.mirrored?1:-1,de=Kl(T),he=!F&&de>=0&&de<=Math.PI?-1:1,fe=Kl(T-Math.PI/2),ve=!F&&fe>=0&&fe<=Math.PI?-1:1,Be=F>=0&&F<=Math.PI?-1:1,ct=this.ticks||o.ticks(this.tick.count),tt=this.groupSelection.setData(ct);tt.exit.remove();var Ft=tt.enter.append(so);Ft.append(uc).each(function(dn){return dn.tag=yl.Tick}),this.gridLength&&(this.radialGrid?Ft.append(Jv).each(function(dn){return dn.tag=yl.GridLine}):Ft.append(uc).each(function(dn){return dn.tag=yl.GridLine})),Ft.append(Za);var Nt=tt.merge(Ft);if(Nt.attrFn("translationY",function(dn,lr){return Math.round(o.convert(lr)+k)}).attrFn("visible",function(dn){var lr=Math.floor(S),Xn=Math.ceil(E);return dn.translationY>=lr&&dn.translationY<=Xn}),Nt.selectByTag(yl.Tick).each(function(dn){dn.strokeWidth=s.width,dn.stroke=s.color}).attr("x1",Q*s.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&p.length){var jt=p.length,Jt=void 0;if(this.radialGrid){var Mn=function Zv(l){return l%=Js,(l+=Js)!==Js&&(l%=Js),l}(ki(this.gridLength));Jt=Nt.selectByTag(yl.GridLine).each(function(dn,lr){var Xn=Math.round(o.convert(lr)+k);dn.centerX=0,dn.centerY=o.range[0]-Xn,dn.endAngle=Mn,dn.radiusX=Xn,dn.radiusY=Xn})}else Jt=Nt.selectByTag(yl.GridLine).each(function(dn){dn.x1=0,dn.x2=-Q*t.gridLength,dn.y1=0,dn.y2=0,dn.visible=Math.abs(dn.parent.translationY-o.range[0])>1});Jt.each(function(dn,lr,Xn){var kr=p[Xn%jt];dn.stroke=kr.stroke,dn.strokeWidth=s.width,dn.lineDash=kr.lineDash,dn.fill=void 0})}this.fractionDigits=ct.fractionDigits>=0?ct.fractionDigits:0;var Dn=Nt.selectByClass(Za).each(function(dn,lr,Xn){dn.fontStyle=h.fontStyle,dn.fontWeight=h.fontWeight,dn.fontSize=h.fontSize,dn.fontFamily=h.fontFamily,dn.fill=h.color,dn.textBaseline=O&&!F?Q*he==-1?"hanging":"bottom":"middle",dn.text=t.formatTickDatum(lr,Xn),dn.textAlign=O?F?Q*Be==-1?"end":"start":"center":Q*ve==-1?"end":"start"}),on=Q*(s.size+h.padding),wn=O?he*Math.PI/2:-1===ve?Math.PI:0;Dn.each(function(dn){dn.x=on,dn.rotationCenterX=on,dn.rotation=wn+F}),this.groupSelection=Nt;var cn=this.lineNode;cn.x1=0,cn.x2=0,cn.y1=y[0],cn.y2=y[1],cn.strokeWidth=this.line.width,cn.stroke=this.line.color,cn.visible=ct.length>0,this.positionTitle()},l.prototype.positionTitle=function(){var e=this.title;if(e){var o=!1;if(e.enabled&&this.lineNode.visible){o=!0;var s=this,y=s.requestedRange,S=s.label.mirrored?1:-1,E=Kl(s.rotation),T=e.padding.bottom,O=e.node,F=this.computeBBox({excludeTitle:!0}),k=-1===S&&E>Math.PI&&E<2*Math.PI?-1:1;O.rotation=k*S*Math.PI/2,O.x=k*S*(y[0]+y[1])/2,O.y=-1===S?k*(-T-F.width+Math.max(F.x+F.width,0)):-T-F.width-Math.min(F.x,0),O.textBaseline=1===k?"bottom":"top"}e.node.visible=o}},l.prototype.formatTickDatum=function(t,e){var r=this,o=r.label,s=r.labelFormatter,h=r.fractionDigits,p=this.getMeta();return o.formatter?o.formatter({value:h>=0?t:String(t),index:e,fractionDigits:h,formatter:s,axis:p}):s?s(t):"number"==typeof t&&h>=0?t.toFixed(h):String(t)},l.prototype.formatDatum=function(t){return String(t)},l.prototype.computeBBox=function(t){var r=this.title,o=this.lineNode,s=this.groupSelection.selectByClass(Za),h=1/0,p=-1/0,y=1/0,S=-1/0;if(s.each(function(k){k.computeTransformMatrix();var Q=ac.flyweight(k.matrix),de=k.parent;de.computeTransformMatrix(),Q.preMultiplySelf(de.matrix);var he=k.computeBBox();if(he){var fe=Q.transformBBox(he);h=Math.min(h,fe.x),p=Math.max(p,fe.x+fe.width),y=Math.min(y,fe.y),S=Math.max(S,fe.y+fe.height)}}),r&&r.enabled&&o.visible&&(!t||!t.excludeTitle)){var E=r.node;E.computeTransformMatrix();var T=ac.flyweight(E.matrix),O=E.computeBBox();if(O){var F=T.transformBBox(O);h=Math.min(h,F.x),p=Math.max(p,F.x+F.width),y=Math.min(y,F.y),S=Math.max(S,F.y+F.height)}}return h=Math.min(h,0),p=Math.max(p,0),y=Math.min(y,o.y1,o.y2),S=Math.max(S,o.y1,o.y2),new Jo(h,y,p-h,S-y)},l}(),s2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zi=(()=>(function(l){l.X="x",l.Y="y"}(zi||(zi={})),zi))();function hc(l){return l===zi.X?zi.Y:zi.X}var Lr=(()=>(function(l){l.Top="top",l.Right="right",l.Bottom="bottom",l.Left="left",l.Angle="angle",l.Radius="radius"}(Lr||(Lr={})),Lr))(),gi=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.keys=[],e.direction=zi.Y,e.boundSeries=[],e._position=Lr.Left,e}return s2(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case Lr.Top:this.direction=zi.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case Lr.Right:this.direction=zi.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case Lr.Bottom:this.direction=zi.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case Lr.Left:this.direction=zi.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(Q1),ed=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bc=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s};function J1(l){var t,e=l[0],r=l[l.length-1];return e>r&&(t=Bc([r,e],2),e=t[0],r=t[1]),function(o){return o>=e&&o<=r?o:NaN}}var jd=function(l){function t(){var e=l.call(this,new Go)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamper=J1,e}return ed(t,l),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(this.tick.count))},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(e,r){var o=this,s=o.scale,h=o.min,p=o.max;if(e.length>2&&(e=Ln(e,Xi,Number)||[0,1]),e=[isNaN(h)?e[0]:h,isNaN(p)?e[1]:p],r){var y=Bc(function Vd(l,t){var e=Math.floor(l[0]),r=l[1];e=function V1(l,t,e){var r=Math.abs(t-l)/(e-1),o=Math.floor(Math.log10(r)),s=Math.pow(10,o);return Math.floor(l/s)*s}(e,r,t);var o=function K4(l,t,e){return function Qh(l){var t=Math.floor(Math.log10(l)),e=Math.pow(10,t),r=l/e*10;return r>0&&r<=1?e/10:r>1&&r<=2?2*e/10:r>1&&r<=5?5*e/10:r>5&&r<=10?10*e/10:r>10&&r<=20?20*e/10:r>20&&r<=40?40*e/10:r>40&&r<=50?50*e/10:r>50&&r<=100?100*e/10:r}((t-l)/(e-1))}(e,r,t),h=[e,r=e+(t-1)*o],p=function H1(l,t,e){for(var r=Math.floor(Math.log10(t)),o=t>0&&t<1?Math.abs(r):0,s=Math.pow(10,o),h=new z1(o),p=0;p<e;p++)h[p]=Math.round((l+t*p)*s)/s;return h}(e,o,t);return[h,p]}(e,r),2),E=y[1];return s.domain=y[0],void(this.ticks=E)}s.domain=e,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice(this.tick.count)},Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.prototype.formatDatum=function(e){return"number"==typeof e?e.toFixed(2):(a2(function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")},"number axis config used with Date objects"),String(e))},t.className="NumberAxis",t.type="number",t}(gi),Ud=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},pc=function(){function l(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var r=this.index;t.forEach(function(o){void 0===r.get(o)&&r.set(o,e.push(o)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),l.prototype.ticks=function(){return this._domain},l.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var r=this.ordinalRange[e];return void 0===r?NaN:r},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){var t,e=this._domain.length;if(e){var r=Ud(this._range,2),o=r[0],s=r[1],h=s<o;h&&(o=(t=Ud([s,o],2))[0],s=t[1]);var p=(s-o)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(p=Math.floor(p)),o+=(s-o-p*(e-this._paddingInner))*this._align,this._bandwidth=p*(1-this._paddingInner),this._round&&(o=Math.round(o),this._bandwidth=Math.round(this._bandwidth));for(var y=[],S=0;S<e;S++)y.push(o+p*S);this.ordinalRange=h?y.reverse():y}},l}(),eg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wc=function(l){function t(){var e=l.call(this,new pc)||this;return e.scale.paddingInner=.2,e.scale.paddingOuter=.3,e}return eg(t,l),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter(function(r,o,s){return s.indexOf(r)===o})},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(gi),t0=function(){function l(t,e,r){void 0===t&&(t=""),void 0===r&&(r=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=r}return l.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},l.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},l.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},l.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},l.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,r){return r!==t.number}):[]},l}();function tp(l,t,e){var o=e/(t.number-l.number);t.change-=o,t.shift+=e,l.change+=o,t.prelim+=e,t.mod+=e}function Kd(l,t,e){return t.getSiblings().indexOf(l.ancestor)>=0?l.ancestor:e}function n0(l,t){var e=l.children;if(e.length){var r=e[0];e.forEach(function(h){n0(h,t),r=function $d(l,t,e){var r=l.getLeftSibling();if(r){for(var o=l,s=l,h=r,p=s.getLeftmostSibling(),y=s.mod,S=o.mod,E=h.mod,T=p.mod;h.nextRight()&&s.nextLeft();){h=h.nextRight(),s=s.nextLeft(),p=p.nextLeft(),(o=o.nextRight()).ancestor=l;var O=h.prelim+E-(s.prelim+y)+e;O>0&&(tp(Kd(h,l,t),l,O),y+=O,S+=O),E+=h.mod,y+=s.mod,T+=p.mod,S+=o.mod}h.nextRight()&&!o.nextRight()?(o.thread=h.nextRight(),o.mod+=E-S):(s.nextLeft()&&!p.nextLeft()&&(p.thread=s.nextLeft(),p.mod+=y-T),t=l)}return t}(h,r,t)}),function td(l){var t=l.children;if(t)for(var e=0,r=0,o=t.length-1;o>=0;o--){var s=t[o];s.prelim+=e,s.mod+=e,e+=s.shift+(r+=s.change)}}(l);var o=(e[0].prelim+e[e.length-1].prelim)/2;(s=l.getLeftSibling())?(l.prelim=s.prelim+t,l.mod=l.prelim-o):l.prelim=o}else{var s=l.getLeftSibling();l.prelim=s?s.prelim+t:0}}var Cu=function(){function l(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return l.prototype.update=function(t,e){var r=e(t),o=r.x,s=r.y;o>this.right&&(this.right=o),o<this.left&&(this.left=o),s>this.bottom&&(this.bottom=s),s<this.top&&(this.top=s)},l}();function tg(l,t,e){l.x=l.prelim+t,l.y=l.depth,e.update(l),l.children.forEach(function(r){return tg(r,t+l.mod,e)})}function nd(l){var t=l.children,e=0;t.forEach(function(r){nd(r),r.children.length?e+=r.leafCount:e++}),l.leafCount=e,t.length?(l.subtreeLeft=t[0].subtreeLeft,l.subtreeRight=t[l.children.length-1].subtreeRight,l.x=(l.subtreeLeft+l.subtreeRight)/2):(l.subtreeLeft=l.x,l.subtreeRight=l.x)}function ng(l){var t=new r0;return n0(l,1),tg(l,-l.prelim,t),nd(l),t}var r0=function(){function l(){this.dimensions=new Cu,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return l.prototype.update=function(t){this.dimensions.update(t,function(e){return{x:e.x,y:e.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},l.prototype.resize=function(t,e,r,o,s){void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=!1);var h=this.leafCount-1,p=this.depth,y=this.dimensions,S=1,E=1;t>0&&h&&(S=t/h/((y.right-y.left)/h),s&&(S=-S)),e>0&&p&&(E=e/p/((y.bottom-y.top)/p));var Q=new Cu;this.nodes.forEach(function(fe){fe.screenX=fe.x*S,fe.screenY=fe.y*E,Q.update(fe,function(ve){return{x:ve.screenX,y:ve.screenY}})});var de=-Q.left,he=-Q.top;this.nodes.forEach(function(fe){fe.screenX+=de+r,fe.screenY+=he+o})},l}(),o0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a0=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.grid=!1,e}return o0(t,l),t}(Gc),_u=function(l){function t(){var e=l.call(this,new pc)||this;e.tickScale=new pc,e.longestSeparatorLength=0,e.translation={x:0,y:0},e.rotation=0,e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new a0,e.labelColor="rgba(87, 87, 87, 1)";var o=e.group,s=e.tickScale,h=e.scale;return h.paddingOuter=.1,h.paddingInner=2*h.paddingOuter,e.requestedRange=h.range.slice(),e.scale=h,s.paddingInner=1,s.paddingOuter=0,e.gridLineSelection=ea.select(o).selectAll(),e.axisLineSelection=ea.select(o).selectAll(),e.separatorSelection=ea.select(o).selectAll(),e.labelSelection=ea.select(o).selectAll(),e}return o0(t,l),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var r=e.filter(function(h,p,y){return y.indexOf(h)===p});this.scale.domain=r;var o=function fc(l,t){void 0===t&&(t=!0);var e=new t0,r=0;return t&&l.forEach(function(o){return r=Math.max(r,o.labels.length)}),l.forEach(function(o){if(t)for(;o.labels.length<r;)o.labels.unshift("");!function Yd(l,t){var e=t.labels.slice().reverse(),r=e.length-1;e.forEach(function(o,s){var h=l.children,p=zc(h,function(E){return E.label===o}),y=s!==r;if(p&&y)l=p;else{var S=new t0(o,l);S.number=h.length,h.push(S),y&&(l=S)}})}(e,o)}),e}(r);this.tickTreeLayout=ng(o);var s=r.slice();s.push(""),this.tickScale.domain=s,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this,r=e.requestedRange,o=e.visibleRange,h=(r[1]-r[0])/(o[1]-o[0]),y=r[0]-h*o[0];this.tickScale.range=e.scale.range=[y,y+h],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,r=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,o=this.tickTreeLayout,s=this.lineHeight;o&&o.resize(Math.abs(r[1]-r[0]),o.depth*s,(Math.min(r[0],r[1])||0)+(e.bandwidth||0)/2,-o.depth*s,r[1]-r[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,r=this,o=r.group,s=r.scale,h=r.label,p=r.tickScale,y=r.requestedRange,S=s.range[0],E=s.range[1],O=Math.abs(E-S)/s.domain.length||0,F=h.parallel,k=ki(this.rotation),Q=Math.abs(Math.cos(k))<1e-8,de=Kl(ki(this.label.rotation));o.translationX=this.translation.x,o.translationY=this.translation.y,o.rotation=k;var he=this.title;he&&(he.node.visible=!1);var fe=this.lineHeight,ve=this.tickTreeLayout,Be=s.ticks(),ct=ve?ve.nodes:[],tt=!!ve&&ve.depth>1,Ft=p.ticks(),Nt=h.mirrored?1:-1,jt=Kl(k),Jt=!de&&jt>=0&&jt<=Math.PI?-1:1,Mn=Kl(k-Math.PI/2),Dn=!de&&Mn>=0&&Mn<=Math.PI?-1:1,on=this.gridLineSelection.setData(this.gridLength?Ft:[]);on.exit.remove();var wn=on.enter.append(uc),cn=on.merge(wn),dn=this.labelSelection.setData(ct);dn.exit.remove();var lr=dn.enter.append(Za),Xn=dn.merge(lr),kr=h.formatter,Wn=0;Xn.each(function(Cr,to,zs){Cr.fontStyle=h.fontStyle,Cr.fontWeight=h.fontWeight,Cr.fontSize=h.fontSize,Cr.fontFamily=h.fontFamily,Cr.fill=h.color,Cr.textBaseline=-1===Jt?"bottom":"hanging",Cr.textAlign="center",Cr.translationX=to.screenY-.25*h.fontSize,Cr.translationY=to.screenX,0===zs?he&&he.enabled&&Be.length>0?(Cr.visible=!0,Cr.text=he.text,Cr.fontSize=he.fontSize,Cr.fontStyle=he.fontStyle,Cr.fontWeight=he.fontWeight,Cr.fontFamily=he.fontFamily,Cr.textBaseline="hanging"):Cr.visible=!1:(Cr.text=kr?kr({value:String(to.label),index:zs}):String(to.label),Cr.visible=to.screenX>=y[0]&&to.screenX<=y[1]);var ul=Cr.computeBBox();ul&&ul.width>Wn&&(Wn=ul.width)});var zr=Nt*h.padding,$n=F?Jt*Math.PI/2:-1===Dn?Math.PI:0,jr=this.label.grid,Vr=[];Xn.each(function(Cr,to,zs){if(Cr.x=zr,Cr.rotationCenterX=zr,to.children.length?(Cr.translationX-=Wn-fe+e.label.padding,Cr.rotation=Q?$n:-Math.PI/2):(Cr.rotation=de,Cr.textAlign="end",Cr.textBaseline="middle"),to.parent&&tt){var ul=to.children.length?to.screenX-to.leafCount*O/2:to.screenX-O/2;if(to.children.length){var p1=-Wn-2*e.label.padding+to.screenY;Vr.push({y:ul,x1:p1+fe,x2:p1,toString:function(){return String(zs)}})}else(to.number!==to.children.length-1||jr)&&Vr.push({y:ul,x1:0,x2:-Wn-2*e.label.padding,toString:function(){return String(zs)}})}});var xi=0;Vr.forEach(function(Cr){return xi=Math.min(xi,Cr.x2)}),this.longestSeparatorLength=Math.abs(xi),Vr.push({y:Math.max(S,E),x1:0,x2:xi,toString:function(){return String(Vr.length)}});var Li=this.separatorSelection.setData(Vr);Li.exit.remove();var ha=Li.enter.append(uc),Ha=Li.merge(ha);this.separatorSelection=Ha,Ha.each(function(Cr,to,zs){Cr.x1=to.x1,Cr.x2=to.x2,Cr.y1=to.y,Cr.y2=to.y,Cr.visible=to.y>=y[0]-1e-7&&to.y<=y[1]+1e-7,Cr.stroke=e.tick.color,Cr.fill=void 0,Cr.strokeWidth=1}),this.gridLineSelection=cn,this.labelSelection=Xn;for(var Oa=ve?ve.depth+1:1,Tl=[],pa=0;pa<Oa;pa++)Tl.push(pa);var cl=this.axisLineSelection.setData(Tl);cl.exit.remove();var xl=cl.enter.append(uc),Ph=cl.merge(xl);if(this.axisLineSelection=Ph,Ph.each(function(Cr,to,zs){var ul=zs>0?-Wn-2*e.label.padding-(zs-1)*fe:0;Cr.x1=ul,Cr.x2=ul,Cr.y1=y[0],Cr.y2=y[1],Cr.strokeWidth=e.line.width,Cr.stroke=e.line.color,Cr.visible=Be.length>0&&(0===zs||jr&&tt)}),this.gridLength){var Ah=this.gridStyle,xp=Ah.length;cn.each(function(Cr,to,zs){var ul=Math.round(p.convert(to));Cr.x1=0,Cr.x2=-Nt*e.gridLength,Cr.y1=ul,Cr.y2=ul,Cr.visible=ul>=y[0]&&ul<=y[1]&&Math.abs(Cr.parent.translationY-S)>1;var p1=Ah[zs%xp];Cr.stroke=p1.stroke,Cr.strokeWidth=e.tick.width,Cr.lineDash=p1.lineDash,Cr.fill=void 0})}},t.prototype.computeBBox=function(e){var r=!e||!e.excludeTitle,o=1/0,s=-1/0,h=1/0,p=-1/0;return this.labelSelection.each(function(y,S,E){if(E>0||r){y.computeTransformMatrix();var T=ac.flyweight(y.matrix),O=y.computeBBox();if(O){var F=T.transformBBox(O);o=Math.min(o,F.x),s=Math.max(s,F.x+F.width),h=Math.min(h,F.y),p=Math.max(p,F.y+F.height)}}}),new Jo(o,h,Math.max(s-o,this.longestSeparatorLength),p-h)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(gi),s0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yf=new Date,rg=new Date,ig=function(){function l(t,e){this._floor=t,this._offset=e}return l.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},l.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},l.prototype.round=function(t){var e=this.floor(t),r=this.ceil(t),o=+t;return o-e.getTime()<r.getTime()-o?e:r},l.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},l.prototype.range=function(t,e,r){void 0===r&&(r=1);var s,o=[];if(t=this.ceil(t),r=Math.floor(r),t>e||r<=0)return o;do{s=new Date(+t),o.push(s),this._offset(t,r),this._floor(t)}while(s<t&&t<e);return o},l.prototype.filter=function(t){var e=this;return new l(function(s){if(s>=s)for(;e._floor(s),!t(s);)s.setTime(s.getTime()-1);return s},function(s,h){if(s>=s)if(h<0)for(;++h<=0;)do{e._offset(s,-1)}while(!t(s));else for(;--h>=0;)do{e._offset(s,1)}while(!t(s));return s})},l}(),xs=function(l){function t(e,r,o,s){var h=l.call(this,e,r)||this;return h._count=o,h._field=s,h}return s0(t,l),t.prototype.count=function(e,r){return yf.setTime(+e),rg.setTime(+r),this._floor(yf),this._floor(rg),Math.floor(this._count(yf,rg))},t.prototype.every=function(e){var o,r=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var s=this._field;o=this.filter(s?function(h){return s(h)%e==0}:function(h){return r.count(0,h)%e==0})}else o=this;return o},t}(ig),Cf=new xs(function qd(l){return l},function tl(l,t){l.setTime(l.getTime()+t)},function l2(l,t){return t.getTime()-l.getTime()});const j3=Cf;var gc=1e3,nl=6e4,Cl=60*nl,rd=24*Cl,np=7*rd,og=30*rd,ag=365*rd,c0=new xs(function sg(l){l.setTime(l.getTime()-l.getMilliseconds())},function lg(l,t){l.setTime(l.getTime()+t*gc)},function l0(l,t){return(t.getTime()-l.getTime())/gc});const u0=c0;var cg=new xs(function c2(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*gc)},function _f(l,t){l.setTime(l.getTime()+t*nl)},function _l(l,t){return(t.getTime()-l.getTime())/nl},function d0(l){return l.getMinutes()});const Ms=cg;var rp=new xs(function ug(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*gc-l.getMinutes()*nl)},function u2(l,t){l.setTime(l.getTime()+t*Cl)},function h0(l,t){return(t.getTime()-l.getTime())/Cl},function ta(l){return l.getHours()});const d2=rp;var Sf=new xs(function vc(l){l.setHours(0,0,0,0)},function h2(l,t){l.setDate(l.getDate()+t)},function wf(l,t){var e=t.getTimezoneOffset()-l.getTimezoneOffset();return(t.getTime()-l.getTime()-e*nl)/rd},function p2(l){return l.getDate()-1});const ca=Sf;function jc(l){return new xs(function t(o){o.setDate(o.getDate()-(o.getDay()+7-l)%7),o.setHours(0,0,0,0)},function e(o,s){o.setDate(o.getDate()+7*s)},function r(o,s){return(s.getTime()-o.getTime()-(s.getTimezoneOffset()-o.getTimezoneOffset())*nl)/np})}var dg=jc(0),Xd=jc(1),mc=(jc(2),jc(3),jc(4));jc(5),jc(6);const f2=dg;var fg=new xs(function g2(l){l.setDate(1),l.setHours(0,0,0,0)},function pg(l,t){l.setMonth(l.getMonth()+t)},function wu(l,t){return t.getMonth()-l.getMonth()+12*(t.getFullYear()-l.getFullYear())},function f0(l){return l.getMonth()});const g0=fg;var gg=new xs(function yc(l){l.setMonth(0,1),l.setHours(0,0,0,0)},function Ef(l,t){l.setFullYear(l.getFullYear()+t)},function v2(l,t){return t.getFullYear()-l.getFullYear()},function m2(l){return l.getFullYear()});const id=gg;var Su=new xs(function v0(l){l.setUTCHours(0,0,0,0)},function As(l,t){l.setUTCDate(l.getUTCDate()+t)},function Zd(l,t){return(t.getTime()-l.getTime())/rd},function y2(l){return l.getUTCDate()-1});const vg=Su;var yg=new xs(function Qd(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},function Cc(l,t){l.setUTCFullYear(l.getUTCFullYear()+t)},function C2(l,t){return t.getUTCFullYear()-l.getUTCFullYear()},function mg(l){return l.getUTCFullYear()});const ip=yg;function bu(l){return new xs(function t(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-l)%7),o.setHours(0,0,0,0)},function e(o,s){o.setUTCDate(o.getUTCDate()+7*s)},function r(o,s){return(s.getTime()-o.getTime())/np})}var Jd=bu(0),eh=bu(1),Eu=(bu(2),bu(3),bu(4));bu(5),bu(6);const _2=Jd;function w2(l){if(l.y>=0&&l.y<100){var t=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return t.setFullYear(l.y),t}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function qo(l){if(l.y>=0&&l.y<100){var t=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return t.setUTCFullYear(l.y),t}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function od(l){for(var t={},e=0,r=l.length;e<r;e++)t[l[e].toLowerCase()]=e;return t}function th(l){return{y:l,m:0,d:1,H:0,M:0,S:0,L:0}}var Tf,Ea=/^\s*\d+/,y0=/^%/,S2=/[\\^$*+?|[\]().{}]/g,b2=function(l){return l.replace(S2,"\\$&")},Uc=function(l){return new RegExp("^(?:"+l.map(b2).join("|")+")","i")},C0={"-":"",_:" ",0:"0"};function Yi(l,t,e){var r=l<0?"-":"",o=String(r?-l:l),s=o.length;return r+(s<e?new Array(e-s+1).join(t)+o:o)}!function nh(l){Tf=function K3(l){var t=l.dateTime,e=l.date,r=l.time,o=l.periods,s=l.days,h=l.shortDays,p=l.months,y=l.shortMonths,S=Uc(o),E=od(o),T=Uc(s),O=od(s),F=Uc(h),k=od(h),Q=Uc(p),de=od(p),he=Uc(y),fe=od(y),ve={a:function dn(Te){return h[Te.getDay()]},A:function lr(Te){return s[Te.getDay()]},b:function xi(Te){return y[Te.getMonth()]},B:function Li(Te){return p[Te.getMonth()]},c:void 0,d:jr,e:jr,f:function jt(Te,Xe){return Jt(Te,Xe)+"000"},H:function wn(Te,Xe){return Yi(Te.getHours(),Xe,2)},I:function on(Te,Xe){return Yi(Te.getHours()%12||12,Xe,2)},j:function Vr(Te,Xe){return Yi(1+ca.count(id.floor(Te),Te),Xe,3)},L:Jt,m:function ha(Te,Xe){return Yi(Te.getMonth()+1,Xe,2)},M:function Dn(Te,Xe){return Yi(Te.getMinutes(),Xe,2)},p:function cn(Te){return o[Te.getHours()>=12?1:0]},Q:_8,s:w8,S:function Mn(Te,Xe){return Yi(Te.getSeconds(),Xe,2)},u:function Xn(Te){var Xe=Te.getDay();return 0===Xe?7:Xe},U:function kr(Te,Xe){return Yi(dg.count(id.floor(Te),Te),Xe,2)},V:function Wn(Te,Xe){var Pt=Te.getDay();Te=Pt>=4||0===Pt?mc.floor(Te):mc.ceil(Te);var ke=id.floor(Te);return Yi(mc.count(ke,Te)+(4===ke.getDay()?1:0),Xe,2)},w:function zr(Te){return Te.getDay()},W:function $n(Te,Xe){return Yi(Xd.count(id.floor(Te),Te),Xe,2)},x:void 0,X:void 0,y:function Ha(Te,Xe){return Yi(Te.getFullYear()%100,Xe,2)},Y:function ks(Te,Xe){return Yi(Te.getFullYear()%1e4,Xe,4)},Z:function Oa(Te){var Xe=Te.getTimezoneOffset();return(Xe>0?"-":(Xe*=-1,"+"))+Yi(Math.floor(Xe/60),"0",2)+Yi(Xe%60,"0",2)},"%":C8},Be={a:function u7(Te){return h[Te.getUTCDay()]},A:function d7(Te){return s[Te.getUTCDay()]},b:function ul(Te){return y[Te.getUTCMonth()]},B:function p1(Te){return p[Te.getUTCMonth()]},c:void 0,d:Cr,e:Cr,f:function Tl(Te,Xe){return pa(Te,Xe)+"000"},H:function Ah(Te,Xe){return Yi(Te.getUTCHours(),Xe,2)},I:function Ph(Te,Xe){return Yi(Te.getUTCHours()%12||12,Xe,2)},j:function to(Te,Xe){return Yi(1+vg.count(ip.floor(Te),Te),Xe,3)},L:pa,m:function zs(Te,Xe){return Yi(Te.getUTCMonth()+1,Xe,2)},M:function xl(Te,Xe){return Yi(Te.getUTCMinutes(),Xe,2)},p:function xp(Te){return o[Te.getUTCHours()>=12?1:0]},Q:_8,s:w8,S:function cl(Te,Xe){return Yi(Te.getUTCSeconds(),Xe,2)},u:function h7(Te){var Xe=Te.getUTCDay();return 0===Xe?7:Xe},U:function p7(Te,Xe){return Yi(_2.count(ip.floor(Te),Te),Xe,2)},V:function f7(Te,Xe){var Pt=Te.getUTCDay();Te=Pt>=4||0===Pt?Eu.floor(Te):Eu.ceil(Te);var ke=ip.floor(Te);return Yi(Eu.count(ke,Te)+(4===ke.getUTCDay()?1:0),Xe,4)},w:function g7(Te){return Te.getUTCDay()},W:function v7(Te,Xe){return Yi(eh.count(ip.floor(Te),Te),Xe,2)},x:void 0,X:void 0,y:function m7(Te,Xe){return Yi(Te.getUTCFullYear()%100,Xe,2)},Y:function y7(Te,Xe){return Yi(Te.getUTCFullYear()%1e4,Xe,4)},Z:function C7(){return"+0000"},"%":C8},ct={a:function O7(Te,Xe,Pt){var ke=F.exec(Xe.slice(Pt));return ke?(Te.w=k[ke[0].toLowerCase()],Pt+ke[0].length):-1},A:function T7(Te,Xe,Pt){var ke=T.exec(Xe.slice(Pt));return ke?(Te.w=O[ke[0].toLowerCase()],Pt+ke[0].length):-1},b:function F7(Te,Xe,Pt){var ke=he.exec(Xe.slice(Pt));return ke?(Te.m=fe[ke[0].toLowerCase()],Pt+ke[0].length):-1},B:function L7(Te,Xe,Pt){var ke=Q.exec(Xe.slice(Pt));return ke?(Te.m=de[ke[0].toLowerCase()],Pt+ke[0].length):-1},c:function N7(Te,Xe,Pt){return Nt(Te,t,Xe,Pt)},d:b8,e:b8,f:function _7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+6));return ke?(Te.L=Math.floor(parseFloat(ke[0])/1e3),Pt+ke[0].length):-1},H:S8,I:S8,j:function D7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+3));return ke?(Te.m=0,Te.d=+ke[0],Pt+ke[0].length):-1},L:function w7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+3));return ke?(Te.L=+ke[0],Pt+ke[0].length):-1},m:function I7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.m=parseFloat(ke[0])-1,Pt+ke[0].length):-1},M:function b7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.M=+ke[0],Pt+ke[0].length):-1},p:function E7(Te,Xe,Pt){var ke=S.exec(Xe.slice(Pt));return ke?(Te.p=E[ke[0].toLowerCase()],Pt+ke[0].length):-1},Q:function V7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt));return ke?(Te.Q=+ke[0],Pt+ke[0].length):-1},s:function H7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt));return ke?(Te.Q=1e3*+ke[0],Pt+ke[0].length):-1},S:function S7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.S=+ke[0],Pt+ke[0].length):-1},u:function x7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+1));return ke?(Te.u=+ke[0],Pt+ke[0].length):-1},U:function M7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.U=+ke[0],Pt+ke[0].length):-1},V:function P7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.V=+ke[0],Pt+ke[0].length):-1},w:function R7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+1));return ke?(Te.w=+ke[0],Pt+ke[0].length):-1},W:function A7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.W=+ke[0],Pt+ke[0].length):-1},x:function k7(Te,Xe,Pt){return Nt(Te,e,Xe,Pt)},X:function z7(Te,Xe,Pt){return Nt(Te,r,Xe,Pt)},y:function G7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.y=+ke[0]+(+ke[0]>68?1900:2e3),Pt+ke[0].length):-1},Y:function B7(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+4));return ke?(Te.y=+ke[0],Pt+ke[0].length):-1},Z:function W7(Te,Xe,Pt){var ke=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(Xe.slice(Pt,Pt+6));return ke?(Te.Z=ke[1]?0:-(ke[2]+(ke[3]||"00")),Pt+ke[0].length):-1},"%":function j7(Te,Xe,Pt){var ke=y0.exec(Xe.slice(Pt,Pt+1));return ke?Pt+ke[0].length:-1}};function tt(Te,Xe){return function(Pt){var ke=th(1900);if(Nt(ke,Te,Pt+="",0)==Pt.length){if("Q"in ke)return new Date(ke.Q);if("p"in ke&&(ke.H=ke.H%12+12*ke.p),"V"in ke){if(ke.V<1||ke.V>53)return;if("w"in ke||(ke.w=1),"Z"in ke){var Mo=(Hr=qo(th(ke.y))).getUTCDay();Hr=Mo>4||0===Mo?eh.ceil(Hr):eh.floor(Hr),Hr=vg.offset(Hr,7*(ke.V-1)),ke.y=Hr.getUTCFullYear(),ke.m=Hr.getUTCMonth(),ke.d=Hr.getUTCDate()+(ke.w+6)%7}else{var Hr;Mo=(Hr=Xe(th(ke.y))).getDay(),Hr=Mo>4||0===Mo?Xd.ceil(Hr):Xd.floor(Hr),Hr=ca.offset(Hr,7*(ke.V-1)),ke.y=Hr.getFullYear(),ke.m=Hr.getMonth(),ke.d=Hr.getDate()+(ke.w+6)%7}}else("W"in ke||"U"in ke)&&("w"in ke||(ke.w="u"in ke?ke.u%7:"W"in ke?1:0),Mo="Z"in ke?qo(th(ke.y)).getUTCDay():Xe(th(ke.y)).getDay(),ke.m=0,ke.d="W"in ke?(ke.w+6)%7+7*ke.W-(Mo+5)%7:ke.w+7*ke.U-(Mo+6)%7);return"Z"in ke?(ke.H+=ke.Z/100|0,ke.M+=ke.Z%100,qo(ke)):Xe(ke)}}}function Ft(Te,Xe){return function(Pt){var ke=[],Ml=Te.length,Hr=-1,Mo=0;for(Pt instanceof Date||(Pt=new Date(+Pt));++Hr<Ml;)if(37===Te.charCodeAt(Hr)){ke.push(Te.slice(Mo,Hr));var Vs=Te.charAt(++Hr),Hu=C0[Vs];null!=Hu?Vs=Te.charAt(++Hr):Hu="e"===Vs?" ":"0";var Rh=Xe[Vs];Rh&&(Vs=Rh(Pt,Hu)),ke.push(Vs),Mo=Hr+1}return ke.push(Te.slice(Mo,Hr)),ke.join("")}}function Nt(Te,Xe,Pt,ke){for(var Ml=0,Hr=Xe.length,Mo=Pt.length;Ml<Hr;){if(ke>=Mo)return-1;var Vs=Xe.charCodeAt(Ml++);if(37===Vs){var Hu=Xe.charAt(Ml++),Rh=ct[Hu in C0?Xe.charAt(Ml++):Hu];if(!Rh||(ke=Rh(Te,Pt,ke))<0)return-1}else if(Vs!=Pt.charCodeAt(ke++))return-1}return ke}function Jt(Te,Xe){return Yi(Te.getMilliseconds(),Xe,3)}function jr(Te,Xe){return Yi(Te.getDate(),Xe,2)}function pa(Te,Xe){return Yi(Te.getUTCMilliseconds(),Xe,3)}function Cr(Te,Xe){return Yi(Te.getUTCDate(),Xe,2)}function C8(Te){return"%"}function _8(Te){return Te.getTime()}function w8(Te){return Math.floor(Te.getTime()/1e3)}function S8(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.H=+ke[0],Pt+ke[0].length):-1}function b8(Te,Xe,Pt){var ke=Ea.exec(Xe.slice(Pt,Pt+2));return ke?(Te.d=+ke[0],Pt+ke[0].length):-1}return ve.x=Ft(e,ve),ve.X=Ft(r,ve),ve.c=Ft(t,ve),Be.x=Ft(e,Be),Be.X=Ft(r,Be),Be.c=Ft(t,Be),{format:function(Te){var Xe=Ft(Te,ve);return Xe.toString=function(){return Te},Xe},parse:function(Te){var Xe=tt(Te,w2);return Xe.toString=function(){return Te},Xe},utcFormat:function(Te){var Xe=Ft(Te,Be);return Xe.toString=function(){return Te},Xe},utcParse:function(Te){var Xe=tt(Te,qo);return Xe.toString=function(){return Te},Xe}}}(l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var E2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_0=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Cg=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="time",e.year=id,e.month=g0,e.week=f2,e.day=ca,e.hour=d2,e.minute=Ms,e.second=u0,e.millisecond=j3,e.format=Tf.format,e.tickIntervals=[[e.second,1,gc],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,nl],[e.minute,5,5*nl],[e.minute,15,15*nl],[e.minute,30,30*nl],[e.hour,1,Cl],[e.hour,3,3*Cl],[e.hour,6,6*Cl],[e.hour,12,12*Cl],[e.day,1,rd],[e.day,2,2*rd],[e.week,1,np],[e.month,1,og],[e.month,3,3*og],[e.year,1,ag]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return E2(t,l),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,r,o,s){var h;if("number"==typeof e){var p=e,y=this.tickIntervals,S=Math.abs(o-r)/p,E=function Gv(l,t,e,r,o){void 0===r&&(r=0),void 0===o&&(o=l.length);for(var s=function mu(l){return function(t,e){return af(l(t),e)}}(e);r<o;){var h=r+o>>>1;s(l[h],t)<0?r=h+1:o=h}return r}(y,S,function(T){return T[2]});E===y.length?(s=Zu(r/ag,o/ag,p),e=this.year):E?(e=(h=_0(y[S/y[E-1][2]<y[E][2]/S?E-1:E],2))[0],s=h[1]):(s=Math.max(Zu(r,o,e),1),e=this.millisecond)}return null==s?e:e.every(s)},Object.defineProperty(t.prototype,"domain",{get:function(){return l.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){l.prototype.setDomain.call(this,Array.prototype.map.call(e,function(r){return r instanceof Date?+r:+new Date(+r)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},t.prototype.ticks=function(e){void 0===e&&(e=10);var r=l.prototype.getDomain.call(this),o=r[0],s=r[r.length-1],h=s<o;if(h){var p=o;o=s,s=p}var y=this.tickInterval(e,o,s),S=y?y.range(o,s+1):[];return h?S.reverse():S},t.prototype.tickFormat=function(e,r){return null==r?this.defaultTickFormat.bind(this):this.format(r)},t.prototype.nice=function(e){void 0===e&&(e=10);var r=l.prototype.getDomain.call(this),o=this.tickInterval(e,r[0],r[r.length-1]);o&&(this.domain=this._nice(r,o))},t.prototype._nice=function(e,r){var o,s,h=0,p=(e=e.slice()).length-1,y=e[h],S=e[p];return S<y&&(h=(o=_0([p,h],2))[0],p=o[1],y=(s=_0([S,y],2))[0],S=s[1]),e[h]=r.floor(y),e[p]=r.ceil(S),e},t}(ds),_g=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),op=function(l){function t(){var e=l.call(this,new Cg)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e._nice=!0;var r=e.scale;return r.clamp=!0,e.scale=r,e.datumFormatter=r.tickFormat(e.tick.count,e.datumFormat),e}return _g(t,l),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(Ln(e,Xi,Number)||[0,1e3]).map(function(r){return new Date(r)})),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(e){e?l.prototype.onLabelFormatChange.call(this,e):this.labelFormatter=this.scale.tickFormat(this.tick.count,void 0)},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",t}(gi),wg=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},D2=function(){function l(t,e,r){var o=this;void 0===t&&(t=window.document),this.id=Bl(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var s,p=o.ctx,y=o.root,S=o.pendingSize;o.animationFrameId=0,S&&((s=o.canvas).resize.apply(s,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(wg(arguments[t]));return l}(S)),o.pendingSize=void 0),!y||y.visible?(p.clearRect(0,0,o.width,o.height),y&&(p.save(),y.visible&&y.render(p),p.restore()),o._frameIndex++,o.debug.renderFrameIndex&&(p.fillStyle="white",p.fillRect(0,0,40,15),p.fillStyle="black",p.fillText(o.frameIndex.toString(),2,10)),o.dirty=!1):o.dirty=!1},this.canvas=new kd(t,e,r),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),l.prototype.download=function(t){this.canvas.download(t)},l.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t?this._dirty||(this.animationFrameId=requestAnimationFrame(this.render)):this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this._dirty=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),l.className="Scene",l}(),$3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),q3=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.angle=0,e}return $3(t,l),t.prototype.createGradient=function(e,r){var o=this.stops,s=this.angle%360*Math.PI/180,h=Math.cos(s),p=Math.sin(s),y=r.width,S=r.height,E=r.x+.5*y,T=r.y+.5*S;if(y>0&&S>0){var O=Math.sqrt(S*S+y*y)*Math.abs(Math.cos(s-Math.atan(S/y)))/2,F=e.createLinearGradient(E+h*O,T+p*O,E-h*O,T-p*O);return o.forEach(function(k){F.addColorStop(k.offset,k.color)}),F}return"black"},t}(function l(){this.stops=[]}),Sg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ad=(()=>(function(l){l[l.Content=0]="Content",l[l.Border=1]="Border"}(ad||(ad={})),ad))(),_c=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=10,e._height=10,e._radius=0,e._crisp=!1,e._gradient=!1,e.effectiveStrokeWidth=Ia.defaultStyles.strokeWidth,e._sizing=ad.Content,e}return Sg(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var r=new q3;r.angle=270,r.stops=[{offset:0,color:lc.fromString(e).brighter().toString()},{offset:1,color:lc.fromString(e).darker().toString()}],this.gradientInstance=r}}else this.gradientInstance=void 0},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===ad.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===ad.Border,r=this.path;r.clear();var y,o=this.x,s=this.y,h=this.width,p=this.height;if(e){var S=h/2,E=p/2;y=Math.min(this.strokeWidth,S,E),o=Math.min(o+y/2,o+S),s=Math.min(s+y/2,s+E),h=Math.max(h-y,0),p=Math.max(p-y,0)}else y=this.strokeWidth;if(this.effectiveStrokeWidth=y,this.crisp&&!e){var O=this.alignment,F=this.align;r.rect(F(O,o),F(O,s),F(O,o,h),F(O,s,p))}else r.rect(o,s,h,p)},t.prototype.computeBBox=function(){var e=this;return new Jo(e.x,e.y,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.fillStroke=function(e){if(this.scene){var r=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.gradientInstance?this.gradientInstance.createGradient(e,this.computeBBox()):this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*r,e.shadowOffsetY=o.yOffset*r,e.shadowBlur=o.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var s=this.strokeShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*r,e.shadowOffsetY=s.yOffset*r,e.shadowBlur=s.blur*r),e.stroke()}}},t.className="Rect",t}(Ts),S0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rh=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=12,e}return S0(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,s=e.size,h=s/2;return new Jo(e.x-h,e.y-h,s,s)},t}(Ts),b0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sd=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return b0(t,l),t.prototype.updatePath=function(){var e=this,r=e.path,o=e.x,s=e.y,h=this.size/2,y=this.alignment,S=this.align;r.clear(),r.moveTo(S(y,o-h),S(y,s-h)),r.lineTo(S(y,o+h),S(y,s-h)),r.lineTo(S(y,o+h),S(y,s+h)),r.lineTo(S(y,o-h),S(y,s+h)),r.closePath()},t.className="Square",t}(rh),O2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ld=function(l){function t(){var e=l.call(this)||this;e.label=new Za,e._marker=new sd,e._markerSize=15,e._spacing=8;var r=e.label;return r.textBaseline="middle",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.fill="black",r.y=kd.has.textMetrics?1:0,e.append([e.marker,r]),e.update(),e}return O2(t,l),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var r=this.markerSize;this.marker.size=r,this.label.x=r/2+this.spacing},t.className="MarkerLabel",t}(so),T2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),E0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return T2(t,l),t.prototype.updatePath=function(){var e=this,r=e.x,o=e.y,s=e.path,p=e.size/2;s.clear(),s.cubicArc(r,o,p,p,0,0,2*Math.PI,0),s.closePath()},t.className="Circle",t}(rh),D0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x2=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return D0(t,l),t.prototype.updatePath=function(){var r=this.x,o=this.y,h=this.path,y=this.size/4.2;h.clear(),h.moveTo(r-=y,o),h.lineTo(r-=y,o-=y),h.lineTo(r+=y,o-=y),h.lineTo(r+=y,o+=y),h.lineTo(r+=y,o-=y),h.lineTo(r+=y,o+=y),h.lineTo(r-=y,o+=y),h.lineTo(r+=y,o+=y),h.lineTo(r-=y,o+=y),h.lineTo(r-=y,o-=y),h.lineTo(r-=y,o+=y),h.lineTo(r-=y,o-=y),h.closePath()},t.className="Cross",t}(rh),M2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bg=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return M2(t,l),t.prototype.updatePath=function(){var r=this.x,o=this.y,h=this.path,y=this.size/2;h.clear(),h.moveTo(r,o-=y),h.lineTo(r+=y,o+=y),h.lineTo(r-=y,o+=y),h.lineTo(r-=y,o-=y),h.lineTo(r+=y,o-=y),h.closePath()},t.className="Diamond",t}(rh),xf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ih=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return xf(t,l),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,r=e.x,o=e.path,h=e.rad,p=e.size/4,y=this.y+p/2;o.clear(),o.cubicArc(r-p,y-p,p,p,0,h(130),h(330),0),o.cubicArc(r+p,y-p,p,p,0,h(220),h(50),0),o.lineTo(r,y+p),o.closePath()},t.className="Heart",t}(rh),Eg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ap=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Eg(t,l),t.prototype.updatePath=function(){var r=this.x,o=this.y,h=this.path,y=this.size/3,S=y/2;h.clear(),h.moveTo(r-=S,o-=S),h.lineTo(r,o-=y),h.lineTo(r+=y,o),h.lineTo(r,o+=y),h.lineTo(r+=y,o),h.lineTo(r,o+=y),h.lineTo(r-=y,o),h.lineTo(r,o+=y),h.lineTo(r-=y,o),h.lineTo(r,o-=y),h.lineTo(r-=y,o),h.lineTo(r,o-=y),h.closePath()},t.className="Plus",t}(rh),P2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dg=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return P2(t,l),t.prototype.updatePath=function(){var r=this.x,o=this.y,h=this.path,y=1.1*this.size;h.clear(),h.moveTo(r,o-=.48*y),h.lineTo(r+=.5*y,o+=.87*y),h.lineTo(r-=y,o),h.closePath()},t.className="Triangle",t}(rh);function Du(l){if(void 0===l&&(l=sd),"string"==typeof l)switch(l){case"circle":return E0;case"cross":return x2;case"diamond":return bg;case"heart":return ih;case"plus":return ap;case"triangle":return Dg;default:return sd}return"function"==typeof l?l:sd}var rl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Eo=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Lo=(()=>(function(l){l[l.Vertical=0]="Vertical",l[l.Horizontal=1]="Horizontal"}(Lo||(Lo={})),Lo))(),ps=(()=>(function(l){l.Top="top",l.Right="right",l.Bottom="bottom",l.Left="left"}(ps||(ps={})),ps))(),oh=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.color="black",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e}return rl(t,l),Eo([un("change")],t.prototype,"color",void 0),Eo([un("layoutChange")],t.prototype,"fontStyle",void 0),Eo([un("layoutChange")],t.prototype,"fontWeight",void 0),Eo([un("layoutChange")],t.prototype,"fontSize",void 0),Eo([un("layoutChange")],t.prototype,"fontFamily",void 0),Eo([un()],t.prototype,"formatter",void 0),t}(Xa),Rs=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.size=15,e.padding=8,e.strokeWidth=1,e}return rl(t,l),Eo([un("layoutChange")],t.prototype,"size",void 0),Eo([un("layoutChange")],t.prototype,"shape",void 0),Eo([un("layoutChange")],t.prototype,"padding",void 0),Eo([un("change")],t.prototype,"strokeWidth",void 0),t}(Xa),Og=function(l){function t(){var e=l.call(this)||this;e.marker=new Rs,e.label=new oh,e.paddingX=16,e.paddingY=8;var r=function(){return e.fireEvent({type:"change"})};e.marker.addEventListener("change",r),e.label.addEventListener("change",r);var o=function(){return e.fireEvent({type:"layoutChange"})};return e.marker.addEventListener("layoutChange",o),e.label.addEventListener("layoutChange",o),e}return rl(t,l),Eo([un("layoutChange")],t.prototype,"paddingX",void 0),Eo([un("layoutChange")],t.prototype,"paddingY",void 0),t}(Xa),cd=function(l){function t(){var e=l.call(this)||this;return e.id=Bl(e),e.group=new so,e.itemSelection=ea.select(e.group).selectAll(),e.oldSize=[0,0],e.item=new Og,e.data=[],e.enabled=!0,e.orientation=Lo.Vertical,e.position=ps.Right,e.spacing=20,e._size=[0,0],e.addPropertyListener("data",e.onDataChange),e.addPropertyListener("enabled",e.onEnabledChange),e.addPropertyListener("position",e.onPositionChange),e.item.marker.addPropertyListener("shape",e.onMarkerShapeChange,e),e.addEventListener("change",e.update),e.item.addEventListener("change",function(){return e.fireEvent({type:"change"})}),e.item.addEventListener("layoutChange",function(){return e.fireEvent({type:"layoutChange"})}),e}return rl(t,l),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=Lo.Vertical;break;case"bottom":case"top":this.orientation=Lo.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&(this.group.scene.dirty=!1)},t.prototype.performLayout=function(e,r){var o=this.item,s=o.marker,h=o.paddingX,p=o.paddingY,y=this.itemSelection.setData(this.data,function(Xn,kr){var Wn=Du(s.shape||kr.marker.shape);return kr.id+"-"+kr.itemId+"-"+Wn.name});y.exit.remove();var S=y.enter.append(ld).each(function(Xn,kr){var Wn=Du(s.shape||kr.marker.shape);Xn.marker=new Wn}),E=this.itemSelection=y.merge(S),T=E.size,O=[],F=this.item.marker,k=this.item.label;E.each(function(Xn,kr){Xn.markerSize=F.size,Xn.spacing=F.padding,Xn.fontStyle=k.fontStyle,Xn.fontWeight=k.fontWeight,Xn.fontSize=k.fontSize,Xn.fontFamily=k.fontFamily;var Wn=kr.label.text;Wn.length>25&&(Wn=Wn.substring(0,25-"...".length)+"..."),Xn.text=Wn,O.push(Xn.computeBBox())});var he=O.length&&O[0].height,fe=0,ve=0,Be=0,ct=0;switch(e=Math.max(1,e),r=Math.max(1,r),this.orientation){case Lo.Horizontal:if(!(isFinite(e)&&e>0))return!1;fe=0;var tt=0;do{var Ft=0;tt=0,ve=0,fe++;for(var Nt=0;Nt<T;)(jt=O[Nt]).width>ve&&(ve=jt.width),++Nt%fe==0&&(Ft+=ve,ve=0,tt++);Nt%fe!=0&&(Ft+=ve,tt++),Be=Ft+(tt-1)*h}while(Be>e&&tt>1);ct=he*fe+(fe-1)*p;break;case Lo.Vertical:if(!(isFinite(r)&&r>0))return!1;fe=2*T;do{fe=(fe>>1)+fe%2,ve=0,Ft=0;var Jt=0,Mn=0;for(Nt=0;Nt<T;){var jt=O[Nt];Mn||(Jt+=jt.height),jt.width>ve&&(ve=jt.width),++Nt%fe==0&&(Ft+=ve,ve=0,Mn++)}Nt%fe!=0&&(Ft+=ve,Mn++),Be=Ft+(Mn-1)*h,ct=Jt+(fe-1)*p}while(ct>r&&fe>1)}var Dn=(e-Be)/2,on=(r-ct)/2,wn=0,cn=0;ve=0,E.each(function(Xn,kr,Wn){Xn.translationX=Math.floor(Dn+wn),Xn.translationY=Math.floor(on+cn);var zr=O[Wn];zr.width>ve&&(ve=zr.width),(Wn+1)%fe==0?(wn+=ve+h,cn=0,ve=0):cn+=zr.height+p}),this.update();var dn=this._size,lr=this.oldSize;dn[0]=Be,dn[1]=ct,(dn[0]!==lr[0]||dn[1]!==lr[1])&&(lr[0]=dn[0],lr[1]=dn[1])},t.prototype.update=function(){var e=this;this.itemSelection.each(function(r,o){var s=o.marker;r.markerFill=s.fill,r.markerStroke=s.stroke,r.markerStrokeWidth=e.item.marker.strokeWidth,r.markerFillOpacity=s.fillOpacity,r.markerStrokeOpacity=s.strokeOpacity,r.opacity=o.enabled?1:.5,r.color=e.item.label.color})},t.prototype.getDatumForPoint=function(e,r){var o=this.group.pickNode(e,r);if(o&&o.parent)return o.parent.datum},t.className="Legend",Eo([un("layoutChange")],t.prototype,"data",void 0),Eo([un("layoutChange")],t.prototype,"enabled",void 0),Eo([un("layoutChange")],t.prototype,"orientation",void 0),Eo([un("layoutChange")],t.prototype,"position",void 0),Eo([un("layoutChange")],t.prototype,"spacing",void 0),t}(Xa),Ou=function(){function l(){}return l.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(o){var s,h;try{for(var p=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),y=p.next();!y.done;y=p.next()){var S=y.value,E=S.contentRect,T=E.width,O=E.height;t.checkSize(t.elements.get(S.target),S.target,T,O)}}catch(F){s={error:F}}finally{try{y&&!y.done&&(h=p.return)&&h.call(p)}finally{if(s)throw s.error}}}):window.setInterval(function(){t.elements.forEach(function(o,s){t.checkSize(o,s,s.clientWidth?s.clientWidth:0,s.clientHeight?s.clientHeight:0)})},100),this.ready=!0},l.checkSize=function(t,e,r,o){t&&(!t.size||r!==t.size.width||o!==t.size.height)&&(t.size={width:r,height:o},t.cb(t.size,e))},l.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e})},l.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},l.elements=new Map,l.ready=!1,l}();function Yc(l,t,e,r,o,s,h){var S=l-(l<r?r:l>r+s?r+s:l),E=t-(t<o?o:t>o+h?o+h:t);return Math.sqrt(S*S+E*E)<=e}function ud(l,t,e,r,o,s,h,p){return l+e>o&&l<o+h&&t+r>s&&t<s+p}function sh(l,t,e,r,o,s,h,p){return o+h<l+e&&o>l&&s>t&&s+p<t+r}var dd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kc=function(){return Kc=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Kc.apply(this,arguments)},hd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s};function ka(l,t){if("string"==typeof l)return l;t=t||{};var e=l.content,o=l.title,s=void 0===o?t.title||void 0:o,h=l.color,y=l.backgroundColor;return(s?'<div class="'+Fs.defaultTooltipClass+'-title"\n        style="color: '+(void 0===h?t.color||"white":h)+"; background-color: "+(void 0===y?t.backgroundColor||"#888":y)+'">'+s+"</div>":"")+'<div class="'+Fs.defaultTooltipClass+'-content">'+(void 0===e?t.content||"":e)+"</div>"}var Mf=function(l){function t(e,r){var o=l.call(this)||this;o.enabled=!0,o.class=Fs.defaultTooltipClass,o.delay=0,o.tracking=!0,o.showTimeout=0,o.constrained=!1,o.chart=e,o.class="";var s=r.body,h=r.createElement("div");if(o.element=s.appendChild(h),window.IntersectionObserver){var p=o.chart.scene.canvas.element,y=new IntersectionObserver(function(S){var E,T;try{for(var O=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(S),F=O.next();!F.done;F=O.next()){var k=F.value;k.target===p&&0===k.intersectionRatio&&o.toggle(!1)}}catch(Q){E={error:Q}}finally{try{F&&!F.done&&(T=O.return)&&T.call(O)}finally{if(E)throw E.error}}},{root:s});y.observe(p),o.observer=y}return o}return dd(t,l),t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(Fs.defaultTooltipClass+"-hidden");var r=e.getAttribute("class");return!!r&&r.split(" ").indexOf(Fs.defaultTooltipClass+"-hidden")<0},t.prototype.updateClass=function(e,r){var o=[Fs.defaultTooltipClass,this.class];!0!==e&&o.push(Fs.defaultTooltipClass+"-hidden"),!0!==r&&o.push(Fs.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",o.join(" "))},t.prototype.show=function(e,r,o){var s=this;void 0===o&&(o=!1);var h=this.element;if(void 0!==r)h.innerHTML=r;else if(!h.innerHTML)return;var p=e.pageX-h.clientWidth/2,y=e.pageY-h.clientHeight-8;if(this.constrained=!1,this.chart.container){var S=h.getBoundingClientRect(),T=window.innerWidth-S.width-1;p<0?(p=0,this.updateClass(!0,this.constrained=!0)):p>T&&(p=T,this.updateClass(!0,this.constrained=!0)),y<window.pageYOffset&&(y=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(h.style.left=Math.round(p)+"px",h.style.top=Math.round(y)+"px",this.delay>0&&!o)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){s.toggle(!0)},this.delay));this.toggle(!0)},t.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},hd([un()],t.prototype,"enabled",void 0),hd([un()],t.prototype,"class",void 0),hd([un()],t.prototype,"delay",void 0),hd([un()],t.prototype,"tracking",void 0),t}(Xa),Fs=function(l){function t(e){void 0===e&&(e=window.document);var r=l.call(this)||this;r.id=Bl(r),r.background=new _c,r.legend=new cd,r.legendAutoPadding=new Nd,r.captionAutoPadding=0,r._container=void 0,r._data=[],r._autoSize=!1,r.padding=new Nd(20),r._axes=[],r._series=[],r._axesChanged=!1,r._seriesChanged=!1,r.layoutCallbackId=0,r._performLayout=function(){r.layoutCallbackId=0,r.background.width=r.width,r.background.height=r.height,r.performLayout(),r.layoutPending||r.fireEvent({type:"layoutDone"})},r.dataCallbackId=0,r.nodeData=new Map,r.updateCallbackId=0,r.legendBBox=new Jo(0,0,0,0),r._onMouseDown=r.onMouseDown.bind(r),r._onMouseMove=r.onMouseMove.bind(r),r._onMouseUp=r.onMouseUp.bind(r),r._onMouseOut=r.onMouseOut.bind(r),r._onClick=r.onClick.bind(r),r.pointerInsideLegend=!1;var o=new so,s=r.background;s.fill="white",o.appendChild(s);var h=r._element=e.createElement("div");h.setAttribute("class","ag-chart-wrapper");var p=new D2(e);r.scene=p,p.root=o,p.container=h,r.autoSize=!0,r.padding.addEventListener("layoutChange",r.scheduleLayout,r);var y=r.legend;if(y.addEventListener("layoutChange",r.scheduleLayout,r),y.item.label.addPropertyListener("formatter",r.updateLegend,r),y.addPropertyListener("position",r.onLegendPositionChange,r),r.tooltip=new Mf(r,e),r.tooltip.addPropertyListener("class",function(){return r.tooltip.toggle()}),t.tooltipDocuments.indexOf(e)<0){var S=e.createElement("style");S.innerHTML='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',e.head.insertBefore(S,e.head.querySelector("style")),t.tooltipDocuments.push(e)}return r.setupDomListeners(p.canvas.element),r.addPropertyListener("title",r.onCaptionChange),r.addPropertyListener("subtitle",r.onCaptionChange),r.addEventListener("layoutChange",r.scheduleLayout),r}return dd(t,l),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var r=this.element.parentNode;null!=r&&r.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(r){return r.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var r=this.element.style;if(e){var o=this;Ou.observe(this.element,function(s){(s.width!==o.width||s.height!==o.height)&&(o.scene.resize(s.width,s.height),o.fireEvent({type:"layoutChange"}))}),r.display="block",r.width="100%",r.height="100%"}else Ou.unobserve(this.element),r.display="inline-block",r.width="auto",r.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){this.tooltip.destroy(),Ou.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var r=e.value,o=e.oldValue;o&&(o.removeEventListener("change",this.scheduleLayout,this),this.scene.root.removeChild(o.node)),r&&(r.addEventListener("change",this.scheduleLayout,this),this.scene.root.appendChild(r.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var r=this;this._axes.forEach(function(o){return r.detachAxis(o)}),this._axes=e.filter(function(o){return!o.linkedTo}).concat(e.filter(function(o){return o.linkedTo})),this._axes.forEach(function(o){return r.attachAxis(o)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var r=this;this.removeAllSeries(),e.forEach(function(o){return r.addSeries(o)})},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,r){var s=this.series,h=this.seriesRoot;if(s.indexOf(e)<0){var y=r?s.indexOf(r):-1;return y>=0?(s.splice(y,0,e),h.insertBefore(e.group,r.group)):(s.push(e),h.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,r){var s=this.series,h=this.seriesRoot;if(s.indexOf(e)<0){var y=r?this.series.indexOf(r):-1;y>=0?(y+1<s.length?h.insertBefore(e.group,s[y+1].group):h.append(e.group),this.initSeries(e),s.splice(y+1,0,e)):(s.length>0?h.insertBefore(e.group,s[0].group):h.append(e.group),this.initSeries(e),s.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var r=this.series.indexOf(e);return r>=0&&(this.series.splice(r,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(r){e.freeSeries(r),e.seriesRoot.removeChild(r.group)}),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(r){var o=r.direction+"Axis",s=[];e.series.forEach(function(h){h[o]===r&&s.push(h)}),r.boundSeries=s}),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var r=this;void 0===e&&(e=!1);var o={};this.axes.forEach(function(s){var h=s.direction;(o[h]||(o[h]=[])).push(s)}),this.series.forEach(function(s){s.directions.forEach(function(h){var p=h+"Axis";if(!s[p]||e){var y=o[h];if(y){var S=r.findMatchingAxis(y,s.getKeys(h));S&&(s[p]=S)}}})}),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,r){for(var o=0;o<e.length;o++){var s=e[o],h=s.keys;if(!h.length)return s;if(r)for(var p=0;p<r.length;p++)if(h.indexOf(r[p])>=0)return s}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout),this.series.forEach(function(r){return r.nodeDataPending=!0})):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var r=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){r.dataPending=!1,r.processData()},0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},t.prototype.createNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach(function(r){var o=r.visible?r.createNodeData():[];e.nodeData.set(r,o)})},t.prototype.placeLabels=function(){var e=[],r=[];this.nodeData.forEach(function(h,p){p.visible&&p.label.enabled&&(e.push(p),r.push(p.getLabelData()))});var o=this.seriesRect,s=o?function wc(l,t,e){void 0===e&&(e=5);var r=[];l=l.map(function(E){return E.slice().sort(function(T,O){return O.size-T.size})});for(var o=0;o<l.length;o++){var s=r[o]=[],h=l[o];if(h&&h.length&&h[0].label)for(var p=function(E,T){var O=h[E],F=O.label,Q=O.point.x-.5*F.width,de=O.point.y-.5*O.size-F.height-e,he=F.width,fe=F.height;return!t||sh(t.x,t.y,t.width,t.height,Q,de,he,fe)?l.some(function(tt){return tt.some(function(Ft){return Yc(Ft.point.x,Ft.point.y,.5*Ft.size,Q,de,he,fe)})})||r.some(function(tt){return tt.some(function(Ft){return ud(Ft.x,Ft.y,Ft.width,Ft.height,Q,de,he,fe)})})?"continue":void s.push({index:E,text:F.text,x:Q,y:de,width:he,height:fe}):"continue"},y=0,S=h.length;y<S;y++)p(y)}return r}(r,{x:0,y:0,width:o.width,height:o.height}):[];return new Map(s.map(function(h,p){return[e[p],h]}))},t.prototype.updateLegend=function(){var e=[];this.series.filter(function(o){return o.showInLegend}).forEach(function(o){return o.listSeriesItems(e)});var r=this.legend.item.label.formatter;r&&e.forEach(function(o){return o.label.text=r({id:o.id,itemId:o.itemId,value:o.label.text})}),this.legend.data=e},Object.defineProperty(t.prototype,"updatePending",{get:function(){return!!this.updateCallbackId},set:function(e){var r=this;this.updateCallbackId&&(clearTimeout(this.updateCallbackId),this.updateCallbackId=0),e&&!this.layoutPending&&(this.updateCallbackId=window.setTimeout(function(){r.update()},0))},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.updatePending=!1,this.series.forEach(function(e){e.updatePending&&e.update()})},t.prototype.positionCaptions=function(){var r=this.title,o=this.subtitle,s=!1,h=!1,y=10;if(r&&r.enabled){r.node.x=this.width/2,r.node.y=y,s=!0;var S=r.node.computeBBox();if(S&&(y=S.y+S.height),o&&o.enabled){o.node.x=this.width/2,o.node.y=y+10,h=!0;var E=o.node.computeBBox();E&&(y=E.y+E.height)}}r&&(r.node.visible=s),o&&(o.node.visible=h),this.captionAutoPadding=Math.floor(y)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var O,e=this,r=e.legend,o=e.captionAutoPadding,s=e.legendAutoPadding,h=this.width,p=this.height-o,y=r.group,S=r.spacing,E=0,T=0;switch(r.position){case"bottom":r.performLayout(h-2*S,0),O=y.computeBBox(),y.visible=O.height<Math.floor(.5*p),y.visible?(E=(h-O.width)/2-O.x,T=o+p-O.height-O.y-S,s.bottom=O.height):s.bottom=0;break;case"top":r.performLayout(h-2*S,0),O=y.computeBBox(),y.visible=O.height<Math.floor(.5*p),y.visible?(E=(h-O.width)/2-O.x,T=o+S-O.y,s.top=O.height):s.top=0;break;case"left":r.performLayout(0,p-2*S),O=y.computeBBox(),y.visible=O.width<Math.floor(.5*h),y.visible?(E=S-O.x,T=o+(p-O.height)/2-O.y,s.left=O.width):s.left=0;break;default:r.performLayout(0,p-2*S),O=y.computeBBox(),y.visible=O.width<Math.floor(.5*h),y.visible?(E=h-O.width-O.x-S,T=o+(p-O.height)/2-O.y,s.right=O.width):s.right=0}y.visible&&(y.translationX=Math.floor(E+y.translationX),y.translationY=Math.floor(T+y.translationY),this.legendBBox=y.computeBBox())}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,r){if(this.seriesRect&&this.seriesRect.containsPoint(e,r))for(var o=this.series,s=void 0,h=o.length-1;h>=0;h--){var p=o[h];if(p.visible&&(s=p.pickGroup.pickNode(e,r)))return{series:p,node:s}}},t.prototype.pickClosestSeriesNodeDatum=function(e,r){if(this.seriesRect&&this.seriesRect.containsPoint(e,r)){for(var p,o=this.series,h=1/0,y=function(E){var T=o[E];if(!T.visible)return"continue";var O=T.group.transformPoint(e,r);T.getNodeData().forEach(function(F){var k,Q;if(F.point){var he=T.yAxis;if((null===(k=T.xAxis)||void 0===k?void 0:k.inRange(F.point.x))&&(null===(Q=he)||void 0===Q?void 0:Q.inRange(F.point.y))){var ve=function s(E,T){return Math.sqrt(Math.pow(E.x-T.x,2)+Math.pow(E.y-T.y,2))}(O,F.point);ve<h&&(h=ve,p=F)}}})},S=o.length-1;S>=0;S--)y(S);return p}},t.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},t.prototype.handleTooltip=function(e){var S,o=this.lastPick,s=this.tooltip.tracking,h=e.offsetX,p=e.offsetY,y=this.pickSeriesNode(h,p);if(y&&y.node instanceof Ia){var E=y.node;if(S=E.datum,o&&o.datum===S&&(o.node=E,o.event=e),!E.datum.point||!s)return void(o&&o.node===E?y.series.tooltip.enabled&&this.tooltip.show(e):this.onSeriesDatumPick(e,E.datum,E,e))}var T=!1;if(s){var O=this.pickClosestSeriesNodeDatum(h,p);if(O&&O.point){var F=O.point,de=this.scene.canvas,he=O.series.group.inverseTransformPoint(F.x,F.y),fe=de.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(fe.left+window.pageXOffset+he.x),pageY:Math.round(fe.top+window.pageYOffset+he.y)},O,S===O&&y?y.node:void 0,e)}else T=!0}o&&(T||!s)&&(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var o=e.datum;return o.series.fireNodeClickEvent(e.event,o),!0}return!1},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(Kc(Kc({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var r=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(r){var o=r.id,s=r.itemId,h=r.enabled,p=zc(this.series,function(y){return y.id===o});if(p)return p.toggleSeriesItem(s,!h),h&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:s,enabled:!h}),!0}return!1},t.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var r=e.offsetX,o=e.offsetY,s=this.legend.getDatumForPoint(r,o);if(this.legendBBox.containsPoint(r,o))this.pointerInsideLegend||(this.pointerInsideLegend=!0);else if(this.pointerInsideLegend)return this.pointerInsideLegend=!1,void(this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach(function(O){return O.updatePending=!0})));var p=this.highlightedDatum;if(s){var y=s.id,S=s.itemId;if(s.enabled){var T=zc(this.series,function(O){return O.id===y});T&&(this.highlightedDatum={series:T,itemId:S,datum:void 0})}}(this.highlightedDatum&&!p||this.highlightedDatum&&p&&(this.highlightedDatum.series!==p.series||this.highlightedDatum.itemId!==p.itemId))&&this.series.forEach(function(O){return O.updatePending=!0})}},t.prototype.onSeriesDatumPick=function(e,r,o,s){var h=this.lastPick;if(h){if(h.datum===r)return;this.dehighlightDatum()}this.lastPick={datum:r,node:o,event:s},this.highlightDatum(r);var p=r.series.tooltip.enabled&&r.series.getTooltipHtml(r);p&&this.tooltip.show(e,p)},t.prototype.highlightDatum=function(e){this.scene.canvas.element.style.cursor=e.series.cursor,this.highlightedDatum=e,this.series.forEach(function(r){return r.updatePending=!0})},t.prototype.dehighlightDatum=function(){this.scene.canvas.element.style.cursor="default",this.highlightedDatum=void 0,this.series.forEach(function(e){return e.updatePending=!0})},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],hd([un("layoutChange")],t.prototype,"title",void 0),hd([un("layoutChange")],t.prototype,"subtitle",void 0),t}(Xa),T0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pd=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e.path=new X1,e._enabled=!0,e._dirtyPath=!0,e._x=0,e._y=0,e._width=10,e._height=10,e}return T0(t,l),t.prototype.containsPoint=function(e,r){var o=this.transformPoint(e,r);return o.x>=this.x&&o.x<=this.x+this.width&&o.y>=this.y&&o.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){var e=this;return new Jo(e.x,e.y,e.width,e.height)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.path.draw(e),e.clip());for(var r=this.children,o=r.length,s=0;s<o;s++){e.save();var h=r[s];h.visible&&h.render(e),e.restore()}},t.className="ClipRect",t}(sc),Pf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x0=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return Pf(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,s=e.width,h=e.height;return new Jo(e.centerX-s/2,e.centerY-h/2,s,h)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.updatePath=function(){var e=this,r=e.path,o=e.centerX,s=e.centerY,h=e.width,p=e.height,S=this.alignment,E=this.align;r.clear();var T=o-h/2,O=s-p/2,F=E(S,T),k=E(S,O),Q=F+E(S,T,h),de=k+E(S,O,p);r.moveTo(F,k),r.lineTo(Q,k),r.lineTo(Q,de),r.lineTo(F,de),r.lineTo(F,k);var he=this.gripLineGap/2,fe=this.gripLineLength/2;r.moveTo(E(S,o-he),E(S,s-fe)),r.lineTo(E(S,o-he),E(S,s+fe)),r.moveTo(E(S,o+he),E(S,s-fe)),r.lineTo(E(S,o+he),E(S,s+fe))},t.className="RangeHandle",t}(Ts),Af=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xg=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return Af(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this;return new Jo(e.x,e.y,e.width,e.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,r=e.x,s=e.width,S=r+s*e.min;return new Jo(S,e.y,r+s*e.max-S,e.height)},t.prototype.updatePath=function(){var e=this,r=e.path,o=e.x,s=e.y,h=e.width,p=e.height,y=e.min,S=e.max,T=this.alignment,O=this.align;r.clear();var F=O(T,o),k=O(T,s),Q=F+O(T,o,h),de=k+O(T,s,p);r.moveTo(F,k),r.lineTo(Q,k),r.lineTo(Q,de),r.lineTo(F,de),r.lineTo(F,k);var he=O(T,o+h*y),fe=O(T,o+h*S);r.moveTo(he,k),r.lineTo(he,de),r.lineTo(fe,de),r.lineTo(fe,k),r.lineTo(he,k)},t.className="RangeMask",t}(Ts),M0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mg=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e.minHandle=new x0,e.maxHandle=new x0,e.mask=function(){var r=t.defaults,o=r.x,s=r.y,h=r.width,p=r.height,y=r.min,S=r.max,E=new xg;E.x=o,E.y=s,E.width=h,E.height=p,E.min=y,E.max=S;var O=e.minHandle,F=e.maxHandle;return O.centerX=o,F.centerX=o+h,O.centerY=F.centerY=s+p/2,e.append([E,O,F]),E.onRangeChange=function(k,Q){e.updateHandles(),e.onRangeChange&&e.onRangeChange(k,Q)},E}(),e._x=t.defaults.x,e._y=t.defaults.y,e._width=t.defaults.width,e._height=t.defaults.height,e._min=t.defaults.min,e._max=t.defaults.max,e}return M0(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,r=e.minHandle,o=e.maxHandle,s=e.x,h=e.y,p=e.width,y=e.height,S=e.mask;r.centerX=s+p*S.min,o.centerX=s+p*S.max,r.centerY=o.centerY=h+y/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this;[r.mask,r.minHandle,r.maxHandle].forEach(function(p){e.save(),p.visible&&p.render(e),e.restore()})},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(so),sp=function(){function l(t){this.rm=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!0,configurable:!0}),l}(),P0=function(){function l(t){this.rh=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!0,configurable:!0}),l}(),A0=function(){function l(t){var e=this;this.rs=new Mg,this.mask=new sp(this.rs.mask),this.minHandle=new P0(this.rs.minHandle),this.maxHandle=new P0(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=t,t.scene.root.append(this.rs),this.rs.onRangeChange=function(r,o){return e.updateAxes(r,o)}}return Object.defineProperty(l.prototype,"enabled",{get:function(){return this.rs.visible},set:function(t){this.rs.visible=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this.rs.x},set:function(t){this.rs.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this.rs.y},set:function(t){this.rs.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"margin",{get:function(){return this._margin},set:function(t){this._margin=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!0,configurable:!0}),l.prototype.updateAxes=function(t,e){var r=this.chart,o=!1;r.axes.forEach(function(s){s.direction===zi.X&&(!o&&(t>0||e<1)&&(o=!0),s.visibleRange=[t,e],s.update())}),r.seriesRoot.enabled=o,r.series.forEach(function(s){return s.nodeDataPending=!0})},l.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,r=t.offsetY,o=this.rs,s=o.minHandle,h=o.maxHandle,p=o.x,y=o.width,S=o.min,E=o.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(s.containsPoint(e,r)?this.minHandleDragging=!0:h.containsPoint(e,r)?this.maxHandleDragging=!0:E.containsPoint(e,r)&&(this.panHandleOffset=(e-p)/y-S))}},l.prototype.onDrag=function(t){if(this.enabled){var r=this.rs,o=this.panHandleOffset,s=r.x,p=r.width,S=r.minHandle,E=r.maxHandle,T=this.chart.element.style,O=t.offsetX,F=t.offsetY,k=s+p*r.min,de=new Jo(k,r.y,s+p*r.max-k,r.height);if(T.cursor=S.containsPoint(O,F)||E.containsPoint(O,F)?"ew-resize":de.containsPoint(O,F)?"grab":"default",this.minHandleDragging)r.min=he();else if(this.maxHandleDragging)r.max=he();else if(!isNaN(o)){var fe=r.max-r.min,ve=Math.min(he()-o,1-fe);ve<=r.min?(r.min=ve,r.max=r.min+fe):(r.max=ve+fe,r.min=r.max-fe)}}function he(){return Math.min(Math.max((O-s)/p,0),1)}},l.prototype.onDragStop=function(){this.stopHandleDragging()},l.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},l}(),Pg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R0=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},lp=function(l){function t(e){void 0===e&&(e=window.document);var r=l.call(this,e)||this;r._seriesRoot=new pd,r.navigator=new A0(r),r.scene.root.visible=!1;var o=r.scene.root;return o.append(r.seriesRoot),o.append(r.legend.group),r.navigator.enabled=!1,r}return Pg(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,s=e.axes,h=e.legend,p=e.navigator,y=new Jo(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),h.enabled&&h.data.length){var S=this.legendAutoPadding,E=this.legend.spacing;switch(y.x+=S.left,y.y+=S.top,y.width-=S.left+S.right,y.height-=S.top+S.bottom,this.legend.position){case"right":y.width-=E;break;case"bottom":y.height-=E;break;case"left":y.x+=E,y.width-=E;break;case"top":y.y+=E,y.height-=E}}var O=this.captionAutoPadding,F=this.padding;this.updateAxes(),y.x+=F.left,y.width-=F.left+F.right,y.y+=F.top+O,y.height-=F.top+O+F.bottom,p.enabled&&(y.height-=p.height+p.margin);var k=0,Q={top:!1,right:!1,bottom:!1,left:!1,angle:!1,radius:!1};s.forEach(function(he){he.group.visible=!0;var fe=Math.floor(he.thickness||he.computeBBox().width);switch(Q[he.position]&&(fe+=he.title&&he.title.padding.top||15),he.position){case Lr.Top:Q[Lr.Top]=!0,y.y+=fe,y.height-=fe,he.translation.y=Math.floor(y.y+1),he.label.mirrored=!0;break;case Lr.Right:Q[Lr.Right]=!0,y.width-=fe,he.translation.x=Math.max(Math.floor(y.x),Math.floor(y.x+y.width)),he.label.mirrored=!0;break;case Lr.Bottom:Q[Lr.Bottom]=!0,y.height-=fe,k+=fe,he.translation.y=Math.max(Math.floor(y.y),Math.floor(y.y+y.height+1));break;case Lr.Left:Q[Lr.Left]=!0,y.x+=fe,y.width-=fe,he.translation.x=Math.floor(y.x)}}),y.width=Math.max(0,y.width),y.height=Math.max(0,y.height),s.forEach(function(he){switch(he.position){case Lr.Top:case Lr.Bottom:he.translation.x=Math.floor(y.x),he.range=[0,y.width],he.gridLength=y.height;break;case Lr.Left:case Lr.Right:he.translation.y=Math.floor(y.y),he.range=he instanceof Wc||he instanceof _u?[0,y.height]:[y.height,0],he.gridLength=y.width}}),this.createNodeData(),this.seriesRect=y,this.series.forEach(function(he){he.group.translationX=Math.floor(y.x),he.group.translationY=Math.floor(y.y),he.update()});var de=this.seriesRoot;de.x=y.x,de.y=y.y,de.width=y.width,de.height=y.height,p.enabled&&(p.x=y.x,p.y=y.y+y.height+k+p.margin,p.width=y.width),this.axes.forEach(function(he){return he.update()})}},t.prototype.initSeries=function(e){l.prototype.initSeries.call(this,e)},t.prototype.freeSeries=function(e){l.prototype.freeSeries.call(this,e)},t.prototype.setupDomListeners=function(e){l.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("touchend",this._onTouchEnd,{passive:!0}),e.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},t.prototype.cleanupDomListeners=function(e){l.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},t.prototype.getTouchOffset=function(e){var r=this.scene.canvas.element.getBoundingClientRect(),o=e.touches[0];return o?{offsetX:o.clientX-r.left,offsetY:o.clientY-r.top}:void 0},t.prototype.onTouchStart=function(e){var r=this.getTouchOffset(e);r&&this.navigator.onDragStart(r)},t.prototype.onTouchMove=function(e){var r=this.getTouchOffset(e);r&&this.navigator.onDrag(r)},t.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},t.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},t.prototype.onMouseDown=function(e){l.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},t.prototype.onMouseMove=function(e){l.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},t.prototype.onMouseUp=function(e){l.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},t.prototype.onMouseOut=function(e){l.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},t.prototype.assignAxesToSeries=function(e){void 0===e&&(e=!1),l.prototype.assignAxesToSeries.call(this,e),this.series.forEach(function(r){r.xAxis||console.warn("Could not find a matching xAxis for the "+r.id+" series."),r.yAxis||console.warn("Could not find a matching yAxis for the "+r.id+" series.")})},t.prototype.updateAxes=function(){var s,e=this,r=this.navigator,o=!1;this.axes.forEach(function(h){var p,y=h.direction,S=h.boundSeries;if(0===S.length&&e._series.length>0&&console.warn("AG Charts - chart series not initialised; check series and axes configuration."),h.linkedTo)h.domain=h.linkedTo.domain;else{var E=[];S.filter(function(F){return F.visible}).forEach(function(F){E.push(F.getDomain(y))});var T=(p=new Array).concat.apply(p,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(R0(arguments[t]));return l}(E));h instanceof jd&&"y"===h.direction?(h.setDomain(T,s),s=s||h.scale.ticks(h.tick.count).length):h.domain=T}h.direction===zi.X&&(h.visibleRange=[r.min,r.max]),!o&&(h.visibleRange[0]>0||h.visibleRange[1]<1)&&(o=!0),h.update()}),this.seriesRoot.enabled=o},t.className="CartesianChart",t.type="cartesian",t}(Fs),il=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R2=function(l){function t(e){void 0===e&&(e=window.document);var r=l.call(this,e)||this;r._data={},r._seriesRoot=new pd,r.scene.root.visible=!1;var o=r.scene.root;return o.append(r.seriesRoot),o.append(r.legend.group),r}return il(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,s=e.legend,h=new Jo(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),s.enabled&&s.data.length){var p=this.legendAutoPadding,y=this.legend.spacing;switch(h.x+=p.left,h.y+=p.top,h.width-=p.left+p.right,h.height-=p.top+p.bottom,this.legend.position){case"right":h.width-=y;break;case"bottom":h.height-=y;break;case"left":h.x+=y,h.width-=y;break;case"top":h.y+=y,h.height-=y}}var E=this.captionAutoPadding,T=this.padding;h.x+=T.left,h.width-=T.left+T.right,h.y+=T.top+E,h.height-=T.top+E+T.bottom,this.seriesRect=h,this.series.forEach(function(F){F.group.translationX=Math.floor(h.x),F.group.translationY=Math.floor(h.y),F.update()});var O=this.seriesRoot;O.x=h.x,O.y=h.y,O.width=h.width,O.height=h.height}},t.className="HierarchyChart",t.type="hierarchy",t}(Fs),Ag=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},X3=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Ag(t,l),t.prototype.updateAxes=function(){this.axes.forEach(function(e){var r,o=e.direction,h=[],p=void 0;e.boundSeries.filter(function(S){return S.visible}).forEach(function(S){if(o===zi.X)if(void 0===p){var E=S.getDomain(o);h.push(E),p="number"==typeof E[0]}else p&&h.push(S.getDomain(o));else h.push(S.getDomain(o))});var y=(r=new Array).concat.apply(r,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(lh(arguments[t]));return l}(h));e.domain=Ln(y,Xi)||y,e.update()})},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(lp),Z3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ch=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},wl=function(l){function t(){var e=l.call(this)||this;return e.enabled=!0,e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return Z3(t,l),t.prototype.getFont=function(){return zd(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},ch([un("change","dataChange")],t.prototype,"enabled",void 0),ch([un("change")],t.prototype,"fontSize",void 0),ch([un("change")],t.prototype,"fontFamily",void 0),ch([un("change")],t.prototype,"fontStyle",void 0),ch([un("change")],t.prototype,"fontWeight",void 0),ch([un("change")],t.prototype,"color",void 0),t}(Xa),Rg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ls=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},F0=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},L2=function l(){this.fill="yellow",this.stroke=void 0,this.strokeWidth=void 0},Fg=function l(){this.strokeWidth=void 0,this.dimOpacity=void 0},L0=function l(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new L2,this.series=new Fg},Tu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e}return Rg(t,l),Ls([un("change")],t.prototype,"enabled",void 0),t}(Xa),Is=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.id=Bl(e),e.group=new so,e.pickGroup=e.group.appendChild(new so),e.directions=[zi.X,zi.Y],e.directionKeys={},e.label=new wl,e.data=void 0,e.visible=!0,e.showInLegend=!0,e.cursor="default",e._nodeDataPending=!0,e._updatePending=!1,e.highlightStyle=new L0,e.scheduleLayout=function(){e.fireEvent({type:"layoutChange"})},e.scheduleData=function(){e.fireEvent({type:"dataChange"})},e}return Rg(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){},t.prototype.getKeys=function(e){var r=this,o=this.directionKeys,s=o&&o[e],h=[];return s&&s.forEach(function(p){var y=r[p];y&&(Array.isArray(y)?h.push.apply(h,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(F0(arguments[t]));return l}(y)):h.push(y))}),h},t.prototype.createNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.getLabelData=function(){return[]},Object.defineProperty(t.prototype,"nodeDataPending",{get:function(){return this._nodeDataPending},set:function(e){this._nodeDataPending!==e&&(this._nodeDataPending=e,this.updatePending=!0,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleNodeDate=function(){this.nodeDataPending=!0},Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._updatePending},set:function(e){this._updatePending!==e&&(this._updatePending=e,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleUpdate=function(){this.updatePending=!0},t.prototype.getOpacity=function(e){var o=this.chart,s=this.highlightStyle.series.dimOpacity;return o&&o.highlightedDatum&&(o.highlightedDatum.series!==this||e&&o.highlightedDatum.itemId!==e.itemId)?void 0===s?1:s:1},t.prototype.getStrokeWidth=function(e,r){var s=this.chart,h=this.highlightStyle.series.strokeWidth;return!s||!s.highlightedDatum||s.highlightedDatum.series!==this||r&&s.highlightedDatum.itemId!==r.itemId||void 0===h?e:h},t.prototype.fireNodeClickEvent=function(e,r){},t.prototype.toggleSeriesItem=function(e,r){this.visible=r},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,r,o){if(!e)return[0,1];var s=F0(e,2),h=s[0],p=s[1];if(p=+p,0==(h=+h)&&0===p)return[0,1];if(h===p)if(o instanceof op)h-=1,p+=1;else{var y=Math.abs(.01*h);h-=y,p+=y}return yu(h)&&yu(p)?[h,p]:[0,1]},t.highlightedZIndex=1e12,Ls([un("dataChange")],t.prototype,"data",void 0),Ls([un("dataChange")],t.prototype,"visible",void 0),Ls([un("layoutChange")],t.prototype,"showInLegend",void 0),t}(Xa),fd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ql=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},I0=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.shape=E0,e.size=6,e.maxSize=30,e.strokeWidth=1,e}return fd(t,l),ql([un("change")],t.prototype,"enabled",void 0),ql([un("change")],t.prototype,"shape",void 0),ql([un("change")],t.prototype,"size",void 0),ql([un("change")],t.prototype,"maxSize",void 0),ql([un("change")],t.prototype,"domain",void 0),ql([un("change")],t.prototype,"fill",void 0),ql([un("change")],t.prototype,"stroke",void 0),ql([un("change")],t.prototype,"strokeWidth",void 0),ql([un("change")],t.prototype,"fillOpacity",void 0),ql([un("change")],t.prototype,"strokeOpacity",void 0),t}(Xa),$c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rf=function(l){function t(){var e,r=null!==l&&l.apply(this,arguments)||this;return r.directionKeys=((e={})[zi.X]=["angleKey"],e[zi.Y]=["radiusKey"],e),r.centerX=0,r.centerY=0,r.radius=0,r}return $c(t,l),t}(Is),N0=(function(l){$c(function t(){return null!==l&&l.apply(this,arguments)||this},l)}(I0),function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),Lg=function(l){function t(e){void 0===e&&(e=window.document);var r=l.call(this,e)||this;return r.padding=new Nd(40),r.scene.root.append(r.legend.group),r.padding.addEventListener("layoutChange",r.scheduleLayout,r),r}return N0(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new Jo(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var r=this.captionAutoPadding;if(e.y+=r,e.height-=r,this.legend.enabled&&this.legend.data.length){var o=this.legendAutoPadding;e.x+=o.left,e.y+=o.top,e.width-=o.left+o.right,e.height-=o.top+o.bottom;var s=this.legend.spacing;switch(this.legend.position){case"right":e.width-=s;break;case"bottom":e.height-=s;break;case"left":e.x+=s,e.width-=s;break;case"top":e.y+=s,e.height-=s}}var h=this.padding;e.x+=h.left,e.y+=h.top,e.width-=h.left+h.right,e.height-=h.top+h.bottom,this.seriesRect=e;var p=e.x+e.width/2,y=e.y+e.height/2,S=Math.max(0,Math.min(e.width,e.height)/2);this.series.forEach(function(E){E instanceof Rf&&(E.centerX=p,E.centerY=y,E.radius=S,E.update())})},t.className="PolarChart",t.type="polar",t}(Fs),k0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gd=function(l){function t(){var e,r=null!==l&&l.apply(this,arguments)||this;return r.directionKeys=((e={})[zi.X]=["xKey"],e[zi.Y]=["yKey"],e),r}return k0(t,l),t.prototype.checkDomainXY=function(e,r,o,s){return(o&&Xi(e)||ba(e))&&(s&&Xi(r)||ba(r))?[e,r]:void 0},t.prototype.checkRangeXY=function(e,r,o,s){return!isNaN(e)&&!isNaN(r)&&o.inRange(e)&&s.inRange(r)},t}(Is),Ff=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return k0(t,l),t}(I0);function Xl(l,t){if(l===t)return!0;if(l&&t&&"object"==typeof l&&"object"==typeof t){if(l.constructor!==t.constructor)return!1;var e,r=void 0;if(Array.isArray(l)){if((e=l.length)!=t.length)return!1;for(r=e;0!=r--;)if(!Xl(l[r],t[r]))return!1;return!0}if(l.constructor===RegExp)return l.source===t.source&&l.flags===t.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===t.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===t.toString();var o=Object.keys(l);if((e=o.length)!==Object.keys(t).length)return!1;for(r=e;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=e;0!=r--;){var s=o[r];if(!Xl(l[s],t[s]))return!1}return!0}return l!=l&&t!=t}var z0=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Ig=/(#\{(.*?)\})/g;function cp(l,t,e){return l.replace(Ig,function(){var r=arguments[2],o=z0(r.split(":"),2),s=o[0],h=o[1],p=t[s];if("number"==typeof p){if(y=h&&e&&e[h]){var S=y,E=S.locales,T=S.options;return p.toLocaleString(E,T)}return String(p)}if(p instanceof Date){var y;if("string"==typeof(y=h&&e&&e[h])){var O=Tf.format(y);return O(p)}return p.toDateString()}return"string"==typeof p||p&&p.toString?String(p):""})}var Ng=null;function Io(l){return Ng=Ng||document.createElement("div"),l?(Ng.innerText=l,Ng.innerHTML):""}var Lf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ja=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},If=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},I2=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},vd=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Lf(t,l),Ja([un("change")],t.prototype,"formatter",void 0),t}(wl),kf=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Lf(t,l),Ja([un("change")],t.prototype,"renderer",void 0),Ja([un("change")],t.prototype,"format",void 0),t}(Tu),V0=function(l){function t(){var e=l.call(this)||this;e.tooltip=new kf,e.areaGroup=e.group.insertBefore(new so,e.pickGroup),e.strokeGroup=e.group.insertBefore(new so,e.pickGroup),e.markerGroup=e.pickGroup.appendChild(new so),e.labelGroup=e.group.appendChild(new so),e.fillSelection=ea.select(e.areaGroup).selectAll(),e.strokeSelection=ea.select(e.strokeGroup).selectAll(),e.markerSelection=ea.select(e.markerGroup).selectAll(),e.labelSelection=ea.select(e.labelGroup).selectAll(),e.seriesItemEnabled=new Map,e.xData=[],e.yData=[],e.fillSelectionData=[],e.strokeSelectionData=[],e.markerSelectionData=[],e.labelSelectionData=[],e.yDomain=[],e.xDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new Ff,e.label=new vd,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.addEventListener("update",e.scheduleUpdate);var o=e.marker,s=e.label;return o.enabled=!1,o.addPropertyListener("shape",e.onMarkerShapeChange,e),o.addEventListener("change",e.scheduleUpdate,e),s.enabled=!1,s.addEventListener("change",e.scheduleUpdate,e),e}return Lf(t,l),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!Xl(this._yKeys,e)){this._yKeys=e,this.yData=[];var r=this.seriesItemEnabled;r.clear(),e.forEach(function(o){return r.set(o,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo!==r&&(this._normalizedTo=r,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e,r,o=this,s=o.xKey,h=o.yKeys,p=o.seriesItemEnabled,y=o.xAxis,S=o.yAxis,E=o.normalizedTo,T=s&&h.length&&this.data?this.data:[];if(!y||!S)return!1;var O=y.scale instanceof ds,F=S.scale instanceof ds,k=E&&isFinite(E),Q=!0;this.xData=T.map(function(on){return Q&&!(s in on)&&(Q=!1,console.warn("The key '"+s+"' was not found in the data: ",on)),O?Xi(on[s])?on[s]:void 0:ba(on[s])?on[s]:String(on[s])}),this.yData=T.map(function(on){return h.map(function(wn){Q&&!(wn in on)&&(Q=!1,console.warn("The key '"+wn+"' was not found in the data: ",on));var cn=on[wn];return p.get(wn)?F?Xi(cn)?cn:k?0:void 0:ba(cn)?cn:String(cn):0})}),this.xDomain=O?this.fixNumericExtent(Ln(this.xData,Xi),"x",y):this.xData;var de=this.yData,he=[],fe=0,ve=0;try{for(var Be=If(de),ct=Be.next();!ct.done;ct=Be.next()){for(var tt=ct.value,Ft={sum:0,absSum:0},Nt=0;Nt<tt.length;Nt++){var jt=+tt[Nt];Ft.absSum+=Math.abs(jt),Ft.sum+=jt,Ft.sum>ve?ve=Ft.sum:Ft.sum<fe&&(fe=Ft.sum)}var Jt=0;for(Nt=0;Nt<tt.length;Nt++){if(k&&E){var Mn=+tt[Nt]/Ft.absSum*E;tt[Nt]=Mn,(Jt+=Mn)>ve?ve=Jt:Jt<fe&&(fe=Jt)}(he[Nt]||(he[Nt]=[])).push(tt[Nt])}}}catch(on){e={error:on}}finally{try{ct&&!ct.done&&(r=Be.return)&&r.call(Be)}finally{if(e)throw e.error}}return k&&E&&(fe=fe<.5*-E?-E:fe,ve=ve>.5*E?E:ve),this.yData=he,this.yDomain=this.fixNumericExtent([fe,ve],"y",S),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var r,o,s=0,h=0;try{for(var p=If(e),y=p.next();!y.done;y=p.next()){var S=y.value;S.min<s&&(s=S.min),S.max>h&&(h=S.max)}}catch(E){r={error:E}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}return{min:s,max:h}},t.prototype.getDomain=function(e){return e===zi.X?this.xDomain:this.yDomain},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createSelectionData(),this.updateFillSelection(),this.updateStrokeSelection(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible&&this.xData.length>0&&this.yData.length>0,this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.createSelectionData=function(){var e=this,r=this,o=r.data,s=r.xAxis,h=r.yAxis,p=r.xData,y=r.yData,S=r.labelSelectionData,E=r.markerSelectionData,T=r.strokeSelectionData,O=r.fillSelectionData;if(o&&s&&h&&p.length&&y.length){var k=this,Q=k.yKeys,de=k.marker,he=k.label,fe=k.fills,ve=k.strokes,Be=s.scale,ct=h.scale,tt=ct instanceof ds,Ft=(Be.bandwidth||0)/2;E.length=0,S.length=0,T.length=0,O.length=0;var Nt=new Array(p.length).fill(null).map(function(){return{left:0,right:0}}),jt=new Array(p.length).fill(0),Jt=function(Dn,on,wn,cn){var dn=Be.convert(Dn)+Ft,Xn=Nt[wn][cn]+on,kr=ct.convert(Nt[wn][cn],tt?kc:void 0),Wn=ct.convert(Xn,tt?kc:void 0);return Nt[wn][cn]=Xn,[{x:dn,y:Wn},{x:dn,y:kr}]};y.forEach(function(Dn,on){var wn=Q[on],dn=(O[on]||(O[on]={itemId:wn,points:[]})).points,lr=[],Xn=T[on]||(T[on]={itemId:wn,points:[],yValues:[]}),kr=Xn.points,Wn=Xn.yValues;Dn.forEach(function(zr,$n){var Ha,jr=p[$n],Vr=p[$n+1],xi=Dn[$n+1],Li=o[$n],ha=function(Dn,on,wn,cn){var dn,lr=e.normalizedTo&&isFinite(e.normalizedTo),Xn=lr&&tt&&Xi(cn);return(!lr||Xn)&&(dn=jt[wn]+=on),{x:Be.convert(Dn)+Ft,y:ct.convert(dn,tt?kc:void 0)}}(jr,+zr,$n,Li[wn]);de&&E.push({index:$n,series:e,itemId:wn,datum:Li,yValue:zr,yKey:wn,point:ha,fill:fe[on%fe.length],stroke:ve[on%ve.length]}),Ha=he.formatter?he.formatter({value:zr}):yu(zr)?Number(zr).toFixed(2):String(zr),he&&S.push({index:$n,itemId:wn,point:ha,label:e.seriesItemEnabled.get(wn)&&Ha?{text:Ha,fontStyle:he.fontStyle,fontWeight:he.fontWeight,fontSize:he.fontSize,fontFamily:he.fontFamily,textAlign:"center",textBaseline:"bottom",fill:he.color}:void 0});var ks=[jr,Vr],Oa=[zr,xi];if(!ks.some(function(cl){return null==cl})){Oa.some(function(cl){return null==cl})&&(Oa[0]=0,Oa[1]=0);var Tl=Jt(ks[0],+Oa[0],$n,"right");dn.push(Tl[0]),lr.push(Tl[1]);var pa=Jt(ks[1],+Oa[1],$n,"left");dn.push(pa[0]),lr.push(pa[1]),kr.push({x:NaN,y:NaN}),Wn.push(void 0),kr.push(Tl[0]),Wn.push(zr),void 0!==xi&&(kr.push(pa[0]),Wn.push(zr))}}),dn.push.apply(dn,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(I2(arguments[t]));return l}(lr.slice().reverse()))})}},t.prototype.updateFillSelection=function(){var e=this.fillSelection.setData(this.fillSelectionData);e.exit.remove();var r=e.enter.append(Ts).each(function(o){o.lineJoin="round",o.stroke=void 0,o.pointerEvents=us.None});this.fillSelection=e.merge(r)},t.prototype.updateFillNodes=function(){var e=this,r=this,o=r.fills,s=r.fillOpacity,h=r.strokeOpacity,p=r.strokeWidth,y=r.shadow,S=r.seriesItemEnabled;this.fillSelection.each(function(E,T,O){E.fill=o[O%o.length],E.fillOpacity=s,E.strokeOpacity=h,E.strokeWidth=p,E.lineDash=e.lineDash,E.lineDashOffset=e.lineDashOffset,E.fillShadow=y,E.visible=!!S.get(T.itemId),E.opacity=e.getOpacity(T);var F=T.points,k=E.path;k.clear(),F.forEach(function(Q,de){var he=Q.x,fe=Q.y;de>0?k.lineTo(he,fe):k.moveTo(he,fe)}),k.closePath()})},t.prototype.updateStrokeSelection=function(){var e=this.strokeSelection.setData(this.strokeSelectionData);e.exit.remove();var r=e.enter.append(Ts).each(function(o){o.fill=void 0,o.lineJoin=o.lineCap="round",o.pointerEvents=us.None});this.strokeSelection=e.merge(r)},t.prototype.updateStrokeNodes=function(){var e=this;if(this.data){var r=this,o=r.strokes,s=r.strokeOpacity,h=r.seriesItemEnabled,p=!0;this.strokeSelection.each(function(y,S,E){y.visible=!!h.get(S.itemId),y.opacity=e.getOpacity(S),y.stroke=o[E%o.length],y.strokeWidth=e.getStrokeWidth(e.strokeWidth,S),y.strokeOpacity=s,y.lineDash=e.lineDash,y.lineDashOffset=e.lineDashOffset;var T=S.points,O=S.yValues,F=y.path;F.clear();for(var k=0;k<T.length;k++){var Q=T[k],de=Q.x,he=Q.y;void 0===O[k]?p=!0:p?(F.moveTo(de,he),p=!1):F.lineTo(de,he)}})}},t.prototype.updateMarkerSelection=function(){var e=Du(this.marker.shape),o=this.markerSelection.setData(e?this.markerSelectionData:[]);o.exit.remove();var s=o.enter.append(e);this.markerSelection=o.merge(s)},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var r=this,o=r.xKey,s=r.marker,h=r.seriesItemEnabled,p=r.yKeys,y=r.fills,S=r.strokes,E=r.chart.highlightedDatum,T=r.highlightStyle,Q=T.item,de=Q.fill,he=void 0===de?T.fill:de,fe=Q.stroke,ve=void 0===fe?T.stroke:fe,Be=Q.strokeWidth,ct=void 0===Be?T.strokeWidth:Be,tt=s.size,Ft=s.formatter,Nt=void 0!==s.strokeWidth?s.strokeWidth:this.strokeWidth;this.markerSelection.each(function(jt,Jt){var Mn=p.indexOf(Jt.yKey),Dn=Jt===E,on=Dn&&void 0!==he?he:s.fill||y[Mn%y.length],wn=Dn&&void 0!==ve?ve:s.stroke||S[Mn%y.length],cn=Dn&&void 0!==ct?ct:Nt,dn=void 0;Ft&&(dn=Ft({datum:Jt.datum,xKey:o,yKey:Jt.yKey,fill:on,stroke:wn,strokeWidth:cn,size:tt,highlighted:Dn})),jt.fill=dn&&dn.fill||on,jt.stroke=dn&&dn.stroke||wn,jt.strokeWidth=dn&&void 0!==dn.strokeWidth?dn.strokeWidth:cn,jt.size=dn&&void 0!==dn.size?dn.size:tt,jt.translationX=Jt.point.x,jt.translationY=Jt.point.y,jt.visible=s.enabled&&jt.size>0&&!!h.get(Jt.yKey)&&!isNaN(Jt.point.x)&&!isNaN(Jt.point.y),jt.opacity=e.getOpacity(Jt)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.labelSelectionData);e.exit.remove();var r=e.enter.append(Za);this.labelSelection=e.merge(r)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var r=this.label,o=r.enabled,s=r.fontStyle,h=r.fontWeight,p=r.fontSize,y=r.fontFamily,S=r.color;this.labelSelection.each(function(E,T){var O=T.point,F=T.label;F&&o?(E.fontStyle=s,E.fontWeight=h,E.fontSize=p,E.fontFamily=y,E.textAlign=F.textAlign,E.textBaseline=F.textBaseline,E.text=F.text,E.x=O.x,E.y=O.y-10,E.fill=S,E.visible=!0,E.opacity=e.getOpacity(T)):E.visible=!1})}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:r.yKey})},t.prototype.getTooltipHtml=function(e){var r=this.xKey,o=e.yKey;if(!r||!o)return"";var s=e.datum,h=s[r],p=s[o],S=this.xAxis,E=this.yAxis;if(!(S&&E&&yu(p)))return"";var T=this,O=T.xName,F=T.yKeys,k=T.yNames,Q=T.yData,de=T.fills,he=T.strokes,fe=T.tooltip,ve=T.marker,Be=ve.size,ct=ve.formatter,tt=ve.strokeWidth,Ft=ve.fill,Nt=ve.stroke,jt=S.formatDatum(h),Jt=E.formatDatum(p),Mn=F.indexOf(o),on=Q[Mn][e.index],wn=k[Mn],cn=Io(wn),dn=Io(jt+": "+Jt),Xn=Ft||de[Mn%de.length],Wn=void 0;ct&&(Wn=ct({datum:s,xKey:r,yKey:o,fill:Xn,stroke:Nt||he[Mn%de.length],strokeWidth:void 0!==tt?tt:this.strokeWidth,size:Be,highlighted:!1}));var zr=Wn&&Wn.fill||Xn,$n={title:cn,backgroundColor:zr,content:dn},jr=fe.renderer,Vr=fe.format;if(Vr||jr){var xi={datum:s,xKey:r,xName:O,xValue:h,yKey:o,yValue:p,processedYValue:on,yName:wn,color:zr};if(Vr)return ka({content:cp(Vr,xi)},$n);if(jr)return ka(jr(xi),$n)}return ka($n)},t.prototype.listSeriesItems=function(e){var r=this,o=r.data,s=r.id,p=r.yKeys,y=r.yNames,S=r.seriesItemEnabled,E=r.marker,T=r.fills,O=r.strokes,F=r.fillOpacity,k=r.strokeOpacity;o&&o.length&&r.xKey&&p.length&&p.forEach(function(Q,de){e.push({id:s,itemId:Q,enabled:S.get(Q)||!1,label:{text:y[de]||p[de]},marker:{shape:E.shape,fill:E.fill||T[de%T.length],stroke:E.stroke||O[de%O.length],fillOpacity:F,strokeOpacity:k}})})},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled.set(e,r),this.scheduleData()},t.className="AreaSeries",t.type="area",Ja([un("dataChange")],t.prototype,"fills",void 0),Ja([un("dataChange")],t.prototype,"strokes",void 0),Ja([un("update")],t.prototype,"fillOpacity",void 0),Ja([un("update")],t.prototype,"strokeOpacity",void 0),Ja([un("update")],t.prototype,"lineDash",void 0),Ja([un("update")],t.prototype,"lineDashOffset",void 0),Ja([un("update")],t.prototype,"xName",void 0),Ja([un("update")],t.prototype,"yNames",void 0),Ja([un("update")],t.prototype,"strokeWidth",void 0),Ja([un("update")],t.prototype,"shadow",void 0),t}(gd),Zl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fs=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},up=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xu=(()=>(function(l){l[l.Bar=0]="Bar",l[l.Label=1]="Label"}(xu||(xu={})),xu))(),Ql=(()=>(function(l){l.Inside="inside",l.Outside="outside"}(Ql||(Ql={})),Ql))(),kg=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.placement=Ql.Inside,e}return Zl(t,l),fs([un("change")],t.prototype,"formatter",void 0),fs([un("change")],t.prototype,"placement",void 0),t}(wl),H0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Zl(t,l),fs([un("change")],t.prototype,"renderer",void 0),t}(Tu);function zg(l,t){return void 0===t&&(t=[]),l.forEach(function(e){Array.isArray(e)?zg(e,t):t.push(e)}),t}var dp=function(l){function t(){var e,r=l.call(this)||this;return r.rectGroup=r.pickGroup.appendChild(new so),r.labelGroup=r.group.appendChild(new so),r.rectSelection=ea.select(r.rectGroup).selectAll(),r.labelSelection=ea.select(r.labelGroup).selectAll(),r.nodeData=[],r.xData=[],r.yData=[],r.yDomain=[],r.label=new kg,r.seriesItemEnabled=new Map,r.tooltip=new H0,r.flipXY=!1,r.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],r.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.groupScale=new pc,r.directionKeys=((e={})[zi.X]=["xKey"],e[zi.Y]=["yKeys"],e),r._xKey="",r._xName="",r.cumYKeyCount=[],r.flatYKeys=void 0,r.hideInLegend=[],r._yKeys=[],r._grouped=!1,r._yNames={},r._strokeWidth=1,r.addEventListener("update",r.scheduleUpdate),r.label.enabled=!1,r.label.addEventListener("change",r.scheduleUpdate,r),r}return Zl(t,l),t.prototype.getKeys=function(e){var r=this,o=this.directionKeys,s=o&&o[this.flipXY?hc(e):e],h=[];return s&&s.forEach(function(p){var y=r[p];y&&(Array.isArray(y)?h=h.concat(zg(y)):h.push(y))}),h},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var r=this,o=void 0;if(function Vg(l){return l.length>0&&Array.isArray(l[0])}(e)||(o=e,e=this.grouped?o.map(function(S){return[S]}):[o]),!Xl(this._yKeys,e)){this.flatYKeys=o||void 0,this._yKeys=e;var s=0;this.cumYKeyCount=[];var h=[];e.forEach(function(S,E){S.length>0&&h.push(String(E)),r.cumYKeyCount.push(s),s+=S.length}),this.yData=[];var p=this.seriesItemEnabled;p.clear(),e.forEach(function(S){S.forEach(function(E){return p.set(E,!0)})});var y=this.groupScale;y.domain=h,y.padding=.1,y.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var r={};this.flatYKeys.forEach(function(o,s){r[o]=e[s]}),e=r}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var r=e?Math.abs(e):void 0;this._normalizedTo!==r&&(this._normalizedTo=r,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this,r=e.xKey,o=e.yKeys,s=e.seriesItemEnabled,p=r&&o.length&&this.data?this.data:[];if(!e.xAxis)return!1;var y=!0;this.xData=p.map(function(he){return y&&!(r in he)&&(y=!1,console.warn("The key '"+r+"' was not found in the data: ",he)),ba(he[r])?he[r]:String(he[r])}),this.yData=p.map(function(he){return o.map(function(fe){return fe.map(function(ve){y&&!(ve in he)&&(y=!1,console.warn("The key '"+ve+"' was not found in the data: ",he));var Be=he[ve];return isFinite(Be)&&s.get(ve)?Be:0})})});var Q,de,S=this.yData.map(function(he){return he.map(function(fe){return function Os(l){var t,e,r=0,o=0;try{for(var s=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),h=s.next();!h.done;h=s.next()){var p=h.value;p<0?r+=p:o+=p}}catch(y){t={error:y}}finally{try{h&&!h.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return{min:r,max:o}}(fe)})}),T=this.yData,O=this.normalizedTo,F=this.yData.map(function(he){return he.map(function(fe){return fe.reduce(function(ve,Be){return ve+Math.abs(Be)},0)})}),k=this.findLargestMinMax(S);return O&&isFinite(O)?(Q=k.min<0?-O:0,de=k.max>0?O:0,T.forEach(function(he,fe){he.forEach(function(ve,Be){ve.forEach(function(ct,tt){ve[tt]=ct/F[fe][Be]*O})})})):(Q=k.min,de=k.max),this.yDomain=this.fixNumericExtent([Q,de],"y",this.yAxis),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var r,o,s,h,p=0,y=0;try{for(var S=up(e),E=S.next();!E.done;E=S.next()){var T=E.value;try{for(var O=(s=void 0,up(T)),F=O.next();!F.done;F=O.next()){var k=F.value;k.min<p&&(p=k.min),k.max>y&&(y=k.max)}}catch(Q){s={error:Q}}finally{try{F&&!F.done&&(h=O.return)&&h.call(O)}finally{if(s)throw s.error}}}}catch(Q){r={error:Q}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(r)throw r.error}}return{min:p,max:y}},t.prototype.getDomain=function(e){return this.flipXY&&(e=hc(e)),e===zi.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:r.yKey})},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.createNodeData=function(){var e=this,r=this,o=r.chart,s=r.data,h=r.visible,p=this.getCategoryAxis(),y=this.getValueAxis();if(!(o&&s&&h&&p&&y)||o.layoutPending||o.dataPending)return[];var S=this.flipXY,E=p.scale,T=y.scale,O=this,F=O.groupScale,k=O.yKeys,Q=O.cumYKeyCount,de=O.fills,he=O.strokes,fe=O.strokeWidth,ve=O.seriesItemEnabled,Be=O.xData,ct=O.yData,tt=O.label,Ft=tt.fontStyle,Nt=tt.fontWeight,jt=tt.fontSize,Jt=tt.fontFamily,Mn=tt.color,Dn=tt.formatter,on=tt.placement;F.range=[0,E.bandwidth];var cn=F.bandwidth,dn=[];return Be.forEach(function(lr,Xn){for(var kr=s[Xn],Wn=E.convert(lr),zr=ct[Xn],$n=0;$n<zr.length;$n++)for(var jr=zr[$n],Vr=0,xi=0,Li=0;Li<jr.length;Li++){var ha=+jr[Li],Ha=k[$n][Li],ks=Wn+F.convert(String($n));if(p.inRange(ks,cn)){var Ph,Oa=ha<0?Vr:xi,Tl=T instanceof ds,pa=T.convert(Oa+ha,Tl?kc:void 0),cl=T.convert(Oa,Tl?kc:void 0),xl=kr[Ha];Ph=Dn?Dn({value:yu(xl)?xl:void 0}):yu(xl)?xl.toFixed(2):"";var Ah=void 0,xp=void 0;S?(xp=ks+cn/2,Ah=on===Ql.Inside?pa+(xl>=0?-1:1)*Math.abs(cl-pa)/2:pa+4*(xl>=0?1:-1)):(Ah=ks+cn/2,xp=on===Ql.Inside?pa+(xl>=0?1:-1)*Math.abs(cl-pa)/2:pa+(xl>=0?-3:4));var Cr=void 0,to=void 0;on===Ql.Inside?(Cr="center",to="middle"):(Cr=S?xl>=0?"start":"end":"center",to=S?"middle":xl>=0?"bottom":"top");var zs=Q[$n]+Li;dn.push({index:Xn,series:e,itemId:Ha,datum:kr,yValue:xl,yKey:Ha,x:S?Math.min(pa,cl):ks,y:S?ks:Math.min(pa,cl),width:S?Math.abs(cl-pa):cn,height:S?cn:Math.abs(cl-pa),fill:de[zs%de.length],stroke:he[zs%he.length],strokeWidth:fe,label:ve.get(Ha)&&Ph?{text:Ph,fontStyle:Ft,fontWeight:Nt,fontSize:jt,fontFamily:Jt,textAlign:Cr,textBaseline:to,fill:Mn,x:Ah,y:xp}:void 0}),ha<0?Vr+=ha:xi+=ha}}}),this.nodeData=dn},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateRectSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateLabelNodes()},t.prototype.updateRectSelection=function(){var e=this.rectSelection.setData(this.nodeData);e.exit.remove();var r=e.enter.append(_c).each(function(o){o.tag=xu.Bar,o.crisp=!0});this.rectSelection=e.merge(r)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var r=this,o=r.fills,s=r.strokes,h=r.fillOpacity,p=r.strokeOpacity,y=r.shadow,S=r.formatter,E=r.xKey,T=r.flipXY,O=r.yKeys,F=r.chart.highlightedDatum,k=r.highlightStyle,fe=k.item,ve=fe.fill,Be=void 0===ve?k.fill:ve,ct=fe.stroke,tt=void 0===ct?k.stroke:ct,Ft=fe.strokeWidth,Nt=void 0===Ft?k.strokeWidth:Ft;this.rectSelection.each(function(jt,Jt,Mn){for(var Dn=0,on=0,wn=0;wn<O.length;wn++){var cn=O[wn];if((on=cn.indexOf(Jt.yKey))>=0){Dn+=on;break}Dn+=cn.length}var dn=Jt===F,lr=dn&&void 0!==Be?Be:o[Dn%o.length],Xn=dn&&void 0!==tt?tt:s[Dn%o.length],kr=dn&&void 0!==Nt?Nt:e.getStrokeWidth(e.strokeWidth,Jt),Wn=void 0;S&&(Wn=S({datum:Jt.datum,fill:lr,stroke:Xn,strokeWidth:kr,highlighted:dn,xKey:E,yKey:Jt.yKey})),jt.x=Jt.x,jt.y=Jt.y,jt.width=Jt.width,jt.height=Jt.height,jt.fill=Wn&&Wn.fill||lr,jt.stroke=Wn&&Wn.stroke||Xn,jt.strokeWidth=Wn&&void 0!==Wn.strokeWidth?Wn.strokeWidth:kr,jt.fillOpacity=h,jt.strokeOpacity=p,jt.lineDash=e.lineDash,jt.lineDashOffset=e.lineDashOffset,jt.fillShadow=y,jt.visible=T?Jt.width>0:Jt.height>0,jt.zIndex=dn?Is.highlightedZIndex:Mn,jt.opacity=e.getOpacity(Jt)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.nodeData);e.exit.remove();var r=e.enter.append(Za).each(function(o){o.tag=xu.Label,o.pointerEvents=us.None});this.labelSelection=e.merge(r)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var s=this.label,h=s.enabled,p=s.fontStyle,y=s.fontWeight,S=s.fontSize,E=s.fontFamily,T=s.color;this.labelSelection.each(function(O,F,k){var Q=F.label;Q&&h?(O.fontStyle=p,O.fontWeight=y,O.fontSize=S,O.fontFamily=E,O.textAlign=Q.textAlign,O.textBaseline=Q.textBaseline,O.text=Q.text,O.x=Q.x,O.y=Q.y,O.fill=T,O.visible=!0,O.opacity=e.getOpacity(F)):O.visible=!1})}},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKeys,h=r.yData,p=this.getCategoryAxis(),y=this.getValueAxis(),S=e.yKey;if(!(h.length&&o&&S&&p&&y))return"";for(var E=h[e.index],T=0,O=0,F=0;F<s.length;F++){var k=s[F];if((O=k.indexOf(S))>=0){T+=O;break}T+=k.length}var Q=this,de=Q.xName,fe=Q.fills,ct=Q.formatter,tt=Q.tooltip.renderer,Ft=e.datum,Nt=Q.yNames[S],jt=fe[T%fe.length],Jt=Q.strokes[T%fe.length],Mn=this.getStrokeWidth(this.strokeWidth,Ft),Dn=Ft[o],on=Ft[S],wn=E[F][O],cn=Io(p.formatDatum(Dn)),dn=Io(y.formatDatum(on)),lr=Io(Nt),Xn=cn+": "+dn,kr=void 0;ct&&(kr=ct({datum:Ft,fill:jt,stroke:Jt,strokeWidth:Mn,highlighted:!1,xKey:o,yKey:S}));var Wn=kr&&kr.fill||jt,zr={title:lr,backgroundColor:Wn,content:Xn};return tt?ka(tt({datum:Ft,xKey:o,xValue:Dn,xName:de,yKey:S,yValue:on,processedYValue:wn,yName:Nt,color:Wn}),zr):ka(zr)},t.prototype.listSeriesItems=function(e){var r=this,o=r.id,s=r.data,y=r.yNames,S=r.cumYKeyCount,E=r.seriesItemEnabled,T=r.hideInLegend,O=r.fills,F=r.strokes,k=r.fillOpacity,Q=r.strokeOpacity;s&&s.length&&r.xKey&&r.yKeys.length&&this.yKeys.forEach(function(de,he){de.forEach(function(fe,ve){if(T.indexOf(fe)<0){var Be=S[he]+ve;e.push({id:o,itemId:fe,enabled:E.get(fe)||!1,label:{text:y[fe]||fe},marker:{fill:O[Be%O.length],stroke:F[Be%F.length],fillOpacity:k,strokeOpacity:Q}})}})})},t.prototype.toggleSeriesItem=function(e,r){var o=this.seriesItemEnabled;o.set(e,r);var s=this.yKeys.map(function(p){return p.slice()});o.forEach(function(p,y){p||s.forEach(function(S){var E=S.indexOf(y);E>=0&&S.splice(E,1)})});var h=[];s.forEach(function(p,y){p.length>0&&h.push(String(y))}),this.groupScale.domain=h,this.scheduleData()},t.className="BarSeries",t.type="bar",fs([un("dataChange")],t.prototype,"flipXY",void 0),fs([un("dataChange")],t.prototype,"fills",void 0),fs([un("dataChange")],t.prototype,"strokes",void 0),fs([un("update")],t.prototype,"fillOpacity",void 0),fs([un("update")],t.prototype,"strokeOpacity",void 0),fs([un("update")],t.prototype,"lineDash",void 0),fs([un("update")],t.prototype,"lineDashOffset",void 0),fs([un("update")],t.prototype,"formatter",void 0),fs([un("layoutChange")],t.prototype,"hideInLegend",void 0),t}(gd),md=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ol=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},G0=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},zf=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return md(t,l),ol([un("change")],t.prototype,"formatter",void 0),t}(wl),B0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return md(t,l),ol([un("change")],t.prototype,"renderer",void 0),ol([un("change")],t.prototype,"format",void 0),t}(Tu),dh=function(l){function t(){var e=l.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.lineNode=new Ts,e.nodeSelection=ea.select(e.pickGroup).selectAll(),e.nodeData=[],e.marker=new Ff,e.label=new zf,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new B0,e._xKey="",e.xName="",e._yKey="",e.yName="";var r=e.lineNode;r.fill=void 0,r.lineJoin="round",r.pointerEvents=us.None,e.group.insertBefore(r,e.pickGroup),e.addEventListener("update",e.scheduleUpdate);var s=e.marker,h=e.label;return s.fill="#c16068",s.stroke="#874349",s.addPropertyListener("shape",e.onMarkerShapeChange,e),s.addEventListener("change",e.scheduleUpdate,e),h.enabled=!1,h.addEventListener("change",e.scheduleUpdate,e),e}return md(t,l),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,r){this.stroke=e[0],this.marker.stroke=r[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,r=e.xAxis,o=e.yAxis,s=e.xKey,h=e.yKey,p=e.xData,y=e.yData,S=s&&h&&this.data?this.data:[];if(!r||!o)return!1;var E=r.scale instanceof ds,T=o.scale instanceof ds;p.length=0,y.length=0;for(var O=0,F=S.length;O<F;O++){var k=S[O],Q=k[s],de=k[h];p.push(E||ba(Q)?Q:String(Q)),y.push(T||ba(de)?de:String(de))}return this.xDomain=E?this.fixNumericExtent(Ln(p,Xi),"x",r):p,this.yDomain=T?this.fixNumericExtent(Ln(y,Xi),"y",o):y,!0},t.prototype.getDomain=function(e){return e===zi.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateLinePath(),this.updateNodeSelection())},t.prototype.updateLinePath=function(){var e=this,r=e.data,o=e.xAxis,s=e.yAxis;if(r&&o&&s){var h=this,p=h.xData,y=h.yData,E=h.label,T=o.scale,O=s.scale,F=T instanceof ds,k=O instanceof ds,Q=(T.bandwidth||0)/2,de=(O.bandwidth||0)/2,he=h.lineNode.path,fe=[];he.clear();for(var ve=!0,Be=void 0,ct=void 0,tt=0;tt<p.length;tt++){var Ft=ct||this.checkDomainXY(p[tt],y[tt],F,k);if(Ft){var Nt=G0(Ft,2),Jt=Nt[1],Mn=T.convert(Nt[0])+Q;if(isNaN(Mn)){Be=void 0,ve=!0;continue}var Dn=(T.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;ct=this.checkDomainXY(p[tt+1],y[tt+1],F,k);var on=o.inRangeEx(Mn,0,Dn),wn=ct&&o.inRangeEx(T.convert(ct[0])+Q,0,Dn);if(-1===on&&-1===wn){ve=!0;continue}if(1===on&&1===Be){ve=!0;continue}Be=on;var cn=O.convert(Jt)+de;ve?(he.moveTo(Mn,cn),ve=!1):he.lineTo(Mn,cn);var dn;dn=E.formatter?E.formatter({value:Jt}):"number"==typeof Jt&&isFinite(Jt)?Jt.toFixed(2):Jt?String(Jt):"",fe.push({series:this,datum:r[tt],point:{x:Mn,y:cn},label:dn?{text:dn,fontStyle:E.fontStyle,fontWeight:E.fontWeight,fontSize:E.fontSize,fontFamily:E.fontFamily,textAlign:"center",textBaseline:"bottom",fill:E.color}:void 0})}else Be=void 0,ve=!0}this.nodeData=fe}},t.prototype.updateNodeSelection=function(){var e=this.marker,r=e.shape?this.nodeData:[],o=Du(e.shape),s=this.nodeSelection.setData(r);s.exit.remove();var h=s.enter.append(so);h.append(o),h.append(Za),this.nodeSelection=s.merge(h)},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateLineNode(),this.updateMarkerNodes(),this.updateTextNodes()},t.prototype.updateLineNode=function(){var e=this.lineNode;e.stroke=this.stroke,e.strokeWidth=this.getStrokeWidth(this.strokeWidth),e.strokeOpacity=this.strokeOpacity,e.lineDash=this.lineDash,e.lineDashOffset=this.lineDashOffset,e.opacity=this.getOpacity()},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var r=this,o=r.marker,s=r.xKey,h=r.yKey,p=r.stroke,y=r.chart.highlightedDatum,S=r.highlightStyle,F=S.item,k=F.fill,Q=void 0===k?S.fill:k,de=F.stroke,he=void 0===de?S.stroke:de,fe=F.strokeWidth,ve=void 0===fe?S.strokeWidth:fe,Be=o.size,ct=o.formatter,tt=void 0!==o.strokeWidth?o.strokeWidth:this.strokeWidth,Ft=Du(o.shape);this.nodeSelection.selectByClass(Ft).each(function(Nt,jt){var Jt=jt===y,Mn=Jt&&void 0!==Q?Q:o.fill,Dn=Jt&&void 0!==he?he:o.stroke||p,on=Jt&&void 0!==ve?ve:tt,wn=void 0;ct&&(wn=ct({datum:jt.datum,xKey:s,yKey:h,fill:Mn,stroke:Dn,strokeWidth:on,size:Be,highlighted:Jt})),Nt.fill=wn&&wn.fill||Mn,Nt.stroke=wn&&wn.stroke||Dn,Nt.strokeWidth=wn&&void 0!==wn.strokeWidth?wn.strokeWidth:on,Nt.size=wn&&void 0!==wn.size?wn.size:Be,Nt.translationX=jt.point.x,Nt.translationY=jt.point.y,Nt.opacity=e.getOpacity(jt),Nt.visible=o.enabled&&Nt.size>0})}},t.prototype.updateTextNodes=function(){var e=this;this.nodeSelection.selectByClass(Za).each(function(r,o){var s=o.point,h=o.label,p=e.label,E=p.fontWeight,T=p.fontSize,O=p.fontFamily,F=p.color;h&&p.enabled?(r.fontStyle=p.fontStyle,r.fontWeight=E,r.fontSize=T,r.fontFamily=O,r.textAlign=h.textAlign,r.textBaseline=h.textBaseline,r.text=h.text,r.x=s.x,r.y=s.y-10,r.fill=F,r.visible=!0):r.visible=!1})},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKey,h=r.xAxis,p=r.yAxis;if(!(o&&s&&h&&p))return"";var y=this,S=y.xName,E=y.yName,T=y.tooltip,O=y.marker,F=T.renderer,k=T.format,Q=e.datum,de=Q[o],he=Q[s],fe=h.formatDatum(de),ve=p.formatDatum(he),Be=Io(this.title||E),ct=Io(fe+": "+ve),tt=O.formatter,Ft=O.fill,jt=O.strokeWidth,Dn=void 0;tt&&(Dn=tt({datum:Q,xKey:o,yKey:s,fill:Ft,stroke:O.stroke,strokeWidth:void 0!==jt?jt:this.strokeWidth,size:O.size,highlighted:!1}));var on=Dn&&Dn.fill||Ft,wn={title:Be,backgroundColor:on,content:ct};if(k||F){var cn={datum:Q,xKey:o,xValue:de,xName:S,yKey:s,yValue:he,yName:E,title:Be,color:on};if(k)return ka({content:cp(k,cn)},wn);if(F)return ka(F(cn),wn)}return ka(wn)},t.prototype.listSeriesItems=function(e){var r=this,s=r.data,p=r.yKey,T=r.marker;s&&s.length&&r.xKey&&p&&e.push({id:r.id,itemId:void 0,enabled:r.visible,label:{text:r.title||r.yName||p},marker:{shape:T.shape,fill:T.fill||"rgba(0, 0, 0, 0)",stroke:T.stroke||r.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:r.strokeOpacity}})},t.className="LineSeries",t.type="line",ol([un("layoutChange")],t.prototype,"title",void 0),ol([un("update")],t.prototype,"stroke",void 0),ol([un("update")],t.prototype,"lineDash",void 0),ol([un("update")],t.prototype,"lineDashOffset",void 0),ol([un("update")],t.prototype,"strokeWidth",void 0),ol([un("update")],t.prototype,"strokeOpacity",void 0),ol([un("update")],t.prototype,"xName",void 0),ol([un("update")],t.prototype,"yName",void 0),t}(gd),Hg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vf=function(){return Vf=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Vf.apply(this,arguments)},Mu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Gg=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Hg(t,l),Mu([un("change")],t.prototype,"renderer",void 0),t}(Tu),Bg=function(l){function t(){var e=l.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.sizeData=[],e.sizeScale=new Go,e.nodeData=[],e.markerSelection=ea.select(e.pickGroup).selectAll(),e.labelData=[],e.labelSelection=ea.select(e.group).selectAll(),e.marker=new Ff,e.label=new wl,e._fill="#c16068",e._stroke="#874349",e._strokeWidth=2,e._fillOpacity=1,e._strokeOpacity=1,e.xKey="",e.yKey="",e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e.tooltip=new Gg;var o=e.marker,s=e.label;return o.addPropertyListener("shape",e.onMarkerShapeChange,e),o.addEventListener("change",e.scheduleUpdate,e),e.addPropertyListener("xKey",function(){return e.xData=[]}),e.addPropertyListener("yKey",function(){return e.yData=[]}),e.addPropertyListener("sizeKey",function(){return e.sizeData=[]}),s.enabled=!1,s.addEventListener("change",e.scheduleUpdate,e),s.addEventListener("dataChange",e.scheduleData,e),e}return Hg(t,l),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,r){this.fill=e[0],this.stroke=r[0],this.marker.fill=e[0],this.marker.stroke=r[0]},t.prototype.processData=function(){var e=this,r=e.xKey,o=e.yKey,s=e.sizeKey,h=e.labelKey,p=e.xAxis,y=e.yAxis,S=e.marker,E=e.label;if(!p||!y)return!1;var T=r&&o&&this.data?this.data:[];this.xData=T.map(function(F){return F[r]}),this.yData=T.map(function(F){return F[o]}),this.sizeData=s?T.map(function(F){return F[s]}):[];var O=E.getFont();return this.labelData=h?T.map(function(F){var k=String(F[h]),Q=kd.getTextSize(k,O);return Vf({text:k},Q)}):[],this.sizeScale.domain=S.domain?S.domain:Ln(this.sizeData,Xi)||[1,1],this.xDomain=p.scale instanceof ds?this.fixNumericExtent(Ln(this.xData,Xi),"x",p):this.xData,this.yDomain=y.scale instanceof ds?this.fixNumericExtent(Ln(this.yData,Xi),"y",y):this.yData,!0},t.prototype.getDomain=function(e){return e===zi.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.getLabelData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.createNodeData=function(){var e=this,r=e.chart,o=e.data,h=e.xAxis,p=e.yAxis;if(!(r&&o&&e.visible&&h&&p)||r.layoutPending||r.dataPending)return[];var y=h.scale,S=p.scale,E=y instanceof ds,T=S instanceof ds,O=(y.bandwidth||0)/2,F=(S.bandwidth||0)/2,k=this,Q=k.xData,de=k.yData,he=k.sizeData,fe=k.sizeScale,ve=k.marker,Be=[];fe.range=[ve.size,ve.maxSize];for(var ct=0;ct<Q.length;ct++){var tt=this.checkDomainXY(Q[ct],de[ct],E,T);if(tt){var Ft=y.convert(tt[0])+O,Nt=S.convert(tt[1])+F;!this.checkRangeXY(Ft,Nt,h,p)||Be.push({series:this,datum:o[ct],point:{x:Ft,y:Nt},size:he.length?fe.convert(he[ct]):ve.size,label:this.labelData[ct]})}}return this.nodeData=Be},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.updateLabelSelection=function(){var e=this.chart&&this.chart.placeLabels().get(this)||[],r=this.labelSelection.setData(e);r.exit.remove();var o=r.enter.append(Za);this.labelSelection=r.merge(o)},t.prototype.updateMarkerSelection=function(){var e=Du(this.marker.shape),r=this.markerSelection.setData(this.nodeData);r.exit.remove();var o=r.enter.append(e);this.markerSelection=r.merge(o)},t.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each(function(r,o){r.text=o.text,r.fill=e.color,r.x=o.x,r.y=o.y,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var r=this,o=r.marker,s=r.xKey,h=r.yKey,y=r.fillOpacity,S=r.strokeOpacity,E=r.fill,T=r.stroke,O=r.chart.highlightedDatum,F=r.sizeScale,k=r.sizeData,Q=r.highlightStyle,ve=Q.item,Be=ve.fill,ct=void 0===Be?Q.fill:Be,tt=ve.stroke,Ft=void 0===tt?Q.stroke:tt,Nt=ve.strokeWidth,jt=void 0===Nt?Q.strokeWidth:Nt,Jt=void 0!==o.strokeWidth?o.strokeWidth:r.strokeWidth,Mn=o.formatter;F.range=[o.size,o.maxSize],this.markerSelection.each(function(Dn,on,wn){var cn=on===O,dn=cn&&void 0!==ct?ct:o.fill||E,lr=cn&&void 0!==Ft?Ft:o.stroke||T,Xn=cn&&void 0!==jt?jt:e.getStrokeWidth(Jt,on),kr=k.length?F.convert(k[wn]):o.size,Wn=void 0;Mn&&(Wn=Mn({datum:on.datum,xKey:s,yKey:h,fill:dn,stroke:lr,strokeWidth:Xn,size:kr,highlighted:cn})),Dn.fill=Wn&&Wn.fill||dn,Dn.stroke=Wn&&Wn.stroke||lr,Dn.strokeWidth=Wn&&void 0!==Wn.strokeWidth?Wn.strokeWidth:Xn,Dn.size=Wn&&void 0!==Wn.size?Wn.size:kr,Dn.fillOpacity=void 0!==o.fillOpacity?o.fillOpacity:y,Dn.strokeOpacity=void 0!==o.strokeOpacity?o.strokeOpacity:S,Dn.translationX=on.point.x,Dn.translationY=on.point.y,Dn.opacity=e.getOpacity(on),Dn.zIndex=cn?Is.highlightedZIndex:wn,Dn.visible=o.enabled&&Dn.size>0})}},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKey,h=r.xAxis,p=r.yAxis;if(!(o&&s&&h&&p))return"";var y=this,T=y.marker,O=y.tooltip,F=y.xName,k=y.yName,Q=y.sizeKey,de=y.sizeName,he=y.labelKey,fe=y.labelName,ve=T.fill||y.fill,Be=T.stroke||y.stroke,ct=this.getStrokeWidth(T.strokeWidth||this.strokeWidth,e),tt=this.marker.formatter,Ft=void 0;tt&&(Ft=tt({datum:e,xKey:o,yKey:s,fill:ve,stroke:Be,strokeWidth:ct,size:e.size,highlighted:!1}));var Nt=Ft&&Ft.fill||ve||"gray",jt=this.title||k,Jt=e.datum,Mn=Jt[o],Dn=Jt[s],on=Io(h.formatDatum(Mn)),wn=Io(p.formatDatum(Dn)),cn="<b>"+Io(F||o)+"</b>: "+on+"<br><b>"+Io(k||s)+"</b>: "+wn;Q&&(cn+="<br><b>"+Io(de||Q)+"</b>: "+Io(Jt[Q])),he&&(cn="<b>"+Io(fe||he)+"</b>: "+Io(Jt[he])+"<br>"+cn);var dn={title:jt,backgroundColor:Nt,content:cn},lr=O.renderer;return lr?ka(lr({datum:Jt,xKey:o,xValue:Mn,xName:F,yKey:s,yValue:Dn,yName:k,sizeKey:Q,sizeName:de,labelKey:he,labelName:fe,title:jt,color:Nt}),dn):ka(dn)},t.prototype.listSeriesItems=function(e){var r=this,s=r.data,p=r.yKey,T=r.marker;s&&s.length&&r.xKey&&p&&e.push({id:r.id,itemId:void 0,enabled:r.visible,label:{text:r.title||r.yName||p},marker:{shape:T.shape,fill:T.fill||r.fill||"rgba(0, 0, 0, 0)",stroke:T.stroke||r.stroke||"rgba(0, 0, 0, 0)",fillOpacity:void 0!==T.fillOpacity?T.fillOpacity:r.fillOpacity,strokeOpacity:void 0!==T.strokeOpacity?T.strokeOpacity:r.strokeOpacity}})},t.className="ScatterSeries",t.type="scatter",Mu([un("layoutChange")],t.prototype,"title",void 0),Mu([un("dataChange")],t.prototype,"xKey",void 0),Mu([un("dataChange")],t.prototype,"yKey",void 0),Mu([un("dataChange")],t.prototype,"sizeKey",void 0),Mu([un("dataChange")],t.prototype,"labelKey",void 0),t}(gd),Pu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qc=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},ph=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(hh(arguments[t]));return l},Au=(()=>(function(l){l[l.Bin=0]="Bin",l[l.Label=1]="Label"}(Au||(Au={})),Au))(),Wg=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Pu(t,l),qc([un("change")],t.prototype,"formatter",void 0),t}(wl),Xc={count:function(l){return l.data.length},sum:function(l,t){return l.data.reduce(function(e,r){return e+r[t]},0)},mean:function(l,t){return Xc.sum(l,t)/Xc.count(l,t)}},W0=function(){function l(t){var e=hh(t,2),r=e[0],o=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[r,o]}return l.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(l.prototype,"domainWidth",{get:function(){var t=hh(this.domain,2);return t[1]-t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),l.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,Xc[t])(this,e)},l.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},l}(),N2=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Pu(t,l),qc([un("change")],t.prototype,"renderer",void 0),t}(Tu),hp=function(l){function t(){var e,r=l.call(this)||this;return r.rectGroup=r.pickGroup.appendChild(new so),r.textGroup=r.group.appendChild(new so),r.rectSelection=ea.select(r.rectGroup).selectAll(),r.textSelection=ea.select(r.textGroup).selectAll(),r.binnedData=[],r.xDomain=[],r.yDomain=[],r.label=new Wg,r.seriesItemEnabled=!0,r.tooltip=new N2,r.fill=void 0,r.stroke=void 0,r.fillOpacity=1,r.strokeOpacity=1,r.lineDash=[0],r.lineDashOffset=0,r.directionKeys=((e={})[zi.X]=["xKey"],e[zi.Y]=["yKey"],e),r._xKey="",r._areaPlot=!1,r._bins=void 0,r._aggregation="count",r._binCount=void 0,r._xName="",r._yKey="",r._yName="",r._strokeWidth=1,r.label.enabled=!1,r.label.addEventListener("change",r.scheduleUpdate,r),r}return Pu(t,l),t.prototype.getKeys=function(e){var r=this,o=this.directionKeys,s=o&&o[e],h=[];return s&&s.forEach(function(p){var y=r[p];y&&(Array.isArray(y)?h.push.apply(h,ph(y)):h.push(y))}),h},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,r){this.fill=e[0],this.stroke=r[0]},t.prototype.deriveBins=function(){var e=this,o=this.bins;if(!this.data)return[];if(o)return o;var h=this.data.map(function(O){return O[e.xKey]}),p=this.fixNumericExtent(Ln(h,Xi),"x"),y=Xh(p[0],p[1],this.binCount||10),S=Zu(p[0],p[1],this.binCount||10),E=y[0];return ph([[E-S,E]],y.map(function(O){return[O,O+S]}))},t.prototype.placeDataInBins=function(e){var r=this,o=this.xKey,s=this.deriveBins(),h=e.slice().sort(function(F,k){return F[o]<k[o]?-1:F[o]>k[o]?1:0}),p=0,y=[new W0(s[0])];e:for(var S=0,E=h.length;S<E;S++){for(var T=h[S];T[o]>s[p][1];){var O=s[++p];if(!O)break e;y.push(new W0(O))}y[p].addDatum(T)}return y.forEach(function(F){return F.calculateAggregatedValue(r._aggregation,r.yKey)}),y},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(r,o){return Math.max(r,o[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,s=this.data;this.binnedData=this.placeDataInBins(this.xKey&&s?s:[]);var p=Ln(this.binnedData.map(function(O){return O.getY(e.areaPlot)}),Xi);return this.yDomain=this.fixNumericExtent([0,p?p[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===zi.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,xKey:this.xKey})},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var e=this.createNodeData();this.updateRectSelection(e),this.updateTextSelection(e)}},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateTextNodes()},t.prototype.createNodeData=function(){var e=this,o=this.xAxis,s=this.yAxis;if(!this.seriesItemEnabled||!o||!s)return[];var h=o.scale,p=s.scale,y=this,S=y.fill,E=y.stroke,T=y.strokeWidth,O=[],k=this.label,Q=k.formatter,de=void 0===Q?function(tt){return String(tt.value)}:Q,he=k.fontStyle,fe=k.fontWeight,ve=k.fontSize,Be=k.fontFamily,ct=k.color;return this.binnedData.forEach(function(tt){var Ft=tt.aggregatedValue,Nt=tt.frequency,jt=hh(tt.domain,2),Mn=jt[1],Dn=tt.relativeHeight,on=h.convert(jt[0]),wn=h.convert(Mn),cn=e.areaPlot?Dn:e.yKey?Ft:Nt,dn=p.convert(0),lr=p.convert(cn),Xn=wn-on,kr=Math.abs(lr-dn),Wn=0!==cn?{text:de({value:tt.aggregatedValue}),fontStyle:he,fontWeight:fe,fontSize:ve,fontFamily:Be,fill:ct,x:on+Xn/2,y:lr+kr/2}:void 0;O.push({series:e,datum:tt,x:on,y:lr,width:Xn,height:kr,fill:S,stroke:E,strokeWidth:T,label:Wn})}),O},t.prototype.updateRectSelection=function(e){var r=this.rectSelection.setData(e);r.exit.remove();var o=r.enter.append(_c).each(function(s){s.tag=Au.Bin,s.crisp=!0});this.rectSelection=r.merge(o)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var r=this,o=r.fillOpacity,s=r.strokeOpacity,h=r.shadow,p=r.chart.highlightedDatum,y=r.highlightStyle,O=y.item,F=O.fill,k=void 0===F?y.fill:F,Q=O.stroke,de=void 0===Q?y.stroke:Q,he=O.strokeWidth,fe=void 0===he?y.strokeWidth:he;this.rectSelection.each(function(ve,Be,ct){var tt=Be===p,Ft=tt&&void 0!==fe?fe:e.getStrokeWidth(Be.strokeWidth,Be);ve.x=Be.x,ve.y=Be.y,ve.width=Be.width,ve.height=Be.height,ve.fill=tt&&void 0!==k?k:Be.fill,ve.stroke=tt&&void 0!==de?de:Be.stroke,ve.fillOpacity=o,ve.strokeOpacity=s,ve.strokeWidth=Ft,ve.lineDash=e.lineDash,ve.lineDashOffset=e.lineDashOffset,ve.fillShadow=h,ve.zIndex=tt?Is.highlightedZIndex:ct,ve.visible=Be.height>0,ve.opacity=e.getOpacity(Be)})}},t.prototype.updateTextSelection=function(e){var r=this.textSelection.setData(e);r.exit.remove();var o=r.enter.append(Za).each(function(s){s.tag=Au.Label,s.pointerEvents=us.None,s.textAlign="center",s.textBaseline="middle"});this.textSelection=r.merge(o)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(r,o){var s=o.label;s&&e?(r.text=s.text,r.x=s.x,r.y=s.y,r.fontStyle=s.fontStyle,r.fontWeight=s.fontWeight,r.fontSize=s.fontSize,r.fontFamily=s.fontFamily,r.fill=s.fill,r.visible=!0):r.visible=!1})},t.prototype.getTooltipHtml=function(e){var r=this,o=r.xKey,s=r.yKey,h=r.xAxis,p=r.yAxis;if(!o||!h||!p)return"";var y=this,S=y.xName,E=y.yName,T=y.fill,F=y.aggregation,k=y.tooltip.renderer,Q=e.datum,de=Q.aggregatedValue,he=Q.frequency,fe=hh(Q.domain,2),ve=fe[0],Be=fe[1],ct=Io(S||o)+": "+h.formatDatum(ve)+" - "+h.formatDatum(Be),tt=s?"<b>"+Io(E||s)+" ("+F+")</b>: "+p.formatDatum(de)+"<br>":"",Ft={title:ct,backgroundColor:T,content:tt+="<b>Frequency</b>: "+he};return k?ka(k({datum:Q,xKey:o,xValue:Q.domain,xName:S,yKey:s,yValue:Q.aggregatedValue,yName:E,color:T}),Ft):ka(Ft)},t.prototype.listSeriesItems=function(e){var r=this,s=r.data,h=r.yKey;s&&s.length&&e.push({id:r.id,itemId:h,enabled:r.seriesItemEnabled,label:{text:r.yName||h||"Frequency"},marker:{fill:r.fill||"rgba(0, 0, 0, 0)",stroke:r.stroke||"rgba(0, 0, 0, 0)",fillOpacity:r.fillOpacity,strokeOpacity:r.strokeOpacity}})},t.prototype.toggleSeriesItem=function(e,r){e===this.yKey&&(this.seriesItemEnabled=r),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",qc([un("dataChange")],t.prototype,"fill",void 0),qc([un("dataChange")],t.prototype,"stroke",void 0),qc([un("layoutChange")],t.prototype,"fillOpacity",void 0),qc([un("layoutChange")],t.prototype,"strokeOpacity",void 0),qc([un("update")],t.prototype,"lineDash",void 0),qc([un("update")],t.prototype,"lineDashOffset",void 0),t}(gd),k2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),j0=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.data=void 0,e}return k2(t,l),function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([un("dataChange")],t.prototype,"data",void 0),t}(Is),Ug=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fh=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Yg=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return Ug(t,l),fh([un("change")],t.prototype,"enabled",void 0),fh([un("change")],t.prototype,"color",void 0),fh([un("change")],t.prototype,"xOffset",void 0),fh([un("change")],t.prototype,"yOffset",void 0),fh([un("change")],t.prototype,"blur",void 0),t}(Xa);function Hf(l,t,e,r,o){var h=l.value&&(o-e)/l.value;l.children.forEach(function(p){p.x0=t,p.x1=r,p.y0=e,p.y1=e+=p.value*h})}function Kg(l,t,e,r,o){var h=l.value&&(r-t)/l.value;l.children.forEach(function(p){p.x0=t,p.x1=t+=p.value*h,p.y0=e,p.y1=o})}function pp(l){l.x0=Math.round(l.x0),l.y0=Math.round(l.y0),l.x1=Math.round(l.x1),l.y1=Math.round(l.y1)}var gh=function l(t){function e(r,o,s,h,p){!function Ru(l,t,e,r,o,s){for(var O,F,k,Q,de,he,fe,ve,Be,ct,h=[],p=t.children,y=p.length,S=t.value,E=0,T=0;E<y;){O=o-e,F=s-r;do{Q=p[T++].value}while(!Q&&T<y);for(de=he=Q,ct=Q*Q*(Be=Math.max(F/O,O/F)/(S*l)),ve=Math.max(he/ct,ct/de);T<y;++T){if((k=p[T].value)<de&&(de=k),k>he&&(he=k),ct=(Q+=k)*Q*Be,(fe=Math.max(he/ct,ct/de))>ve){Q-=k;break}ve=fe}var tt={value:Q,dice:O<F,children:p.slice(E,T)};h.push(tt),tt.dice?Kg(tt,e,r,o,S?r+=F*Q/S:s):Hf(tt,e,r,S?e+=O*Q/S:o,s),S-=Q,E=T}}(t,r,o,s,h,p)}return e.ratio=function(r){return l((r=+r)>1?r:1)},e}((1+Math.sqrt(5))/2),Gf=function(){function l(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=gh,this.paddingInner=function(t){return 0},this.paddingTop=function(t){return 0},this.paddingRight=function(t){return 0},this.paddingBottom=function(t){return 0},this.paddingLeft=function(t){return 0}}return Object.defineProperty(l.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(t){this.dx=t[0],this.dy=t[1]},enumerable:!0,configurable:!0}),l.prototype.processData=function(t){return t.x0=0,t.y0=0,t.x1=this.dx,t.y1=this.dy,t.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&t.eachBefore(pp),t},l.prototype.positionNode=function(t){var e=this.paddingStack[t.depth],r=t.x0+e,o=t.y0+e,s=t.x1-e,h=t.y1-e;s<r&&(r=s=(r+s)/2),h<o&&(o=h=(o+h)/2),t.x0=r,t.y0=o,t.x1=s,t.y1=h,t.children&&(e=this.paddingStack[t.depth+1]=this.paddingInner(t)/2,r+=this.paddingLeft(t)-e,o+=this.paddingTop(t)-e,(s-=this.paddingRight(t)-e)<r&&(r=s=(r+s)/2),(h-=this.paddingBottom(t)-e)<o&&(o=h=(o+h)/2),this.tile(t,r,o,s,h))},l}(),Bf=function(){function l(t){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=t}return l.prototype.countFn=function(t){var e=0,r=t.children;if(r&&r.length)for(var o=r.length;--o>=0;)e+=r[o].value;else e=1;t.value=e},l.prototype.count=function(){return this.eachAfter(this.countFn)},l.prototype.each=function(t,e){var r=this,o=-1;return this.iterator(function(s){t.call(e,s,++o,r)}),this},l.prototype.eachAfter=function(t,e){for(var r=this,o=[r],s=[];r=o.pop();){s.push(r);var h=r.children;if(h)for(var p=0,y=h.length;p<y;++p)o.push(h[p])}for(var S=-1;r=s.pop();)t.call(e,r,++S,this);return this},l.prototype.eachBefore=function(t,e){for(var r=this,o=[r],s=-1;r=o.pop();){t.call(e,r,++s,this);var h=r.children;if(h)for(var p=h.length-1;p>=0;--p)o.push(h[p])}return this},l.prototype.find=function(t,e){var s,r=this,o=-1;return this.iterator(function(h){if(t.call(e,h,++o,r))return s=h,!1}),s},l.prototype.sum=function(t){return this.eachAfter(function(e){var r=+t(e.datum)||0,o=e.children;if(o)for(var s=o.length;--s>=0;)r+=o[s].value;e.value=r})},l.prototype.sort=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},l.prototype.path=function(t){for(var e=this,r=function et(l,t){if(l&&t){if(l===t)return l;var e=l.ancestors(),r=t.ancestors(),o=void 0;for(l=e.pop(),t=r.pop();l===t;)o=l,l=e.pop(),t=r.pop();return o}}(e,t),o=[e];e!==r;)o.push(e=e.parent);for(var s=o.length;t!==r;)o.splice(s,0,t),t=t.parent;return o},l.prototype.ancestors=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},l.prototype.descendants=function(){var t=[];return this.iterator(function(e){return t.push(e)}),t},l.prototype.leaves=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},l.prototype.links=function(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e},l.prototype.copy=function(){},l.prototype.iterator=function(t){var o,e=this,r=[e];e:do{for(o=r.reverse(),r=[];e=o.pop();){if(!1===t(e))break e;var s=e.children;if(s)for(var h=0,p=s.length;h<p;++h)r.push(s[h])}}while(r.length)},l}();function fp(l,t){l instanceof Map?(l=[void 0,l],void 0===t&&(t=Wf)):void 0===t&&(t=Ie);for(var o,s,h,p,y,e=new Bf(l),r=[e];o=r.pop();)if((h=t(o.datum))&&(y=(h=Array.from(h)).length))for(o.children=h,p=y-1;p>=0;--p)r.push(s=h[p]=new Bf(h[p])),s.parent=o,s.depth=o.depth+1;return e.eachBefore(V2)}function V2(l){var t=0;do{l.height=t}while((l=l.parent)&&l.height<++t)}function Wf(l){return Array.isArray(l)?l[1]:void 0}function Ie(l){return l.children}var be=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vt=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hn=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return be(t,l),Vt([un("change")],t.prototype,"renderer",void 0),t}(Tu),Fn=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.padding=10,e}return be(t,l),Vt([un("change")],t.prototype,"padding",void 0),t}(wl),Yn=(()=>(function(l){l[l.Name=0]="Name",l[l.Value=1]="Value"}(Yn||(Yn={})),Yn))(),Ir=function(l){function t(){var r,e=l.call(this)||this;return e.groupSelection=ea.select(e.pickGroup).selectAll(),e.labelMap=new Map,e.layout=new Gf,e.title=((r=new Fn).color="white",r.fontWeight="bold",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.padding=15,r),e.subtitle=function(){var r=new Fn;return r.color="white",r.fontSize=9,r.fontFamily="Verdana, sans-serif",r.padding=13,r}(),e.labels={large:function(){var r=new wl;return r.color="white",r.fontWeight="bold",r.fontSize=18,r}(),medium:function(){var r=new wl;return r.color="white",r.fontWeight="bold",r.fontSize=14,r}(),small:function(){var r=new wl;return r.color="white",r.fontWeight="bold",r.fontSize=10,r}(),color:function(){var r=new wl;return r.color="white",r}()},e._nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.colorParents=!1,e.gradient=!0,e.colorName="Change",e.rootName="Root",e._shadow=function(){var r=new Yg;return r.color="rgba(0, 0, 0, 0.4)",r.xOffset=1.5,r.yOffset=1.5,r}(),e.tooltip=new hn,e.shadow.addEventListener("change",e.scheduleUpdate,e),e.title.addEventListener("change",e.scheduleUpdate,e),e.subtitle.addEventListener("change",e.scheduleUpdate,e),e.labels.small.addEventListener("change",e.scheduleUpdate,e),e.labels.medium.addEventListener("change",e.scheduleUpdate,e),e.labels.large.addEventListener("change",e.scheduleUpdate,e),e.labels.color.addEventListener("change",e.scheduleUpdate,e),e}return be(t,l),Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.updateLayoutPadding=function(){var e=this,r=e.title,o=e.subtitle,s=e.nodePadding,h=e.labelKey;this.layout.paddingRight=function(p){return s},this.layout.paddingBottom=function(p){return s},this.layout.paddingLeft=function(p){return s},this.layout.paddingTop=function(p){var y=p.datum[h]||"";p.children&&(y=y.toUpperCase());var S=p.depth>1?o:r,E=kd.getTextSize(y,[S.fontWeight,S.fontSize+"px",S.fontFamily].join(" ").trim()),O=p.depth>0&&p.children&&E.width<=p.x1-p.x0-2*s;return p.hasTitle=!!O,O?E.height+2*s:s}},t.prototype.processData=function(){if(!this.data)return!1;var E,e=this,r=e.data,o=e.sizeKey,s=e.labelKey,h=e.colorKey,p=e.colorDomain,y=e.colorRange,S=e.colorParents;E=o?fp(r).sum(function(k){return k.children?1:k[o]}):fp(r).sum(function(k){return k.children?0:1}),this.dataRoot=E;var T=new Go;T.domain=p,T.range=y;var O=this;return function F(k,Q){void 0===Q&&(Q=0);var de=k.children,he=k.datum,fe=he[s],ve=h?he[h]:Q;k.series=O,k.fill=!de||S?T.convert(ve):"#272931",k.colorValue=ve,k.label=fe?de?fe.toUpperCase():fe:"",de&&de.forEach(function(Be){return F(Be,Q+1)})}(this.dataRoot),!0},t.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},t.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var r=this.chart,o=this.dataRoot;if(r&&o){var s=r.getSeriesRect();if(s){this.layout.size=[s.width,s.height],this.updateLayoutPadding();var h=this.layout.processData(o).descendants(),p=this.groupSelection.setData(h);p.exit.remove();var y=p.enter.append(so);y.append(_c),y.append(Za).each(function(S){return S.tag=Yn.Name}),y.append(Za).each(function(S){return S.tag=Yn.Value}),this.groupSelection=p.merge(y)}}}},t.prototype.updateNodes=function(){var e=this;if(this.chart){var r=this,o=r.colorKey,s=r.labelMap,h=r.nodePadding,p=r.title,y=r.subtitle,S=r.labels,E=r.shadow,T=r.gradient,O=r.chart.highlightedDatum,F=r.highlightStyle,he=F.item,fe=he.fill,ve=void 0===fe?F.fill:fe,Be=he.stroke,ct=void 0===Be?F.stroke:Be,tt=he.strokeWidth,Ft=void 0===tt?F.strokeWidth:tt;this.groupSelection.selectByClass(_c).each(function(Nt,jt){var Jt=jt===O,Mn=Jt&&void 0!==ve?ve:jt.fill,Dn=Jt&&void 0!==ct?ct:jt.depth<2?void 0:"black",on=Jt&&void 0!==Ft?Ft:e.getStrokeWidth(1,jt);Nt.fill=Mn,Nt.stroke=Dn,Nt.strokeWidth=on,Nt.crisp=!0,Nt.gradient=T,Nt.x=jt.x0,Nt.y=jt.y0,Nt.width=jt.x1-jt.x0,Nt.height=jt.y1-jt.y0}),this.groupSelection.selectByTag(Yn.Name).each(function(Nt,jt,Jt){var dn,Mn=!jt.children,Dn=jt.x1-jt.x0-2*h,on=jt.y1-jt.y0-2*h,wn=jt.hasTitle,cn=jt===O;Nt.fontWeight=(dn=Mn?Dn>40&&on>40?S.large:Dn>20&&on>20?S.medium:S.small:jt.depth>1?y:p).fontWeight,Nt.fontSize=dn.fontSize,Nt.fontFamily=dn.fontFamily,Nt.textBaseline=Mn?"bottom":wn?"top":"middle",Nt.textAlign=wn?"left":"center",Nt.text=jt.label;var lr=Nt.computeBBox(),Xn=Mn&&!!lr&&lr.width<=Dn&&2*lr.height+8<=on;s.set(Jt,Nt),Nt.fill=cn?"black":dn.color,Nt.fillShadow=Xn&&!cn?E:void 0,Nt.visible=wn||Xn,wn?(Nt.x=jt.x0+h,Nt.y=jt.y0+h):(Nt.x=e.getLabelCenterX(jt),Nt.y=e.getLabelCenterY(jt))}),this.groupSelection.selectByTag(Yn.Value).each(function(Nt,jt,Jt){var Mn=!jt.children,Dn=jt.x1-jt.x0-2*h,on=jt===O,wn=jt.colorValue,cn=S.color;Nt.fontSize=cn.fontSize,Nt.fontFamily=cn.fontFamily,Nt.fontStyle=cn.fontStyle,Nt.fontWeight=cn.fontWeight,Nt.textBaseline="top",Nt.textAlign="center",Nt.text="number"==typeof wn&&isFinite(wn)?String(Hc(jt.colorValue))+"%":"";var dn=Nt.computeBBox(),lr=s.get(Jt),kr=Mn&&!!o&&!!lr&&lr.visible&&!!dn&&dn.width<Dn;Nt.fill=on?"black":cn.color,Nt.fillShadow=on?void 0:E,Nt.visible=kr,kr?(Nt.x=e.getLabelCenterX(jt),Nt.y=e.getLabelCenterY(jt)):lr&&(!jt.children||!jt.children.length)&&(lr.textBaseline="middle",lr.y=e.getLabelCenterY(jt))})}},t.prototype.getDomain=function(e){return[0,1]},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},t.prototype.getTooltipHtml=function(e){var r=this,s=r.sizeKey,h=r.labelKey,p=r.colorKey,y=r.colorName,E=e.datum,T=r.tooltip.renderer,O=e.depth?E[h]:r.rootName||E[h],F=void 0,k=e.fill||"gray";if(p&&y){var Q=E[p];"number"==typeof Q&&isFinite(Q)&&(F="<b>"+y+"</b>: "+Hc(E[p]))}var de={title:O,backgroundColor:k,content:F};return T?ka(T({datum:e,sizeKey:s,labelKey:h,colorKey:p,title:O,color:k}),de):ka(de)},t.prototype.listSeriesItems=function(e){},t.className="TreemapSeries",t.type="treemap",Vt([un("dataChange")],t.prototype,"labelKey",void 0),Vt([un("dataChange")],t.prototype,"sizeKey",void 0),Vt([un("dataChange")],t.prototype,"colorKey",void 0),Vt([un("dataChange")],t.prototype,"colorDomain",void 0),Vt([un("dataChange")],t.prototype,"colorRange",void 0),Vt([un("dataChange")],t.prototype,"colorParents",void 0),Vt([un("update")],t.prototype,"gradient",void 0),t}(j0),Vi=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gs=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._centerX=0,e._centerY=0,e._centerOffset=0,e._innerRadius=10,e._outerRadius=20,e._startAngle=0,e._endAngle=2*Math.PI,e._angleOffset=0,e}return Vi(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new Jo(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isFullPie=function(){return Z1(Kl(this.startAngle),Kl(this.endAngle))},t.prototype.updatePath=function(){var e=this.path,r=this.angleOffset,o=Math.min(this.startAngle,this.endAngle)+r,s=Math.max(this.startAngle,this.endAngle)+r,h=.5*(o+s),p=Math.min(this.innerRadius,this.outerRadius),y=Math.max(this.innerRadius,this.outerRadius),S=this.centerOffset,E=this.isFullPie(),T=this.centerX,O=this.centerY;if(e.clear(),S&&(T+=S*Math.cos(h),O+=S*Math.sin(h)),E||(e.moveTo(T+p*Math.cos(o),O+p*Math.sin(o)),e.lineTo(T+y*Math.cos(o),O+y*Math.sin(o))),e.cubicArc(T,O,y,y,0,o,s,0),E)e.moveTo(T+p*Math.cos(s),O+p*Math.sin(s));else{var F=T+p*Math.cos(s);e.lineTo(Math.abs(F)<1e-8?0:F,O+p*Math.sin(s))}e.cubicArc(T,O,p,p,0,s,o,1),e.closePath(),this.dirtyPath=!1},t.className="Sector",t}(Ts),Jl=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ki=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},U0=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},gp=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(U0(arguments[t]));return l},jf=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Jl(t,l),t}(L0),Sc=(()=>(function(l){l[l.Sector=0]="Sector",l[l.Callout=1]="Callout",l[l.Label=2]="Label"}(Sc||(Sc={})),Sc))(),H2=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e}return Jl(t,l),Ki([un("change")],t.prototype,"offset",void 0),Ki([un("dataChange")],t.prototype,"minAngle",void 0),Ki([un("dataChange")],t.prototype,"formatter",void 0),t}(wl),J3=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.length=10,e.strokeWidth=1,e}return Jl(t,l),Ki([un("change")],t.prototype,"colors",void 0),Ki([un("change")],t.prototype,"length",void 0),Ki([un("change")],t.prototype,"strokeWidth",void 0),t}(Xa),G2=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Jl(t,l),Ki([un("change")],t.prototype,"renderer",void 0),t}(Tu),B2=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.showInLegend=!1,e}return Jl(t,l),Ki([un()],t.prototype,"showInLegend",void 0),t}(qh),vh=function(l){function t(){var r,e=l.call(this)||this;return e.radiusScale=new Go,e.groupSelection=ea.select(e.pickGroup).selectAll(),e.groupSelectionData=[],e.angleScale=((r=new Go).domain=[0,1],r.range=[-Math.PI,Math.PI].map(function(o){return o+Math.PI/2}),r),e.seriesItemEnabled=[],e.label=new H2,e.callout=new J3,e.tooltip=new G2,e.angleKey="",e.angleName="",e._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.rotation=0,e.outerRadiusOffset=0,e.innerRadiusOffset=0,e.strokeWidth=1,e.highlightStyle=new jf,e.addEventListener("update",e.scheduleUpdate,e),e.label.addEventListener("change",e.scheduleUpdate,e),e.label.addEventListener("dataChange",e.scheduleData,e),e.callout.addEventListener("change",e.scheduleLayout,e),e.addPropertyListener("data",function(r){r.value&&(r.source.seriesItemEnabled=r.value.map(function(){return!0}))}),e}return Jl(t,l),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var r=this._title;function o(){this.fireEvent({type:"legendChange"})}r!==e&&(r&&(r.removeEventListener("change",this.scheduleUpdate,this),r.removePropertyListener("showInLegend",o,this),this.group.removeChild(r.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleUpdate,this),e.addPropertyListener("showInLegend",o,this),this.group.appendChild(e.node)),this._title=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,r){this.fills=e,this.strokes=r,this.callout.colors=r},t.prototype.getDomain=function(e){return e===zi.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var Dn,e=this,r=this,o=r.angleKey,s=r.radiusKey,h=r.seriesItemEnabled,p=r.angleScale,y=r.groupSelectionData,S=r.label,E=o&&this.data?this.data:[],T=E.map(function(Dn,on){return h[on]&&Math.abs(+Dn[o])||0}),O=T.reduce(function(Dn,on){return Dn+on},0),F=(Dn=0,T.map(function(on){return Dn+=on/O})),k=S.formatter,Q=S.enabled&&this.labelKey,de=[],he=[];if(Q&&(de=E.map(k?function(Dn){return k({value:Dn[Q]})}:function(Dn){return String(Dn[Q])})),s){var ve=this.radiusMin,Be=this.radiusMax,ct=E.map(function(Dn){return Math.abs(Dn[s])}),tt=void 0!==ve?ve:Math.min.apply(Math,gp(ct)),Nt=(void 0!==Be?Be:Math.max.apply(Math,gp(ct)))-tt;he=ct.map(function(Dn){return Nt?(Dn-tt)/Nt:1})}y.length=0;var jt=ki(this.rotation),Jt=Math.PI/2,Mn=0;return F.reduce(function(Dn,on){var xi,Li,wn=s?he[Mn]:1,cn=p.convert(Dn)+jt,dn=p.convert(on)+jt,lr=(cn+dn)/2,Xn=Math.abs(dn-cn),kr=Math.cos(lr),Wn=Math.sin(lr),zr=ki(S.minAngle),$n=Q&&Xn>zr,jr=function o2(l){return(l%=Js)<-Math.PI?l+=Js:l>=Math.PI&&(l-=Js),l}(lr),Vr=-3*Math.PI/4;return jr>=Vr&&jr<(Vr+=Jt)?(xi="center",Li="bottom"):jr>=Vr&&jr<(Vr+=Jt)?(xi="left",Li="middle"):jr>=Vr&&jr<(Vr+=Jt)?(xi="center",Li="hanging"):(xi="right",Li="middle"),y.push({series:e,datum:E[Mn],itemId:Mn,index:Mn,radius:wn,startAngle:cn,endAngle:dn,midAngle:lr,midCos:kr,midSin:Wn,label:$n?{text:de[Mn],textAlign:xi,textBaseline:Li}:void 0}),Mn++,on},0),!0},t.prototype.update=function(){this.updatePending=!1;var e=this,r=e.radius,o=e.innerRadiusOffset,s=e.outerRadiusOffset,h=e.title;this.radiusScale.range=[o?r+o:0,r+(s||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,h&&(0===Math.max(0,this.radiusScale.range[1])?h.node.visible=!1:(h.node.translationY=-r-s-2,h.node.visible=h.enabled)),this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateGroupSelection())},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var r=e.enter.append(so);r.append(gs).each(function(o){return o.tag=Sc.Sector}),r.append(uc).each(function(o){o.tag=Sc.Callout,o.pointerEvents=us.None}),r.append(Za).each(function(o){o.tag=Sc.Label,o.pointerEvents=us.None}),this.groupSelection=e.merge(r)},t.prototype.updateNodes=function(){var e=this;if(this.chart){this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;var r=this,o=r.fills,s=r.strokes,h=r.fillOpacity,p=r.strokeOpacity,y=r.radiusScale,S=r.callout,E=r.shadow,T=r.chart.highlightedDatum,O=r.highlightStyle,de=O.item,he=de.fill,fe=void 0===he?O.fill:he,ve=de.stroke,Be=void 0===ve?O.stroke:ve,ct=de.strokeWidth,tt=void 0===ct?O.strokeWidth:ct,Ft=r.angleKey,Nt=r.radiusKey,jt=r.formatter,Jt=[],Mn=y.convert(0);this.groupSelection.selectByTag(Sc.Sector).each(function($n,jr,Vr){var xi=y.convert(jr.radius),Li=!!T&&T.series===e&&jr.itemId===T.itemId,ha=Li&&void 0!==fe?fe:o[Vr%o.length],Ha=Li&&void 0!==Be?Be:s[Vr%s.length],ks=Li&&void 0!==tt?tt:e.getStrokeWidth(e.strokeWidth),Oa=void 0;jt&&(Oa=jt({datum:jr.datum,angleKey:Ft,radiusKey:Nt,fill:ha,stroke:Ha,strokeWidth:ks,highlighted:Li}));var Tl=$n.parent&&$n.parent.parent;Li&&Tl&&(Tl.removeChild($n.parent),Tl.appendChild($n.parent)),$n.innerRadius=Math.max(0,Mn),$n.outerRadius=Math.max(0,xi),$n.startAngle=jr.startAngle,$n.endAngle=jr.endAngle,$n.fill=Oa&&Oa.fill||ha,$n.stroke=Oa&&Oa.stroke||Ha,$n.strokeWidth=Oa&&void 0!==Oa.strokeWidth?Oa.strokeWidth:ks,$n.fillOpacity=h,$n.strokeOpacity=p,$n.lineDash=e.lineDash,$n.lineDashOffset=e.lineDashOffset,$n.fillShadow=E,$n.lineJoin="round",$n.opacity=e.getOpacity(),Jt.push($n.centerOffset)});var Dn=S.colors,on=S.length,wn=S.strokeWidth;this.groupSelection.selectByTag(Sc.Callout).each(function($n,jr,Vr){var xi=y.convert(jr.radius),Li=Math.max(0,xi);jr.label&&0!==Li?($n.strokeWidth=wn,$n.stroke=Dn[Vr%Dn.length],$n.x1=jr.midCos*Li,$n.y1=jr.midSin*Li,$n.x2=jr.midCos*(Li+on),$n.y2=jr.midSin*(Li+on)):$n.stroke=void 0});var cn=this.label,dn=cn.offset,lr=cn.fontStyle,Xn=cn.fontWeight,kr=cn.fontSize,Wn=cn.fontFamily,zr=cn.color;this.groupSelection.selectByTag(Sc.Label).each(function($n,jr,Vr){var xi=jr.label,Li=y.convert(jr.radius),ha=Math.max(0,Li);if(xi&&0!==ha){var Ha=Jt[Vr]+ha+on+dn;$n.fontStyle=lr,$n.fontWeight=Xn,$n.fontSize=kr,$n.fontFamily=Wn,$n.text=xi.text,$n.x=jr.midCos*Ha,$n.y=jr.midSin*Ha,$n.fill=zr,$n.textAlign=xi.textAlign,$n.textBaseline=xi.textBaseline}else $n.fill=void 0})}},t.prototype.fireNodeClickEvent=function(e,r){this.fireEvent({type:"nodeClick",event:e,series:this,datum:r.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var r=this.angleKey;if(!r)return"";var o=this,s=o.fills,p=o.angleName,y=o.radiusKey,S=o.radiusName,E=o.labelKey,T=o.labelName,O=o.tooltip.renderer,F=s[e.index%s.length],k=e.datum,Q=E?k[E]+": ":"",de=k[r],he="number"==typeof de?Hc(de):de.toString(),fe=this.title?this.title.text:void 0,Be={title:fe,backgroundColor:F,content:Q+he};return O?ka(O({datum:k,angleKey:r,angleValue:de,angleName:p,radiusKey:y,radiusValue:y?k[y]:void 0,radiusName:S,labelKey:E,labelName:T,title:fe,color:F}),Be):ka(Be)},t.prototype.listSeriesItems=function(e){var r=this,s=this.labelKey,h=this.data;if(h&&h.length&&s){var p=this,y=p.fills,S=p.strokes,E=p.id,T=this.title&&this.title.showInLegend&&this.title.text;h.forEach(function(O,F){var k=[];T&&k.push(T),k.push(String(O[s])),e.push({id:E,itemId:F,enabled:r.seriesItemEnabled[F],label:{text:k.join(" - ")},marker:{fill:y[F%y.length],stroke:S[F%S.length],fillOpacity:r.fillOpacity,strokeOpacity:r.strokeOpacity}})})}},t.prototype.toggleSeriesItem=function(e,r){this.seriesItemEnabled[e]=r,this.scheduleData()},t.className="PieSeries",t.type="pie",Ki([un("dataChange")],t.prototype,"angleKey",void 0),Ki([un("update")],t.prototype,"angleName",void 0),Ki([un("dataChange")],t.prototype,"radiusKey",void 0),Ki([un("update")],t.prototype,"radiusName",void 0),Ki([un("dataChange")],t.prototype,"radiusMin",void 0),Ki([un("dataChange")],t.prototype,"radiusMax",void 0),Ki([un("dataChange")],t.prototype,"labelKey",void 0),Ki([un("update")],t.prototype,"labelName",void 0),Ki([un("layoutChange")],t.prototype,"fillOpacity",void 0),Ki([un("layoutChange")],t.prototype,"strokeOpacity",void 0),Ki([un("update")],t.prototype,"lineDash",void 0),Ki([un("update")],t.prototype,"lineDashOffset",void 0),Ki([un("update")],t.prototype,"formatter",void 0),Ki([un("dataChange")],t.prototype,"rotation",void 0),Ki([un("layoutChange")],t.prototype,"outerRadiusOffset",void 0),Ki([un("dataChange")],t.prototype,"innerRadiusOffset",void 0),Ki([un("layoutChange")],t.prototype,"strokeWidth",void 0),Ki([un("layoutChange")],t.prototype,"shadow",void 0),t}(Rf);new xs(function vp(l){l.setUTCSeconds(0,0)},function W2(l,t){l.setTime(l.getTime()+t*nl)},function j2(l,t){return(t.getTime()-l.getTime())/nl},function Y0(l){return l.getUTCMinutes()}),new xs(function Y2(l){l.setUTCMinutes(0,0,0)},function mp(l,t){l.setTime(l.getTime()+t*Cl)},function K2(l,t){return(t.getTime()-l.getTime())/Cl},function $2(l){return l.getUTCHours()}),new xs(function q2(l){l.setUTCDate(1),l.setUTCHours(0,0,0,0)},function tm(l,t){l.setUTCMonth(l.getUTCMonth()+t)},function X2(l,t){return t.getUTCMonth()-l.getUTCMonth()+12*(t.getUTCFullYear()-l.getUTCFullYear())},function nm(l){return l.getUTCMonth()});var Hi=function(){return Hi=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Hi.apply(this,arguments)},$g={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},es={arrayMerge:function rm(l,t,e){return t},isMergeableObject:function qg(l){return Nv(l)&&!(l instanceof ig)}},yd=function(){function l(t){var e=this.createChartConfigPerSeries(this.getDefaults());if(k1(t)){var r=(t=$o({},t,es)).overrides;if(r){k1(r.common)&&l.seriesTypes.concat(["cartesian","polar","hierarchy"]).forEach(function(s){e[s]=$o(e[s],r.common,es)}),r.cartesian&&(e.cartesian=$o(e.cartesian,r.cartesian,es),l.cartesianSeriesTypes.forEach(function(s){e[s]=$o(e[s],r.cartesian,es)})),r.polar&&(e.polar=$o(e.polar,r.polar,es),l.polarSeriesTypes.forEach(function(s){e[s]=$o(e[s],r.polar,es)})),r.hierarchy&&(e.hierarchy=$o(e.hierarchy,r.hierarchy,es),l.hierarchySeriesTypes.forEach(function(s){e[s]=$o(e[s],r.hierarchy,es)}));var o={};l.seriesTypes.forEach(function(s){var h=r[s];h&&(h.series&&(o[s]=h.series,h.series=o),e[s]=$o(e[s],h,es))})}}this.palette=t&&t.palette?t.palette:this.getPalette(),this.config=Object.freeze(e)}return l.prototype.getPalette=function(){return $g},l.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},l.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow"},series:{dimOpacity:1}}}},l.getBarSeriesDefaults=function(){return Hi(Hi({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},l.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},l.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:Fs.defaultTooltipClass}}},l.prototype.createChartConfigPerSeries=function(t){var e={cartesian:l.cartesianSeriesTypes,polar:l.polarSeriesTypes},r=function(s){e[s].forEach(function(h){t[h]||(t[h]=$o({},t[s],es))})};for(var o in e)r(o);return t},l.prototype.getConfig=function(t,e){var r=function $h(l,t,e){var r=Array.isArray(t)?t:t.split("."),o=l;try{r.forEach(function(s){o=o[s]})}catch(s){if(3!==arguments.length)throw s;o=e}return o}(this.config,t,e);return Array.isArray(r)?$o([],r,es):k1(r)?$o({},r,es):r},l.prototype.getDefaults=function(){return $o({},l.defaults,es)},l.prototype.mergeWithParentDefaults=function(t){var e=Object.getPrototypeOf(Object.getPrototypeOf(this));if(e===Object.prototype){var r=$o({},l.defaults,es);return $o(r,t,es)}return $o(e.getDefaults(),t,es)},l.prototype.setSeriesColors=function(t,e,r){var o=this.palette,s=this.getSeriesColorCount(e);if(s===1/0||0===s)t.setColors(o.fills,o.strokes);else{var h=qv(o.fills,r,s),p=qv(o.strokes,r,s);t.setColors(h,p),r+=s}return r},l.prototype.getYKeyCount=function(t){if(!Array.isArray(t))return 0;var e=0;return t.forEach(function(r){Array.isArray(r)?e+=r.length:e+=1}),e},l.prototype.getSeriesColorCount=function(t){switch(t.type){case"bar":case"column":case"area":return this.getYKeyCount(t.yKeys);case"pie":return 1/0;default:return 1}},l.fontFamily="Verdana, sans-serif",l.cartesianDefaults=Hi(Hi({},l.getChartDefaults()),{axes:{number:Hi({},l.getAxisDefaults()),log:Hi(Hi({},l.getAxisDefaults()),{base:10}),category:Hi({},l.getAxisDefaults()),groupedCategory:Hi({},l.getAxisDefaults()),time:Hi({},l.getAxisDefaults())},series:{column:Hi(Hi({},l.getBarSeriesDefaults()),{flipXY:!1}),bar:Hi(Hi({},l.getBarSeriesDefaults()),{flipXY:!0}),line:Hi(Hi({},l.getSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Hi({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Hi(Hi({},l.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:Hi({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"}}),area:Hi(Hi({},l.getSeriesDefaults()),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Hi(Hi({},l.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Hi(Hi({},l.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),l.defaults={cartesian:l.cartesianDefaults,groupedCategory:l.cartesianDefaults,polar:Hi(Hi({},l.getChartDefaults()),{series:{pie:Hi(Hi({},l.getSeriesDefaults()),{title:{enabled:!0,padding:new Nd(0),text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),hierarchy:Hi(Hi({},l.getChartDefaults()),{series:{treemap:Hi(Hi({},l.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}})},l.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],l.polarSeriesTypes=["pie"],l.hierarchySeriesTypes=["treemap"],l.seriesTypes=l.cartesianSeriesTypes.concat(l.polarSeriesTypes),l}(),im=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),al=function(){return al=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},al.apply(this,arguments)},Yf=function(l){function t(e){return l.call(this,e)||this}return im(t,l),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",o={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},s={label:{color:e}},h={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:"rgb(150, 150, 150)"},axes:{number:al({},o),category:al({},o),time:al({},o)},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults({cartesian:al(al({},h),{series:{bar:al({},s),column:al({},s),histogram:al({},s)}}),polar:al(al({},h),{series:{pie:al(al({},s),{title:{color:e}})}})})},t}(yd),om=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z2={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},yp=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return om(t,l),t.prototype.getPalette=function(){return Z2},t}(yd),am=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kf={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},Q2=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return am(t,l),t.prototype.getPalette=function(){return Kf},t}(Yf),J2=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yh={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},u=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return J2(t,l),t.prototype.getPalette=function(){return yh},t}(yd),i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),n={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},a=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return i(t,l),t.prototype.getPalette=function(){return n},t}(Yf),c=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},v=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return c(t,l),t.prototype.getPalette=function(){return d},t}(yd),C=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},I=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return C(t,l),t.prototype.getPalette=function(){return x},t}(Yf),U=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pe={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},_e=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return U(t,l),t.prototype.getPalette=function(){return pe},t}(yd),it=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xt={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Ut=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return it(t,l),t.prototype.getPalette=function(){return xt},t}(Yf),sn=function(){return sn=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},sn.apply(this,arguments)},qt=new yd,En=new Yf,xn={undefined:qt,null:qt,"ag-default":qt,"ag-material":new yp,"ag-pastel":new u,"ag-solar":new v,"ag-vivid":new _e},er={undefined:En,null:En,"ag-default-dark":En,"ag-material-dark":new Q2,"ag-pastel-dark":new a,"ag-solar-dark":new I,"ag-vivid-dark":new Ut},Ar=sn(sn({},er),xn);function hi(l){return l instanceof yd?l:Ar[l]||((l=l).baseTheme||l.overrides||l.palette?new(hi(l.baseTheme).constructor)(l):qt)}var vi=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ei=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Br=function(l){return l},Ai=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="log",e._domain=[1,10],e.baseLog=Br,e.basePow=Br,e._base=10,e}return vi(t,l),t.prototype.setDomain=function(e){var r=e[0],o=e[e.length-1];(0===r||0===o||r<0&&o>0||r>0&&o<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===r&&o>0?r=Number.EPSILON:0===o&&r<0?o=-Number.EPSILON:r<0&&o>0?Math.abs(o)>=Math.abs(r)?r=Number.EPSILON:o=-Number.EPSILON:r>0&&o<0&&(Math.abs(o)>=Math.abs(r)?r=-Number.EPSILON:o=Number.EPSILON),(e=e.slice())[0]=r,e[e.length-1]=o),l.prototype.setDomain.call(this,e)},t.prototype.getDomain=function(){return l.prototype.getDomain.call(this)},Object.defineProperty(t.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var e=this.base,r=t.makeLogFn(e),o=t.makePowFn(e);this.domain[0]<0?(r=this.reflect(r),o=this.reflect(o),this.transform=function(s){return-Math.log(-s)},this.untransform=function(s){return-Math.exp(-s)}):(this.transform=function(s){return Math.log(s)},this.untransform=function(s){return Math.exp(s)}),this.baseLog=r,this.basePow=o,l.prototype.rescale.call(this)},t.prototype.reflect=function(e){return function(r){return-e(-r)}},t.prototype.nice=function(){var e,r,o=this.domain,s=0,h=o.length-1,p=o[s],y=o[h];y<p&&(s=(e=ei([h,s],2))[0],h=e[1],p=(r=ei([y,p],2))[0],y=r[1]),o[s]=this.basePow(Math.floor(this.baseLog(p))),o[h]=this.basePow(Math.ceil(this.baseLog(y))),this.domain=o},t.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},t.makePowFn=function(e){return 10===e?t.pow10:e===Math.E?Math.exp:function(r){return Math.pow(e,r)}},t.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var r=Math.log(e);return function(o){return Math.log(o)/r}},t.prototype.ticks=function(e){var r;void 0===e&&(e=10);var o=null==e?10:+e,s=this.base,h=this.domain,p=h[0],y=h[h.length-1],S=y<p;S&&(p=(r=ei([y,p],2))[0],y=r[1]);var E=this.baseLog(p),T=this.baseLog(y),O=[];if(!(s%1)&&T-E<o){if(E=Math.round(E)-1,T=Math.round(T)+1,p>0){for(;E<T;++E)for(var F=1,k=this.basePow(E);F<s;++F)if(!((Q=k*F)<p)){if(Q>y)break;O.push(Q)}}else for(;E<T;++E)for(F=s-1,k=this.basePow(E);F>=1;--F){var Q;if(!((Q=k*F)<p)){if(Q>y)break;O.push(Q)}}2*O.length<o&&(O=Xh(p,y,o))}else O=Xh(E,T,Math.min(T-E,o)).map(this.basePow);return S?O.reverse():O},t.prototype.tickFormat=function(e,r){var o=this,s=this.base;if(null==r&&(r=10===s?".0e":","),"function"!=typeof r&&(r=cf(r)),e===1/0)return r;null==e&&(e=10);var h=Math.max(1,s*e/this.ticks().length);return function(p){var y=p/o.basePow(Math.round(o.baseLog(p)));return y*s<s-.5&&(y*=s),y<=h?r(p):""}},t}(ds),za=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),da=function(l){function t(){var e=l.call(this)||this;return e.scale=new Ai,e.scale.clamper=J1,e}return za(t,l),Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),t.className="LogAxis",t.type="log",t}(jd),Sl=function(){return Sl=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Sl.apply(this,arguments)},Fu=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},ts=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Fu(arguments[t]));return l},$f=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Lu(l,t,e){var r,o,s=(e||{}).stringify,h=void 0===s?[]:s,p=Zc(l);if("array"===Zc(t))return"array"!==p||l.length!==t.length||t.some(function(fe,ve){var Be;return null!=Lu(null===(Be=l)||void 0===Be?void 0:Be[ve],fe)})?ts(t):null;var S=l||{},E=t||{},T=new Set(ts(Object.keys(S),Object.keys(E))),O=0,F={},k=function(fe){if(S[fe]===E[fe])return"continue";var ve=function(Ft){F[fe]=Ft,O++};if(h.includes(fe))return JSON.stringify(S[fe]!==JSON.stringify(E[fe]))&&ve(E[fe]),"continue";var Be=Zc(S[fe]),ct=Zc(E[fe]);if(Be!==ct||"primitive"===ct||null===ct||"array"===ct&&S[fe].length!==E[fe].length||"class-instance"===ct||"function"===ct&&S[fe]!==E[fe])return ve(E[fe]),"continue";var tt=Lu(S[fe],E[fe],{stringify:h});null!==tt&&ve(tt)};try{for(var Q=$f(T),de=Q.next();!de.done;de=Q.next())k(de.value)}catch(fe){r={error:fe}}finally{try{de&&!de.done&&(o=Q.return)&&o.call(Q)}finally{if(r)throw r.error}}return 0===O?null:F}var Cp=Symbol("<delete-property>"),T8=Symbol("<unspecified-property>");function Iu(){for(var l,t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=e.map(function(O){return Zc(O)});if(o.some(function(O){return"array"===O})){var s=e[e.length-1];return s instanceof Array?s.map(function(O){var F=Zc(O);return"array"===F?Iu([],O):"object"===F?Iu({},O):O}):s}var h={},p=new Set(e.map(function(O){return null!=O?Object.keys(O):[]}).reduce(function(O,F){return O.concat(F)},[])),y=function(O){var F=e.map(function(he){return null!=he&&O in he?he[O]:T8}).filter(function(he){return he!==T8});if(0===F.length)return"continue";var k=F[F.length-1];if(k===Cp)return"continue";var Q=F.map(function(he){return Zc(he)}),de=Q[0];if(Q.some(function(he){return he!==de&&null!==he}))return h[O]=k,"continue";h[O]="array"===de||"object"===de?Iu.apply(void 0,ts(F)):k};try{for(var S=$f(p),E=S.next();!E.done;E=S.next()){var T=E.value;y(T)}}catch(O){l={error:O}}finally{try{E&&!E.done&&(t=S.return)&&t.call(S)}finally{if(l)throw l.error}}return h}function Nu(l,t,e){void 0===e&&(e={});var r,o,s,h=e.path,p=void 0===h?void 0:h,y=e.matcherPath,S=void 0===y?p?p.replace(/(\[[0-9+]{1,}\])/i,"[]"):void 0:y,E=e.skip,T=void 0===E?[]:E,O=e.constructors,F=void 0===O?{}:O,k=e.allowedTypes,Q=void 0===k?{}:k;if(null==l)throw new Error("AG Charts - target is uninitialised: "+(p||"<root>"));if(null==t)return l;var de=Zc(l);for(var he in t)if(!(T.indexOf(he)>=0)){var fe=t[he],ve=(p?p+".":"")+he,Be=(S?S+".":"")+he,ct=l,tt=ct.constructor,Ft=ct[he],Nt=F[he];try{var jt=Zc(Ft),Jt=Zc(fe);if("class-instance"===de&&!(he in l)&&!ct.hasOwnProperty(he)){console.warn("AG Charts - unable to set ["+ve+"] in "+(null===(r=tt)||void 0===r?void 0:r.name)+" - property is unknown");continue}var Mn=Q[Be]||[jt];if(("class-instance"!==jt||"object"!==Jt)&&null!=jt&&null!=Jt&&!Mn.includes(Jt)){console.warn("AG Charts - unable to set ["+ve+"] in "+(null===(o=tt)||void 0===o?void 0:o.name)+" - can't apply type of ["+Jt+"], allowed types are: ["+Mn+"]");continue}"array"===Jt||"class-instance"===Jt?ct[he]=fe:"object"===Jt?null!=Ft?Nu(Ft,fe,Sl(Sl({},e),{path:ve,matcherPath:Be})):ct[he]=null!=Nt?Nu(new Nt,fe,Sl(Sl({},e),{path:ve,matcherPath:Be})):fe:ct[he]=fe}catch(Dn){console.warn("AG Charts - unable to set ["+ve+"] in ["+(null===(s=tt)||void 0===s?void 0:s.name)+"]; nested error is: "+Dn.message);continue}}return l}function sm(l,t,e){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s,h=Zc(l),p=e.skip||[];if("array"!==h){if("object"===h){t.apply(void 0,ts([h,l],r));var y=function(E){if(p.indexOf(E)>=0)return"continue";var T=l[E],O=null===(s=r)||void 0===s?void 0:s.map(function(k){var Q;return null===(Q=k)||void 0===Q?void 0:Q[E]}),F=Zc(T);("object"===F||"array"===F)&&sm.apply(void 0,ts([T,t,e],O))};for(var S in l)y(S)}}else l.forEach(function(E,T){var O;sm.apply(void 0,ts([E,t,e],null===(O=r)||void 0===O?void 0:O.map(function(F){var k;return null===(k=F)||void 0===k?void 0:k[T]})))})}function Zc(l){return null==l?null:l instanceof HTMLElement?"primitive":l instanceof Array?"array":l instanceof Date?"primitive":"object"==typeof l&&l.constructor===Object?"object":"function"==typeof l?"function":"object"==typeof l&&null!=l.constructor?"class-instance":"primitive"}var Do=function(){return Do=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Do.apply(this,arguments)},Xg={visible:!0,fill:"white"},e3={top:20,right:20,bottom:20,left:20},t3={enabled:!0,position:ps.Right,spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif"}}},lm={enabled:!0,tracking:!0,delay:0,class:Fs.defaultTooltipClass},Ch={enabled:!0},qf={enabled:!1,text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)",padding:{top:10,right:10,bottom:10,left:10}},cm={enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(140, 140, 140)"},fy={type:"cartesian",autoSize:!0,background:Xg,height:300,width:600,legend:t3,navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}},padding:e3,subtitle:cm,title:qf,tooltip:lm,series:[],axes:[{type:jd.type,position:Lr.Left},{type:Wc.type,position:Lr.Bottom}]},gy={axes:[{type:"number",position:Lr.Bottom},{type:"category",position:Lr.Left}]},um={axes:[{type:"number",position:Lr.Bottom},{type:"number",position:Lr.Left}]},M8={type:"polar",autoSize:!0,background:Xg,height:300,width:600,legend:t3,padding:e3,subtitle:cm,title:qf,tooltip:lm,series:[]},P8={type:"hierarchy",autoSize:!0,background:Xg,height:300,width:600,legend:t3,padding:e3,subtitle:cm,title:qf,tooltip:lm,series:[]},n3={enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5},r3={enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0},$0={item:{fill:"yellow"},series:{dimOpacity:1}},o3={enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},q0={visible:!0,showInLegend:!0,cursor:"default",xKey:"",xName:"",strokeWidth:2,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,highlightStyle:$0,tooltip:Ch,label:o3},Y7=Do(Do({},q0),{type:"line",title:void 0,yKey:"",yName:"",tooltip:Do(Do({},q0.tooltip),{format:void 0}),label:Do(Do({},q0.label),{formatter:void 0}),marker:r3}),vy=Do(Do({},q0),{type:"bar",flipXY:!0,fillOpacity:1,yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,label:Do(Do({},q0.label),{formatter:void 0,placement:Ql.Inside}),shadow:n3}),A8=Do(Do({},vy),{type:"column",flipXY:!1}),a3=Do(Do({},q0),{type:"area",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:1,marker:r3,shadow:n3}),my={type:"scatter",title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,highlightStyle:$0,tooltip:Ch,label:o3,marker:r3},yy={type:"histogram",xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,areaPlot:!1,binCount:void 0,bins:void 0,aggregation:"sum",highlightStyle:$0,tooltip:Ch,label:o3,shadow:n3},R8={visible:!0,showInLegend:!0,cursor:"default",angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,fillOpacity:1,strokeOpacity:1,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,strokeWidth:1,lineDash:void 0,lineDashOffset:0,tooltip:Ch,highlightStyle:$0,title:{enabled:!0,padding:{top:10,right:10,bottom:10,left:10},text:"Series Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"black"},label:Do(Do({},o3),{offset:3,minAngle:20}),callout:{length:10,strokeWidth:1},shadow:n3},X0={visible:!0,cursor:"default",showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,tooltip:Ch,highlightStyle:$0,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}},Z0={type:"number",gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],line:{width:1,color:"rgb(195, 195, 195)"},title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgb(70, 70, 70)"},label:Do(Do({},{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0}),{formatter:void 0}),tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10}},Cy=Do(Do({},Z0),{type:"category"}),_y=Do(Do({},Z0),{type:"log",base:10}),wy=Do(Do({},Z0),{type:"groupedCategory"}),Sy=Do(Do({},Z0),{type:"time"}),F8={line:Y7,bar:vy,area:a3,column:A8,histogram:yy,scatter:my,pie:R8,treemap:X0},by={number:Z0,category:Cy,groupedCategory:wy,log:_y,time:Sy},Zg=function(){return Zg=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Zg.apply(this,arguments)};function L8(l){return null!=l&&l instanceof Array&&l[0]instanceof Array}function I8(l,t){if(null==l)return{};if(!(l instanceof Array))return l;var e=t.yKeys;if(null==e||L8(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var r={};return e.forEach(function(o,s){r[o]=l[s]}),r}function Ey(l,t){return null==l?[[]]:L8(l)?l:t.grouped?l.map(function(e){return[e]}):[l]}function N8(l){if(null!=l){var t=l.placement;return Zg(Zg({},l),{placement:"inside"===t?Ql.Inside:"outside"===t?Ql.Outside:void 0})}}function k8(l){var t=Zg(Zg({},l),{yKeys:l.yKeys||[l.yKey]});return delete t.yKey,function Qg(l,t){var e={};for(var r in l)e[r]=(t[r]||function(s){return s})(l[r],l);return e}(t,{yNames:I8,yKeys:Ey,label:N8})}function Xf(l){return l}var Dy={area:Xf,bar:k8,column:k8,histogram:Xf,line:Xf,pie:Xf,scatter:Xf,treemap:Xf};function dm(l){return(0,Dy[l.type||"line"])(l)}var s3=function(){return s3=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},s3.apply(this,arguments)},l3=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},z8=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},hm=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(z8(arguments[t]));return l};function V8(l,t){var e,r,o={},s=["yKeys","fills","strokes","yNames","hideInChart","hideInLegend"],h=["yKey","fill","stroke","yName"];try{for(var p=l3(l),y=p.next();!y.done;y=p.next()){var S=y.value;for(var E in S){var T=s.indexOf(E)>-1,O=h.indexOf(E)>-1;T&&S[E].length>0?o[E]=hm(o[E]||[],S[E]):O?o[E+"s"]=hm(o[E+"s"]||[],[S[E]]):t&&"showInLegend"===E?!1===S[E]&&(o.hideInLegend=hm(o.hideInLegend||[],S.yKey?[S.yKey]:S.yKeys)):t&&"grouped"===E?!0===S[E]&&(o[E]=S[E]):o[E]=S[E]}}}catch(F){e={error:F}}finally{try{y&&!y.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}return o}var _p=function(){return _p=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},_p.apply(this,arguments)},Ty=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},G8=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Ty(arguments[t]));return l};function Jg(l){var t,e;return l.type||(null===(e=null===(t=l.series)||void 0===t?void 0:t[0])||void 0===e?void 0:e.type)||"cartesian"}function wp(l){var t=Jg(l);if(null==t)return!0;switch(t){case"cartesian":case"area":case"bar":case"column":case"groupedCategory":case"histogram":case"line":case"scatter":return!0;default:return!1}}function Q0(l){if(null==Jg(l))return!1;switch(l.type){case"hierarchy":case"treemap":return!0;default:return!1}}function J0(l){if(null==Jg(l))return!1;switch(l.type){case"polar":case"pie":return!0;default:return!1}}function B8(l){var t,e,r=0;try{for(var o=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),s=o.next();!s.done;s=o.next()){var h=s.value;h instanceof Array&&(r+=B8(h)),null!=h&&r++}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r}function _h(l,t,e){for(var r=[],o=0;o<e;o++)r.push(t[(o+l.colourIndex)%t.length]);return r}function fm(l,t){var e=null==t?l:Iu(t,l);!function My(l){var t,e;(null===(t=l.series)||void 0===t?void 0:t.some(function(r){return null!=r.yKeys&&null!=r.yKey}))&&console.warn("AG Charts - series options yKeys and yKey are mutually exclusive, please only use yKey for future compatibility."),(null===(e=l.series)||void 0===e?void 0:e.some(function(r){return null!=r.yNames&&null!=r.yName}))&&console.warn("AG Charts - series options yNames and yName are mutually exclusive, please only use yName for future compatibility.")}(e);var r=e.type,o=Jg(e),s=wp(e=_p(_p({},e),{type:o}))?fy:Q0(e)?P8:J0(e)?M8:{},h=wp(e)?"line":Q0(e)?"treemap":J0(e)?"pie":"line",y=function Py(l,t,e){var r=function W8(l){var t=hi(l.theme),e=t.getConfig(Jg(l)||"cartesian");return{theme:t,axesThemes:e.axes||{},seriesThemes:e.series||{},cleanedTheme:Iu(e,{axes:Cp,series:Cp})}}(e),h=r.axesThemes,p=r.seriesThemes;return{context:{colourIndex:0,palette:r.theme.palette},mergedOptions:Iu(l,t,r.cleanedTheme,e),axesThemes:h,seriesThemes:p}}(s,"bar"===o?gy:"scatter"===o||"histogram"===o?um:{},e),S=y.context,E=y.mergedOptions,T=y.axesThemes,O=y.seriesThemes;return E.series=function pm(l){var t,e,r=[],o=l.map(function(y){return"bar"!==y.type&&"column"!==y.type||null==y.yKey||y.stacked?y:s3(s3({},y),{grouped:null==y.grouped||y.grouped})});try{for(var s=l3(function Oy(l){var t,e,r={},o=[];try{for(var s=l3(l),h=s.next();!h.done;h=s.next()){var p=h.value;if("column"===p.type||"bar"===p.type||"area"===p.type&&!0===p.stacked){var E=(p.type||"line")+"-"+p.xKey+"-"+(p.stacked?"stacked":p.grouped?"grouped":p.yKeys?"stacked":"grouped");null==r[E]&&(r[E]=[],o.push(r[E])),r[E].push(p)}else o.push([p])}}catch(T){t={error:T}}finally{try{h&&!h.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o}(o)),h=s.next();!h.done;h=s.next()){var p=h.value;switch(p[0].type){case"column":case"bar":r.push(V8(p,!0));break;case"area":r.push(V8(p,!1));break;default:p.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+p[0].type),r.push(p[0])}}}catch(y){t={error:y}}finally{try{h&&!h.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r}(E.series||[]).map(function(F){var k=F.type?F.type:function xy(l){return null!=l&&["line","bar","column","histogram","scatter","area","pie","treemap"].indexOf(l)>=0}(r)?r:h,Q=_p(_p({},F),{type:k});return function Ay(l,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var o=Ry(l,t);return dm(Iu.apply(void 0,G8(e,[o,t,{stacked:Cp}])))}(S,Q,F8[k],O[k]||{})}),wp(E)&&(E.axes||[]).forEach(function(F,k){var Q=F.type||"number",de=_p(_p({},F),{type:Q}),he=Iu(T[Q],T[Q][F.position||"unknown"]||{});E.axes[k]=function Fy(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return Iu.apply(void 0,G8(t,[l,{top:Cp,bottom:Cp,left:Cp,right:Cp}]))}(de,by[Q],he)}),function gm(l,t){sm(l,function(e,r,o){!o||"enabled"in o&&null==r.enabled&&(o.enabled=!0)},{skip:["data"]},t)}(e,E),E}function Ry(l,t){var e={},r=l.palette,o=r.fills,s=r.strokes,p=B8(t.yKeys||[])||1;switch(t.type){case"pie":p=Math.max(o.length,s.length);case"area":case"bar":case"column":e.fills=_h(l,o,p),e.strokes=_h(l,s,p);break;case"histogram":e.fill=_h(l,o,1)[0],e.stroke=_h(l,s,1)[0];break;case"scatter":e.fill=_h(l,o,1)[0];case"line":e.stroke=_h(l,o,1)[0],e.marker={stroke:_h(l,s,1)[0],fill:_h(l,o,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+t.type)}return l.colourIndex+=p,e}var Va=function(){return Va=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Va.apply(this,arguments)},j8=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},ev=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(j8(arguments[t]));return l},U8=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Y8(l){if(wp(l))return"cartesian";if(J0(l))return"polar";if(Q0(l))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+l.type)}var Ns=function(){function l(){}return l.createComponent=function(t,e){return e.indexOf(".series")>=0?mm([Va(Va({},t),{type:t.type||e.split(".")[0]})])[0]:null},l.create=function(t,e,r){return vm.create(t)},l.update=function(t,e,r,o){return vm.update(t,e)},l}(),vm=function(){function l(){}return l.create=function(t){tv("user options",t);var e=fm(t),r=wp(e)?"groupedCategory"===e.type?new X3(document):new lp(document):Q0(e)?new R2(document):J0(e)?new Lg(document):void 0;if(!r)throw new Error("AG Charts - couldn't apply configuration, check type of options: "+e.type);return l.updateDelta(r,e,t),r},l.update=function(t,e){tv("user options",e);var r=fm(e,t.userOptions);if(Y8(r)!==Y8(t.options))return t.destroy(),void console.warn("AG Charts - options supplied require a different type of chart, please recreate the chart.");var o=Lu(t.options,r,{stringify:["data"]});null!=o&&l.updateDelta(t,o,e)},l.updateDelta=function(t,e,r){null==e.type&&(e=Va(Va({},e),{type:t.options.type||Jg(e)})),tv("delta update",e),function Ly(l,t,e){if(wp(t))ym(l,t,{skip:["type","data","series","axes","autoSize","listeners","theme"]});else if(J0(t))ym(l,t,{skip:["type","data","series","autoSize","listeners","theme"]});else{if(!Q0(t))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);ym(l,t,{skip:["type","data","series","autoSize","listeners","theme"]})}var r=!1;t.series&&t.series.length>0&&function K8(l,t){var e=t.series;if(e){if(l.series.length===e.length&&l.series.every(function(o,s){var h;return o.type===(null===(h=e[s])||void 0===h?void 0:h.type)}))return void l.series.forEach(function(o,s){var h,p,S=Lu((null===(p=null===(h=l.options)||void 0===h?void 0:h.series)||void 0===p?void 0:p[s])||{},e[s]||{});tv("applying series diff idx "+s,S),Nu(o,S)});l.series=mm(e)}}(l,t),wp(t)&&t.axes&&(r=function Iy(l,t){var e=t.axes;if(!e)return!1;if(l.axes.length===e.length&&l.axes.every(function(s,h){return s.type===e[h].type})){var o=l.options;if(wp(o))return l.axes.forEach(function(s,h){var p,S=Lu((null===(p=o.axes)||void 0===p?void 0:p[h])||{},e[h]);tv("applying axis diff idx "+h,S),Nu(s,S)}),!0}return l.axes=function K7(l){var t,e,r=[],o=0;try{for(var s=U8(l||[]),h=s.next();!h.done;h=s.next()){var p=h.value,y="axis["+o+++"]";switch(p.type){case"number":r.push(wh(new jd,p,{path:y}));break;case da.type:r.push(wh(new da,p,{path:y}));break;case Wc.type:r.push(wh(new Wc,p,{path:y}));break;case _u.type:r.push(wh(new _u,p,{path:y}));break;case op.type:r.push(wh(new op,p,{path:y}));break;default:throw new Error("AG Charts - unknown axis type: "+p.type)}}}catch(S){t={error:S}}finally{try{h&&!h.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return r}(e),!0}(l,t)),t.data&&(l.data=t.data,r=!0),null!=t.autoSize&&(l.autoSize=t.autoSize),t.listeners&&$8(l,t.listeners),l.layoutPending=!0,r&&l.processData(),l.performLayout(),l.options=Iu(l.options||{},t),l.userOptions=Iu(l.userOptions||{},e)}(t,e,r)},l.DEBUG=!1,l}();function tv(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];vm.DEBUG&&console.log.apply(console,ev([l],t))}function mm(l){var t,e,r=[],o=["listeners"],s=0;try{for(var h=U8(l||[]),p=h.next();!p.done;p=h.next()){var y=p.value,S="series["+s+++"]";switch(y.type){case"area":r.push(Qc(new V0,y,{path:S,skip:o}));break;case"bar":case"column":r.push(Qc(new dp,y,{path:S,skip:o}));break;case"histogram":r.push(Qc(new hp,y,{path:S,skip:o}));break;case"line":r.push(Qc(new dh,y,{path:S,skip:o}));break;case"scatter":r.push(Qc(new Bg,y,{path:S,skip:o}));break;case"pie":r.push(Qc(new vh,y,{path:S,skip:o}));break;case"treemap":r.push(Qc(new Ir,y,{path:S,skip:o}));break;default:throw new Error("AG Charts - unknown series type: "+y.type)}}}catch(E){t={error:E}}finally{try{p&&!p.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}return r.forEach(function(E,T){var O,F,k=null===(F=null===(O=l)||void 0===O?void 0:O[T])||void 0===F?void 0:F.listeners;null!=k&&$8(E,k)}),r}function $8(l,t){for(var e in t)l.addEventListener(e,t[e])}var Zf={constructors:{title:qh,subtitle:qh,shadow:Yg},allowedTypes:{"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function ym(l,t,e){var r=void 0===e?{}:e,o=r.skip,s=r.path;return Nu(l,t,Va(Va(Va({},Zf),{skip:ev(["type"],o||[])}),s?{path:s}:{}))}function Qc(l,t,e){var h,r=void 0===e?{}:e,o=r.skip,s=r.path,p=(null===(h=Zf)||void 0===h?void 0:h.constructors)||{},y={constructors:Va(Va({},p),{title:"pie"===l.type?B2:p.title})};return Nu(l,t,Va(Va(Va(Va({},Zf),y),{skip:ev(["type"],o||[])}),s?{path:s}:{}))}function wh(l,t,e){var r=void 0===e?{}:e,o=r.skip,s=r.path;return Nu(l,t,Va(Va(Va({},Zf),{skip:ev(["type"],o||[])}),s?{path:s}:{}))}function Sh(l){switch(l){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var q8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),c3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Qf=function(l){function t(e){var r=l.call(this)||this;return r.model=e,r}return q8(t,l),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,w.zW2.EVENT_RANGE_SELECTION_CHANGED,function(r){r.id&&r.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",r=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:r}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this;return this.gridOptionsWrapper.getChartThemes().map(function(o){return hi(e.chartProxy.isStockTheme(o)?o:e.chartProxy.lookupCustomChartTheme(o)).palette})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getDimensionColState=function(){return this.model.dimensionColState},t.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},t.prototype.displayNameMapper=function(e){var r=this.model.columnNames[e.colId];return e.displayName=r?r.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===$u.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return w._.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,r,o){var s=this.model.seriesChartTypes.find(function(y){return y.colId===e});if(s){var h="customCombo"!==this.model.chartType;h&&(this.model.chartType="customCombo");var p=s.chartType;null!=r&&(s.chartType=r),null!=o&&(s.secondaryAxis=o),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),h&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_TYPE_CHANGED})),p!==r&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}))}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(r){return r.colId});return this.getSeriesChartTypes().filter(function(r){return e.includes(r.colId)})},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[Sh(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),r=e[0],o=r&&r.startRow||null,s=r&&r.endRow||null;return{rowStartIndex:o&&o.rowIndex,rowStartPinned:o&&o.rowPinned,rowEndIndex:s&&s.rowIndex,rowEndPinned:s&&s.rowPinned,columns:e.reduce(function(h,p){return h.concat(p.columns.map(function(y){return y.getId()}))},[])}},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),s=Object.freeze({type:w.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(s)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:w.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",c3([(0,w.fsG)("rangeService")],t.prototype,"rangeService",void 0),c3([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),c3([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),c3([w.NqP],t.prototype,"init",null),t}(w.AS9),ky=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cm=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},X8=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Z8=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(X8(arguments[t]));return l},u3=function(l){function t(e,r){var o=l.call(this,t.TEMPLATE)||this;return o.chartController=e,o.chartOptionsService=r,o.columnComps=new Map,o}return ky(t,l),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,Qf.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),l.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,r=this.chartType,o=this.chartController.getColStateForMenu(),s=o.dimensionCols,h=o.valueCols,p=s.map(function(E){return E.colId}).concat(h.map(function(E){return E.colId}));this.chartType=this.chartController.getChartType();var y=this.getGroupExpandedState();if(w._.areEqual(w._.keys(this.columnComps),p)&&this.chartType===r){if(Z8(s,h).forEach(function(E){e.columnComps.get(E.colId).setValue(E.selected,!0)}),this.chartController.isActiveXYChart()){var S=this.generateGetSeriesLabel();h.forEach(function(E){e.columnComps.get(E.colId).setLabel(S(E))})}w._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.createSeriesChartTypeGroup(h)}else this.clearComponents(),this.createCategoriesGroup(s),this.createSeriesGroup(h),this.createSeriesChartTypeGroup(h);this.restoreGroupExpandedState(y)},t.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map(function(e){return!e||e.isExpanded()})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(r,o){!r||r.toggleGroupExpand(e[o])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new w.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.addComponent=function(e,r,o){var s=document.createElement("div");s.id=o,s.className="ag-chart-data-section",s.appendChild(r.getGui()),e.appendChild(s)},t.prototype.addChangeListener=function(e,r){var o=this;this.addManagedListener(e,w.J8Z.EVENT_CHANGED,function(){r.selected=e.getValue(),o.chartController.updateForPanelChange(r)})},t.prototype.createCategoriesGroup=function(e){var r=this;this.categoriesGroupComp=this.createBean(new w.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o="chartDimension"+this.getCompId();e.forEach(function(s){var h=r.categoriesGroupComp.createManagedBean(new w.LQq);h.setLabel(w._.escapeString(s.displayName)),h.setValue(s.selected),h.setInputName(o),r.addChangeListener(h,s),r.categoriesGroupComp.addItem(h),r.columnComps.set(s.colId,h)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},t.prototype.createSeriesGroup=function(e){var r=this;if(this.seriesGroupComp=this.createManagedBean(new w.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var o=this.seriesGroupComp.createManagedBean(new w.nN0);o.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(p){r.chartOptionsService.setPairedMode(!!p),r.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(o)}var s=this.generateGetSeriesLabel();e.forEach(function(p){var y=r.seriesGroupComp.createManagedBean(new w.jkc);y.addCssClass("ag-data-select-checkbox");var S=s(p);y.setLabel(S),y.setValue(p.selected),r.addChangeListener(y,p),r.seriesGroupComp.addItem(y),r.columnComps.set(p.colId,y),r.addDragHandle(y,p)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var h={getIconName:function(){return w.jUB.ICON_MOVE},getContainer:function(){return r.seriesGroupComp.getGui()},onDragging:function(p){return r.onDragging(p)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this)};this.dragAndDropService.addDropTarget(h)},t.prototype.createSeriesChartTypeGroup=function(e){var r=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new w.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();e.forEach(function(s){if(s.selected){var h=o.filter(function(O){return O.colId===s.colId})[0];if(h){var p=r.seriesChartTypeGroupComp.createManagedBean(new w.H1u({title:s.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),y=r.seriesChartTypeGroupComp.createManagedBean(new w.jkc).setLabel(r.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(h.chartType)).setValue(!!h.secondaryAxis).onValueChange(function(O){return r.chartController.updateSeriesChartType(s.colId,void 0,O)});p.addItem(y);var S=function(O,F){return r.chartTranslationService.translate(O,F)},E=[{value:"line",text:S("line","Line")},{value:"area",text:S("area","Area")},{value:"stackedArea",text:S("stackedArea","StackedArea")},{value:"groupedColumn",text:S("groupedColumn","Grouped Column")},{value:"stackedColumn",text:S("stackedColumn","Stacked Column")}],T=p.createManagedBean(new w.wGv);T.setLabelAlignment("left").setLabelWidth("flex").addOptions(E).setValue(h.chartType).onValueChange(function(O){return r.chartController.updateSeriesChartType(s.colId,O)}),p.addItem(T),r.seriesChartTypeGroupComp.addItem(p)}}}),this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup")}},t.prototype.addDragHandle=function(e,r){var o=this,s=w._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);s.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",s);var h={type:w.rvo.ChartPanel,eElement:s,dragItemName:r.displayName,getDragItem:function(){return{columns:[r.column]}},onDragStopped:function(){return o.onDragStop()}};this.dragAndDropService.addDragSource(h,!0),this.addDestroyFunc(function(){return o.dragAndDropService.removeDragSource(h)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(h){return w._.escapeString(h.displayName)};var e="bubble"===this.chartType,r=this.isInPairedMode(),o=0,s=new Map;return s.set(0,"X"),s.set(1,"Y"),s.set(2,"size"),function(h){var y,p=w._.escapeString(h.displayName);return h.selected?(y=r?s.get(o%(e?3:2)):0===o?"X":e&&o%2==0?"size":"Y",o++,p+" ("+y+")"):p}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){w._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var r=this.checkHoveredItem(e);if(r){this.lastDraggedColumn=e.dragItem.columns[0];var o=r.comp,s=r.position,h=this.lastHoveredItem||{};o===h.comp&&s===h.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:o,position:s},o.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+s))}},t.prototype.checkHoveredItem=function(e){var r,o;if(w._.missing(e.vDirection))return null;var s=e.event;try{for(var h=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.columnComps.values()),p=h.next();!p.done;p=h.next()){var y=p.value,S=y.getGui();if(S.querySelector(".ag-chart-data-column-drag-handle")){var E=S.getBoundingClientRect();if(s.clientY>=E.top&&s.clientY<=E.bottom)return{comp:y,position:s.clientY>E.top+S.clientHeight/2?"bottom":"top"}}}}catch(k){r={error:k}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var r=this.chartController.getColStateForMenu(),h=Z8(r.dimensionCols,r.valueCols).find(function(y){return y.column===e.lastDraggedColumn});if(h){var p=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&p++,h.order=p,this.chartController.updateForPanelChange(h)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===w.rvo.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',Cm([(0,w.fsG)("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Cm([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Cm([w.NqP],t.prototype,"init",null),t}(w.wA2),e4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jf=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},t4=function(l){function t(e){var r=l.call(this)||this;return r.activeComps=[],r.params=e,r}return e4(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(r){e.params.setEnabled&&e.params.setEnabled(r)})},t.prototype.initFontFamilySelect=function(){var e=this,r=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],o=this.params.initialFont.family,s=r[0];if(o){var p=r.map(function(E){return E.toLowerCase()}).indexOf(o.toLowerCase());if(p>=0)s=r[p];else{var y=w._.capitalise(o);r.push(y),s=y}}var S=r.sort().map(function(E){return{value:E,text:E}});this.familySelect.addOptions(S).setInputWidth("flex").setValue(""+s).onValueChange(function(E){return e.params.setFont({family:E})})},t.prototype.initFontSizeSelect=function(){var e=this,r=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],o=this.params.initialFont.size;w._.includes(r,o)||r.push(o);var s=r.sort(function(h,p){return h-p}).map(function(h){return{value:""+h,text:""+h}});this.sizeSelect.addOptions(s).setInputWidth("flex").setValue(""+o).onValueChange(function(h){return e.params.setFont({size:parseInt(h,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,r=this.params.initialFont,o=r.weight,s=void 0===o?"normal":o,h=r.style,p=void 0===h?"normal":h,y=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],S=y.find(function(T){return T.weight===s&&T.style===p});S||y.unshift(S={name:"predefined",weight:s,style:p});var E=y.map(function(T){return{value:T.name,text:e.chartTranslationService.translate(T.name)}});this.weightStyleSelect.addOptions(E).setInputWidth("flex").setValue(S.name).onValueChange(function(T){var O=y.find(function(F){return F.name===T});e.params.setFont({weight:O.weight,style:O.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(r){return e.params.setFont({color:r})})},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActiveComps(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Jf([(0,w.cqo)("fontGroup")],t.prototype,"fontGroup",void 0),Jf([(0,w.cqo)("familySelect")],t.prototype,"familySelect",void 0),Jf([(0,w.cqo)("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Jf([(0,w.cqo)("sizeSelect")],t.prototype,"sizeSelect",void 0),Jf([(0,w.cqo)("colorPicker")],t.prototype,"colorPicker",void 0),Jf([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Jf([w.NqP],t.prototype,"init",null),t}(w.wA2),Q8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},zy=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r.activePanels=[],r}return Q8(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(r){e.chartOptionsService.setChartOption("legend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=[ps.Top,ps.Right,ps.Bottom,ps.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(r.map(function(o){return{value:o,text:e.chartTranslationService.translate(o)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(o){return e.chartOptionsService.setChartOption("legend.position",o)})},t.prototype.initLegendPadding=function(){var e=this,r=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(sl(r,200)).setValue(""+r).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("legend.spacing",o)})},t.prototype.initLegendItems=function(){var e=this,r=function(o,s,h,p){var y=e.chartOptionsService.getChartOption("legend."+o);h.setLabel(e.chartTranslationService.translate(s)).setMaxValue(sl(y,p)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(S){e.chartOptionsService.setChartOption("legend."+o,S)})};r("item.marker.size","markerSize",this.markerSizeSlider,40),r("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),r("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),r("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),r("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,o={family:r.getChartOption("legend.item.label.fontFamily"),style:r.getChartOption("legend.item.label.fontStyle"),weight:r.getChartOption("legend.item.label.fontWeight"),size:r.getChartOption("legend.item.label.fontSize"),color:r.getChartOption("legend.item.label.color")},p=this.createBean(new t4({enabled:!0,suppressEnabledCheckbox:!0,initialFont:o,setFont:function(y){var S=e.chartOptionsService;y.family&&S.setChartOption("legend.item.label.fontFamily",y.family),y.weight&&S.setChartOption("legend.item.label.fontWeight",y.weight),y.style&&S.setChartOption("legend.item.label.fontStyle",y.style),y.size&&S.setChartOption("legend.item.label.fontSize",y.size),y.color&&S.setChartOption("legend.item.label.color",y.color)}}));this.legendGroup.addItem(p),this.activePanels.push(p)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Cd([(0,w.cqo)("legendGroup")],t.prototype,"legendGroup",void 0),Cd([(0,w.cqo)("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Cd([(0,w.cqo)("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),Cd([(0,w.cqo)("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),Cd([(0,w.cqo)("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),Cd([(0,w.cqo)("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),Cd([(0,w.cqo)("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),Cd([(0,w.cqo)("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),Cd([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Cd([w.NqP],t.prototype,"init",null),t}(w.wA2),wm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},$7=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return wm(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(o){return e.chartOptionsService.setAxisProperty("tick.color",o)});var r=function(o,s,h,p){var y=e.chartOptionsService.getAxisProperty(o);s.setLabel(h).setMaxValue(sl(y,p)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(S){return e.chartOptionsService.setAxisProperty(o,S)})};r("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),r("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',nv([(0,w.cqo)("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),nv([(0,w.cqo)("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),nv([(0,w.cqo)("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),nv([(0,w.cqo)("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),nv([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),nv([w.NqP],t.prototype,"init",null),t}(w.wA2),Vy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Jc=function(l){function t(e,r){var o=l.call(this)||this;return o.chartController=e,o.chartOptionsService=r,o.activePanels=[],o.axisLabelUpdateFuncs=[],o}return Vy(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,Qf.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(s){return s()})})},t.prototype.initAxis=function(){var e=this,r=this.chartTranslationService;this.axisGroup.setTitle(r.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(r.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(h){return e.chartOptionsService.setAxisProperty("line.color",h)});var o=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(sl(o,10)).setLabel(r.translate("thickness")).setTextFieldWidth(45).setValue(""+o).onValueChange(function(h){return e.chartOptionsService.setAxisProperty("line.width",h)}),w._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var s=[{value:"",text:r.translate("automatic")}];["category","time","number"].forEach(function(h){s.push({value:h,text:r.translate(h)})}),this.xAxisTypeSelect.setLabel(r.translate("xType")).setLabelWidth("flex").addOptions(s).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange(function(h){e.chartOptionsService.setChartOption("xAxis.type","string"==typeof h&&h.length&&h),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new $7(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},h=this.createBean(new t4({enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:function(p){p.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",p.family),p.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",p.weight),p.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",p.style),p.size&&e.chartOptionsService.setAxisProperty("label.fontSize",p.size),p.color&&e.chartOptionsService.setAxisProperty("label.color",p.color),e.chartController.getChartProxy().getChart().layoutPending=!0}}));this.axisGroup.addItem(h),this.activePanels.push(h),this.addAdditionalLabelComps(h)},t.prototype.addAdditionalLabelComps=function(e){var r=this,o=function(E,T){var O=r.chartOptionsService.getLabelRotation(T),F=(new w.nv3).setLabel(E).setLabelWidth("flex").setValue(O||0).onValueChange(function(Q){return r.chartOptionsService.setLabelRotation(T,Q)});r.axisLabelUpdateFuncs.push(function(){var Q=r.chartOptionsService.getLabelRotation(T);F.setValue(Q)});var k=r.createBean(F);e.addCompToPanel(k)},s=String.fromCharCode(176),h=this.chartTranslationService.translate("xRotation")+" "+s,p=this.chartTranslationService.translate("yRotation")+" "+s;o(h,"xAxis"),o(p,"yAxis");var y=this.createBean(new w.h7_),S=this.chartOptionsService.getAxisProperty("label.padding");y.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(sl(S,30)).setValue(""+S).setTextFieldWidth(45).onValueChange(function(E){return r.chartOptionsService.setAxisProperty("label.padding",E)}),e.addCompToPanel(y)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',rv([(0,w.cqo)("axisGroup")],t.prototype,"axisGroup",void 0),rv([(0,w.cqo)("axisColorInput")],t.prototype,"axisColorInput",void 0),rv([(0,w.cqo)("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),rv([(0,w.cqo)("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),rv([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rv([w.NqP],t.prototype,"init",null),t}(w.wA2),J8=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bh=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},iv=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return J8(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,r=this.chartTranslationService;this.navigatorGroup.setTitle(r.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(s){e.chartOptionsService.setChartOption("navigator.enabled",s),e.navigatorGroup.toggleGroupExpand(!0)});var o=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(r.translate("height")).setMinValue(10).setMaxValue(sl(o,60)).setTextFieldWidth(45).setValue(""+(o||30)).onValueChange(function(s){return e.chartOptionsService.setChartOption("navigator.height",s)})},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',bh([(0,w.cqo)("navigatorGroup")],t.prototype,"navigatorGroup",void 0),bh([(0,w.cqo)("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),bh([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),bh([w.NqP],t.prototype,"init",null),t}(w.wA2),e6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),e1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},q7=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return e6(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,r=function(o,s){var h=e.chartOptionsService.getChartOption("padding."+o);s.setLabel(e.chartTranslationService.translate(o)).setMaxValue(sl(h,200)).setValue(""+h).setTextFieldWidth(45).onValueChange(function(p){return e.chartOptionsService.setChartOption("padding."+o,p)})};r("top",this.paddingTopSlider),r("right",this.paddingRightSlider),r("bottom",this.paddingBottomSlider),r("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',e1([(0,w.cqo)("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),e1([(0,w.cqo)("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),e1([(0,w.cqo)("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),e1([(0,w.cqo)("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),e1([(0,w.cqo)("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),e1([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),e1([w.NqP],t.prototype,"init",null),t}(w.wA2),t6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sm=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},n6=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r}return t6(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r){return e.chartOptionsService.setChartOption("background.visible",r)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(r){return e.chartOptionsService.setChartOption("background.fill",r)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',Sm([(0,w.cqo)("chartBackgroundGroup")],t.prototype,"group",void 0),Sm([(0,w.cqo)("colorPicker")],t.prototype,"colorPicker",void 0),Sm([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Sm([w.NqP],t.prototype,"init",null),t}(w.wA2),bm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Em=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},r6=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.chartOptionsService=e,r.activePanels=[],r}return bm(t,l),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,r=this.hasTitle,o=function(y){y.family&&e.setOption("title.fontFamily",y.family),y.weight&&e.setOption("title.fontWeight",y.weight),y.style&&e.setOption("title.fontStyle",y.style),y.size&&e.setOption("title.fontSize",y.size),y.color&&e.setOption("title.color",y.color)},s={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};r||o(s);var h={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:s,setFont:o,setEnabled:function(y){e.setOption("title.enabled",y);var S=e.getOption("title.text");y&&"Title"===S&&e.setOption("title.text",e.titlePlaceholder)}},p=this.createBean(new t4(h));this.getGui().appendChild(p.getGui()),this.activePanels.push(p),this.addManagedListener(this.eventService,"chartTitleEdit",function(){p.setEnabled(e.hasTitle())})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,r){this.chartOptionsService.setChartOption(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",Em([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Em([w.NqP],t.prototype,"init",null),t}(w.wA2);const i6=r6;var o6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Hy=function(l){function t(e){var r=l.call(this)||this;return r.chartOptionsService=e,r.activePanels=[],r}return o6(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new i6(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new q7(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new n6(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',d3([(0,w.cqo)("chartGroup")],t.prototype,"chartGroup",void 0),d3([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),d3([w.NqP],t.prototype,"init",null),t}(w.wA2),Gy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),t1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},By=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return Gy(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("shadow.enabled",o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("shadow.color",o,e.getSelectedSeries())});var r=function(o,s,h,p){var y=e.chartOptionsService.getSeriesOption("shadow."+s,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(s)).setMinValue(h).setMaxValue(sl(y,p)).setValue(""+y).onValueChange(function(S){return e.chartOptionsService.setSeriesOption("shadow."+s,S,e.getSelectedSeries())})};r(this.shadowBlurSlider,"blur",0,20),r(this.shadowXOffsetSlider,"xOffset",-10,10),r(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',t1([(0,w.cqo)("shadowGroup")],t.prototype,"shadowGroup",void 0),t1([(0,w.cqo)("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),t1([(0,w.cqo)("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),t1([(0,w.cqo)("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),t1([(0,w.cqo)("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),t1([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),t1([w.NqP],t.prototype,"init",null),t}(w.wA2),n4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sp=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},a6=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return n4(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(p){return e.setSeriesOption("marker.shape",p)});var o=this.chartOptionsService.getChartType(),s=w._.includes(["scatter","bubble"],o);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(s).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(p){return e.setSeriesOption("marker.enabled",p)});var h=function(p,y,S,E){var T=e.getSeriesOption(p);y.setLabel(e.chartTranslationService.translate(S)).setMaxValue(sl(T,E)).setValue(""+T).setTextFieldWidth(45).onValueChange(function(O){return e.setSeriesOption(p,O)})};"bubble"===o?(h("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),h("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),h("marker.size",this.seriesMarkerSizeSlider,"size",60)),h("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Sp([(0,w.cqo)("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Sp([(0,w.cqo)("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Sp([(0,w.cqo)("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Sp([(0,w.cqo)("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Sp([(0,w.cqo)("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Sp([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Sp([w.NqP],t.prototype,"init",null),t}(w.wA2),s6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),n1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},l6=function(l){function t(e,r){var o=l.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o}return s6(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var r=function(o,s,h,p){var y=e.chartOptionsService.getSeriesOption(o,e.getSelectedSeries());s.setLabel(e.chartTranslationService.translate(h)).setMaxValue(sl(y,p)).setValue(""+y).setTextFieldWidth(45).onValueChange(function(S){return e.chartOptionsService.setSeriesOption(o,S,e.getSelectedSeries())})};r("callout.length",this.calloutLengthSlider,"length",40),r("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),r("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',n1([(0,w.cqo)("calloutGroup")],t.prototype,"calloutGroup",void 0),n1([(0,w.cqo)("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),n1([(0,w.cqo)("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),n1([(0,w.cqo)("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),n1([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),n1([w.NqP],t.prototype,"init",null),t}(w.wA2),c6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dm=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Eh=function(l){function t(e,r,o){var s=l.call(this)||this;return s.chartController=e,s.chartOptionsService=r,s.activePanels=[],s.widgetFuncs={lineWidth:function(){return s.initLineWidth()},strokeWidth:function(){return s.initStrokeWidth()},lineDash:function(){return s.initLineDash()},lineOpacity:function(){return s.initLineOpacity()},fillOpacity:function(){return s.initFillOpacity()},markers:function(){return s.initMarkers()},labels:function(){return s.initLabels()},shadow:function(){return s.initShadow()},tooltips:function(){return s.initTooltips()},bins:function(){return s.initBins()}},s.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},s.seriesType=o||s.getChartSeriesType(),s}return c6(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,Qf.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),this.seriesWidgetMappings[this.seriesType].forEach(function(r){return e.widgetFuncs[r]()})},t.prototype.initSeriesSelect=function(){var e=this,r=this.seriesGroup.createManagedBean(new w.wGv);r.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(o){e.seriesType=o,e.refreshWidgets()}),this.seriesGroup.addItem(r),this.activePanels.push(r)},t.prototype.initTooltips=function(){var e=this,r=this.createBean(new w.nN0);r.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(o){return e.setSeriesOption("tooltip.enabled",o)}),this.addWidget(r)},t.prototype.initStrokeWidth=function(){var e=this,r=this.getSeriesOption("strokeWidth"),o=this.createBean(new w.h7_);o.setLabel(this.translate("strokeWidth")).setMaxValue(sl(r,10)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(o)},t.prototype.initLineWidth=function(){var e=this,r=this.getSeriesOption("strokeWidth"),o=this.createBean(new w.h7_);o.setLabel(this.translate("lineWidth")).setMaxValue(sl(r,10)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(o)},t.prototype.initLineDash=function(){var e=this,r=this.getSeriesOption("lineDash"),o=r?r[0]:0,s=this.createBean(new w.h7_);s.setLabel(this.translate("lineDash")).setMaxValue(sl(o,30)).setTextFieldWidth(45).setValue(""+o).onValueChange(function(h){return e.setSeriesOption("lineDash",[h])}),this.addWidget(s)},t.prototype.initLineOpacity=function(){var e=this,r=this.getSeriesOption("strokeOpacity"),o=this.createBean(new w.h7_);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(sl(r,1)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("strokeOpacity",s)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var e=this,r=this.getSeriesOption("fillOpacity"),o=this.createBean(new w.h7_);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(sl(r,1)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("fillOpacity",s)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,r=function Wy(l,t,e){var r={family:t.getSeriesOption("label.fontFamily",e()),style:t.getSeriesOption("label.fontStyle",e()),weight:t.getSeriesOption("label.fontWeight",e()),size:t.getSeriesOption("label.fontSize",e()),color:t.getSeriesOption("label.color",e())};return{name:l.translate("labels"),enabled:t.getSeriesOption("label.enabled",e())||!1,setEnabled:function(h){return t.setSeriesOption("label.enabled",h,e())},suppressEnabledCheckbox:!1,initialFont:r,setFont:function(h){h.family&&t.setSeriesOption("label.fontFamily",h.family,e()),h.weight&&t.setSeriesOption("label.fontWeight",h.weight,e()),h.style&&t.setSeriesOption("label.fontStyle",h.style,e()),h.size&&t.setSeriesOption("label.fontSize",h.size,e()),h.color&&t.setSeriesOption("label.color",h.color,e())}}}(this.chartTranslationService,this.chartOptionsService,function(){return e.seriesType}),o=this.createBean(new t4(r));if("pie"===this.seriesType){var s=this.createBean(new l6(this.chartOptionsService,function(){return e.seriesType}));o.addCompToPanel(s),this.activePanels.push(s)}this.addWidget(o)},t.prototype.initShadow=function(){var e=this,r=this.createBean(new By(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initMarkers=function(){var e=this,r=this.createBean(new a6(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initBins=function(){var e=this,r=this.getSeriesOption("binCount"),o=this.createBean(new w.h7_);o.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(sl(r,100)).setTextFieldWidth(45).setValue(""+r).onValueChange(function(s){return e.setSeriesOption("binCount",s)}),this.addWidget(o)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.seriesType)},t.prototype.getChartSeriesType=function(){var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":Sh(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var r=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(o){var s=Sh(o.chartType);r.add(e.seriesSelectOptions.get(s))}),Array.from(r)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(o){return Sh(o.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">                \n            </ag-group-component>\n        </div>',Dm([(0,w.cqo)("seriesGroup")],t.prototype,"seriesGroup",void 0),Dm([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Dm([w.NqP],t.prototype,"init",null),t}(w.wA2),u6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function sl(l,t){return Math.max(l,t)}var Uy=function(l){function t(e,r){var o=l.call(this,t.TEMPLATE)||this;return o.chartController=e,o.chartOptionsService=r,o.panels=[],o}return u6(t,l),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,Qf.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),r=this.chartController.isGrouping();if(e!==this.chartType||r!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new Hy(this.chartOptionsService)),this.addComponent(new zy(this.chartOptionsService)),e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":this.addComponent(new Jc(this.chartController,this.chartOptionsService)),this.addComponent(new Eh(this.chartController,this.chartOptionsService,"column")),this.addComponent(new iv(this.chartOptionsService));break;case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new Jc(this.chartController,this.chartOptionsService)),this.addComponent(new Eh(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new iv(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new Eh(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new Jc(this.chartController,this.chartOptionsService)),this.addComponent(new Eh(this.chartController,this.chartOptionsService,"line")),this.addComponent(new iv(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new Jc(this.chartController,this.chartOptionsService)),this.addComponent(new Eh(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new iv(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new Jc(this.chartController,this.chartOptionsService)),this.addComponent(new Eh(this.chartController,this.chartOptionsService,"area")),this.addComponent(new iv(this.chartOptionsService));break;case"histogram":this.addComponent(new Jc(this.chartController,this.chartOptionsService)),this.addComponent(new Eh(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new iv(this.chartOptionsService));break;case"columnLineCombo":case"areaColumnCombo":case"customCombo":this.addComponent(new Jc(this.chartController,this.chartOptionsService)),this.addComponent(new Eh(this.chartController,this.chartOptionsService)),this.addComponent(new iv(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=r}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(r){w._.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyPanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([w.NqP],t.prototype,"init",null),t}(w.wA2),r4=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d6=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},o4=function(l){function t(e,r){var o=l.call(this)||this;o.size=58,o.padding=5,o.root=new so;var s=new D2(window.document,o.size,o.size);return s.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),s.root=o.root,s.container=e,o.scene=s,o.tooltipName=r,o}return r4(t,l),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName)},d6([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),d6([w.NqP],t.prototype,"init",null),t}(w.wA2),_d=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bl=function(l){function t(e,r){var o=l.call(this,e,r)||this;return o.stroke="gray",o.axisOvershoot=3,o}return _d(t,l),t.prototype.addAxes=function(){var e=this.size,r=this.padding,o=new uc;o.x1=r,o.y1=r,o.x2=r,o.y2=e-r+this.axisOvershoot,o.stroke=this.stroke;var s=new uc;s.x1=r-this.axisOvershoot+1,s.y1=e-r,s.x2=e-r+1,s.y2=e-r,s.stroke=this.stroke;var h=this.root;h.append(o),h.append(s)},function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([w.NqP],t.prototype,"addAxes",null),t}(o4);function Dh(l){var t=l.stacked,e=l.size,r=l.padding,o=l.xScalePadding,s=l.xScaleDomain,h=l.yScaleDomain,p=new pc;p.domain=s,p.range=[r,e-r],p.paddingInner=o,p.paddingOuter=o;var y=new Go;y.domain=h,y.range=[e-r,r];var S=function(E,T,O){return E.map(function(F,k){var Q=O.convert(F),de=new _c;return de.x=T.convert(k),de.y=Q,de.width=T.bandwidth,de.height=O.convert(0)-Q,de.strokeWidth=1,de.crisp=!0,de})};return t?l.data.map(function(E){return S(E,p,y)}):S(l.data,p,y)}function Om(l,t,e,r){var o=new Go;o.domain=[0,4],o.range=[r,e-r];var s=new Go;s.domain=[0,10],s.range=[e-r,r];var h=t.map(function(y){var S=new Ts;return S.strokeWidth=3,S.lineCap="round",S.fill=void 0,y.forEach(function(E,T){S.path[T>0?"lineTo":"moveTo"](o.convert(T),s.convert(E))}),S}),p=new pd;return p.x=p.y=r,p.width=p.height=e-2*r,p.append(h),l.append(p),h}var Ky=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$y=function(l){function t(e,r,o){var s=l.call(this,e,"groupedColumnTooltip")||this;s.columnData=[2,3,4];var p=s.root;return s.columns=Dh({stacked:!1,root:p,data:s.columnData,size:s.size,padding:s.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),p.append(s.columns),s.updateColors(r,o),s}return Ky(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="groupedColumn",t}(bl),h3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a4=function(l){function t(e,r,o,s,h,p){void 0===s&&(s=t.data),void 0===h&&(h=[0,16]),void 0===p&&(p="stackedColumnTooltip");var y=l.call(this,e,p)||this,E=y.root;return y.stackedColumns=Dh({stacked:!0,root:E,data:s,size:y.size,padding:y.padding,xScaleDomain:[0,1,2],yScaleDomain:h,xScalePadding:.3}),E.append([].concat.apply([],y.stackedColumns)),y.updateColors(r,o),y}return h3(t,l),t.prototype.updateColors=function(e,r){this.stackedColumns.forEach(function(o,s){return o.forEach(function(h){h.fill=e[s],h.stroke=r[s]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(bl),qy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xy=function(l){function t(e,r,o){return l.call(this,e,r,o,t.data,[0,10],"normalizedColumnTooltip")||this}return qy(t,l),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(a4),h6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),p6=function(l){function t(e,r,o){var s=l.call(this,e,"groupedBarTooltip")||this,h=s.padding,p=s.size,S=new pc;S.domain=[0,1,2],S.range=[h,p-h],S.paddingInner=.3,S.paddingOuter=.3;var E=new Go;E.domain=[0,4],E.range=[p-h,h];var T=E.convert(0),O=S.bandwidth;return s.bars=[2,3,4].map(function(F,k){var Q=new _c;return Q.x=h,Q.y=S.convert(k),Q.width=T-E.convert(F),Q.height=O,Q.strokeWidth=1,Q.crisp=!0,Q}),s.updateColors(r,o),s.root.append(s.bars),s}return h6(t,l),t.prototype.updateColors=function(e,r){this.bars.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="groupedBar",t}(bl),Tm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xm=function(l){function t(e,r,o,s,h,p){void 0===s&&(s=t.data),void 0===h&&(h=[0,16]),void 0===p&&(p="stackedBarTooltip");var y=l.call(this,e,p)||this,S=y.size,E=y.padding,T=new pc;T.domain=[0,1,2],T.range=[E,S-E],T.paddingInner=.3,T.paddingOuter=.3;var O=new Go;O.domain=h,O.range=[S-E,E];var F=O.convert(0),k=T.bandwidth;return y.bars=s.map(function(Q){return Q.map(function(de,he){var fe=new _c;return fe.x=E,fe.y=T.convert(he),fe.width=F-O.convert(de),fe.height=k,fe.strokeWidth=1,fe.crisp=!0,fe})}),y.updateColors(r,o),y.root.append([].concat.apply([],y.bars)),y}return Tm(t,l),t.prototype.updateColors=function(e,r){this.bars.forEach(function(o,s){return o.forEach(function(h){h.fill=e[s],h.stroke=r[s]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(bl),Zy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qy=function(l){function t(e,r,o){return l.call(this,e,r,o,t.data,[0,10],"normalizedBarTooltip")||this}return Zy(t,l),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(xm),X7=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),p3=function(l){function t(e,r,o,s,h){void 0===s&&(s=.6),void 0===h&&(h="doughnutTooltip");var p=l.call(this,e,h)||this,y=(p.size-2*p.padding)/2,S=y+p.padding,E=[[ki(-90),ki(30)],[ki(30),ki(120)],[ki(120),ki(180)],[ki(180),ki(210)],[ki(210),ki(240)],[ki(240),ki(270)]];return p.sectors=E.map(function(T){var O=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(T,2),F=O[0],k=O[1],Q=new gs;return Q.centerX=S,Q.centerY=S,Q.innerRadius=y*s,Q.outerRadius=y,Q.startAngle=F,Q.endAngle=k,Q.stroke=void 0,Q.strokeWidth=1,Q}),p.updateColors(r,o),p.root.append(p.sectors),p}return X7(t,l),t.prototype.updateColors=function(e,r){this.sectors.forEach(function(o,s){o.fill=e[s%e.length],o.stroke=r[s%r.length]})},t.chartType="doughnut",t}(o4),f6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pm=function(l){function t(e,r,o){return l.call(this,e,r,o,0,"pieTooltip")||this}return f6(t,l),t.chartType="pie",t}(p3),Am=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jy=function(l){function t(e,r,o){var s=l.call(this,e,"lineTooltip")||this;return s.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],s.lines=Om(s.root,s.data,s.size,s.padding),s.updateColors(r,o),s}return Am(t,l),t.prototype.updateColors=function(e,r){this.lines.forEach(function(o,s){o.stroke=e[s]})},t.chartType="line",t}(bl),e5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),n5=function(l){function t(e,r,o){var s=l.call(this,e,"scatterTooltip")||this,h=s.size,p=s.padding,S=new Go;S.domain=[-.5,4],S.range=[2*p,h-p];var E=new Go;E.domain=[-.5,3.5],E.range=[h-p,p];var T=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(F){F.forEach(function(k){var Q=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(k,2),de=Q[0],he=Q[1],fe=new Jv;fe.strokeWidth=1,fe.centerX=S.convert(de),fe.centerY=E.convert(he),fe.radiusX=fe.radiusY=2.5,T.push(fe)})}),s.points=T,s.updateColors(r,o);var O=new pd;return O.x=O.y=p,O.width=O.height=h-2*p,O.append(s.points),s.root.append(O),s}return e5(t,l),t.prototype.updateColors=function(e,r){this.points.forEach(function(o,s){o.stroke=r[s%r.length],o.fill=e[s%e.length]})},t.chartType="scatter",t}(bl),g6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),v6=function(l){function t(e,r,o){var s=l.call(this,e,"bubbleTooltip")||this,h=s.size,p=s.padding,S=new Go;S.domain=[0,1],S.range=[2*p,h-p];var E=new Go;E.domain=[0,1],E.range=[h-p,p];var T=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(F){F.forEach(function(k){var Q=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(k,3),de=Q[0],he=Q[1],fe=Q[2],ve=new Jv;ve.strokeWidth=1,ve.centerX=S.convert(de),ve.centerY=E.convert(he),ve.radiusX=ve.radiusY=fe,ve.fillOpacity=.7,T.push(ve)})}),s.points=T,s.updateColors(r,o);var O=new pd;return O.x=p,O.y=p,O.width=h-2*p,O.height=h-2*p,O.append(s.points),s.root.append(O),s}return g6(t,l),t.prototype.updateColors=function(e,r){this.points.forEach(function(o,s){o.stroke=r[s%r.length],o.fill=e[s%e.length]})},t.chartType="bubble",t}(bl),m6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y6=function(l){function t(e,r,o,s){void 0===s&&(s=t.data);var h=l.call(this,e,"groupedAreaTooltip")||this,p=h.size,y=h.padding,S=new pc;S.domain=[0,1,2],S.paddingInner=1,S.paddingOuter=0,S.range=[y+.5,p-y-.5];var E=new Go;E.domain=[0,6],E.range=[p-y+.5,y];var O=2*s.length-1,F=[],k=E.convert(0);return s.forEach(function(Q,de){var he=S.convert(de);Q.forEach(function(fe,ve){var Be=E.convert(fe),ct=F[ve]||(F[ve]=[]);ct[de]={x:he,y:Be},ct[O-de]={x:he,y:k}})}),h.areas=F.reverse().map(function(Q){var de=new Ts;de.strokeWidth=1,de.fillOpacity=.7;var he=de.path;return he.clear(),Q.forEach(function(fe,ve){return he[ve>0?"lineTo":"moveTo"](fe.x,fe.y)}),he.closePath(),de}),h.updateColors(r,o),h.root.append(h.areas),h}return m6(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(bl),C6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fm=function(l){function t(e,r,o,s,h){void 0===s&&(s=t.data),void 0===h&&(h="stackedAreaTooltip");var p=l.call(this,e,h)||this,y=p.size,S=p.padding,E=new pc;E.domain=[0,1,2],E.paddingInner=1,E.paddingOuter=0,E.range=[S+.5,y-S-.5];var T=new Go;T.domain=[0,16],T.range=[y-S+.5,S+.5];var F=2*s.length-1,k=[];return s.forEach(function(Q,de){var he=E.convert(de),fe=0;Q.forEach(function(ve,Be){var ct=T.convert(fe+ve),tt=k[Be]||(k[Be]=[]);tt[de]={x:he,y:ct},tt[F-de]={x:he,y:T.convert(fe)},fe+=ve})}),p.areas=k.map(function(Q){var de=new Ts;de.strokeWidth=1;var he=de.path;return he.clear(),Q.forEach(function(fe,ve){return he[ve>0?"lineTo":"moveTo"](fe.x,fe.y)}),he.closePath(),de}),p.updateColors(r,o),p.root.append(p.areas),p}return C6(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(bl),_6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),w6=function(l){function t(e,r,o,s){return void 0===s&&(s=t.data),l.call(this,e,r,o,s,"normalizedAreaTooltip")||this}return _6(t,l),t.chartType="normalizedArea",t.data=Fm.data.map(function(e){var r=e.reduce(function(o,s){return o+s},0);return e.map(function(o){return o/r*16})}),t}(Fm),r5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lm=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},S6=function(l){function t(e,r,o){var s=l.call(this,e,"histogramTooltip")||this,h=s.padding,p=s.size,y=[2,5,11,13,10,6,1],S=new Go;S.domain=[0,y.length],S.range=[h,p-h];var E=new Go;E.domain=[0,y.reduce(function(O,F){return Math.max(O,F)},0)],E.range=[p-h,h];var T=E.convert(0);return s.bars=y.map(function(O,F){var k=E.convert(O),Q=S.convert(F),de=S.convert(F+1),he=new _c;return he.x=Q,he.y=k,he.width=de-Q,he.height=T-k,he.strokeWidth=1,he.crisp=!0,he}),s.updateColors(r,o),s.root.append(s.bars),s}return r5(t,l),t.prototype.updateColors=function(e,r){var s=Lm(e,1)[0],p=Lm(r,1)[0];this.bars.forEach(function(y){y.fill=s,y.stroke=p})},t.chartType="histogram",t}(bl),El=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ov=function(l){function t(e,r,o){var s=l.call(this,e,"columnLineComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var p=s.root,S=s.lineData,E=s.size,T=s.padding;return s.columns=Dh({stacked:!1,root:p,data:s.columnData,size:E,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),p.append(s.columns),s.lines=Om(p,S,E,T),s.updateColors(r,o),s}return El(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.lines.forEach(function(o,s){o.stroke=e[s+2]})},t.chartType="columnLineCombo",t}(bl),o5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a5=function(l){function t(e,r,o){var s=l.call(this,e,"areaColumnComboTooltip")||this;s.columnData=[3,4.5],s.areaData=[[5,4,6,5,4]];var p=s.root,S=s.areaData,E=s.size,T=s.padding;s.columns=Dh({stacked:!1,root:p,data:s.columnData,size:E,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var O=new pc;O.range=[T,E-T],O.domain=[0,1,2,3,4],O.paddingInner=1,O.paddingOuter=0;var F=new Go;F.range=[E-T,T],F.domain=[0,6];var k=[],Q=F.convert(0),de=O.convert(0);return S.forEach(function(he,fe){var ve=k[fe]||(k[fe]=[]);he.forEach(function(ct,tt){var Ft=ct,jt=O.convert(tt),Jt=F.convert(Ft);ve[tt]={x:jt,y:Jt}});var Be=O.convert(he.length-1);k[fe].push({x:Be,y:Q},{x:de,y:Q})}),s.areas=k.map(function(he){var fe=new Ts;fe.strokeWidth=1,fe.fillOpacity=.8;var ve=fe.path;return he.forEach(function(Be,ct){return ve[ct>0?"lineTo":"moveTo"](Be.x,Be.y)}),fe}),p.append(s.areas),p.append([].concat.apply([],s.columns)),s.updateColors(r,o),s}return o5(t,l),t.prototype.updateColors=function(e,r){this.areas.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.columns.forEach(function(o,s){o.fill=e[s+1],o.stroke=r[s+1]})},t.chartType="areaColumnCombo",t}(bl),Z7=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),av=function(l){function t(e,r,o){var s=l.call(this,e,"customComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var p=s.root,S=s.lineData,E=s.size,T=s.padding;s.columns=Dh({stacked:!1,root:p,data:s.columnData,size:E,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),p.append(s.columns),s.lines=Om(p,S,E,T);var O="grey",k=new uc;k.x1=T,k.y1=T,k.x2=T,k.y2=E-T+3,k.stroke=O;var Q=new uc;Q.x1=T-3+1,Q.y1=E-T,Q.x2=E-T+1,Q.y2=E-T,Q.stroke=O;var de=new Ts;return de.svgPath="M25.76,43.46l5.51,5.07M49.86,22a3.26,3.26,0,0,0-3-.59,6.78,6.78,0,0,0-3.35,2.14l-18,20.25-.08.09-2.42,8-.18.57,8.19-3.6,18-20.34a6.83,6.83,0,0,0,1.73-3.59A3.29,3.29,0,0,0,49.86,22Zm-8.1,3.5,5.58,5m-6.6-3.85,5.51,5.06",de.fill="whitesmoke",de.stroke="darkslategrey",de.strokeWidth=1,p.append([Q,k,de]),s.updateColors(r,o),s}return Z7(t,l),t.prototype.updateColors=function(e,r){this.columns.forEach(function(o,s){o.fill=e[s],o.stroke=r[s]}),this.lines.forEach(function(o,s){o.stroke=e[s+2]})},t.chartType="customCombo",t}(o4),s5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),f3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},l5=function(l){function t(e,r,o){var s=l.call(this,t.TEMPLATE)||this;return s.wrappers={},s.chartGroups={columnGroup:[$y,a4,Xy],barGroup:[p6,xm,Qy],pieGroup:[Pm,p3],lineGroup:[Jy],scatterGroup:[n5,v6],areaGroup:[y6,Fm,w6],histogramGroup:[S6],combinationGroup:[ov,a5,av]},s.chartController=e,s.fills=r,s.strokes=o,s}return s5(t,l),t.prototype.init=function(){var e=this;this.chartController.customComboExists()||(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(o){return o!==av}));var r=this.getGui();Object.keys(this.chartGroups).forEach(function(o){var s=e.chartGroups[o],h=e.createBean(new w.H1u({title:e.chartTranslationService.translate(o),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));s.forEach(function(p){var y=document.createElement("div");y.classList.add("ag-chart-mini-thumbnail"),e.addManagedListener(y,"click",function(){e.chartController.setChartType(p.chartType),e.updateSelectedMiniChart()}),e.wrappers[p.chartType]=y,e.createBean(new p(y,e.fills,e.strokes)),h.addItem(y)}),r.appendChild(h.getGui())}),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var r in this.wrappers)this.wrappers[r].classList.toggle("ag-selected",r===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',f3([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),f3([w.NqP],t.prototype,"init",null),t}(w.wA2),b6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),r1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},c5=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.miniCharts=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=e,r}return b6(t,l),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",w._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",w._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,Qf.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var o=e.miniCharts.find(function(s){return!s.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");o&&o.scrollIntoView({block:"nearest"})},250)},t.prototype.resetPalettes=function(e){var r=this,o=this.chartController.getPalettes();w._.shallowCompare(o,this.palettes)&&!e||this.isAnimating||(this.palettes=o,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(s){return s===r.chartController.getChartThemeName()}),this.cardItems=[],w._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(s,h){var p=r.activePaletteIndex===h,E=r.createBean(new l5(r.chartController,s.fills,s.strokes));r.miniCharts.push(E),r.eMiniChartsContainer.appendChild(E.getGui()),r.addCardLink(h),p?E.updateSelectedMiniChart():E.addCssClass("ag-hidden")}),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),w._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var r=this,o=document.createElement("div");o.classList.add("ag-chart-settings-card-item"),this.addManagedListener(o,"click",function(){r.setActivePalette(e,e<r.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(o),this.cardItems.push(o)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,r){var o=this;if(!this.isAnimating&&this.activePaletteIndex!==e){w._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var s=this.miniCharts[this.activePaletteIndex],h=s.getGui(),p=this.miniCharts[e],y=p.getGui();s.updateSelectedMiniChart(),p.updateSelectedMiniChart();var S="left"===r?-1:1,E=y.style.left=w._.getAbsoluteWidth(this.getGui())*S+"px";this.activePaletteIndex=e,this.isAnimating=!0;var T="ag-animating";p.removeCssClass("ag-hidden"),s.addCssClass(T),p.addCssClass(T),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){h.style.left=-parseFloat(E)+"px",y.style.left="0px"},0),window.setTimeout(function(){o.isAnimating=!1,s.removeCssClass(T),p.removeCssClass(T),s.addCssClass("ag-hidden")},300)}},t.prototype.destroyMiniCharts=function(){w._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',r1([(0,w.fsG)("resizeObserverService")],t.prototype,"resizeObserverService",void 0),r1([(0,w.cqo)("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),r1([(0,w.cqo)("eNavBar")],t.prototype,"eNavBar",void 0),r1([(0,w.cqo)("eCardSelector")],t.prototype,"eCardSelector",void 0),r1([(0,w.cqo)("ePrevBtn")],t.prototype,"ePrevBtn",void 0),r1([(0,w.cqo)("eNextBtn")],t.prototype,"eNextBtn",void 0),r1([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),Im=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nm=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},E6=function(l){function t(e){var r=l.call(this)||this;r.tabs=[];var s=e.panels,h=e.chartOptionsService;return r.chartController=e.controller,r.chartOptionsService=h,r.panels=s,r}return Im(t,l),t.prototype.init=function(){var e=this;this.panels.forEach(function(r){var o=r.replace("chart","").toLowerCase(),s=e.createTab(r,o,e.getPanelClass(o)),h=s.comp;e.tabs.push(s.tab),e.addDestroyFunc(function(){return e.destroyBean(h)})}),this.tabbedLayout=new w.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,r,o){var s=document.createElement("div");s.classList.add("ag-chart-tab","ag-chart-"+r);var h=new o(this.chartController,this.chartOptionsService);this.getContext().createBean(h),s.appendChild(h.getGui());var p=document.createElement("div"),y=this.chartTranslationService.translate(r);return p.innerText=y,{comp:h,tab:{title:p,titleLabel:y,bodyPromise:w.j_S.resolve(s),getScrollableContainer:function(){return s.querySelector(".ag-scrollable-container")||s},name:e}}},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),l.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return u3;case t.TAB_FORMAT:return Uy;default:return c5}},t.TAB_DATA="data",t.TAB_FORMAT="format",Nm([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Nm([w.NqP],t.prototype,"init",null),t}(w.wA2),g3=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),v3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},km=function(l){function t(e,r,o,s){var h=l.call(this,t.TEMPLATE)||this;return h.eChartContainer=e,h.eMenuPanelContainer=r,h.chartController=o,h.chartOptionsService=s,h.buttons={chartSettings:["menu",function(){return h.showMenu("chartSettings")}],chartData:["menu",function(){return h.showMenu("chartData")}],chartFormat:["menu",function(){return h.showMenu("chartFormat")}],chartLink:["linked",function(p){return h.toggleDetached(p)}],chartUnlink:["unlinked",function(p){return h.toggleDetached(p)}],chartDownload:["save",function(){return h.saveChart()}]},h.tabs=[],h.menuVisible=!1,h}return g3(t,l),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,r=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],o=this.gridOptionsWrapper.getChartToolbarItemsFunc();o&&(r=o({api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),defaultItems:r}).filter(function(p){return!!e.buttons[p]||(console.warn("AG Grid: '"+p+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(r=r.filter(function(p){return"chartData"!==p}));var h=["chartUnlink","chartLink","chartDownload"];return this.tabs=r.filter(function(p){return-1===h.indexOf(p)}),r.filter(function(p){return-1!==h.indexOf(p)||e.tabs.length&&p===e.tabs[0]})},t.prototype.toggleDetached=function(e){var r=e.target,o=r.classList.contains("ag-icon-linked");r.classList.toggle("ag-icon-linked",!o),r.classList.toggle("ag-icon-unlinked",o);var h=this.chartTranslationService.translate(o?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");h&&(r.title=h),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,r=this.getToolbarOptions(),o=this.getGui();r.forEach(function(s){var p=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(e.buttons[s],2),S=p[1],E=w._.createIconNoSpan(p[0],e.gridOptionsWrapper,void 0,!0);E.classList.add("ag-chart-menu-icon");var T=e.chartTranslationService.translate(s+"ToolbarTooltip");T&&(E.title=T),e.addManagedListener(E,"click",S),o.appendChild(E)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var r=this,o=this.gridOptionsWrapper.chartMenuPanelWidth(),s=this.menuPanel=this.createBean(new w.wSp({minWidth:o,width:o,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return s.setParentComponent(this),this.eMenuPanelContainer.appendChild(s.getGui()),this.tabbedMenu=this.createBean(new E6({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(s,w.wA2.EVENT_DESTROYED,function(){return r.destroyBean(r.tabbedMenu)}),new w.j_S(function(h){window.setTimeout(function(){s.setBodyComponent(r.tabbedMenu),r.tabbedMenu.showTab(e),r.addManagedListener(r.eChartContainer,"click",function(p){r.getGui().contains(p.target)||r.menuVisible&&r.hideMenu()}),h(s)},100)})},t.prototype.showContainer=function(){!this.menuPanel||(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var r=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(r).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',v3([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),v3([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),u5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s4=function(){return s4=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},s4.apply(this,arguments)},l4=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},D6=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.chartMenu=e,r}return u5(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(r){"Enter"===r.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.refreshTitle=function(e,r){var o=this;this.chartController=e,this.chartOptionsService=r;var s=this.chartController.getChartProxy();if(s){for(var h=0;h++;h<this.destroyableChartListeners.length)this.destroyableChartListeners[h]();this.destroyableChartListeners=[]}var p=s.getChart(),y=p.scene.canvas.element,S=this.addManagedListener(y,"dblclick",function(T){var O=p.title;if(O&&O.node.containsPoint(T.offsetX,T.offsetY)){var F=O.node.computeBBox(),k=O.node.inverseTransformPoint(F.x,F.y);o.startEditing(s4(s4({},F),k))}}),E=this.addManagedListener(y,"mousemove",function(T){var O=p.title,F=O&&O.enabled&&O.node.containsPoint(T.offsetX,T.offsetY);y.style.cursor=F?"pointer":""});this.destroyableChartListeners=[S,E]},t.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var o=this.chartController.getChartProxy().getChart().width,s=Math.max(Math.min(e.width+20,o),300),h=this.getGui();h.classList.add("currently-editing");var p=h.style;p.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),p.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),p.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),p.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",p.color=this.chartOptionsService.getChartOption("title.color");var y=this.chartOptionsService.getChartOption("title.text"),S=y===this.chartTranslationService.translate("titlePlaceholder")?"":y;h.value=S;var E=h.getBoundingClientRect();p.left=Math.round(e.x+e.width/2-s/2)+"px",p.top=Math.round(e.y+e.height/2-E.height/2)+"px",p.width=Math.round(s)+"px",h.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartOptionsService.setChartOption("title.text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.removeCssClass("currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',l4([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),l4([w.NqP],t.prototype,"init",null),t}(w.wA2);function o1(l,t){return!1!==t.clone&&t.isMergeableObject(l)?Da(function d5(l){return Array.isArray(l)?[]:{}}(l),l,t):l}function zm(l,t,e){return l.concat(t).map(function(r){return o1(r,e)})}function O6(l){return Object.keys(l).concat(function h5(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(t){return l.propertyIsEnumerable(t)}):[]}(l))}function Vm(l,t){try{return t in l}catch(e){return!1}}function x6(l){return function M6(l){return!!l&&"object"==typeof l}(l)&&!function f5(l){var t=Object.prototype.toString.call(l);return"[object RegExp]"===t||"[object Date]"===t}(l)}function Da(l,t,e){(e=e||{}).arrayMerge=e.arrayMerge||zm,e.isMergeableObject=e.isMergeableObject||x6,e.cloneUnlessOtherwiseSpecified=o1;var r=Array.isArray(t);return r===Array.isArray(l)?r?e.arrayMerge(l,t,e):function p5(l,t,e){var r={};return e.isMergeableObject(l)&&O6(l).forEach(function(o){r[o]=o1(l[o],e)}),O6(t).forEach(function(o){(function T6(l,t){return Vm(l,t)&&!(Object.hasOwnProperty.call(l,t)&&Object.propertyIsEnumerable.call(l,t))})(l,o)||(r[o]=Vm(l,o)&&e.isMergeableObject(t[o])?function J7(l,t){if(!t.customMerge)return Da;var e=t.customMerge(l);return"function"==typeof e?e:Da}(o,e)(l[o],t[o],e):o1(t[o],e))}),r}(l,t,e):o1(t,e)}var sv=function(){return sv=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},sv.apply(this,arguments)},Gm=function(){function l(t){if(this.chartProxyParams=t,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=Sh(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore;var e={overrides:this.chartOptions};this.chartTheme=hi(sv({baseTheme:this.getSelectedTheme()},e))}else this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config)}return l.prototype.recreateChart=function(){var t=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(r){return t.crossFilterCallback(r,!0)})},l.prototype.getChart=function(){return this.chart},l.prototype.createChartTheme=function(){var e=this.getSelectedTheme(),r=this.isStockTheme(e),o=this.chartProxyParams.getGridOptionsChartThemeOverrides(),s=this.chartProxyParams.apiChartThemeOverrides;if(o||s){var h={overrides:l.mergeThemeOverrides(o,s)};return hi(r?sv({baseTheme:e},h):Da(this.lookupCustomChartTheme(e),h))}return hi(r?e:this.lookupCustomChartTheme(e))},l.prototype.isStockTheme=function(t){return w._.includes(Object.keys(Ar),t)},l.prototype.getSelectedTheme=function(){var t=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return w._.includes(e,t)||(t=e[0]),t},l.prototype.lookupCustomChartTheme=function(t){var e=this.chartProxyParams.customChartThemes,r=e&&e[t];return r||console.warn("AG Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),r},l.mergeThemeOverrides=function(t,e){return t?e?Da(t,e):t:e},l.prototype.downloadChart=function(){var t=this.chart;t.scene.download(t.title?t.title.text:"chart")},l.prototype.getChartImageDataURL=function(t){return this.chart.scene.getDataURL(t)},l.prototype.getChartOptions=function(){return this.chartOptions},l.prototype.transformData=function(t,e){return this.chartProxyParams.grouping||this.chart.axes.filter(function(o){return o instanceof Wc}).length<1?t:t.map(function(o,s){var h=o[e],p=h&&h.toString?h.toString():"",y=sv({},o);return y[e]={id:s,value:h,toString:function(){return p}},y})},l.prototype.convertConfigToOverrides=function(t){var e=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType),o={};return(e?["line","area","column","cartesian"]:[this.standaloneChartType]).forEach(function(s){var h=Da({},t[s]);h.series=h.series[s],"scatter"===s&&(h.paired=!0),o[s]=h}),o},l.prototype.destroy=function(){this.destroyChart()},l.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},l}(),v5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lv=function(l){function t(e){var r=l.call(this,e)||this;return r.axisTypeToClassMap={number:jd,category:Wc,groupedCategory:_u,time:op},r}return v5(t,l),t.prototype.updateAxes=function(e){if(e.grouping)this.axisTypeToClassMap[this.xAxisType]!==_u&&(this.xAxisType="groupedCategory",this.recreateChart());else{var r=t.isTimeAxis(e)?"time":"category";r!==this.xAxisType&&(this.xAxisType=r,this.recreateChart())}},t.prototype.updateLabelRotation=function(e){var r=this.chart.axes[0].label;if(e===$u.DEFAULT_CATEGORY)r.rotation=0;else{var o=this.getAxesOptions()[this.xAxisType];r.rotation=o.label.rotation}this.chart.layoutPending=!0},t.prototype.getAxesOptions=function(e){return void 0===e&&(e=this.standaloneChartType),this.chartOptions[e].axes},t.prototype.processDataForCrossFiltering=function(e,r,o){var s=r,h=!1;return this.crossFiltering&&(e.forEach(function(y){y[r+"-total"]=y[r]+y[r+"-filtered-out"],y[r+"-filtered-out"]>0&&(h=!0)}),o.getCrossFilteringContext().lastSelectedChartId===o.chartId&&(s=r+"-total")),{yKey:s,atLeastOneSelectedPoint:h}},t.prototype.updateSeriesForCrossFiltering=function(e,r,o,s,h){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(E){return{fill:E.highlighted?"yellow":E.fill,size:E.highlighted?12:E.datum[r]>0?8:0}},o.tooltip.delay=500;var S=s.getCrossFilteringContext().lastSelectedChartId===s.chartId&&h;e instanceof V0&&(e.fillOpacity=S?.3:1),e instanceof dh&&(e.strokeOpacity=S?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},t.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var r=e.data[0];return(r&&r[e.category.id])instanceof Date},t}(Gm);function c4(l,t){var e=parseInt(l.slice(1,3),16),r=parseInt(l.slice(3,5),16),o=parseInt(l.slice(5,7),16);return t?"rgba("+e+", "+r+", "+o+", "+t+")":"rgba("+e+", "+r+", "+o+")"}function m3(l,t){return l.map(function(e){var r=w.Ilk.fromString(e);return new w.Ilk(r.r,r.g,r.b,t).toHexString()})}var eC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wd=function(){return wd=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},wd.apply(this,arguments)},m5=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return eC(t,l),t.prototype.createChart=function(){var e=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(["bar"===this.standaloneChartType,this.isNormalised()],2),o=e[1];return Ns.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(e[0],o),series:this.getSeries(o)})},t.prototype.update=function(e){this.updateAxes(e);var r=this.chart.series[0];this.crossFiltering?this.updateCrossFilteringSeries(r,e):(r.fills=this.chartTheme.palette.fills,r.strokes=this.chartTheme.palette.strokes),r.data=this.transformData(e.data,e.category.id),r.xKey=e.category.id,r.xName=e.category.name,r.yKeys=e.fields.map(function(o){return o.colId}),r.yNames=e.fields.map(function(o){return o.displayName}),this.updateLabelRotation(e.category.id)},t.prototype.updateCrossFilteringSeries=function(e,r){var o=r.fields;o.forEach(function(S){var E=wd({},S);E.colId=S.colId+"-filtered-out",o.push(E)});var s=this.chartTheme.palette,h=[];s.fills.forEach(function(S){h.push(S),h.push(c4(S,"0.3"))}),e.fills=h,s.strokes.forEach(function(S){h.push(S),h.push(c4(S,"0.3"))}),e.strokes=[],e.highlightStyle.fill=void 0;var y=r.fields.map(function(S){return S.colId});e.hideInLegend=y.filter(function(S){return-1!==S.indexOf("-filtered-out")}),this.chart.legend.addEventListener("click",function(S){e.toggleSeriesItem(S.itemId+"-filtered-out",S.enabled)}),this.chart.tooltip.delay=500,e.addEventListener("nodeClick",this.crossFilterCallback)},t.prototype.getAxes=function(e,r){var o=this.getAxesOptions(),s=[wd(wd({},Da(o[this.xAxisType],o[this.xAxisType].bottom)),{type:this.xAxisType,position:e?Lr.Left:Lr.Bottom}),wd(wd({},Da(o[this.yAxisType],o[this.yAxisType].left)),{type:this.yAxisType,position:e?Lr.Bottom:Lr.Left})];if(r){var h=s[1];h.label=wd(wd({},h.label),{formatter:function(p){return Math.round(p.value)+"%"}})}return s},t.prototype.getSeries=function(e){var o=!this.crossFiltering&&w._.includes(["groupedColumn","groupedBar"],this.chartType);return[wd(wd({},this.chartOptions[this.standaloneChartType].series),{type:this.standaloneChartType,grouped:o,normalizedTo:e?100:void 0})]},t.prototype.isNormalised=function(){return!this.crossFiltering&&w._.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(lv),y5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ec=function(){return ec=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},ec.apply(this,arguments)},nC=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return y5(t,l),t.prototype.createChart=function(){return Ns.create({type:"area",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){if(this.updateAxes(e),"area"===this.chartType)this.updateAreaChart(e);else{var r=this.chart.series[0];if(!r){var o=ec(ec({},this.chartOptions[this.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===this.chartType?100:void 0});if(!(r=Ns.createComponent(ec({},o),"area.series")))return;this.chart.addSeries(r)}r.data=this.transformData(e.data,e.category.id),r.xKey=e.category.id,r.xName=e.category.name,r.yKeys=e.fields.map(function(s){return s.colId}),r.yNames=e.fields.map(function(s){return s.displayName}),r.fills=this.chartTheme.palette.fills,r.strokes=this.chartTheme.palette.strokes}this.updateLabelRotation(e.category.id)},t.prototype.updateAreaChart=function(e){var r=this,o=this.chart;if(0!==e.fields.length){var y,s=e.fields.map(function(O){return O.colId}),h=o.series.reduceRight(function(O,F,k){var Q=F.yKeys[0];return s.indexOf(Q)===k?O.set(Q,F):o.removeSeries(F),O},new Map),p=this.transformData(e.data,e.category.id),S=this.chartTheme.palette,E=S.fills,T=S.strokes;e.fields.forEach(function(O,F){var k=r.processDataForCrossFiltering(p,O.colId,e),Q=k.yKey,de=k.atLeastOneSelectedPoint,he=h.get(O.colId),fe=E[F%E.length],ve=T[F%T.length];if(he)he.data=p,he.xKey=e.category.id,he.xName=e.category.name,he.yKeys=[Q],he.yNames=[O.displayName],he.fills=[fe],he.strokes=[ve];else{var ct=ec(ec({},r.chartOptions[r.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===r.chartType?100:void 0}),tt=ec(ec({},ct),{data:p,xKey:e.category.id,xName:e.category.name,yKeys:[Q],yNames:[O.displayName],fills:[fe],strokes:[ve],marker:ec(ec({},ct.marker),{fill:fe,stroke:ve})});he=Ns.createComponent(tt,"area.series"),o.addSeriesAfter(he,y)}r.updateSeriesForCrossFiltering(he,O.colId,o,e,de),y=he})}else o.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions(),r=[ec(ec({},Da(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Lr.Bottom,paddingInner:1,paddingOuter:0}),ec(ec({},Da(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Lr.Left})];return"time"===this.xAxisType&&(delete r[0].paddingInner,delete r[0].paddingOuter),r},t}(lv),rC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bc=function(){return bc=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},bc.apply(this,arguments)},iC=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return rC(t,l),t.prototype.createChart=function(){return Ns.create({type:"line",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var r=this;if(0!==e.fields.length){this.updateAxes(e);var S,o=this.chart,s=e.fields,h=s.map(function(F){return F.colId}),p=this.transformData(e.data,e.category.id),y=o.series.reduceRight(function(F,k,Q){var de=k.yKey;return h.indexOf(de)===Q?F.set(de,k):o.removeSeries(k),F},new Map),E=this.chartTheme.palette,T=E.fills,O=E.strokes;s.forEach(function(F,k){var Q=r.processDataForCrossFiltering(p,F.colId,e),de=Q.yKey,he=Q.atLeastOneSelectedPoint,fe=y.get(F.colId),ve=T[k%T.length],Be=O[k%O.length];if(fe)fe.title=F.displayName,fe.data=p,fe.xKey=e.category.id,fe.xName=e.category.name,fe.yKey=de,fe.yName=F.displayName,fe.marker.fill=ve,fe.marker.stroke=Be,fe.stroke=ve;else{var ct=r.chartOptions[r.standaloneChartType].series,tt=bc(bc({},ct),{type:"line",title:F.displayName,data:p,xKey:e.category.id,xName:e.category.name,yKey:de,yName:F.displayName,stroke:ve,marker:bc(bc({},ct.marker),{fill:ve,stroke:Be})});fe=Ns.createComponent(tt,"line.series"),o.addSeriesAfter(fe,S)}r.updateSeriesForCrossFiltering(fe,F.colId,o,e,he),S=fe}),this.updateLabelRotation(e.category.id)}else this.chart.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[bc(bc({},Da(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Lr.Bottom}),bc(bc({},Da(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Lr.Left})]},t}(lv),R6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y3=function(l){function t(e){return l.call(this,e)||this}return R6(t,l),t.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(r){return{content:r.datum[r.labelKey]+": "+r.angleValue*r.datum[r.radiusKey]}}},t}(Gm),F6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cv=function(){return cv=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},cv.apply(this,arguments)},oC=function(l){function t(e){var r=l.call(this,e)||this;return r.recreateChart(),r}return F6(t,l),t.prototype.createChart=function(){return Ns.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var r=this.chart;if(0!==e.fields.length){var o=e.fields[0],s=o;if(this.crossFiltering){var h=e.fields;h.forEach(function(O){var F=cv({},O);F.colId=O.colId+"-filtered-out",h.push(F)});var p=h[1];e.data.forEach(function(O){O[o.colId+"-total"]=O[o.colId]+O[p.colId],O[o.colId]=O[o.colId]/O[o.colId+"-total"],O[p.colId]=1});var y=r.series[1],S=p;y=this.updateSeries(r,y,s,S,e,void 0),this.updateSeries(r,r.series[0],s,S=s,e,y)}else this.updateSeries(r,r.series[0],s,s,e,void 0)}else r.removeAllSeries()},t.prototype.updateSeries=function(e,r,o,s,h,p){var S=this.chartOptions[this.standaloneChartType].series,E=r;if((r&&r.angleKey)!==s.colId){e.removeSeries(r);var T=cv(cv({},S),{type:"pie",angleKey:this.crossFiltering?o.colId+"-total":o.colId,radiusKey:this.crossFiltering?s.colId:void 0});(E=Ns.createComponent(T,"pie.series")).fills=this.chartTheme.palette.fills,E.strokes=this.chartTheme.palette.strokes,E.callout.colors=this.chartTheme.palette.strokes,this.crossFiltering&&E&&!E.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(E)}return E.angleName=s.displayName,E.labelKey=h.category.id,E.labelName=h.category.name,E.data=h.data,this.crossFiltering&&(E.radiusMin=0,E.radiusMax=1,p?e.legend.addEventListener("click",function(F){p&&p.toggleSeriesItem(F.itemId,F.enabled)}):(E.fills=m3(E.fills,.3),E.strokes=m3(E.strokes,.3),E.callout.colors=m3(E.strokes,.3),E.showInLegend=!1),e.tooltip.delay=500,E.highlightStyle.fill=void 0,E.addEventListener("nodeClick",this.crossFilterCallback)),e.addSeries(E),E},t}(y3),Bm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bp=function(){return bp=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},bp.apply(this,arguments)},L6=function(l){function t(e){var r=l.call(this,e)||this;return r.recreateChart(),r}return Bm(t,l),t.prototype.createChart=function(){return Ns.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var r=this;if(0!==e.fields.length){var o=this.chart,s=e.fields.map(function(O){return O.colId}),h={};o.series.forEach(function(O){var F=O,k=F.angleKey;w._.includes(s,k)&&(h[k]=F)});var p=this.chartTheme.palette.fills,y=this.chartTheme.palette.strokes,S=this.chartOptions[this.standaloneChartType].series,E=e.fields.length,T=0;e.fields.forEach(this.crossFiltering?function(O,F){var k=bp({},O);k.colId=O.colId+"-filtered-out",e.data.forEach(function(fe){fe[O.colId+"-total"]=fe[O.colId]+fe[k.colId],fe[O.colId]=fe[O.colId]/fe[O.colId+"-total"],fe[k.colId]=1});var Q=r.updateSeries({seriesMap:h,angleField:O,field:k,seriesDefaults:S,index:F,params:e,fills:p,strokes:y,doughnutChart:o,offset:T,numFields:E,opaqueSeries:void 0}),de=Q.updatedOffset;r.updateSeries({seriesMap:h,angleField:O,field:O,seriesDefaults:S,index:F,params:e,fills:p,strokes:y,doughnutChart:o,offset:T,numFields:E,opaqueSeries:Q.pieSeries}),T=de}:function(O,F){var k=r.updateSeries({seriesMap:h,angleField:O,field:O,seriesDefaults:S,index:F,params:e,fills:p,strokes:y,doughnutChart:o,offset:T,numFields:E,opaqueSeries:void 0}).updatedOffset;T=k}),o.series=w._.values(h)}else this.chart.removeAllSeries()},t.prototype.updateSeries=function(e){var r=e.seriesMap[e.field.colId],o=bp(bp({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:bp(bp({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName})}),s=r||Ns.createComponent(o,"pie.series");s.title&&(s.title.showInLegend=e.numFields>1),r||this.crossFiltering&&!s.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(s),s.angleName=e.field.displayName,s.labelKey=e.params.category.id,s.labelName=e.params.category.name,s.data=e.params.data,this.crossFiltering?(s.radiusMin=0,s.radiusMax=1,e.opaqueSeries?(e.doughnutChart.legend.addEventListener("click",function(y){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(y.itemId,y.enabled)}),s.fills=e.fills,s.strokes=e.strokes,s.callout.colors=e.strokes):(s.fills=e.fills.map(function(y){return c4(y,"0.3")}),s.strokes=e.strokes.map(function(y){return c4(y,"0.3")}),s.showInLegend=!1),s.highlightStyle.fill=void 0,s.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500):(s.fills=e.fills,s.strokes=e.strokes,s.callout.colors=e.strokes);var p=e.numFields>1?20:40;return s.outerRadiusOffset=e.offset,e.offset-=p,s.innerRadiusOffset=e.offset,e.offset-=p,r||(e.seriesMap[e.field.colId]=s),{updatedOffset:e.offset,pieSeries:s}},t}(y3),I6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ep=function(){return Ep=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Ep.apply(this,arguments)},N6=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},k6=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(N6(arguments[t]));return l},Wm=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType="number",r.yAxisType="number",r.recreateChart(),r}return I6(t,l),t.prototype.createChart=function(){return Ns.create({type:"scatter",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var r=this;if(e.fields.length<2)this.chart.removeAllSeries();else{var o=e.fields;this.crossFiltering&&o.forEach(function(fe){var ve=Ep({},fe);ve.colId=fe.colId+"-filtered-out",o.push(ve)});var p,h=this.getSeriesDefinitions(o,this.chartOptions[this.standaloneChartType].paired);this.crossFiltering&&(p=this.getCrossFilteringDataDomain(h,e));var y=this.chart,S=y.series.reduceRight(function(fe,ve,Be){return h.findIndex(function(tt){return tt.xField.colId===ve.xKey&&tt.yField.colId===ve.yKey&&(!tt.sizeField&&!ve.sizeKey||tt.sizeField&&tt.sizeField.colId===ve.sizeKey)})===Be?fe.set(ve.yKey,ve):y.removeSeries(ve),fe},new Map),E=this.chartTheme.palette,T=E.fills,O=E.strokes;if(this.crossFiltering){var F=[];T.forEach(function(fe){F.push(fe),F.push(c4(fe,"0.3"))}),T=F;var k=[];O.forEach(function(fe){k.push(fe),k.push(c4(fe,"0.3"))}),O=k}var de,Q=e.category.id===$u.DEFAULT_CATEGORY?void 0:e.category,he=this.chartOptions[this.standaloneChartType].series;h.forEach(function(fe,ve){var Be=S.get(fe.yField.colId),ct=Be||Ns.createComponent(Ep(Ep({},he),{type:"scatter"}),"scatter.series");if(ct){var Ft=fe.xField,Nt=fe.yField,jt=fe.sizeField;ct.title=Nt.displayName+" vs "+Ft.displayName,ct.xKey=Ft.colId,ct.xName=Ft.displayName,ct.yKey=Nt.colId,ct.yName=Nt.displayName,ct.data=e.data,ct.fill=T[ve%T.length],ct.stroke=O[ve%O.length],jt?(ct.sizeKey=jt.colId,ct.sizeName=jt.displayName):ct.sizeKey=void 0,Q?(ct.labelKey=Q.id,ct.labelName=Q.name):ct.labelKey=ct.yKey;var Jt=Nt.colId.indexOf("-filtered-out")>-1;r.crossFiltering&&(Jt||y.legend.addEventListener("click",function(Mn){ct.toggleSeriesItem(Mn.itemId+"-filtered-out",Mn.enabled)}),p&&(ct.marker.domain=p),y.tooltip.delay=500,Jt&&(ct.showInLegend=!1),ct.addEventListener("nodeClick",r.crossFilterCallback)),Be||y.addSeriesAfter(ct,de),de=ct}})}},t.prototype.getSeriesDefinitions=function(e,r){if(e.length<2)return[];var o="bubble"===this.chartType;if(r)return o?e.map(function(h,p){return p%3==0?{xField:h,yField:e[p+1],sizeField:e[p+2]}:null}).filter(function(h){return h&&h.yField&&h.sizeField}):e.map(function(h,p){return p%2==0?{xField:h,yField:e[p+1]}:null}).filter(function(h){return h&&h.yField});var s=e[0];return o?e.map(function(h,p){return p%2==1?{xField:s,yField:h,sizeField:e[p+1]}:null}).filter(function(h){return h&&h.sizeField}):e.filter(function(h,p){return p>0}).map(function(h){return{xField:s,yField:h}})},t.prototype.getCrossFilteringDataDomain=function(e,r){var o;if(e[0]&&e[0].sizeField){var s=e[0].sizeField.colId,h=[];r.data.forEach(function(p){void 0!==p[s]&&h.push(p[s]),void 0!==p[s+"-filtered-out"]&&h.push(p[s+"-filtered-out"])}),h.length>0&&(o=[Math.min.apply(Math,k6(h)),Math.max.apply(Math,k6(h))])}return o},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[Ep(Ep({},Da(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Lr.Bottom}),Ep(Ep({},Da(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Lr.Left})]},t}(lv),C5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a1=function(){return a1=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},a1.apply(this,arguments)},sC=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType="number",r.yAxisType="number",r.recreateChart(),r}return C5(t,l),t.prototype.createChart=function(){return Ns.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(),series:[a1(a1({},this.chartOptions[this.standaloneChartType].series),{type:"histogram"})]})},t.prototype.update=function(e){var r=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}(e.fields,1),o=r[0],h=this.chart.series[0];h.data=e.data,h.xKey=o.colId,h.xName=o.displayName,h.areaPlot=!1,h.fill=this.chartTheme.palette.fills[0],h.stroke=this.chartTheme.palette.strokes[0]},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[a1(a1({},Da(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:Lr.Bottom}),a1(a1({},Da(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:Lr.Left})]},t}(lv),_5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),z6=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},w5=function(l){function t(e){var r=l.call(this)||this;return r.chartController=e,r}return _5(t,l),t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChartOption=function(e){return w._.get(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,r){var o=this;this.chartController.getChartSeriesTypes().forEach(function(s){var h=w._.get(o.getChartOptions(),""+s,void 0);w._.set(h,e,r)}),w._.set(this.getChart(),e,r),this.raiseChartOptionsChangedEvent()},t.prototype.getAxisProperty=function(e){return w._.get(this.getChart().axes[0],e,void 0)},t.prototype.setAxisProperty=function(e,r){var o=this,s=this.getChart();s.axes.forEach(function(h){o.updateAxisOptions(h,e,r),w._.set(h,e,r)}),s.layoutPending=!0,this.raiseChartOptionsChangedEvent()},t.prototype.getLabelRotation=function(e){var r=this.getAxis(e);return w._.get(r,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,r){var o="label.rotation",s=this.getAxis(e);w._.set(s,o,r),this.getChart().layoutPending=!0,s&&!this.chartController.isDefaultCategorySelected()&&(this.updateAxisOptions(s,o,r),this.raiseChartOptionsChangedEvent())},t.prototype.getSeriesOption=function(e,r){var o=this.getChart().series.find(function(s){return t.isMatchingSeries(r,s)});return w._.get(o,e,void 0)},t.prototype.setSeriesOption=function(e,r,o){var s=this.getChartOptions();s[o]||(s[o]={}),w._.set(s[o].series,e,r),this.getChart().series.forEach(function(h){t.isMatchingSeries(o,h)&&w._.set(h,e,r)}),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){var e=Sh(this.getChartType());return w._.get(this.getChartOptions(),e+".paired",void 0)},t.prototype.setPairedMode=function(e){var r=Sh(this.getChartType()),o=w._.get(this.getChartOptions(),""+r,void 0);w._.set(o,"paired",e)},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},t.prototype.getAxis=function(e){var r=this.getChart();if(r.axes&&!(r.axes.length<1))return"xAxis"===e?r.axes&&"x"===r.axes[0].direction?r.axes[0]:r.axes[1]:r.axes&&"y"===r.axes[1].direction?r.axes[1]:r.axes[0]},t.prototype.updateAxisOptions=function(e,r,o){var s=Sh(this.getChartType()),h=this.getChartOptions()[s].axes;e instanceof jd?w._.set(h.number,r,o):e instanceof Wc?w._.set(h.category,r,o):e instanceof op?w._.set(h.time,r,o):e instanceof _u&&w._.set(h.groupedCategory,r,o)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),r=Object.freeze({type:w.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:e.chartThemeName,chartOptions:e.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(r)},t.isMatchingSeries=function(e,r){return"area"===e&&r instanceof V0||"bar"===e&&r instanceof dp||"column"===e&&r instanceof dp||"histogram"===e&&r instanceof hp||"line"===e&&r instanceof dh||"pie"===e&&r instanceof vh||"scatter"===e&&r instanceof Bg},t.prototype.destroy=function(){l.prototype.destroy.call(this)},z6([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),z6([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),t}(w.AS9),lC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ec=function(){return Ec=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},Ec.apply(this,arguments)},jm=function(l){function t(e){var r=l.call(this,e)||this;return r.xAxisType=e.grouping?"groupedCategory":"category",r.yAxisType="number",r.recreateChart(),r}return lC(t,l),t.prototype.createChart=function(){return Ns.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var s={data:this.transformData(e.data,e.category.id)};this.seriesChanged(e)&&(s.series=this.getSeriesOptions(e),s.axes=this.getAxes(e)),Ns.update(this.chart,s),this.updateLabelRotation(e.category.id)},t.prototype.seriesChanged=function(e){var r=e.seriesChartTypes,o=!w._.areEqual(this.prevSeriesChartTypes,r,function(S,E){return S.colId===E.colId&&S.chartType===E.chartType&&S.secondaryAxis===E.secondaryAxis});this.prevSeriesChartTypes=r.map(function(S){return Ec({},S)});var s=e.fields.map(function(S){return S.colId}).join(),h=this.prevFields!==s;this.prevFields=s;var p=e.category.id,y=this.prevCategoryId!==p;return this.prevCategoryId=p,o||h||y},t.prototype.getSeriesOptions=function(e){var r=this,s=e.category,h=e.seriesChartTypes;return e.fields.map(function(p){var y=h.find(function(E){return E.colId===p.colId});if(y){var S=y.chartType;return Ec(Ec({},r.extractSeriesOverrides(y)),{type:Sh(S),xKey:s.id,yKey:p.colId,yName:p.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(S),stacked:["stackedArea","stackedColumn"].includes(S)})}})},t.prototype.getAxes=function(e){var r=this;this.xAxisType=e.grouping?"groupedCategory":"category";var o=e?e.fields:[],s=new Map(o.map(function(k){return[k.colId,k]})),h=this.getYKeys(o,e.seriesChartTypes),p=h.primaryYKeys,y=h.secondaryYKeys,S=this.getAxisOptions(),T=S.leftOptions,O=S.rightOptions,F=[Ec(Ec({},S.bottomOptions),{type:this.xAxisType,position:Lr.Bottom,gridStyle:[{strokeWidth:0}]})];return p.length>0&&F.push(Ec(Ec({},T),{type:this.yAxisType,keys:p,position:Lr.Left,title:Ec({},Da(T.title,{enabled:!0,text:p.map(function(k){var Q=s.get(k);return Q?Q.displayName:k}).join(" / ")}))})),y.length>0&&y.forEach(function(k,Q){var de=s.get(k);if(de&&de.colId===k){var fe=Ec(Ec({},O),{type:r.yAxisType,keys:[k],position:Lr.Right,title:Ec({},Da(O.title,{enabled:!0,text:de?de.displayName:k}))});!p.some(function(ct){return!!s.get(ct)})&&Q===y.length-1||(fe.gridStyle=[{strokeWidth:0}]),F.push(fe)}}),F},t.prototype.getAxisOptions=function(){var e=this.getAxesOptions("cartesian");return{bottomOptions:Da(e[this.xAxisType],e[this.xAxisType].bottom),leftOptions:Da(e[this.yAxisType],e[this.yAxisType].left),rightOptions:Da(e[this.yAxisType],e[this.yAxisType].right)}},t.prototype.getYKeys=function(e,r){var o=[],s=[];return e.forEach(function(h){var p=h.colId,y=r.find(function(S){return S.colId===p});y&&(y.secondaryAxis?s.push(p):o.push(p))}),{primaryYKeys:o,secondaryYKeys:s}},t.prototype.extractSeriesOverrides=function(e){var r=this.chartOptions[Sh(e.chartType)].series;return delete r.yKeys,delete r.yNames,r},t}(lv),S5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),na=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},V6=function(l){function t(e){var r=l.call(this,t.TEMPLATE)||this;return r.params=e,r}return S5(t,l),t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var r=this.params.chartThemeName;w._.includes(e,r)||(r=e[0]);var o={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:r,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},s=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(s?"ag-rtl":"ag-ltr");var h=this.createBean(new $u(o));this.chartController=this.createManagedBean(new Qf(h)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,Qf.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,km.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),r=this.gridOptionsWrapper.getCustomChartThemes();r&&w._.getAllKeysInObjects([r]).forEach(function(o){w._.includes(e,o)||console.warn("AG Grid: a custom chart theme with the name '"+o+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e=this;this.chartProxy&&this.chartProxy.destroy();var o=this.chartController.getChartType(),s={chartType:o,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(p,y){e.params.crossFilteringContext.lastSelectedChartId=y?"":e.chartController.getChartId(),e.crossFilterService.filter(p,y)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes()};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=t.createChartProxy(s),this.chartProxy){var h=this.eChart.querySelector("canvas");h&&h.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new w5(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",s.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new m5(e);case"pie":return new oC(e);case"doughnut":return new L6(e);case"area":case"stackedArea":case"normalizedArea":return new nC(e);case"line":return new iC(e);case"scatter":case"bubble":return new Wm(e);case"histogram":return new sC(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new jm(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},t.prototype.addDialog=function(){var e=this,r=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),o=this.getBestDialogSize();this.chartDialog=new w.$zI({resizable:!0,movable:!0,maximizable:!0,title:r,width:o.width,height:o.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(w.$zI.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),r=.75*w._.getAbsoluteWidth(e),o=.75*w._.getAbsoluteHeight(e),h=this.chartProxy.getChart(),p=this.params.insideDialog?850:h.width,y=this.params.insideDialog?470:h.height;return(p>r||y>o)&&(p=Math.min(p,r),(y=Math.round(.553*p))>o&&(y=o,p=Math.min(p,Math.round(y/.553)))),{width:p,height:y}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new km(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new D6(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,r=this.chartProxy,s=this.chartController.getSelectedValueColState().map(function(E){return{colId:E.colId,displayName:E.displayName}}),h=this.chartController.getChartData();if(!this.handleEmptyChart(h,s)){var y=this.chartController.getSelectedDimension(),S={data:h,grouping:this.chartController.isGrouping(),category:{id:y.colId,name:y.displayName,chartDataType:this.getChartDataType(y.colId)},fields:s,chartId:this.chartController.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext},seriesChartTypes:this.chartController.getSeriesChartTypes()};r.update(S),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.getChartDataType=function(e){var r=this.columnModel.getPrimaryColumn(e);return r?r.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,r){var o=this.chartProxy.getChart().container,s=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),h=1;this.chartController.isActiveXYChart()&&(h="bubble"===this.chartController.getChartType()?3:2);var p=r.length<h||0===e.length;if(o){var y=s||p;w._.setDisplayed(this.eChart,!y),w._.setDisplayed(this.eEmpty,y)}return s?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!p&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.eChart;if(this.chartMenu.isVisible()){var r=this.chartProxy.getChart();r.height=w._.getInnerHeight(e),r.width=w._.getInnerWidth(e)}}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:w.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:w.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();w._.clearElement(e),w._.removeFromParent(e),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',na([(0,w.cqo)("eChart")],t.prototype,"eChart",void 0),na([(0,w.cqo)("eChartContainer")],t.prototype,"eChartContainer",void 0),na([(0,w.cqo)("eMenuContainer")],t.prototype,"eMenuContainer",void 0),na([(0,w.cqo)("eEmpty")],t.prototype,"eEmpty",void 0),na([(0,w.cqo)("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),na([(0,w.fsG)("environment")],t.prototype,"environment",void 0),na([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),na([(0,w.fsG)("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),na([(0,w.fsG)("chartTranslationService")],t.prototype,"chartTranslationService",void 0),na([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),na([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),na([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),na([w.NqP],t.prototype,"init",null),t}(w.wA2);var Um=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),u4=function(){return u4=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},u4.apply(this,arguments)},uv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},D5=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return Um(t,l),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(o){return e.push(function(o){return u4(u4({},o),{version:"27.1.0"})}(o.getChartModel()))}),e},t.prototype.getChartRef=function(e){var r;return this.activeCharts.forEach(function(o){o.chartId===e&&(r=o)}),r},t.prototype.getChartImageDataURL=function(e){var r;return this.activeChartComps.forEach(function(o){o.getChartId()===e.chartId&&(r=o.getChartImageDataURL(e.fileFormat))}),r},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var r=this.getSelectedRange();return this.createChart(r,e)},t.prototype.restoreChart=function(e,r){var o=this;if(e){"27.1.0"!==e.version&&(e=function b5(l){return null==l.version&&(l.version="27.1.0"),function E5(l){if(!/^([:digits:]{1,2}\.){2}[:digits:]{1}$/.test(l))throw new Error("AG Grid - Illegal version string: "+l);l.split(".").map(function(e){return Number(e)})}(l.version),l}(e));var s={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:r,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},h=function(T){return o.rangeService?o.rangeService.createCellRangeFromCellRangeParams(T):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var S=h({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(T){return T.getColId()})});return S?this.createChart(S,s.chartType,s.chartThemeName,!0,!0,s.chartContainer,void 0,void 0,s.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var E=h(s.cellRange);if(E)return this.createChart(E,s.chartType,s.chartThemeName,!1,s.suppressChartRanges,s.chartContainer,s.aggFunc,void 0,s.unlinkChart,!1,e.chartOptions,s.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(r)return this.createChart(r,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var r={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(s){return s.getColId()})},o=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(r):void 0;if(o)return this.createChart(o,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(r)return this.createChart(r,e.chartType,e.chartThemeName,!1,!(null!=e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,r,o,s,h,p,y,S,E,T,O,F){var k=this;void 0===s&&(s=!1),void 0===h&&(h=!1),void 0===E&&(E=!1),void 0===T&&(T=!1);var Q=this.gridOptionsWrapper.getCreateChartContainerFunc(),de={chartId:this.generateId(),pivotChart:s,cellRange:e,chartType:r,chartThemeName:o,insideDialog:!(p||Q),suppressChartRanges:h,aggFunc:y,chartThemeOverrides:S,unlinkChart:E,crossFiltering:T,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:O,seriesChartTypes:F},he=new V6(de);this.context.createBean(he);var fe=this.createChartRef(he);if(p){p.appendChild(he.getGui());var ve=this.environment.getTheme();ve.el&&!ve.el.contains(p)&&p.classList.add(ve.theme)}else Q?Q(fe):he.addEventListener(V6.EVENT_DESTROYED,function(){k.activeChartComps.delete(he),k.activeCharts.delete(fe)});return fe},t.prototype.createChartRef=function(e){var r=this,o={destroyChart:function(){r.activeCharts.has(o)&&(r.context.destroyBean(e),r.activeChartComps.delete(e),r.activeCharts.delete(o))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(o),this.activeChartComps.add(e),o},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},uv([(0,w.FiY)("rangeService")],t.prototype,"rangeService",void 0),uv([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),uv([(0,w.fsG)("environment")],t.prototype,"environment",void 0),uv([w.FXL],t.prototype,"destroyAllActiveCharts",null),uv([(0,w.Vu6)("chartService")],t)}(w.AS9),H6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),O5=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return H6(t,l),e=t,t.prototype.translate=function(r,o){return this.gridOptionsWrapper.getLocaleTextFunc()(r,e.DEFAULT_TRANSLATIONS[r]||o)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([(0,w.Vu6)("chartTranslationService")],t),t}(w.AS9),T5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d4=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ku=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return T5(t,l),e=t,t.prototype.filter=function(r,o){void 0===o&&(o=!1);var s=this.gridApi.getFilterModel();if(o)this.resetFilters(s);else{var h=e.extractFilterColId(r);this.isValidColumnFilter(h)?this.updateFilters(s,r):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+h+"'")}},t.prototype.resetFilters=function(r){Object.keys(r).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(r,o){var s,h=e.extractFilterColId(o),p=o.datum[h];if(void 0!==p){var y=p.toString(),S=h.replace("-filtered-out","");if(o.event.metaKey||o.event.ctrlKey){var E=this.getCurrentGridValuesForCategory(S),O=void 0;w._.includes(E,y)?O=E.filter(function(F){return F!==y}):(O=E).push(y),r[S]=this.getUpdatedFilterModel(S,O)}else(s={})[S]=this.getUpdatedFilterModel(S,O=[y]),r=s;this.gridApi.setFilterModel(r)}},t.prototype.getUpdatedFilterModel=function(r,o){return"agMultiColumnFilter"===this.getColumnFilterType(r)?{filterType:"multi",filterModels:[null,{filterType:"set",values:o}]}:{filterType:"set",values:o}},t.prototype.getCurrentGridValuesForCategory=function(r){var o=[],s=w._.includes;return this.gridApi.forEachNodeAfterFilter(function(h){if(!h.group){var p=h.data[r]+"";s(o,p)||o.push(p)}}),o},t.extractFilterColId=function(r){return r.xKey?r.xKey:r.labelKey},t.prototype.isValidColumnFilter=function(r){r.indexOf("-filtered-out")&&(r=r.replace("-filtered-out",""));var o=this.getColumnFilterType(r);return"boolean"==typeof o?o:w._.includes(["agSetColumnFilter","agMultiColumnFilter"],o)},t.prototype.getColumnFilterType=function(r){var o=this.columnModel.getGridColumn(r);if(o){var s=o.getColDef();return null!=s.filter?s.filter:s.filterFramework}},d4([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),d4([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),e=d4([(0,w.Vu6)("chartCrossFilterService")],t)}(w.AS9),x5={moduleName:w.GXE.GridChartsModule,beans:[D5,O5,ku],dependantModules:[kh,Et]},s1=function(){function l(t,e,r,o){this.x=t,this.y=e,this.width=r,this.height=o}return l.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},l.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},l.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.render=function(t,e){void 0===e&&(e=l.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},l.noParams={},l}(),dv=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},h4=function(){function l(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return l.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},l.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(l.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),l.prototype.AxB=function(t,e,r){var o=dv(t,6),s=o[0],h=o[1],p=o[2],y=o[3],S=o[4],E=o[5],T=dv(e,6),O=T[0],F=T[1],k=T[2],Q=T[3],de=T[4],he=T[5];(r=r||t)[0]=s*O+p*F,r[1]=h*O+y*F,r[2]=s*k+p*Q,r[3]=h*k+y*Q,r[4]=s*de+p*he+S,r[5]=h*de+y*he+E},l.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},l.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new l(e)},l.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var t=dv(this.elements,6),e=t[0],r=t[1],o=t[2],s=t[3],h=t[4],p=t[5],y=1/(e*s-r*o);return new l([s*=y,-(r*=y),-(o*=y),e*=y,o*p-s*h,r*h-e*p])},l.prototype.inverseTo=function(t){var e=dv(this.elements,6),r=e[0],o=e[1],s=e[2],h=e[3],p=e[4],y=e[5],S=1/(r*h-o*s);return t.setElements([h*=S,-(o*=S),-(s*=S),r*=S,s*y-h*p,o*p-r*y]),this},l.prototype.invertSelf=function(){var t=this.elements,e=dv(t,6),r=e[0],o=e[1],s=e[2],h=e[3],p=e[4],y=e[5],S=1/(r*h-o*s);return r*=S,o*=S,s*=S,t[0]=h*=S,t[1]=-o,t[2]=-s,t[3]=r,t[4]=s*y-h*p,t[5]=o*p-r*y,this},l.prototype.clone=function(){return new l(this.elements.slice())},l.prototype.transformPoint=function(t,e){var r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}},l.prototype.transformBBox=function(t,e,r){void 0===e&&(e=0);var F,k,o=this.elements,s=o[0],h=o[1],p=o[2],y=o[3],S=.5*t.width,E=.5*t.height,T=t.x+S,O=t.y+E;if(e){S-=e,E-=e;var Q=Math.sqrt(s*s+p*p),de=Math.sqrt(h*h+y*y);F=Math.abs(S*s)+Math.abs(E*p)+Math.abs(Q*e),k=Math.abs(S*h)+Math.abs(E*y)+Math.abs(de*e)}else F=Math.abs(S*s)+Math.abs(E*p),k=Math.abs(S*h)+Math.abs(E*y);return r||(r=new s1(0,0,0,0)),r.x=T*s+O*p+o[4]-F,r.y=T*h+O*y+o[5]-k,r.width=F+F,r.height=k+k,r},l.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(t){return t?l.matrix.setElements(t instanceof l?t.elements:t):l.matrix.setIdentityElements(),l.matrix},l.matrix=new l,l}();function Ym(l){var t=l.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var hv=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(hv||(hv={})),hv))(),l1=function(){function l(){this.id=Ym(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new h4,this.inverseMatrix=new h4,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=hv.All}return l.isNode=function(t){return!!t&&void 0!==t.matrix},l.prototype._setScene=function(t){this._scene=t;for(var e=this.children,r=e.length,o=0;o<r;o++)e[o]._setScene(t)},Object.defineProperty(l.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),l.prototype._setParent=function(t){this._parent=t},Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),l.prototype.countChildren=function(t){if(void 0===t&&(t=l.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,r=e.length,o=r,s=0;s<r;s++)o+=e[s].countChildren(t-1);return o},l.prototype.append=function(t){l.isNode(t)&&(t=[t]);for(var e=t.length,r=0;r<e;r++){var o=t[r];if(o.parent)throw new Error(o+" already belongs to another parent: "+o.parent+".");if(o.scene)throw new Error(o+" already belongs a scene: "+o.scene+".");if(this.childSet[o.id])throw new Error("Duplicate "+o.constructor.name+" node: "+o);this._children.push(o),this.childSet[o.id]=!0,o._setParent(this),o._setScene(this.scene)}this.dirty=!0},l.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},l.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},l.prototype.insertBefore=function(t,e){var r=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var o=this.children.indexOf(e);if(!(o>=0))throw new Error(e+" has "+r+" as the parent, but is not in its list of children.");this._children.splice(o,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(l.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,r=e.indexOf(this);if(r>=0&&r<=e.length-1)return e[r+1]}},enumerable:!0,configurable:!0}),l.prototype.transformPoint=function(t,e){for(var r=h4.flyweight(this.matrix),o=this.parent;o;)r.preMultiplySelf(o.matrix),o=o.parent;return r.invertSelf().transformPoint(t,e)},l.prototype.inverseTransformPoint=function(t,e){for(var r=h4.flyweight(this.matrix),o=this.parent;o;)r.preMultiplySelf(o.matrix),o=o.parent;return r.transformPoint(t,e)},Object.defineProperty(l.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),l.prototype.containsPoint=function(t,e){return!1},l.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==hv.None&&this.containsPoint(t,e)){var r=this.children;if(r.length)for(var o=r.length-1;o>=0;o--){var s=r[o].pickNode(t,e);if(s)return s}else if(!this.isContainerNode)return this}},l.prototype.computeBBox=function(){},l.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},l.prototype.computeTransformMatrix=function(){var h,p,t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}([0,0],2),e=t[0],r=t[1],o=this.scalingX,s=this.scalingY;1===o&&1===s?(h=0,p=0):(h=null===this.scalingCenterX?e:this.scalingCenterX,p=null===this.scalingCenterY?r:this.scalingCenterY);var T,O,y=this.rotation,S=Math.cos(y),E=Math.sin(y);0===y?(T=0,O=0):(T=null===this.rotationCenterX?e:this.rotationCenterX,O=null===this.rotationCenterY?r:this.rotationCenterY);var F=this.translationX,k=this.translationY,Q=h*(1-o)-T,de=p*(1-s)-O;this.dirtyTransform=!1,this.matrix.setElements([S*o,E*o,-E*s,S*s,S*Q-E*de+T+F,E*Q+S*de+O+k]).inverseTo(this.inverseMatrix)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),l.MAX_SAFE_INTEGER=Math.pow(2,53)-1,l}(),W6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oh=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return W6(t,l),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,r){return!0},t.prototype.computeBBox=function(){var e=1/0,r=-1/0,o=1/0,s=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(h){if(h.visible){var p=h.computeBBox();if(p){if(!(h instanceof t)){h.dirtyTransform&&h.computeTransformMatrix();for(var y=h4.flyweight(h.matrix),S=h.parent;S;)y.preMultiplySelf(S.matrix),S=S.parent;y.transformBBox(p,0,p)}var E=p.x,T=p.y;E<e&&(e=E),T<o&&(o=T),E+p.width>r&&(r=E+p.width),T+p.height>s&&(s=T+p.height)}}}),new s1(e,o,r-e,s-o)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.children,o=r.length;e.globalAlpha*=this.opacity;for(var s=0;s<o;s++){var h=r[s];h.visible&&(e.save(),h.render(e),e.restore())}},t.className="Group",t}(l1);function _3(l,t){var e=Object.create(l);for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var M5=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sd=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return M5(t,l),t.createInstance=function(e){var r=Object.create(e);return r._setParent(void 0),r.id=e.id+"-Instance-"+String(++e.lastInstanceId),r},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,r=Object.getOwnPropertyNames(e),o=0,s=r.length;o<s;o++){var h=r[o];this[h]=e[h]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var r in e)this[r]=e[r]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,r=Object.getPrototypeOf(e);for(var o in e)e.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(this[o]=e[o])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,r,o){return null!=o?Math.floor(o)+Math.floor(r%1+o%1):Math.floor(r)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var r=this._lineDash;if(r!==e){if(r&&e&&r.length===e.length){for(var o=!0,s=e.length,h=0;h<s;h++)if(r[h]!==e[h]){o=!1;break}if(o)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var r=this._fillShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var r=this._strokeShadow;r!==e&&(r&&r.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var r=this.scene.canvas.pixelRatio||1,o=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=o*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*r,e.shadowOffsetY=s.yOffset*r,e.shadowBlur=s.blur*r),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=o*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var h=this.strokeShadow;h&&h.enabled&&(e.shadowColor=h.color,e.shadowOffsetX=h.xOffset*r,e.shadowOffsetY=h.yOffset*r,e.shadowBlur=h.blur*r),e.stroke()}}},t.prototype.containsPoint=function(e,r){return this.isPointInPath(e,r)},t.defaultStyles=_3({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(l1),w3=Math.sign?Math.sign:function(l){return 0==(l=+l)||isNaN(l)?l:l>0?1:-1};function S3(l,t,e,r,o,s,h,p){var y=(e-l)*(p-s)-(r-t)*(h-o);if(0===y)return null;var S=((h-o)*(t-s)-(l-o)*(p-s))/y,E=((e-l)*(t-s)-(r-t)*(l-o))/y;return S>=0&&S<=1&&E>=0&&E<=1?{x:l+S*(e-l),y:t+S*(r-t)}:null}function U6(l,t,e,r,o,s,h,p,y,S,E,T){for(var O=[],F=S-T,k=E-y,Q=y*(T-S)-S*(E-y),de=Y6(l,e,o,h),he=Y6(t,r,s,p),tt=function P5(l,t,e,r){if(0===l)return function j6(l,t,e){if(0===l)return function Km(l,t){var e=-t/l;return 0!==l&&e>=0&&e<=1?[e]:[]}(t,e);var r=t*t-4*l*e,o=[];if(0===r){var s=-t/(2*l);s>=0&&s<=1&&o.push(s)}else if(r>0){var h=Math.sqrt(r),p=(-t-h)/(2*l),y=(-t+h)/(2*l);p>=0&&p<=1&&o.push(p),y>=0&&y<=1&&o.push(y)}return o}(t,e,r);var o=t/l,s=e/l,p=(3*s-o*o)/9,y=(9*o*s-r/l*27-2*o*o*o)/54,S=p*p*p+y*y,E=1/3,T=[];if(S>=0){var O=Math.sqrt(S),F=w3(y+O)*Math.pow(Math.abs(y+O),E),k=w3(y-O)*Math.pow(Math.abs(y-O),E),Q=Math.abs(Math.sqrt(3)*(F-k)/2),de=-E*o+(F+k);if(de>=0&&de<=1&&T.push(de),0===Q){var he=-E*o-(F+k)/2;he>=0&&he<=1&&T.push(he)}}else{var fe=Math.acos(y/Math.sqrt(-p*p*p)),ve=E*o,Be=2*Math.sqrt(-p),ct=Be*Math.cos(E*fe)-ve,tt=Be*Math.cos(E*(fe+2*Math.PI))-ve,Ft=Be*Math.cos(E*(fe+4*Math.PI))-ve;ct>=0&&ct<=1&&T.push(ct),tt>=0&&tt<=1&&T.push(tt),Ft>=0&&Ft<=1&&T.push(Ft)}return T}(F*de[0]+k*he[0],F*de[1]+k*he[1],F*de[2]+k*he[2],F*de[3]+k*he[3]+Q),Ft=0;Ft<tt.length;Ft++){var on,Nt=tt[Ft],jt=Nt*Nt,Jt=Nt*jt,Mn=de[0]*Jt+de[1]*jt+de[2]*Nt+de[3],Dn=he[0]*Jt+he[1]*jt+he[2]*Nt+he[3];(on=y!==E?(Mn-y)/(E-y):(Dn-S)/(T-S))>=0&&on<=1&&O.push({x:Mn,y:Dn})}return O}function Y6(l,t,e,r){return[3*t-l-3*e+r,3*l-6*t+3*e,-3*l+3*t,l]}var A5=function(){function l(){this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},l.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},l.prototype.rect=function(t,e,r,o){this.moveTo(t,e),this.lineTo(t+r,e),this.lineTo(t+r,e+o),this.lineTo(t,e+o),this.closePath()},l.prototype.arcTo=function(t,e,r,o,s,h,p){var y=this.xy;if(y){t<0&&(t=-t),e<0&&(e=-e);var S=y[0],E=y[1],T=(S-h)/2,O=(E-p)/2,F=Math.sin(r),k=Math.cos(r),Q=k*T+F*O,de=-F*T+k*O,he=Q/t,fe=de/e,ve=he*he+fe*fe,Be=(S+h)/2,ct=(E+p)/2,tt=0,Ft=0;ve>=1?(t*=ve=Math.sqrt(ve),e*=ve):(ve=Math.sqrt(1/ve-1),o===s&&(ve=-ve),Be+=k*(tt=ve*t*fe)-F*(Ft=-ve*e*he),ct+=F*tt+k*Ft);var Nt=Math.atan2((de-Ft)/e,(Q-tt)/t),jt=Math.atan2((-de-Ft)/e,(-Q-tt)/t)-Nt;this.cubicArc(Be,ct,t,e,r,Nt,Nt+jt,1-s)}},l.cubicArc=function(t,e,r,o,s,h,p,y,S,E){if(E){var T=y;y=S,S=T}var O=e.length,F=.5522847498307935,k=Math.sin(y),Q=Math.cos(y),de=Math.sin(p),he=Math.cos(p),fe=Math.PI/2,ve=he*Q*s-de*k*h,Be=de*Q*s+he*k*h,ct=-he*k*s-de*Q*h,tt=-de*k*s+he*Q*h;for((S-=y)<0&&(S+=2*Math.PI),t.push("M"),e.push(ve+r,Be+o);S>=fe;){S-=fe,t.push("C");var Ft=ct+r;e.push(ve+ct*F+r,Be+tt*F+o,ve*F+ct+r,Be*F+tt+o,Math.abs(Ft)<1e-8?0:Ft,tt+o),T=ve,ve=ct,ct=-T,T=Be,Be=tt,tt=-T}if(S){var Nt=1.3333333333333333*Math.tan(S/4),jt=Math.sin(S),Jt=Math.cos(S),Mn=Jt+Nt*jt,Dn=jt-Nt*Jt;t.push("C"),Ft=ve*Jt+ct*jt+r,e.push(ve+ct*Nt+r,Be+tt*Nt+o,ve*Mn+ct*Dn+r,Be*Mn+tt*Dn+o,Math.abs(Ft)<1e-8?0:Ft,Be*Jt+tt*jt+o)}if(E)for(var on=O,wn=e.length-2;on<wn;on+=2,wn-=2)T=e[on],e[on]=e[wn],e[wn]=T,T=e[on+1],e[on+1]=e[wn+1],e[wn+1]=T},l.prototype.cubicArc=function(t,e,r,o,s,h,p,y){var S=this.commands,E=this.params,T=S.length;l.cubicArc(S,E,t,e,r,o,s,h,p,y);var O=E[E.length-2],F=E[E.length-1];this.xy?(S[T]="L",this.xy[0]=O,this.xy[1]=F):this.xy=[O,F]},l.prototype.deCasteljau=function(t,e){var r=t.length;if(r<2||r%2==1)throw new Error("Fewer than two points or not an even count.");if(2===r||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var o=[],s=r-2,h=0;h<s;h+=2)o.push((1-e)*t[h]+e*t[h+2],(1-e)*t[h+1]+e*t[h+3]);return this.deCasteljau(o,e)},l.prototype.approximateCurve=function(t,e){var r=this.deCasteljau(t,0);this.moveTo(r[0],r[1]);for(var o=1/e,s=o;s<=1;s+=o){var h=this.deCasteljau(t,s);this.lineTo(h[0],h[1])}},l.prototype.quadraticCurveTo=function(t,e,r,o){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+r)/3,(2*e+o)/3,r,o)},l.prototype.cubicCurveTo=function(t,e,r,o,s,h){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,r,o,s,h),this.xy[0]=s,this.xy[1]=h},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(t,e){for(var r=this.commands,o=this.params,s=r.length,h=-1e4,p=-1e4,y=NaN,S=NaN,E=0,T=0,O=0,F=0,k=0;F<s;F++)switch(r[F]){case"M":isNaN(y)||S3(y,S,E,T,h,p,t,e)&&O++,y=E=o[k++],S=T=o[k++];break;case"L":S3(E,T,E=o[k++],T=o[k++],h,p,t,e)&&O++;break;case"C":O+=U6(E,T,o[k++],o[k++],o[k++],o[k++],E=o[k++],T=o[k++],h,p,t,e).length;break;case"Z":isNaN(y)||S3(y,S,E,T,h,p,t,e)&&O++}return O%2==1},l.fromString=function(t){var e=new l;return e.setFromString(t),e},l.parseSvgPath=function(t){return t.trim().split(l.splitCommandsRe).map(function(e){var r=e.match(l.matchParamsRe);return{command:e.substr(0,1),params:r?r.map(parseFloat):[]}})},l.prettifySvgPath=function(t){return l.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},l.prototype.setFromString=function(t){var o,s,h,p,y,e=this;function S(){y.match(l.quadraticCommandRe)||(h=o,p=s)}function E(){y.match(l.cubicCommandRe)||(h=o,p=s)}this.clear(),l.parseSvgPath(t).forEach(function(T){var O=T.params,F=O.length,k=0;switch(T.command){case"M":for(e.moveTo(o=O[k++],s=O[k++]);k<F;)e.lineTo(o=O[k++],s=O[k++]);break;case"m":for(e.moveTo(o+=O[k++],s+=O[k++]);k<F;)e.lineTo(o+=O[k++],s+=O[k++]);break;case"L":for(;k<F;)e.lineTo(o=O[k++],s=O[k++]);break;case"l":for(;k<F;)e.lineTo(o+=O[k++],s+=O[k++]);break;case"C":for(;k<F;)e.cubicCurveTo(O[k++],O[k++],h=O[k++],p=O[k++],o=O[k++],s=O[k++]);break;case"c":for(;k<F;)e.cubicCurveTo(o+O[k++],s+O[k++],h=o+O[k++],p=s+O[k++],o+=O[k++],s+=O[k++]);break;case"S":for(E();k<F;)e.cubicCurveTo(o+o-h,s+s-p,h=O[k++],p=O[k++],o=O[k++],s=O[k++]);break;case"s":for(E();k<F;)e.cubicCurveTo(o+o-h,s+s-p,h=o+O[k++],p=s+O[k++],o+=O[k++],s+=O[k++]);break;case"Q":for(;k<F;)e.quadraticCurveTo(h=O[k++],p=O[k++],o=O[k++],s=O[k++]);break;case"q":for(;k<F;)e.quadraticCurveTo(h=o+O[k++],p=s+O[k++],o+=O[k++],s+=O[k++]);break;case"T":for(S();k<F;)e.quadraticCurveTo(h=o+o-h,p=s+s-p,o=O[k++],s=O[k++]);break;case"t":for(S();k<F;)e.quadraticCurveTo(h=o+o-h,p=s+s-p,o+=O[k++],s+=O[k++]);break;case"A":for(;k<F;)e.arcTo(O[k++],O[k++],O[k++]*Math.PI/180,O[k++],O[k++],o=O[k++],s=O[k++]);break;case"a":for(;k<F;)e.arcTo(O[k++],O[k++],O[k++]*Math.PI/180,O[k++],O[k++],o+=O[k++],s+=O[k++]);break;case"Z":case"z":e.closePath();break;case"H":for(;k<F;)e.lineTo(o=O[k++],s);break;case"h":for(;k<F;)e.lineTo(o+=O[k++],s);break;case"V":for(;k<F;)e.lineTo(o,s=O[k++]);break;case"v":for(;k<F;)e.lineTo(o,s+=O[k++])}y=T.command})},l.prototype.toString=function(){for(var t=this.commands,e=this.params,r=t.length,o=[],s=0,h=0;s<r;s++)switch(t[s]){case"M":o.push("M"+e[h++]+","+e[h++]);break;case"L":o.push("L"+e[h++]+","+e[h++]);break;case"C":o.push("C"+e[h++]+","+e[h++]+" "+e[h++]+","+e[h++]+" "+e[h++]+","+e[h++]);break;case"Z":o.push("Z")}return o.join("")},l.prototype.toPrettyString=function(){return l.prettifySvgPath(this.toString())},l.prototype.toSvg=function(){return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toDebugSvg=function(){var t=l.prettifySvgPath(this.toString());return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toCubicPaths=function(){var r,o,s,h,p,t=[],e=this.params,y=0;return this.commands.forEach(function(S){switch(S){case"M":r=[o=h=e[y++],s=p=e[y++]],t.push(r);break;case"L":var E=e[y++],T=e[y++];r.push((h+h+E)/3,(p+p+T)/3,(h+E+E)/3,(p+T+T)/3,h=E,p=T);break;case"C":r.push(e[y++],e[y++],e[y++],e[y++],h=e[y++],p=e[y++]);break;case"Z":r.push((h+h+o)/3,(p+p+s)/3,(h+o+o)/3,(p+s+s)/3,h=o,p=s)}}),t},l.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},l.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,l.matchParamsRe=/-?[0-9]*\.?\d+/g,l.quadraticCommandRe=/[QqTt]/,l.cubicCommandRe=/[CcSs]/,l.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',l.xmlns="http://www.w3.org/2000/svg",l}(),cC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),K6=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.path=new A5,e._dirtyPath=!0,e._svgPath="",e}return cC(t,l),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r);return this.path.closedPath&&this.path.isPointInPath(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var r=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),r.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Sd),$6=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pv=function(l){function t(){var e=l.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return $6(t,l),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new s1(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this.x1,o=this.y1,s=this.x2,h=this.y2;if(r===s){var p=Math.round(r)+Math.floor(this.strokeWidth)%2/2;r=p,s=p}else if(o===h){var y=Math.round(o)+Math.floor(this.strokeWidth)%2/2;o=y,h=y}e.beginPath(),e.moveTo(r,o),e.lineTo(s,h),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=_3(Sd.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Sd),q6=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Dp=function(){function l(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var r=this.index;t.forEach(function(o){void 0===r.get(o)&&r.set(o,e.push(o)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),l.prototype.ticks=function(){return this._domain},l.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var r=this.ordinalRange[e];return void 0===r?NaN:r},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){var t,e=this._domain.length;if(e){var r=q6(this._range,2),o=r[0],s=r[1],h=s<o;h&&(o=(t=q6([s,o],2))[0],s=t[1]);var p=(s-o)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(p=Math.floor(p)),o+=(s-o-p*(e-this._paddingInner))*this._align,this._bandwidth=p*(1-this._paddingInner),this._round&&(o=Math.round(o),this._bandwidth=Math.round(this._bandwidth));for(var y=[],S=0;S<e;S++)y.push(o+p*S);this.ordinalRange=h?y.reverse():y}},l}(),R5=function(){function l(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return l.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!l1.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},l.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},l}(),$m=function(){function l(t,e){this.groups=t,this.parents=e}return l.select=function(t){return new l([["function"==typeof t?t():t]],[void 0])},l.selectAll=function(t){return new l([null==t?[]:t],[void 0])},l.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},l.prototype.appendFn=function(t){return this.select(function(e,r,o,s){return e.appendChild(t(e,r,o,s))})},l.prototype.select=function(t){for(var e=this.groups,r=e.length,o=[],s=0;s<r;s++)for(var h=e[s],p=h.length,y=o[s]=new Array(p),S=0;S<p;S++){var E=h[S];if(E){var T=t(E,E.datum,S,h);T&&(T.datum=E.datum),y[S]=T}}return new l(o,this.parents)},l.prototype.selectByClass=function(t){return this.select(function(e){if(l1.isNode(e))for(var r=e.children,o=r.length,s=0;s<o;s++){var h=r[s];if(h instanceof t)return h}})},l.prototype.selectByTag=function(t){return this.select(function(e){if(l1.isNode(e))for(var r=e.children,o=r.length,s=0;s<o;s++){var h=r[s];if(h.tag===t)return h}})},l.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var r=[];if(l1.isNode(e))for(var o=e.children,s=o.length,h=0;h<s;h++){var p=o[h];p instanceof t&&r.push(p)}return r})},l.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var r=[];if(l1.isNode(e))for(var o=e.children,s=o.length,h=0;h<s;h++){var p=o[h];p.tag===t&&r.push(p)}return r})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],r=[],o=this.groups,s=o.length,h=0;h<s;h++)for(var p=o[h],y=p.length,S=0;S<y;S++){var E=p[S];E&&(e.push(t(E,E.datum,S,p)),r.push(E))}return new l(e,r)},l.prototype.each=function(t){for(var e=this.groups,r=e.length,o=0;o<r;o++)for(var s=e[o],h=s.length,p=0;p<h;p++){var y=s[p];y&&t(y,y.datum,p,s)}return this},l.prototype.remove=function(){return this.each(function(t){if(l1.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},l.prototype.merge=function(t){for(var e=this.groups,r=t.groups,o=e.length,h=Math.min(o,r.length),p=new Array(o),y=0;y<h;y++)for(var S=e[y],E=r[y],T=S.length,O=p[y]=new Array(T),F=0;F<T;F++)O[F]=S[F]||E[F]||void 0;for(;y<o;y++)p[y]=e[y];return new l(p,this.parents)},l.prototype.node=function(){for(var t=this.groups,e=t.length,r=0;r<e;r++)for(var o=t[r],s=o.length,h=0;h<s;h++){var p=o[h];if(p)return p}return null},l.prototype.attr=function(t,e){return this.each(function(r){r[t]=e}),this},l.prototype.attrFn=function(t,e){return this.each(function(r,o,s,h){r[t]=e(r,o,s,h)}),this},l.prototype.call=function(t){return t(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var t=[];return this.each(function(e,r){return t.push(r)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),l.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(l.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),l.prototype.setData=function(t,e){if("function"!=typeof t){var r=t;t=function(){return r}}for(var o=this.groups,s=this.parents,h=o.length,p=new Array(h),y=new Array(h),S=new Array(h),E=0;E<h;E++){var T=o[E],O=s[E];if(!O)throw new Error("Group #"+E+" has no parent: "+T);var F=T.length,k=t(O,O.datum,E,s),Q=k.length,de=y[E]=new Array(Q),he=p[E]=new Array(Q),fe=S[E]=new Array(F);e?this.bindKey(O,T,de,he,fe,k,e):this.bindIndex(O,T,de,he,fe,k);for(var ve=0,Be=0;ve<Q;ve++){var ct=de[ve];if(ct){ve>=Be&&(Be=ve+1);for(var tt=void 0;!(tt=he[Be])&&Be<Q;)Be++;ct.next=tt||null}}}var Ft=new l(p,s);return Ft.enterGroups=y,Ft.exitGroups=S,Ft},l.prototype.bindIndex=function(t,e,r,o,s,h){for(var p=e.length,y=h.length,S=0;S<y;S++)(E=e[S])?(E.datum=h[S],o[S]=E):r[S]=new R5(t,h[S]);for(;S<p;S++){var E;(E=e[S])&&(s[S]=E)}},l.prototype.bindKey=function(t,e,r,o,s,h,p){for(var y=e.length,S=h.length,E=new Array(y),T={},O=0;O<y;O++)(F=e[O])&&((k=E[O]=l.keyPrefix+p(F,F.datum,O,e))in T?s[O]=F:T[k]=F);for(O=0;O<S;O++){var k;(F=T[k=l.keyPrefix+p(t,h[O],O,h)])?(o[O]=F,F.datum=h[O],T[k]=void 0):r[O]=new R5(t,h[O])}for(O=0;O<y;O++){var F;(F=e[O])&&T[E[O]]===F&&(s[O]=F)}},l.keyPrefix="$",l}(),Op=function(){function l(t,e,r){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===r&&(r=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,r)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),l.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},l.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},l.prototype.getDataURL=function(t){return this.element.toDataURL(t)},l.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var r=this.getDataURL("image/png"),o=this.document,s=o.createElement("a");s.href=r,s.download=t,s.style.display="none",o.body.appendChild(s),s.click(),o.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var r=this,o=r.element,s=r.context,h=r.pixelRatio;o.width=Math.round(t*h),o.height=Math.round(e*h),o.style.width=t+"px",o.style.height=e+"px",s.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,r=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!r,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),l.measureText=function(t,e,r,o){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=r,s.textAlign=o,s.measureText(t)},l.getTextSize=function(t,e){if(this.has.textMetrics){var r=this.textMeasuringContext;r.font=e;var o=r.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},l.measureSvgText=function(t,e){var r=this.textSizeCache,o=r[e];if(o){var s=o[t];if(s)return s}else r[e]={};var h=this.svgText;h.style.font=e,h.textContent=t;var p=h.getBBox(),y={width:p.width,height:p.height};return r[e][t]=y,y},l.overrideScale=function(t,e){var r=0,o={save:function(){this.$save(),r++},restore:function(){r>0&&(this.$restore(),r--)},setTransform:function(h,p,y,S,E,T){this.$setTransform(h*e,p*e,y*e,S*e,E*e,T*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),r=0}};for(var s in o)o.hasOwnProperty(s)&&(t["$"+s]||(t["$"+s]=t[s]),t[s]=o[s])},l.textSizeCache={},l}(),uC=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},F5=function(){function l(t,e,r){var o=this;void 0===t&&(t=window.document),this.id=Ym(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var s,p=o.ctx,y=o.root,S=o.pendingSize;o.animationFrameId=0,S&&((s=o.canvas).resize.apply(s,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(uC(arguments[t]));return l}(S)),o.pendingSize=void 0),!y||y.visible?(p.clearRect(0,0,o.width,o.height),y&&(p.save(),y.visible&&y.render(p),p.restore()),o._frameIndex++,o.debug.renderFrameIndex&&(p.fillStyle="white",p.fillRect(0,0,40,15),p.fillStyle="black",p.fillText(o.frameIndex.toString(),2,10)),o.dirty=!1):o.dirty=!1},this.canvas=new Op(t,e,r),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),l.prototype.download=function(t){this.canvas.download(t)},l.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=t},enumerable:!0,configurable:!0}),l.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),l.prototype.appendPath=function(t){var e=this.ctx,r=t.commands,o=t.params,s=r.length,h=0;e.beginPath();for(var p=0;p<s;p++)switch(r[p]){case"M":e.moveTo(o[h++],o[h++]);break;case"L":e.lineTo(o[h++],o[h++]);break;case"C":e.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);break;case"Z":e.closePath()}},Object.defineProperty(l.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),l.className="Scene",l}(),c1=function(){return c1=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},c1.apply(this,arguments)},p4=function(){function l(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return l.prototype.addPropertyListener=function(t,e,r){void 0===r&&(r=this);var o=this.allPropertyListeners,s=o.get(t);s||o.set(t,s=new Map),s.has(e)||s.set(e,new Set);var p=s.get(e);p&&p.add(r)},l.prototype.removePropertyListener=function(t,e,r){void 0===r&&(r=this);var s=this.allPropertyListeners.get(t);if(s)if(e){var h=s.get(e);h&&(h.delete(r),h.size||s.delete(e))}else s.clear()},l.prototype.notifyPropertyListeners=function(t,e,r){var o=this,h=this.allPropertyListeners.get(t);h&&h.forEach(function(p,y){p.forEach(function(S){return y.call(S,{type:t,source:o,value:r,oldValue:e})})})},l.prototype.addEventListener=function(t,e,r){void 0===r&&(r=this);var o=this.allEventListeners,s=o.get(t);s||o.set(t,s=new Map),s.has(e)||s.set(e,new Set);var p=s.get(e);p&&p.add(r)},l.prototype.removeEventListener=function(t,e,r){void 0===r&&(r=this);var s=this.allEventListeners.get(t);if(s)if(e){var h=s.get(e);h&&(h.delete(r),h.size||s.delete(e))}else s.clear()},l.prototype.notifyEventListeners=function(t){var e=this,r=this.allEventListeners;t.forEach(function(o){var s=r.get(o);s&&s.forEach(function(h,p){h.forEach(function(y){return p.call(y,{type:o,source:e})})})})},l.prototype.fireEvent=function(t){var e=this,r=this.allEventListeners.get(t.type);r&&r.forEach(function(o,s){o.forEach(function(h){return s.call(h,c1(c1({},t),{source:e}))})})},l.privateKeyPrefix="_",l}();function fv(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return l.indexOf("debugger"),function(r,o){var s=p4.privateKeyPrefix+o,h=s+"Events";r[o]||(l&&(r[h]=l),Object.defineProperty(r,o,{set:function(p){var y=this[s];if(p!==y||"object"==typeof p&&null!==p){this[s]=p,this.notifyPropertyListeners(o,y,p);var S=this[h];S&&this.notifyEventListeners(S)}},get:function(){return this[s]},enumerable:!0,configurable:!0}))}}var X6=function(){function l(t,e,r,o){void 0===t&&(t=0),void 0===e&&(e=t),void 0===r&&(r=t),void 0===o&&(o=e),this.top=t,this.right=e,this.bottom=r,this.left=o}return l.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},l}();function Dl(l){var t=typeof l;return"string"!==t&&"number"===t&&l-l<1}function Zm(l){return l instanceof Date&&!isNaN(+l)}function f4(l){return"string"==typeof l}function L5(l){return function Xm(l){return Dl(l)||function qm(l){return!!l&&l.hasOwnProperty("valueOf")&&Dl(l.valueOf())}(l)}(l)||Zm(l)}function gv(l,t){return l=+l,t=+t,function(e){return l*(1-e)+t*e}}var Q6=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},Th=function(){function l(t,e,r,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,r||0)),this.a=Math.min(1,Math.max(0,o||0))}return l.fromString=function(t){if(t.indexOf("#")>=0)return l.fromHexString(t);var e=l.nameToHex[t];if(e)return l.fromHexString(e);if(t.indexOf("rgb")>=0)return l.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},l.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var r=0;r<t.length;r+=2)e.push(parseInt(""+t[r]+t[r+1],16));break;case 3:case 4:e=t.split("").map(function(o){return parseInt(o,16)}).map(function(o){return o+16*o})}if(e.length>=3&&e.every(function(o){return o>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(t){var e=l.parseHex(t);if(e){var r=Q6(e,4);return new l(r[0]/255,r[1]/255,r[2]/255,r[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},l.stringToRgba=function(t){for(var e=Q6([NaN,NaN],2),r=e[0],o=e[1],s=0;s<t.length;s++){var h=t[s];if(r||"("!==h){if(")"===h){o=s;break}}else r=s}var p=r&&o&&t.substring(r+1,o);if(p){var y=p.split(","),S=[];for(s=0;s<y.length;s++){var E=y[s],T=parseFloat(E);if(isNaN(T))return;E.indexOf("%")>=0?(T=Math.max(0,Math.min(100,T)),T/=100):3===s?T=Math.max(0,Math.min(1,T)):(T=Math.max(0,Math.min(255,T)),T/=255),S.push(T)}return S}},l.fromRgbaString=function(t){var e=l.stringToRgba(t);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},l.fromArray=function(t){if(4===t.length)return new l(t[0],t[1],t[2],t[3]);if(3===t.length)return new l(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(t,e,r,o){void 0===o&&(o=1);var s=l.HSBtoRGB(t,e,r);return new l(s[0],s[1],s[2],o)},l.padHex=function(t){return 1===t.length?"0"+t:t},l.prototype.toHexString=function(){var t="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=l.padHex(Math.round(255*this.a).toString(16))),t},l.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],r=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*r)/r),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(t,e,r){var o=Math.min(t,e,r),s=Math.max(t,e,r),p=NaN;if(o!==s){var y=s-o,S=(s-t)/y,E=(s-e)/y,T=(s-r)/y;p=t===s?T-E:e===s?2+S-T:4+E-S,(p/=6)<0&&(p+=1)}return[360*p,0!==s?(s-o)/s:0,s]},l.HSBtoRGB=function(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,s=0,h=0;if(0===e)o=s=h=r;else{var p=6*(t-Math.floor(t)),y=p-Math.floor(p),S=r*(1-e),E=r*(1-e*y),T=r*(1-e*(1-y));switch(p>>0){case 0:o=r,s=T,h=S;break;case 1:o=E,s=r,h=S;break;case 2:o=S,s=r,h=T;break;case 3:o=S,s=E,h=r;break;case 4:o=T,s=S,h=r;break;case 5:o=r,s=S,h=E}}return[o,s,h]},l.prototype.derive=function(t,e,r,o){var s=l.RGBtoHSB(this.r,this.g,this.b),h=s[2];0==h&&r>1&&(h=.05);var p=((s[0]+t)%360+360)%360,y=Math.max(Math.min(s[1]*e,1),0);h=Math.max(Math.min(h*r,1),0);var S=Math.max(Math.min(this.a*o,1),0),E=l.HSBtoRGB(p,y,h);return E.push(S),l.fromArray(E)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function Qm(l,t){if("string"==typeof l)try{l=Th.fromString(l)}catch(h){l=Th.fromArray([0,0,0])}if("string"==typeof t)try{t=Th.fromString(t)}catch(h){t=Th.fromArray([0,0,0])}var e=gv(l.r,t.r),r=gv(l.g,t.g),o=gv(l.b,t.b),s=gv(l.a,t.a);return function(h){return Th.fromArray([e(h),r(h),o(h),s(h)]).toRgbaString()}}function D3(l,t){var e=typeof t;if(null==t||"boolean"===e)return function(l){return function(){return l}}(t);if("number"===e)return gv(l,t);if("string"===e)try{return Qm(l,t=Th.fromString(t))}catch(o){}return t instanceof Th?Qm(l,t):t instanceof Date?function Z6(l,t){var e=new Date,r=+l,o=+t;return function(s){return e.setTime(r*(1-s)+o*s),e}}(l,t):Array.isArray(t)?function I5(l,t){var h,e=t?t.length:0,r=l?Math.min(e,l.length):0,o=new Array(r),s=new Array(e);for(h=0;h<r;++h)o[h]=D3(l[h],t[h]);for(;h<e;++h)s[h]=t[h];return function(p){for(h=0;h<r;++h)s[h]=o[h](p);return s}}(l,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function N5(l,t){var o,e={},r={};for(o in(null===l||"object"!=typeof l)&&(l={}),(null===t||"object"!=typeof t)&&(t={}),t)o in l?e[o]=D3(l[o],t[o]):r[o]=t[o];return function(s){for(o in e)r[o]=e[o](s);return r}}(l,t):gv(l,t)}var vv=function(l){return l};function Jm(l){var t,e=l[0],r=l[l.length-1];return e>r&&(t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s}([r,e],2),e=t[0],r=t[1]),function(o){return Math.max(e,Math.min(r,o))}}var e8=function(){function l(){this.unknown=void 0,this._clamp=vv,this._domain=[0,1],this._range=[0,1],this.transform=vv,this.untransform=vv,this._interpolate=D3,this.rescale()}return Object.defineProperty(l.prototype,"clamp",{get:function(){return this._clamp!==vv},set:function(t){this._clamp=t?Jm(this.domain):vv},enumerable:!0,configurable:!0}),l.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==vv&&(this._clamp=Jm(this.domain)),this.rescale()},l.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(l.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},l.prototype.normalize=function(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:function(l){return function(){return l}}(isNaN(e)?NaN:.5)},l.prototype.bimap=function(t,e,r){var y,S,o=t[0],s=t[1],h=e[0],p=e[1];return s<o?(y=this.normalize(s,o),S=r(p,h)):(y=this.normalize(o,s),S=r(h,p)),function(E){return S(y(E))}},l.prototype.convert=function(t){return t=+t,isNaN(t)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(t))))},l.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),gv)),this._clamp(this.untransform(this.input(t)))},l}();const z5=e8;var ey=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();var n8=Math.sqrt(50),r8=Math.sqrt(10),ty=Math.sqrt(2);function i8(l,t,e){var r=Math.abs(t-l)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/o;return s>=n8?o*=10:s>=r8?o*=5:s>=ty&&(o*=2),t<l?-o:o}function ny(l,t,e){var r=(t-l)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,o);return o>=0?(s>=n8?10:s>=r8?5:s>=ty?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=n8?10:s>=r8?5:s>=ty?2:1)}var ay,V,Y,le,V5=function(l){function t(e,r){var o=l.call(this)||this;if(r)for(var s=0,h=r.length;s<h;s++)o[s]=r[s];return o.fractionDigits=e,o}return ey(t,l),t}(Array),G5={"":function pC(l,t){var e=l.toPrecision(t);e:for(var r=e.length,o=1,s=-1,h=0;o<r;++o)switch(e[o]){case".":s=h=o;break;case"0":0===s&&(s=o),h=o;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(h+1):e},"%":function(l,t){return(100*l).toFixed(t)},b:function(l){return Math.round(l).toString(2)},c:function(l){return String(l)},d:function f(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:function(l,t){return l.toExponential(t)},f:function(l,t){return l.toFixed(t)},g:function(l,t){return l.toPrecision(t)},o:function(l){return Math.round(l).toString(8)},p:function(l,t){return b(100*l,t)},r:b,s:function vC(l,t){void 0===t&&(t=0);var e=D(l,t);if(!e)return String(l);var r=e[0],o=e[1],s=o-(ay=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,h=r.length;if(s===h)return r;if(s>h)return r+new Array(s-h+1).join("0");if(s>0)return r.slice(0,s)+"."+r.slice(s);var p=D(l,Math.max(0,t+s-1));return"0."+new Array(1-s).join("0")+p[0]},X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}},B5=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],ry=function l(t){t instanceof l?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},fC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,iy=/(#\{(.*?)\})/g;function oy(l){if(l instanceof ry)return new ry(l);var t=!1,e=l.replace(iy,function(){return t||(l=arguments[2],t=!0),"#{}"}),r=fC.exec(l);if(!r)throw new Error("Invalid format: "+l);return new ry({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10],string:t?e:void 0})}function b(l,t){var e=D(l,t);if(!e)return String(l);var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}function D(l,t){var e=t?l.toExponential(t-1):l.toExponential(),r=e.indexOf("e");if(!(r<0)){var o=e.slice(0,r);return[o.length>1?o[0]+o.slice(2):o,+e.slice(r+1)]}}function R(l){return l}function Ke(l){var t=D(Math.abs(l));return t?t[1]:NaN}!function Ce(l){V=function Un(l){var t=void 0===l.grouping||void 0===l.thousands?R:function g(l,t){return function(e,r){for(var o=[],s=e.length,h=0,p=l[0],y=0;s>0&&p>0&&(y+p+1>r&&(p=Math.max(1,r-y)),o.push(e.substring(s-=p,s+p)),!((y+=p+1)>r));)p=l[h=(h+1)%l.length];return o.reverse().join(t)}}(Array.prototype.map.call(l.grouping,Number),String(l.thousands)),e=void 0===l.currency?"":String(l.currency[0]),r=void 0===l.currency?"":String(l.currency[1]),o=void 0===l.decimal?".":String(l.decimal),s=void 0===l.numerals?R:function m(l){return function(t){return t.replace(/[0-9]/g,function(e){return l[+e]})}}(Array.prototype.map.call(l.numerals,String)),h=void 0===l.percent?"%":String(l.percent),p=void 0===l.minus?"\u2212":String(l.minus),y=void 0===l.nan?"NaN":String(l.nan);function S(T){var O=oy(T),F=O.fill,k=O.align,Q=O.sign,de=O.symbol,he=O.zero,fe=O.width,ve=O.comma,Be=O.precision,ct=O.trim,tt=O.type;"n"===tt?(ve=!0,tt="g"):G5[tt]||(void 0===Be&&(Be=12),ct=!0,tt="g"),(he||"0"===F&&"="===k)&&(he=!0,F="0",k="=");var Ft="$"===de?e:"#"===de&&/[boxX]/.test(tt)?"0"+tt.toLowerCase():"",Nt="$"===de?r:/[%p]/.test(tt)?h:"",jt=G5[tt],Jt=/[defgprs%]/.test(tt);return Be=void 0===Be?6:/[gprs]/.test(tt)?Math.max(1,Math.min(21,Be)):Math.max(0,Math.min(20,Be)),function Mn(Dn){var cn,on=Ft,wn=Nt;if("c"===tt)wn=jt(+Dn)+wn,cn="";else{var dn=+Dn,lr=Dn<0||1/dn<0;if(cn=isNaN(dn)?y:jt(Math.abs(dn),Be),ct&&(cn=function _(l){e:for(var t=l.length,e=1,r=-1,o=0;e<t;++e)switch(l[e]){case".":r=o=e;break;case"0":0===r&&(r=e),o=e;break;default:if(!+l[e])break e;r>0&&(r=0)}return r>0?l.slice(0,r)+l.slice(o+1):l}(cn)),lr&&0==+cn&&"+"!==Q&&(lr=!1),on=(lr?"("===Q?Q:p:"-"===Q||"("===Q?"":Q)+on,wn=("s"===tt?B5[8+ay/3]:"")+wn+(lr&&"("===Q?")":""),Jt)for(var Wn=0,zr=cn.length;Wn<zr;Wn++){var $n=cn.charCodeAt(Wn);if(48>$n||$n>57){wn=(46===$n?o+cn.slice(Wn+1):cn.slice(Wn))+wn,cn=cn.slice(0,Wn);break}}}ve&&!he&&(cn=t(cn,1/0));var jr=on.length+cn.length+wn.length,Vr=jr<fe?new Array(fe-jr+1).join(F):"";switch(ve&&he&&(cn=t(Vr+cn,Vr.length?fe-wn.length:1/0),Vr=""),k){case"<":cn=on+cn+wn+Vr;break;case"=":cn=on+Vr+cn+wn;break;case"^":cn=Vr.slice(0,jr=Vr.length>>1)+on+cn+wn+Vr.slice(jr);break;default:cn=Vr+on+cn+wn}var xi=O.string;return xi?xi.replace(iy,function(){return s(cn)}):s(cn)}}return{format:S,formatPrefix:function E(T,O){var F=oy(T);F.type="f";var k=S(F),Q=3*Math.max(-8,Math.min(8,Math.floor(Ke(O)/3))),de=Math.pow(10,-Q),he=B5[8+Q/3];return function(fe){return k(de*+fe)+he}}}}(l),Y=V.format,le=V.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var rr=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vr=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="linear",e}return rr(t,l),t.prototype.ticks=function(e){void 0===e&&(e=10);var r=this._domain;return function t8(l,t,e){var r=i8(l,t,e);return function H5(l,t,e){void 0===e&&(e=1);for(var r=Math.abs(e),o=r>0&&r<1?Math.abs(Math.floor(Math.log(r)/Math.LN10)):0,s=Math.pow(10,o),h=Math.max(0,Math.ceil((t-l)/e))||0,p=new V5(o),y=0;y<h;y++)p[y]=Math.round((l+e*y)*s)/s;return p}(l=Math.ceil(l/r)*r,t=Math.floor(t/r)*r+r/2,r)}(r[0],r[r.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var y,r=this.domain,o=0,s=r.length-1,h=r[o],p=r[s];p<h&&(y=h,h=p,p=y,y=o,o=s,s=y),(y=ny(h,p,e))>0?y=ny(h=Math.floor(h/y)*y,p=Math.ceil(p/y)*y,e):y<0&&(y=ny(h=Math.ceil(h*y)/y,p=Math.floor(p*y)/y,e)),y>0?(r[o]=Math.floor(h/y)*y,r[s]=Math.ceil(p/y)*y,this.domain=r):y<0&&(r[o]=Math.ceil(h*y)/y,r[s]=Math.floor(p*y)/y,this.domain=r)},t.prototype.tickFormat=function(e,r){var o=this.domain;return function gC(l,t,e,r){var h,o=i8(l,t,e),s=oy(null==r?",f":r);switch(s.type){case"s":var p=Math.max(Math.abs(l),Math.abs(t));return null==s.precision&&!isNaN(h=function $t(l,t){var e=Math.floor(Ke(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-Ke(Math.abs(l)))}(o,p))&&(s.precision=h),le(s,p);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(h=function On(l,t){return l=Math.abs(l),t=Math.abs(t)-l,Math.max(0,Ke(t)-Ke(l))+1}(o,Math.max(Math.abs(l),Math.abs(t))))&&(s.precision=h-+("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(h=function At(l){return Math.max(0,-Ke(Math.abs(l)))}(o))&&(s.precision=h-2*+("%"===s.type))}return Y(s)}(o[0],o[o.length-1],null==e?10:e,r)},t}(z5),In=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nr=new Date,Ri=new Date,vo=function(){function l(t,e){this._floor=t,this._offset=e}return l.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},l.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},l.prototype.round=function(t){var e=this.floor(t),r=this.ceil(t),o=+t;return o-e.getTime()<r.getTime()-o?e:r},l.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},l.prototype.range=function(t,e,r){void 0===r&&(r=1);var s,o=[];if(t=this.ceil(t),r=Math.floor(r),t>e||r<=0)return o;do{s=new Date(+t),o.push(s),this._offset(t,r),this._floor(t)}while(s<t&&t<e);return o},l.prototype.filter=function(t){var e=this;return new l(function(s){if(s>=s)for(;e._floor(s),!t(s);)s.setTime(s.getTime()-1);return s},function(s,h){if(s>=s)if(h<0)for(;++h<=0;)do{e._offset(s,-1)}while(!t(s));else for(;--h>=0;)do{e._offset(s,1)}while(!t(s));return s})},l}(),ra=function(l){function t(e,r,o,s){var h=l.call(this,e,r)||this;return h._count=o,h._field=s,h}return In(t,l),t.prototype.count=function(e,r){return Nr.setTime(+e),Ri.setTime(+r),this._floor(Nr),this._floor(Ri),Math.floor(this._count(Nr,Ri))},t.prototype.every=function(e){var o,r=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var s=this._field;o=this.filter(s?function(h){return s(h)%e==0}:function(h){return r.count(0,h)%e==0})}else o=this;return o},t}(vo),s8=new ra(function d1(l){return l},function o8(l,t){l.setTime(l.getTime()+t)},function a8(l,t){return t.getTime()-l.getTime()});const l8=s8;var zu=1e3,eu=6e4,xh=60*eu,Mh=24*xh,g4=7*Mh,mC=30*Mh,W5=365*Mh,r_=new ra(function e_(l){l.setTime(l.getTime()-l.getMilliseconds())},function t_(l,t){l.setTime(l.getTime()+t*zu)},function n_(l,t){return(t.getTime()-l.getTime())/zu});const i_=r_;var c_=new ra(function o_(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*zu)},function a_(l,t){l.setTime(l.getTime()+t*eu)},function s_(l,t){return(t.getTime()-l.getTime())/eu},function l_(l){return l.getMinutes()});const u_=c_;var g_=new ra(function d_(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*zu-l.getMinutes()*eu)},function h_(l,t){l.setTime(l.getTime()+t*xh)},function p_(l,t){return(t.getTime()-l.getTime())/xh},function f_(l){return l.getHours()});const v_=g_;var w_=new ra(function m_(l){l.setHours(0,0,0,0)},function y_(l,t){l.setDate(l.getDate()+t)},function C_(l,t){var e=t.getTimezoneOffset()-l.getTimezoneOffset();return(t.getTime()-l.getTime()-e*eu)/Mh},function __(l){return l.getDate()-1});const j5=w_;function v4(l){return new ra(function t(o){o.setDate(o.getDate()-(o.getDay()+7-l)%7),o.setHours(0,0,0,0)},function e(o,s){o.setDate(o.getDate()+7*s)},function r(o,s){return(s.getTime()-o.getTime()-(s.getTimezoneOffset()-o.getTimezoneOffset())*eu)/g4})}var yC=v4(0),U5=v4(1),Y5=(v4(2),v4(3),v4(4));v4(5),v4(6);const S_=yC;var T_=new ra(function b_(l){l.setDate(1),l.setHours(0,0,0,0)},function E_(l,t){l.setMonth(l.getMonth()+t)},function D_(l,t){return t.getMonth()-l.getMonth()+12*(t.getFullYear()-l.getFullYear())},function O_(l){return l.getMonth()});const x_=T_;var F_=new ra(function M_(l){l.setMonth(0,1),l.setHours(0,0,0,0)},function P_(l,t){l.setFullYear(l.getFullYear()+t)},function A_(l,t){return t.getFullYear()-l.getFullYear()},function R_(l){return l.getFullYear()});const c8=F_;var H_=new ra(function N_(l){l.setUTCHours(0,0,0,0)},function k_(l,t){l.setUTCDate(l.getUTCDate()+t)},function z_(l,t){return(t.getTime()-l.getTime())/Mh},function V_(l){return l.getUTCDate()-1});const _C=H_;var U_=new ra(function G_(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},function B_(l,t){l.setUTCFullYear(l.getUTCFullYear()+t)},function W_(l,t){return t.getUTCFullYear()-l.getUTCFullYear()},function j_(l){return l.getUTCFullYear()});const sy=U_;function m4(l){return new ra(function t(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-l)%7),o.setHours(0,0,0,0)},function e(o,s){o.setUTCDate(o.getUTCDate()+7*s)},function r(o,s){return(s.getTime()-o.getTime())/g4})}var Y_=m4(0),K5=m4(1),$5=(m4(2),m4(3),m4(4));m4(5),m4(6);const K_=Y_;function $_(l){if(l.y>=0&&l.y<100){var t=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return t.setFullYear(l.y),t}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function ly(l){if(l.y>=0&&l.y<100){var t=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return t.setUTCFullYear(l.y),t}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function u8(l){for(var t={},e=0,r=l.length;e<r;e++)t[l[e].toLowerCase()]=e;return t}function d8(l){return{y:l,m:0,d:1,H:0,M:0,S:0,L:0}}var q5,Ol=/^\s*\d+/,q_=/^%/,X_=/[\\^$*+?|[\]().{}]/g,Z_=function(l){return l.replace(X_,"\\$&")},h8=function(l){return new RegExp("^(?:"+l.map(Z_).join("|")+")","i")},SC={"-":"",_:" ",0:"0"};function No(l,t,e){var r=l<0?"-":"",o=String(r?-l:l),s=o.length;return r+(s<e?new Array(e-s+1).join(t)+o:o)}!function J_(l){q5=function Q_(l){var t=l.dateTime,e=l.date,r=l.time,o=l.periods,s=l.days,h=l.shortDays,p=l.months,y=l.shortMonths,S=h8(o),E=u8(o),T=h8(s),O=u8(s),F=h8(h),k=u8(h),Q=h8(p),de=u8(p),he=h8(y),fe=u8(y),ve={a:function dn(Te){return h[Te.getDay()]},A:function lr(Te){return s[Te.getDay()]},b:function xi(Te){return y[Te.getMonth()]},B:function Li(Te){return p[Te.getMonth()]},c:void 0,d:jr,e:jr,f:function jt(Te,Xe){return Jt(Te,Xe)+"000"},H:function wn(Te,Xe){return No(Te.getHours(),Xe,2)},I:function on(Te,Xe){return No(Te.getHours()%12||12,Xe,2)},j:function Vr(Te,Xe){return No(1+j5.count(c8.floor(Te),Te),Xe,3)},L:Jt,m:function ha(Te,Xe){return No(Te.getMonth()+1,Xe,2)},M:function Dn(Te,Xe){return No(Te.getMinutes(),Xe,2)},p:function cn(Te){return o[Te.getHours()>=12?1:0]},Q:_8,s:w8,S:function Mn(Te,Xe){return No(Te.getSeconds(),Xe,2)},u:function Xn(Te){var Xe=Te.getDay();return 0===Xe?7:Xe},U:function kr(Te,Xe){return No(yC.count(c8.floor(Te),Te),Xe,2)},V:function Wn(Te,Xe){var Pt=Te.getDay();Te=Pt>=4||0===Pt?Y5.floor(Te):Y5.ceil(Te);var ke=c8.floor(Te);return No(Y5.count(ke,Te)+(4===ke.getDay()?1:0),Xe,2)},w:function zr(Te){return Te.getDay()},W:function $n(Te,Xe){return No(U5.count(c8.floor(Te),Te),Xe,2)},x:void 0,X:void 0,y:function Ha(Te,Xe){return No(Te.getFullYear()%100,Xe,2)},Y:function ks(Te,Xe){return No(Te.getFullYear()%1e4,Xe,4)},Z:function Oa(Te){var Xe=Te.getTimezoneOffset();return(Xe>0?"-":(Xe*=-1,"+"))+No(Math.floor(Xe/60),"0",2)+No(Xe%60,"0",2)},"%":C8},Be={a:function u7(Te){return h[Te.getUTCDay()]},A:function d7(Te){return s[Te.getUTCDay()]},b:function ul(Te){return y[Te.getUTCMonth()]},B:function p1(Te){return p[Te.getUTCMonth()]},c:void 0,d:Cr,e:Cr,f:function Tl(Te,Xe){return pa(Te,Xe)+"000"},H:function Ah(Te,Xe){return No(Te.getUTCHours(),Xe,2)},I:function Ph(Te,Xe){return No(Te.getUTCHours()%12||12,Xe,2)},j:function to(Te,Xe){return No(1+_C.count(sy.floor(Te),Te),Xe,3)},L:pa,m:function zs(Te,Xe){return No(Te.getUTCMonth()+1,Xe,2)},M:function xl(Te,Xe){return No(Te.getUTCMinutes(),Xe,2)},p:function xp(Te){return o[Te.getUTCHours()>=12?1:0]},Q:_8,s:w8,S:function cl(Te,Xe){return No(Te.getUTCSeconds(),Xe,2)},u:function h7(Te){var Xe=Te.getUTCDay();return 0===Xe?7:Xe},U:function p7(Te,Xe){return No(K_.count(sy.floor(Te),Te),Xe,2)},V:function f7(Te,Xe){var Pt=Te.getUTCDay();Te=Pt>=4||0===Pt?$5.floor(Te):$5.ceil(Te);var ke=sy.floor(Te);return No($5.count(ke,Te)+(4===ke.getUTCDay()?1:0),Xe,4)},w:function g7(Te){return Te.getUTCDay()},W:function v7(Te,Xe){return No(K5.count(sy.floor(Te),Te),Xe,2)},x:void 0,X:void 0,y:function m7(Te,Xe){return No(Te.getUTCFullYear()%100,Xe,2)},Y:function y7(Te,Xe){return No(Te.getUTCFullYear()%1e4,Xe,4)},Z:function C7(){return"+0000"},"%":C8},ct={a:function O7(Te,Xe,Pt){var ke=F.exec(Xe.slice(Pt));return ke?(Te.w=k[ke[0].toLowerCase()],Pt+ke[0].length):-1},A:function T7(Te,Xe,Pt){var ke=T.exec(Xe.slice(Pt));return ke?(Te.w=O[ke[0].toLowerCase()],Pt+ke[0].length):-1},b:function F7(Te,Xe,Pt){var ke=he.exec(Xe.slice(Pt));return ke?(Te.m=fe[ke[0].toLowerCase()],Pt+ke[0].length):-1},B:function L7(Te,Xe,Pt){var ke=Q.exec(Xe.slice(Pt));return ke?(Te.m=de[ke[0].toLowerCase()],Pt+ke[0].length):-1},c:function N7(Te,Xe,Pt){return Nt(Te,t,Xe,Pt)},d:b8,e:b8,f:function _7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+6));return ke?(Te.L=Math.floor(parseFloat(ke[0])/1e3),Pt+ke[0].length):-1},H:S8,I:S8,j:function D7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+3));return ke?(Te.m=0,Te.d=+ke[0],Pt+ke[0].length):-1},L:function w7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+3));return ke?(Te.L=+ke[0],Pt+ke[0].length):-1},m:function I7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.m=parseFloat(ke[0])-1,Pt+ke[0].length):-1},M:function b7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.M=+ke[0],Pt+ke[0].length):-1},p:function E7(Te,Xe,Pt){var ke=S.exec(Xe.slice(Pt));return ke?(Te.p=E[ke[0].toLowerCase()],Pt+ke[0].length):-1},Q:function V7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt));return ke?(Te.Q=+ke[0],Pt+ke[0].length):-1},s:function H7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt));return ke?(Te.Q=1e3*+ke[0],Pt+ke[0].length):-1},S:function S7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.S=+ke[0],Pt+ke[0].length):-1},u:function x7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+1));return ke?(Te.u=+ke[0],Pt+ke[0].length):-1},U:function M7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.U=+ke[0],Pt+ke[0].length):-1},V:function P7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.V=+ke[0],Pt+ke[0].length):-1},w:function R7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+1));return ke?(Te.w=+ke[0],Pt+ke[0].length):-1},W:function A7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.W=+ke[0],Pt+ke[0].length):-1},x:function k7(Te,Xe,Pt){return Nt(Te,e,Xe,Pt)},X:function z7(Te,Xe,Pt){return Nt(Te,r,Xe,Pt)},y:function G7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.y=+ke[0]+(+ke[0]>68?1900:2e3),Pt+ke[0].length):-1},Y:function B7(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+4));return ke?(Te.y=+ke[0],Pt+ke[0].length):-1},Z:function W7(Te,Xe,Pt){var ke=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(Xe.slice(Pt,Pt+6));return ke?(Te.Z=ke[1]?0:-(ke[2]+(ke[3]||"00")),Pt+ke[0].length):-1},"%":function j7(Te,Xe,Pt){var ke=q_.exec(Xe.slice(Pt,Pt+1));return ke?Pt+ke[0].length:-1}};function tt(Te,Xe){return function(Pt){var ke=d8(1900);if(Nt(ke,Te,Pt+="",0)==Pt.length){if("Q"in ke)return new Date(ke.Q);if("p"in ke&&(ke.H=ke.H%12+12*ke.p),"V"in ke){if(ke.V<1||ke.V>53)return;if("w"in ke||(ke.w=1),"Z"in ke){var Mo=(Hr=ly(d8(ke.y))).getUTCDay();Hr=Mo>4||0===Mo?K5.ceil(Hr):K5.floor(Hr),Hr=_C.offset(Hr,7*(ke.V-1)),ke.y=Hr.getUTCFullYear(),ke.m=Hr.getUTCMonth(),ke.d=Hr.getUTCDate()+(ke.w+6)%7}else{var Hr;Mo=(Hr=Xe(d8(ke.y))).getDay(),Hr=Mo>4||0===Mo?U5.ceil(Hr):U5.floor(Hr),Hr=j5.offset(Hr,7*(ke.V-1)),ke.y=Hr.getFullYear(),ke.m=Hr.getMonth(),ke.d=Hr.getDate()+(ke.w+6)%7}}else("W"in ke||"U"in ke)&&("w"in ke||(ke.w="u"in ke?ke.u%7:"W"in ke?1:0),Mo="Z"in ke?ly(d8(ke.y)).getUTCDay():Xe(d8(ke.y)).getDay(),ke.m=0,ke.d="W"in ke?(ke.w+6)%7+7*ke.W-(Mo+5)%7:ke.w+7*ke.U-(Mo+6)%7);return"Z"in ke?(ke.H+=ke.Z/100|0,ke.M+=ke.Z%100,ly(ke)):Xe(ke)}}}function Ft(Te,Xe){return function(Pt){var ke=[],Ml=Te.length,Hr=-1,Mo=0;for(Pt instanceof Date||(Pt=new Date(+Pt));++Hr<Ml;)if(37===Te.charCodeAt(Hr)){ke.push(Te.slice(Mo,Hr));var Vs=Te.charAt(++Hr),Hu=SC[Vs];null!=Hu?Vs=Te.charAt(++Hr):Hu="e"===Vs?" ":"0";var Rh=Xe[Vs];Rh&&(Vs=Rh(Pt,Hu)),ke.push(Vs),Mo=Hr+1}return ke.push(Te.slice(Mo,Hr)),ke.join("")}}function Nt(Te,Xe,Pt,ke){for(var Ml=0,Hr=Xe.length,Mo=Pt.length;Ml<Hr;){if(ke>=Mo)return-1;var Vs=Xe.charCodeAt(Ml++);if(37===Vs){var Hu=Xe.charAt(Ml++),Rh=ct[Hu in SC?Xe.charAt(Ml++):Hu];if(!Rh||(ke=Rh(Te,Pt,ke))<0)return-1}else if(Vs!=Pt.charCodeAt(ke++))return-1}return ke}function Jt(Te,Xe){return No(Te.getMilliseconds(),Xe,3)}function jr(Te,Xe){return No(Te.getDate(),Xe,2)}function pa(Te,Xe){return No(Te.getUTCMilliseconds(),Xe,3)}function Cr(Te,Xe){return No(Te.getUTCDate(),Xe,2)}function C8(Te){return"%"}function _8(Te){return Te.getTime()}function w8(Te){return Math.floor(Te.getTime()/1e3)}function S8(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.H=+ke[0],Pt+ke[0].length):-1}function b8(Te,Xe,Pt){var ke=Ol.exec(Xe.slice(Pt,Pt+2));return ke?(Te.d=+ke[0],Pt+ke[0].length):-1}return ve.x=Ft(e,ve),ve.X=Ft(r,ve),ve.c=Ft(t,ve),Be.x=Ft(e,Be),Be.X=Ft(r,Be),Be.c=Ft(t,Be),{format:function(Te){var Xe=Ft(Te,ve);return Xe.toString=function(){return Te},Xe},parse:function(Te){var Xe=tt(Te,$_);return Xe.toString=function(){return Te},Xe},utcFormat:function(Te){var Xe=Ft(Te,Be);return Xe.toString=function(){return Te},Xe},utcParse:function(Te){var Xe=tt(Te,ly);return Xe.toString=function(){return Te},Xe}}}(l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var e9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),X5=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var o,h,r=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(p){h={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(h)throw h.error}}return s},bC=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="time",e.year=c8,e.month=x_,e.week=S_,e.day=j5,e.hour=v_,e.minute=u_,e.second=i_,e.millisecond=l8,e.format=q5.format,e.tickIntervals=[[e.second,1,zu],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,eu],[e.minute,5,5*eu],[e.minute,15,15*eu],[e.minute,30,30*eu],[e.hour,1,xh],[e.hour,3,3*xh],[e.hour,6,6*xh],[e.hour,12,12*xh],[e.day,1,Mh],[e.day,2,2*Mh],[e.week,1,g4],[e.month,1,mC],[e.month,3,3*mC],[e.year,1,W5]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return e9(t,l),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,r,o,s){var h;if("number"==typeof e){var p=e,y=this.tickIntervals,S=Math.abs(o-r)/p,E=function I_(l,t,e,r,o){void 0===r&&(r=0),void 0===o&&(o=l.length);for(var s=function CC(l){return function(t,e){return function L_(l,t){return l<t?-1:l>t?1:l>=t?0:NaN}(l(t),e)}}(e);r<o;){var h=r+o>>>1;s(l[h],t)<0?r=h+1:o=h}return r}(y,S,function(T){return T[2]});E===y.length?(s=i8(r/W5,o/W5,p),e=this.year):E?(e=(h=X5(y[S/y[E-1][2]<y[E][2]/S?E-1:E],2))[0],s=h[1]):(s=Math.max(i8(r,o,e),1),e=this.millisecond)}return null==s?e:e.every(s)},Object.defineProperty(t.prototype,"domain",{get:function(){return l.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){l.prototype.setDomain.call(this,Array.prototype.map.call(e,function(r){return r instanceof Date?+r:+new Date(+r)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},t.prototype.ticks=function(e){void 0===e&&(e=10);var r=l.prototype.getDomain.call(this),o=r[0],s=r[r.length-1],h=s<o;if(h){var p=o;o=s,s=p}var y=this.tickInterval(e,o,s),S=y?y.range(o,s+1):[];return h?S.reverse():S},t.prototype.tickFormat=function(e,r){return null==r?this.defaultTickFormat.bind(this):this.format(r)},t.prototype.nice=function(e){void 0===e&&(e=10);var r=l.prototype.getDomain.call(this),o=this.tickInterval(e,r[0],r[r.length-1]);o&&(this.domain=this._nice(r,o))},t.prototype._nice=function(e,r){var o,s,h=0,p=(e=e.slice()).length-1,y=e[h],S=e[p];return S<y&&(h=(o=X5([p,h],2))[0],p=o[1],y=(s=X5([S,y],2))[0],S=s[1]),e[h]=r.floor(y),e[p]=r.ceil(S),e},t}(z5);function n9(l){return l}function p8(l,t,e){for(var h,p,y,r=e||n9,o=l.length,s=-1;++s<o;)if(t(h=l[s]))for(p=y=h;++s<o;)t(h=l[s])&&(p>h&&(p=h),y<h&&(y=h));return void 0===p||void 0===y?void 0:[r(p),r(y)]}var EC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),i9=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return EC(t,l),t}(p4),Z5=function(l){function t(){var e=l.call(this)||this;e.id=Ym(e),e.seriesRect={x:0,y:0,width:0,height:0},e._context=void 0,e._container=void 0,e._data=void 0,e.padding=new X6(3),e.xKey="x",e.yKey="y",e.dataType=void 0,e.xData=[],e.yData=[],e.min=void 0,e.max=void 0,e.yScale=new vr,e.axis=new i9,e.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},e._width=100,e._height=100,e.layoutId=0,e.defaultDateFormatter=q5.format("%m/%d/%y, %H:%M:%S"),e._onMouseMove=e.onMouseMove.bind(e),e._onMouseOut=e.onMouseOut.bind(e);var r=new Oh;e.rootGroup=r;var o=document.createElement("div");o.setAttribute("class","ag-sparkline-wrapper");var s=new F5(document);if(e.scene=s,e.canvasElement=s.canvas.element,s.root=r,s.container=o,s.resize(e.width,e.height),e.seriesRect.width=e.width,e.seriesRect.height=e.height,-1===t.tooltipDocuments.indexOf(document)){var h=document.createElement("style");h.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(h,document.head.querySelector("style")),t.tooltipDocuments.push(document)}return e.setupDomEventListeners(e.scene.canvas.element),e}return EC(t,l),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var r=this.canvasElement.parentNode;null!=r&&r.removeChild(this.canvasElement),e&&e.appendChild(this.canvasElement),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.scene.resize(e,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.scene.resize(this.width,e),this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var s,r=this.xData,o=this.xScale;o instanceof vr?s=p8(r,Dl):o instanceof bC&&(s=p8(r,L5)),this.xScale.domain=s?s.slice():r},t.prototype.getXScale=function(e){switch(void 0===e&&(e="category"),e){case"number":return new vr;case"time":return new bC;default:return new Dp}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(e){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(e){var r=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(r){var o=this.highlightedDatum;this.highlightedDatum=r,(this.highlightedDatum&&!o||this.highlightedDatum&&o&&this.highlightedDatum!==o)&&(this.highlightDatum(r),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(e,r)}},t.prototype.onMouseOut=function(e){this.dehighlightDatum(),this.tooltip.toggle(!1)},t.prototype.processData=function(){var e=this,r=e.data,o=e.yData,s=e.xData;if(r&&!this.invalidData(this.data)){o.length=0,s.length=0;var h=r.length,p=this.getDataType(r);this.dataType=p;var y=this.axis.type,S="number"!==y&&"time"!==y?"category":y;if("number"===p)for(var E=0;E<h;E++){var O=r[E],F=this.getDatum(E,S),k=this.getDatum(O,"number");s.push(F),o.push(k)}else if("array"===p)for(E=0;E<h;E++){var Q=r[E];if(Array.isArray(Q)){if(O=Q[1],F=this.getDatum(Q[0],S),k=this.getDatum(O,"number"),null==F)continue;s.push(F),o.push(k)}}else if("object"===p){var he=this.yKey,fe=this.xKey;for(E=0;E<h;E++)if("object"==typeof(Q=r[E])&&!Array.isArray(Q)){if(O=Q[he],F=this.getDatum(Q[fe],S),k=this.getDatum(O,"number"),null==F)continue;s.push(F),o.push(k)}}this.updateAxes(),this.update()}},t.prototype.getDataType=function(e){var r,o;try{for(var s=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),h=s.next();!h.done;h=s.next()){var p=h.value;if(null!=p){if(Dl(p))return"number";if(Array.isArray(p))return"array";if("object"==typeof p)return"object"}}}catch(y){r={error:y}}finally{try{h&&!h.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},t.prototype.getDatum=function(e,r){if("number"===r&&Dl(e)||"time"===r&&(Dl(e)||Zm(e)))return e;if("category"===r){if(f4(e)||Zm(e)||Dl(e))return{toString:function(){return String(e)}};if(function b3(l){return!!l&&l.hasOwnProperty("toString")&&f4(l.toString())}(e))return e}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){var e=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){e.setSparklineDimensions(),!e.invalidData(e.data)&&(e.updateXScaleRange(),e.updateYScaleRange(),e.updateAxisLine(),e.update(),e.layoutId=0)})},t.prototype.setSparklineDimensions=function(){var e=this,s=e.padding,h=e.seriesRect,p=e.rootGroup,S=e.height-s.top-s.bottom;h.width=e.width-s.left-s.right,h.height=S,h.x=s.left,h.y=s.top,p.translationX=h.x,p.translationY=h.y},t.prototype.pickClosestSeriesNodeDatum=function(e,r){var h,o=this,s=1/0,p=this.rootGroup.transformPoint(e,r);return this.getNodeData().forEach(function(y){if(y.point){var S=o.getDistance(p,y.point);S<s&&(s=S,h=y)}}),h},t.prototype.getDistance=function(e,r){return Math.abs(e.x-r.x)},t.prototype.handleTooltip=function(e,r){var o=r.seriesDatum,h=e.clientX,p=e.clientY;null==this.tooltip.container&&(this.tooltip.container=this.canvasElement);var y={pageX:h,pageY:p},T=this.tooltip.enabled;if(this.tooltip.renderer){var O=this.tooltip.renderer({context:this.context,datum:o,yValue:o.y,xValue:o.x});T="string"!=typeof O&&void 0!==O.enabled?O.enabled:T}var F=T&&void 0!==o.y&&this.getTooltipHtml(r);F&&this.tooltip.show(y,F)},t.prototype.formatNumericDatum=function(e){return String(Math.round(10*e)/10)},t.prototype.formatDatum=function(e){var r=this.axis.type||"category";return"number"===r&&"number"==typeof e?this.formatNumericDatum(e):"time"===r&&(e instanceof Date||Dl(e))?this.defaultDateFormatter(e):String(e)},t.prototype.setupDomEventListeners=function(e){e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(e){e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(e){return!e||!Array.isArray(e)||0===e.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}(p4),o9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function O3(l,t){if("string"==typeof l)return l;t=t||{};var O,F,e=l.content,r=void 0===e?t.content||"":e,o=l.title,s=void 0===o?t.title||void 0:o,h=l.color,p=void 0===h?t.color:h,y=l.backgroundColor,S=void 0===y?t.backgroundColor:y,E=l.opacity,T=void 0===E?t.opacity||1:E;if(p?(O=s?'<span class="'+y4.class+'-title"; style="color: '+p+'">'+s+"</span>":"",F='<span class="'+y4.class+'-content" style="color: '+p+'">'+r+"</span>"):(O=s?'<span class="'+y4.class+'-title">'+s+"</span>":"",F='<span class="'+y4.class+'-content">'+r+"</span>"),S){var k=Th.fromString(S.toLowerCase()),ct=Th.fromArray([k.r,k.g,k.b,T]).toRgbaString();return'<div class="'+y4.class+'" style="background-color: '+ct+'">\n                    '+O+"\n                    "+F+"\n                </div>"}return'<div class="'+y4.class+'">\n                    '+O+"\n                    "+F+"\n                </div>"}var y4=function(l){function t(){var e=l.call(this)||this;return e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0,document.body.appendChild(e.element),e}return o9(t,l),t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var r=e.getAttribute("class");return!!r&&r.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var r=[t.class+"-wrapper"];!0!==e&&r.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",r.join(" "))},t.prototype.show=function(e,r){this.toggle(!1);var o=this.element;if(void 0!==r)o.innerHTML=r;else if(!o.innerHTML)return;var s=e.pageX+this.xOffset,h=e.pageY+this.yOffset,p=o.getBoundingClientRect(),y=window.innerWidth-p.width;if(this.container){var S=this.container.getBoundingClientRect();y=S.left+(S.width-p.width)}s>y&&(s=e.pageX-o.clientWidth-this.xOffset),o.style.left=Math.round(s)+"px",o.style.top=Math.round(h)+"px",this.toggle(!0)},t.prototype.toggle=function(e){this.updateClass(e)},t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}(p4),a9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q5=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return a9(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t}(Sd),s9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),DC=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return s9(t,l),t.prototype.isPointInPath=function(e,r){return!1},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.x,s=r.y,p=r.size/2;e.beginPath(),e.arc(o,s,p,0,2*Math.PI,!1),this.fillStroke(e),this.dirty=!1},t.className="Circle",t}(Q5),l9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),c9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return l9(t,l),t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.x,s=r.y,p=r.size/2;e.beginPath(),e.moveTo(o,s-=p),e.lineTo(o+=p,s+=p),e.lineTo(o-=p,s+=p),e.lineTo(o-=p,s-=p),e.lineTo(o+=p,s-=p),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Diamond",t}(Q5),u9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return u9(t,l),t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.x,s=r.y,h=r.size,p=h/2;e.beginPath(),e.moveTo(o-=p,s-=p),e.lineTo(o+=h,s),e.lineTo(o,s+=h),e.lineTo(o-=h,s),e.lineTo(o,s-=h),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Square",t}(Q5);function OC(l){switch(l){case"circle":default:return DC;case"square":return d9;case"diamond":return c9}}function cy(l,t){void 0===t&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===l||"square"===l?null==r[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),r.solid):r[t]:null==e[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),e.solid):e[t]}var h9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),p9=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},f9=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},g9=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},v9=function(l){function t(){var e=l.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new K6,e.fillPath=new K6,e.xCrosshairLine=new pv,e.yCrosshairLine=new pv,e.areaSparklineGroup=new Oh,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new pv,e.markers=new Oh,e.markerSelection=$m.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new p9,e.line=new f9,e.crosshairs=new g9,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return h9(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();if(e){var r=e.nodeData,o=e.fillData,s=e.strokeData;this.markerSelectionData=r,this.fillPathData=o,this.strokePathData=s,this.updateSelection(r),this.updateNodes(),this.updateStroke(s),this.updateFill(o)}},t.prototype.updateYScaleDomain=function(){var o=this.yScale,s=p8(this.yData,Dl),h=0,p=1;void 0!==s&&(h=this.min=s[0],p=this.max=s[1]),o.domain=[h=h<0?h:0,p=p<0?0:p]},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale;if(e.data){for(var F,k,Q,de,y=h instanceof Dp?h.bandwidth/2:0,S=o.length,E=[],T=[],O=[],he=p.convert(0),fe=0;fe<S;fe++){var ve=o[fe],Be=s[fe],ct=h.convert(Be)+y,tt=p.convert(ve);fe+1<S&&(de=h.convert(s[fe+1])+y),O.push({seriesDatum:{x:Be,y:ve},point:{x:ct,y:tt}}),void 0===ve&&void 0!==Q?(T.push({seriesDatum:void 0,point:{x:Q,y:he}}),void 0!==de&&T.push({seriesDatum:void 0,point:{x:de,y:he}})):void 0!==ve&&(T.push({seriesDatum:{x:Be,y:ve},point:{x:ct,y:tt}}),E.push({seriesDatum:{x:Be,y:ve},point:{x:ct,y:tt}}),F=void 0!==F?F:ct,k=ct),Q=ct}return T.push({seriesDatum:void 0,point:{x:k,y:he}},{seriesDatum:void 0,point:{x:F,y:he}}),{nodeData:E,fillData:T,strokeData:O}}},t.prototype.updateAxisLine=function(){var e=this,r=e.xScale,o=e.yScale,s=e.axis,h=e.xAxisLine;h.x1=r.range[0],h.x2=r.range[1],h.y1=h.y2=0,h.stroke=s.stroke,h.strokeWidth=s.strokeWidth;var p=o.convert(0);h.translationY=p},t.prototype.updateSelection=function(e){var o=OC(this.marker.shape),s=this.markerSelection.setData(e),h=s.enter.append(o);s.exit.remove(),this.markerSelection=s.merge(h)},t.prototype.updateNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.highlightStyle,h=r.marker,p=s.size,y=s.fill,S=s.stroke,E=s.strokeWidth,T=h.formatter;this.markerSelection.each(function(O,F,k){var Q=F.point,de=F.seriesDatum;if(Q){var tt,he=F===o,fe=he&&void 0!==y?y:h.fill,ve=he&&void 0!==S?S:h.stroke,Be=he&&void 0!==E?E:h.strokeWidth,ct=he&&void 0!==p?p:h.size;T&&(tt=T({datum:F,xValue:de.x,yValue:de.y,min:de.y===e.min,max:de.y===e.max,first:0===k,last:k===e.markerSelectionData.length-1,fill:fe,stroke:ve,strokeWidth:Be,size:ct,highlighted:he})),O.size=tt&&null!=tt.size?tt.size:ct,O.fill=tt&&null!=tt.fill?tt.fill:fe,O.stroke=tt&&null!=tt.stroke?tt.stroke:ve,O.strokeWidth=tt&&null!=tt.strokeWidth?tt.strokeWidth:Be,O.translationX=Q.x,O.translationY=Q.y,O.visible=tt&&null!=tt.enabled?tt.enabled:h.enabled&&O.size>0}})},t.prototype.updateStroke=function(e){var r=this,o=r.strokePath,h=r.line;if(!(r.yData.length<2)){var p=o.path,y=e.length,S=!0;p.clear();for(var E=0;E<y;E++){var T=e[E],O=T.point,k=O.x,Q=O.y;null==T.seriesDatum.y?S=!0:S?(p.moveTo(k,Q),S=!1):p.lineTo(k,Q)}o.lineJoin=o.lineCap="round",o.fill=void 0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth}},t.prototype.updateFill=function(e){var r=this,o=r.fillPath,s=r.yData,h=r.fill,p=o.path,y=e.length;if(p.clear(),!(s.length<2)){for(var S=0;S<y;S++){var E=e[S].point,T=E.x,O=E.y;S>0?p.lineTo(T,O):p.moveTo(T,O)}p.closePath(),o.lineJoin="round",o.stroke=void 0,o.fill=h}},t.prototype.updateXCrosshairLine=function(){var e=this,r=e.yScale,o=e.xCrosshairLine,s=e.highlightedDatum,h=e.crosshairs.xLine;if(h.enabled&&null!=s){o.y1=r.range[0],o.y2=r.range[1],o.x1=o.x2=0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth||1,o.lineCap="round"===h.lineCap||"square"===h.lineCap?h.lineCap:void 0;var p=h.lineDash;o.lineDash=Array.isArray(p)?p:cy(o.lineCap,h.lineDash),o.translationX=s.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,r=e.xScale,o=e.yCrosshairLine,s=e.highlightedDatum,h=e.crosshairs.yLine;if(h.enabled&&null!=s){o.x1=r.range[0],o.x2=r.range[1],o.y1=o.y2=0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth||1,o.lineCap="round"===h.lineCap||"square"===h.lineCap?h.lineCap:void 0;var p=h.lineDash;o.lineDash=Array.isArray(p)?p:cy(o.lineCap,h.lineDash),o.translationY=s.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var r=this.dataType,o=e.seriesDatum,s=o.y,h=o.x,S={content:this.formatNumericDatum(s),title:"array"===r||"object"===r?this.formatDatum(h):void 0};return this.tooltip.renderer?O3(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:h}),S):O3(S)},t.className="AreaSparkline",t}(Z5),m9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y9=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},C9=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},_9=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},w9=function(l){function t(){var e=l.call(this)||this;return e.linePath=new K6,e.xCrosshairLine=new pv,e.yCrosshairLine=new pv,e.lineSparklineGroup=new Oh,e.markers=new Oh,e.markerSelection=$m.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new y9,e.line=new C9,e.crosshairs=new _9,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return m9(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();!e||(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var o=this.yScale,s=p8(this.yData,Dl),h=0,p=1;if(void 0!==s&&(h=this.min=s[0],p=this.max=s[1]),h===p){var y=Math.abs(.01*h);h-=y,p+=y}o.domain=[h,p]},t.prototype.generateNodeData=function(){var e=this,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale;if(e.data){for(var y=h instanceof Dp?h.bandwidth/2:0,S=[],E=0;E<o.length;E++){var T=o[E],O=s[E];if(null!=T){var F=h.convert(O)+y,k=p.convert(T);S.push({seriesDatum:{x:O,y:T},point:{x:F,y:k}})}}return S}},t.prototype.updateSelection=function(e){var o=OC(this.marker.shape),s=this.markerSelection.setData(e),h=s.enter.append(o);s.exit.remove(),this.markerSelection=s.merge(h)},t.prototype.updateNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.highlightStyle,h=r.marker,p=s.size,y=s.fill,S=s.stroke,E=s.strokeWidth,T=h.formatter;this.markerSelection.each(function(O,F,k){var Be,Q=F===o,de=Q&&void 0!==y?y:h.fill,he=Q&&void 0!==S?S:h.stroke,fe=Q&&void 0!==E?E:h.strokeWidth,ve=Q&&void 0!==p?p:h.size,ct=F.seriesDatum,tt=F.point;T&&(Be=T({datum:F,xValue:ct.x,yValue:ct.y,min:ct.y===e.min,max:ct.y===e.max,first:0===k,last:k===e.markerSelectionData.length-1,fill:de,stroke:he,strokeWidth:fe,size:ve,highlighted:Q})),O.size=Be&&null!=Be.size?Be.size:ve,O.fill=Be&&null!=Be.fill?Be.fill:de,O.stroke=Be&&null!=Be.stroke?Be.stroke:he,O.strokeWidth=Be&&null!=Be.strokeWidth?Be.strokeWidth:fe,O.translationX=tt.x,O.translationY=tt.y,O.visible=Be&&null!=Be.enabled?Be.enabled:h.enabled&&O.size>0})},t.prototype.updateLine=function(){var e=this,r=e.linePath,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale,y=e.line;if(!(o.length<2)){var S=r.path,E=o.length,T=h instanceof Dp?h.bandwidth/2:0,O=!0;S.clear();for(var F=0;F<E;F++){var Q=o[F],de=h.convert(s[F])+T,he=p.convert(Q);null==Q?O=!0:O?(S.moveTo(de,he),O=!1):S.lineTo(de,he)}r.fill=void 0,r.stroke=y.stroke,r.strokeWidth=y.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e=this,r=e.yScale,o=e.xCrosshairLine,s=e.highlightedDatum,h=e.crosshairs.xLine;if(h.enabled&&null!=s){o.y1=r.range[0],o.y2=r.range[1],o.x1=o.x2=0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth||1,o.lineCap="round"===h.lineCap||"square"===h.lineCap?h.lineCap:void 0;var p=h.lineDash;o.lineDash=Array.isArray(p)?p:cy(o.lineCap,h.lineDash),o.translationX=s.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,r=e.xScale,o=e.yCrosshairLine,s=e.highlightedDatum,h=e.crosshairs.yLine;if(h.enabled&&null!=s){o.x1=r.range[0],o.x2=r.range[1],o.y1=o.y2=0,o.stroke=h.stroke,o.strokeWidth=h.strokeWidth||1,o.lineCap="round"===h.lineCap||"square"===h.lineCap?h.lineCap:void 0;var p=h.lineDash;o.lineDash=Array.isArray(p)?p:cy(o.lineCap,h.lineDash),o.translationY=s.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var r=this.dataType,o=e.seriesDatum,s=o.y,h=o.x,S={content:this.formatNumericDatum(s),title:"array"===r||"object"===r?this.formatDatum(h):void 0};return this.tooltip.renderer?O3(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:h}),S):O3(S)},t.className="LineSparkline",t}(Z5),S9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b9=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return S9(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.isPointInPath=function(e,r){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.x,s=r.y,h=r.width,p=r.height,y=r.crisp;if(e.beginPath(),y){var E=this.alignment,T=this.align;e.rect(T(E,o),T(E,s),T(E,o,h),T(E,s,p))}else e.rect(o,s,h,p);this.fillStroke(e),this.dirty=!1},t.className="Column",t}(Sd),E9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function TC(l,t,e,r){return[e||"",r||"",l+"px",t].join(" ").trim()}!function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}E9(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=TC(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Op.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Op.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new s1(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Op.getTextSize(this.text,this.font),o=this.x,s=this.y;switch(this.textAlign){case"end":case"right":o-=e.width;break;case"center":o-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new s1(o,s,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return!!s&&s.containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.fill,s=r.stroke,h=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var p=this.scene.canvas.pixelRatio||1,y=e.globalAlpha;if(o){e.fillStyle=o,e.globalAlpha=y*this.opacity*this.fillOpacity;var S=this,E=S.fillShadow,T=S.text,O=S.x,F=S.y;E&&E.enabled&&(e.shadowColor=E.color,e.shadowOffsetX=E.xOffset*p,e.shadowOffsetY=E.yOffset*p,e.shadowBlur=E.blur*p),e.fillText(T,O,F)}if(s&&h){e.strokeStyle=s,e.lineWidth=h,e.globalAlpha=y*this.opacity*this.strokeOpacity;var k=this,Q=k.lineDash,de=k.lineDashOffset,he=k.lineCap,fe=k.lineJoin,ve=k.strokeShadow;T=k.text,O=k.x,F=k.y,Q&&e.setLineDash(Q),de&&(e.lineDashOffset=de),he&&(e.lineCap=he),fe&&(e.lineJoin=fe),ve&&ve.enabled&&(e.shadowColor=ve.color,e.shadowOffsetX=ve.xOffset*p,e.shadowOffsetY=ve.yOffset*p,e.shadowBlur=ve.blur*p),e.strokeText(T,O,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=_3(Sd.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(Sd);var D9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),T3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},O9=function(l){function t(){var e=l.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return D9(t,l),t.prototype.getFont=function(){return TC(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},T3([fv("change","dataChange")],t.prototype,"enabled",void 0),T3([fv("change")],t.prototype,"fontSize",void 0),T3([fv("change")],t.prototype,"fontFamily",void 0),T3([fv("change")],t.prototype,"fontStyle",void 0),T3([fv("change")],t.prototype,"fontWeight",void 0),T3([fv("change")],t.prototype,"color",void 0),t}(p4),T9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x9=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return T9(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var r=String(e);this._text!==r&&(this._text=r,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=function M9(l,t,e,r){return[e||"",r||"",l+"px",t].join(" ").trim()}(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Op.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Op.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new s1(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Op.getTextSize(this.text,this.font),o=this.x,s=this.y;switch(this.textAlign){case"end":case"right":o-=e.width;break;case"center":o-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new s1(o,s,e.width,e.height)},t.prototype.isPointInPath=function(e,r){var o=this.transformPoint(e,r),s=this.computeBBox();return!!s&&s.containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,r){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var r=this,o=r.fill,s=r.stroke,h=r.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var p=this.scene.canvas.pixelRatio||1,y=e.globalAlpha;if(o){e.fillStyle=o,e.globalAlpha=y*this.opacity*this.fillOpacity;var S=this,E=S.fillShadow,T=S.text,O=S.x,F=S.y;E&&E.enabled&&(e.shadowColor=E.color,e.shadowOffsetX=E.xOffset*p,e.shadowOffsetY=E.yOffset*p,e.shadowBlur=E.blur*p),e.fillText(T,O,F)}if(s&&h){e.strokeStyle=s,e.lineWidth=h,e.globalAlpha=y*this.opacity*this.strokeOpacity;var k=this,Q=k.lineDash,de=k.lineDashOffset,he=k.lineCap,fe=k.lineJoin,ve=k.strokeShadow;T=k.text,O=k.x,F=k.y,Q&&e.setLineDash(Q),de&&(e.lineDashOffset=de),he&&(e.lineCap=he),fe&&(e.lineJoin=fe),ve&&ve.enabled&&(e.shadowColor=ve.color,e.shadowOffsetX=ve.xOffset*p,e.shadowOffsetY=ve.yOffset*p,e.shadowBlur=ve.blur*p),e.strokeText(T,O,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=_3(Sd.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Sd),xC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uy=(()=>(function(l){l[l.Rect=0]="Rect",l[l.Label=1]="Label"}(uy||(uy={})),uy))(),Tp=(()=>(function(l){l.InsideBase="insideBase",l.InsideEnd="insideEnd",l.Center="center",l.OutsideEnd="outsideEnd"}(Tp||(Tp={})),Tp))(),P9=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement=Tp.InsideEnd,e}return xC(t,l),t}(O9),MC=function(l){function t(){var e=l.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new pv,e.sparklineGroup=new Oh,e.rectGroup=new Oh,e.labelGroup=new Oh,e.rectSelection=$m.select(e.rectGroup).selectAll(),e.labelSelection=$m.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new P9,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return xC(t,l),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();!e||(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yScale,s=e.valueAxisDomain,h=p8(e.yData,Dl),p=0,y=1;void 0!==h&&(p=this.min=h[0],y=this.max=h[1]),p=p<0?p:0,y=y<0?0:y,s&&(s[1]<y&&(s[1]=y),s[0]>p&&(s[0]=p)),r.domain=s||[p,y]},t.prototype.updateRectSelection=function(e){var r=this.rectSelection.setData(e),o=r.enter.append(b9);r.exit.remove(),this.rectSelection=r.merge(o)},t.prototype.updateRectNodes=function(){var e=this,r=this,o=r.highlightedDatum,s=r.formatter,h=r.fill,p=r.stroke,y=r.strokeWidth,S=this.highlightStyle,E=S.fill,T=S.stroke,O=S.strokeWidth;this.rectSelection.each(function(F,k,Q){var Be,de=k===o,he=de&&void 0!==E?E:h,fe=de&&void 0!==T?T:p,ve=de&&void 0!==O?O:y,ct=k.x,tt=k.y,Ft=k.width,Nt=k.height,jt=k.seriesDatum;s&&(Be=s({datum:k,xValue:jt.x,yValue:jt.y,width:Ft,height:Nt,min:jt.y===e.min,max:jt.y===e.max,first:0===Q,last:Q===e.nodeSelectionData.length-1,fill:he,stroke:fe,strokeWidth:ve,highlighted:de})),F.fill=Be&&Be.fill||he,F.stroke=Be&&Be.stroke||fe,F.strokeWidth=Be&&Be.strokeWidth||ve,F.x=F.y=0,F.width=Ft,F.height=Nt,F.visible=F.height>0,F.translationX=ct,F.translationY=tt})},t.prototype.updateLabelSelection=function(e){var r=this.labelSelection.setData(e),o=r.enter.append(x9).each(function(s){s.tag=uy.Label,s.pointerEvents=hv.None});r.exit.remove(),this.labelSelection=r.merge(o)},t.prototype.updateLabelNodes=function(){var e=this.label,r=e.enabled,o=e.fontStyle,s=e.fontWeight,h=e.fontSize,p=e.fontFamily,y=e.color;this.labelSelection.each(function(S,E){var T=E.label;T&&r?(S.fontStyle=o,S.fontWeight=s,S.fontSize=h,S.fontFamily=p,S.textAlign=T.textAlign,S.textBaseline=T.textBaseline,S.text=T.text,S.x=T.x,S.y=T.y,S.fill=y,S.visible=!0):S.visible=!1})},t.prototype.getTooltipHtml=function(e){var r=this.dataType,o=e.seriesDatum,s=o.y,h=o.x,S={content:this.formatNumericDatum(s),title:"array"===r||"object"===r?this.formatDatum(h):void 0};return this.tooltip.renderer?O3(this.tooltip.renderer({context:this.context,datum:o,yValue:s,xValue:h}),S):O3(S)},t.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},t}(Z5),A9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return A9(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,o=e.seriesRect,s=e.paddingOuter,h=e.paddingInner,p=e.xData;r instanceof Dp?(r.range=[0,o.height],r.paddingInner=h,r.paddingOuter=s):r.range=[0,o.height-o.height/p.length]},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,o=e.axis,s=e.axisLine,h=e.seriesRect,p=o.strokeWidth;s.x1=0,s.x2=0,s.y1=0,s.y2=h.height,s.stroke=o.stroke,s.strokeWidth=p+(p%2==1?1:0);var y=r.convert(0);s.translationX=y},t.prototype.generateNodeData=function(){var e=this,r=e.data,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale,y=e.fill,S=e.stroke,E=e.strokeWidth,T=e.label;if(r){for(var O=T.fontStyle,F=T.fontWeight,k=T.fontSize,Q=T.fontFamily,de=T.color,he=T.formatter,fe=T.placement,ve=[],Be=p.convert(0),ct=0,tt=o.length;ct<tt;ct++){var Ft=o[ct],Nt=s[ct],jt=void 0===Ft;jt&&(Ft=0);var dn,Jt=h.convert(Nt),Mn=Math.min(p.convert(Ft),Be),Dn=Math.max(p.convert(Ft),Be),on=h instanceof Dp?h.bandwidth:Math.abs(p.range[1]-p.range[0])/r.length,wn=Dn-Mn,cn={x:Be,y:Jt};dn=he?he({value:Ft}):void 0!==Ft&&Dl(Ft)?this.formatLabelValue(Ft):"";var lr=Jt+on/2,Xn=void 0,Wn=void 0,zr=void 0!==Ft&&Ft>=0;if(fe===Tp.Center)Xn=Mn+wn/2,Wn="center";else if(fe===Tp.OutsideEnd)Xn=Mn+(zr?wn+4:-4),Wn=zr?"start":"end";else if(fe===Tp.InsideEnd){Xn=Mn+(zr?wn-4:4),Wn=zr?"end":"start";var Vr=Op.getTextSize(dn,Q).width||20;(zr&&Xn<Be+Vr||!zr&&Xn>Be-Vr)&&(Xn=Be+4*(zr?1:-1),Wn=zr?"start":"end")}else Xn=Be+4*(zr?1:-1),Wn=zr?"start":"end";ve.push({x:Mn,y:Jt,width:wn,height:on,fill:y,stroke:S,strokeWidth:E,seriesDatum:{x:Nt,y:jt?void 0:Ft},point:cn,label:{x:Xn,y:lr,text:dn,fontStyle:O,fontWeight:F,fontSize:k,fontFamily:Q,textAlign:Wn,textBaseline:"middle",fill:de}})}return ve}},t.prototype.getDistance=function(e,r){return Math.abs(e.y-r.y)},t.className="BarSparkline",t}(MC),F9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),L9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return F9(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,o=e.seriesRect,s=e.paddingOuter,h=e.paddingInner,p=e.xData;r instanceof Dp?(r.range=[0,o.width],r.paddingInner=h,r.paddingOuter=s):r.range=[0,o.width-o.width/p.length]},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,o=e.axis,s=e.axisLine,h=e.seriesRect,p=o.strokeWidth;s.x1=0,s.x2=h.width,s.y1=0,s.y2=0,s.stroke=o.stroke,s.strokeWidth=p+(p%2==1?1:0);var y=r.convert(0);s.translationY=y},t.prototype.generateNodeData=function(){var e=this,r=e.data,o=e.yData,s=e.xData,h=e.xScale,p=e.yScale,y=e.fill,S=e.stroke,E=e.strokeWidth,T=e.label;if(r){for(var O=T.fontStyle,F=T.fontWeight,k=T.fontSize,Q=T.fontFamily,de=T.color,he=T.formatter,fe=T.placement,ve=[],Be=p.convert(0),ct=0,tt=o.length;ct<tt;ct++){var Ft=o[ct],Nt=s[ct],jt=void 0===Ft;jt&&(Ft=0);var dn,Jt=Math.min(p.convert(Ft),Be),Mn=h.convert(Nt),Dn=Math.max(p.convert(Ft),Be),on=h instanceof Dp?h.bandwidth:Math.abs(p.range[1]-p.range[0])/r.length,wn=Dn-Jt,cn={x:Mn+on/2,y:Be};dn=he?he({value:Ft}):void 0!==Ft&&Dl(Ft)?this.formatLabelValue(Ft):"";var lr=Mn+on/2,Xn=void 0,Wn=void 0,zr=void 0!==Ft&&Ft>=0;if(fe===Tp.Center)Xn=Jt+wn/2,Wn="middle";else if(fe===Tp.OutsideEnd)Xn=Jt+(zr?-2:wn+2),Wn=zr?"bottom":"top";else if(fe===Tp.InsideEnd){Xn=Jt+(zr?2:wn-2),Wn=zr?"top":"bottom";var Vr=Op.getTextSize(dn,Q).height||10;(zr&&Xn>Be-Vr||!zr&&Xn<Be+Vr)&&(Xn=Be+2*(zr?-1:1),Wn=zr?"bottom":"top")}else Xn=Be+2*(zr?-1:1),Wn=zr?"bottom":"top";ve.push({x:Mn,y:Jt,width:on,height:wn,fill:y,stroke:S,strokeWidth:E,seriesDatum:{x:Nt,y:jt?void 0:Ft},point:cn,label:{x:lr,y:Xn,text:dn,fontStyle:O,fontWeight:F,fontSize:k,fontFamily:Q,textAlign:"center",textBaseline:Wn,fill:de}})}return ve}},t.className="ColumnSparkline",t}(MC),I9=function(){function l(){}return l.create=function(t,e){var r=function N9(l){switch(void 0===l&&(l="line"),l){case"column":return new L9;case"bar":return new R9;case"area":return new v9;default:return new w9}}((t=Object.create(t)).type);return e&&(r.tooltip=e),function z9(l,t){qr(l,"context",t.context,t),qr(l,"width",t.width,t),qr(l,"height",t.height,t),qr(l,"container",t.container,t),qr(l,"xKey",t.xKey,t),qr(l,"yKey",t.yKey,t),t.padding&&function G9(l,t){qr(l,"top",t.top,t),qr(l,"right",t.right,t),qr(l,"bottom",t.bottom,t),qr(l,"left",t.left,t)}(l.padding,t.padding),t.axis&&function W9(l,t){qr(l,"type",t.type,t),qr(l,"stroke",t.stroke,t),qr(l,"strokeWidth",t.strokeWidth,t)}(l.axis,t.axis),t.highlightStyle&&function j9(l,t){qr(l,"fill",t.fill,t),qr(l,"size",t.size,t),qr(l,"stroke",t.stroke,t),qr(l,"strokeWidth",t.strokeWidth,t)}(l.highlightStyle,t.highlightStyle),t.tooltip&&l.tooltip&&function U9(l,t){qr(l,"enabled",t.enabled,t),qr(l,"container",t.container,t),qr(l,"xOffset",t.xOffset,t),qr(l,"yOffset",t.yOffset,t),qr(l,"renderer",t.renderer,t)}(l.tooltip,t.tooltip)}(r,t),function k9(l,t){switch(t.type){case"bar":case"column":!function PC(l,t){qr(l,"valueAxisDomain",t.valueAxisDomain,t),qr(l,"fill",t.fill,t),qr(l,"stroke",t.stroke,t),qr(l,"strokeWidth",t.strokeWidth,t),qr(l,"paddingInner",t.paddingInner,t),qr(l,"paddingOuter",t.paddingOuter,t),qr(l,"formatter",t.formatter,t),t.label&&function B9(l,t){qr(l,"enabled",t.enabled,t),qr(l,"fontStyle",t.fontStyle,t),qr(l,"fontWeight",t.fontWeight,t),qr(l,"fontSize",t.fontSize,t),qr(l,"fontFamily",t.fontFamily,t),qr(l,"textAlign",t.textAlign,t),qr(l,"textBaseline",t.textBaseline,t),qr(l,"color",t.color,t),qr(l,"formatter",t.formatter,t),qr(l,"placement",t.placement,t)}(l.label,t.label)}(l,t);break;case"area":!function H9(l,t){qr(l,"fill",t.fill,t),t.marker&&AC(l.marker,t.marker),t.line&&RC(l.line,t.line),t.crosshairs&&FC(l.crosshairs,t.crosshairs)}(l,t);break;default:!function V9(l,t){t.marker&&AC(l.marker,t.marker),t.line&&RC(l.line,t.line),t.crosshairs&&FC(l.crosshairs,t.crosshairs)}(l,t)}}(r,t),t.data&&(r.data=t.data),r},l}();function AC(l,t){qr(l,"enabled",t.enabled,t),qr(l,"size",t.size,t),qr(l,"shape",t.shape,t),qr(l,"fill",t.fill,t),qr(l,"stroke",t.stroke,t),qr(l,"strokeWidth",t.strokeWidth,t),qr(l,"formatter",t.formatter,t)}function RC(l,t){qr(l,"stroke",t.stroke,t),qr(l,"strokeWidth",t.strokeWidth,t)}function FC(l,t){l.xLine&&t.xLine&&LC(l.xLine,t.xLine),l.yLine&&t.yLine&&LC(l.yLine,t.yLine)}function LC(l,t){qr(l,"enabled",t.enabled,t),qr(l,"stroke",t.stroke,t),qr(l,"strokeWidth",t.strokeWidth,t),qr(l,"lineDash",t.lineDash,t),qr(l,"lineCap",t.lineCap,t)}var IC={},NC=function(l,t,e){if(Dl(t))return!0;var r="AG Charts: "+l+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return function Y9(l,t){IC[t]||(l(),IC[t]=!0)}(function(){return console.warn(r)},l+" not a number"),!1},K9={xOffset:NC,yOffset:NC};function qr(l,t,e,r){if(t in r)if(t in l){var o=K9[t];(!o||o(t,e,l[t]))&&l[t]!==e&&(l[t]=e)}else console.warn("Property "+t+" does not exist on the target object.")}var $9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),J5=function(){return J5=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},J5.apply(this,arguments)},e7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},q9=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return $9(t,l),t.prototype.init=function(e){var r=this,o=!0,h=this.resizeObserverService.observeResize(this.getGui(),function(){var p=r.getGui(),y=p.clientWidth,S=p.clientHeight;if(0!==y&&0!==S)if(o){var E=J5({data:e.value,width:y,height:S,context:{data:e.data}},e.sparklineOptions);r.sparkline=I9.create(E,r.sparklineTooltipSingleton.getSparklineTooltip()),r.eSparkline.appendChild(r.sparkline.canvasElement),o=!1}else r.sparkline.width=y,r.sparkline.height=S});this.addDestroyFunc(function(){return h()})},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',e7([(0,w.cqo)("eSparkline")],t.prototype,"eSparkline",void 0),e7([(0,w.fsG)("resizeObserverService")],t.prototype,"resizeObserverService",void 0),e7([(0,w.fsG)("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(w.wA2),X9=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),t7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Z9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return X9(t,l),t.prototype.postConstruct=function(){this.tooltip=new y4},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},t7([w.NqP],t.prototype,"postConstruct",null),t7([w.FXL],t.prototype,"destroyTooltip",null),t7([(0,w.Vu6)("sparklineTooltipSingleton")],t)}(w.AS9),Q9={moduleName:w.GXE.SparklinesModule,beans:[Z9],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:q9}],dependantModules:[Et]},kC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bd=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},J9=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return kC(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,r,o){var s=this;this.showMenu(e,function(h){var p=h.getGui();s.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:r,ePopup:p}),o&&h.showTab(o)},"columnMenu",o,void 0,r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,o,s,h){var p=this,y=-1,S="left";this.gridOptionsWrapper.isEnableRtl()&&(y=1,S="right"),this.showMenu(e,function(E){var T=E.getGui();p.popupService.positionPopupUnderComponent({type:o,column:e,eventSource:r,ePopup:T,alignSide:S,nudgeX:9*y,nudgeY:-23,keepWithinBounds:!0}),s&&E.showTab(s)},o,s,h,r)},t.prototype.showMenu=function(e,r,o,s,h,p){var y=this,S=this.createBean(new n7(e,this.lastSelectedTab,h)),E=S.getGui(),T=p||this.ctrlsService.getGridBodyCtrl().getGui(),O=[];O.push(function(de){if(y.destroyBean(S),e.setMenuVisible(!1,"contextMenu"),de instanceof KeyboardEvent&&p&&w._.isVisible(p)){var fe=y.focusService.findTabbableParent(p);fe&&fe.focus()}});var F=this.gridOptionsWrapper.getLocaleTextFunc(),k=this.popupService.addPopup({modal:!0,eChild:E,closeOnEsc:!0,closedCallback:function(de){O.forEach(function(he){return he(de)})},afterGuiAttached:function(de){return S.afterGuiAttached(Object.assign({},{container:o},de))},positionCallback:function(){return r(S)},anchorToElement:T,ariaLabel:F("ariaLabelColumnMenu","Column Menu")});if(k){var Q=k.stopAnchoringPromise;Q&&Q.then(function(de){e.addEventListener(w.sgG.EVENT_LEFT_CHANGED,de),e.addEventListener(w.sgG.EVENT_VISIBLE_CHANGED,de),O.push(function(){e.removeEventListener(w.sgG.EVENT_LEFT_CHANGED,de),e.removeEventListener(w.sgG.EVENT_VISIBLE_CHANGED,de)})})}s||(S.showTabBasedOnPreviousSelection(),r(S)),S.addEventListener(n7.EVENT_TAB_SELECTED,function(de){y.lastSelectedTab=de.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=S,S.addEventListener(w.AS9.EVENT_DESTROYED,function(){y.activeMenu===S&&(y.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(n7.TABS_DEFAULT).length>0},bd([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),bd([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),bd([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),bd([(0,w.Vu6)("menuFactory")],t)}(w.AS9),n7=function(l){function t(e,r,o){var s=l.call(this)||this;return s.tabFactories={},s.includeChecks={},s.column=e,s.initialSelection=r,s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return e.isFilterAllowed()},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s.restrictTo=o,s}return kC(t,l),t.prototype.init=function(){var e=this,r=this.getTabsToCreate().map(function(o){return e.createTab(o)});this.tabbedLayout=new w.WD6({items:r,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(r){return e.isValidMenuTabItem(r)}).filter(function(r){return e.isNotSuppressed(r)}).filter(function(r){return e.isModuleLoaded(r)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||w.O3h.isRegistered(w.GXE.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var r=!0,o=t.TABS_DEFAULT;return null!=this.restrictTo&&(r=this.restrictTo.indexOf(e)>-1,o=this.restrictTo),(r=r&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+o+"]"),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL}r&&this.activateTab(r)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var r,e=this.getDefaultMenuOptions(),o=this.gridOptionsWrapper.getMainMenuItemsFunc();return r=o?o({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:e}):e,w._.removeRepeatsFromArray(r,t.MENU_ITEM_SEPARATOR),r},t.prototype.getDefaultMenuOptions=function(){var e=[],r=!this.column.getColDef().lockPinned,o=this.columnModel.getRowGroupColumns().length,s=o>0,h=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,p=this.column.isAllowValue(),y=this.column.isAllowRowGroup(),S=this.column.isPrimary(),E=this.columnModel.isPivotMode(),T=this.rowModel.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,O=this.gridOptionsWrapper.isTreeData(),F=S&&s&&p||!S;return r&&e.push("pinSubMenu"),F&&e.push("valueAggSubMenu"),(r||F)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),y&&this.column.isPrimary()&&e.push(h?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),T&&(O||o>(E?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new w.O_3);var e=this.getMenuItems(),r=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(r),this.mainMenuList.addEventListener(w.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:w._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:w.j_S.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var r;e&&e.event&&e.event instanceof KeyboardEvent&&(r=e.event),this.hidePopupFunc(r&&{keyboardEvent:r});var o=this.focusService.getFocusedCell(),s=this.gridOptionsWrapper.getDocument();s.activeElement===s.body&&o&&this.focusService.setFocusedCell(o.rowIndex,o.column,o.rowPinned,!0)},t.prototype.createFilterPanel=function(){var e,r=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!r)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:w._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=r)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(s){var h;!(null===(h=r)||void 0===h?void 0:h.filterPromise)||r.filterPromise.then(function(p){p&&p.afterGuiAttached&&p.afterGuiAttached(s)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new Up);var r=this.column.getColDef().columnsMenuParams;r||(r={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!r.contractColumnSelection,suppressColumnExpandAll:!!r.suppressColumnExpandAll,suppressColumnFilter:!!r.suppressColumnFilter,suppressColumnSelectAll:!!r.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!r.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi},"columnMenu");var o=this.columnSelectPanel.getGui();return o.classList.add("ag-menu-column-select"),e.appendChild(o),this.tabItemColumns={title:w._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:w.j_S.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var o=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:o}),o&&(this.hidePopupFunc=o,this.addDestroyFunc(o))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",bd([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),bd([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),bd([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),bd([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),bd([(0,w.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),bd([(0,w.fsG)("rowModel")],t.prototype,"rowModel",void 0),bd([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),bd([w.NqP],t.prototype,"init",null),t}(w.AS9),zC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h1=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},VC="ag-context-menu-open",tw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return zC(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,r,o){var s=[];if(w._.exists(e)&&w.O3h.isRegistered(w.GXE.ClipboardModule)&&r&&s.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&w.O3h.isRegistered(w.GXE.RangeSelectionModule)&&w.O3h.isRegistered(w.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&s.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&s.push("chartRange")),w._.exists(e)){var h=!w.O3h.isRegistered(w.GXE.CsvExportModule),p=!w.O3h.isRegistered(w.GXE.ExcelExportModule),y=this.gridOptionsWrapper.isSuppressExcelExport()||p,S=this.gridOptionsWrapper.isSuppressCsvExport()||h;!(w._.isIOSUserAgent()||y&&S)&&s.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var O=this.gridOptionsWrapper.getContextMenuItemsFunc(),F={node:e,column:r,value:o,defaultItems:s.length?s:void 0,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return O?O(F):void 0}return s},t.prototype.onContextMenu=function(e,r,o,s,h,p){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsWrapper.isSuppressContextMenu())||this.showMenu(o,s,h,e||r.touches[0],p)&&(e||r).preventDefault()},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var o=e.which;this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===o&&e.preventDefault()},t.prototype.showMenu=function(e,r,o,s,h){var p=this,y=this.getMenuItems(e,r,o),S=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===y||w._.missingOrEmpty(y))return!1;var E=new nw(y);this.createBean(E);var T=E.getGui(),O={column:r,rowNode:e,type:"contextMenu",mouseEvent:s,ePopup:T,nudgeY:1},F=this.gridOptionsWrapper.getLocaleTextFunc(),k=this.popupService.addPopup({modal:!0,eChild:T,closeOnEsc:!0,closedCallback:function(){S.classList.remove(VC),p.destroyBean(E)},click:s,positionCallback:function(){p.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:p.gridOptionsWrapper.isEnableRtl()?-1*(T.offsetWidth+1):1},O))},anchorToElement:h,ariaLabel:F("ariaLabelContextMenu","Context Menu")});return k&&(S.classList.add(VC),E.afterGuiAttached({container:"contextMenu",hidePopup:k.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=E,E.addEventListener(w.AS9.EVENT_DESTROYED,function(){p.activeMenu===E&&(p.activeMenu=null)}),k&&E.addEventListener(w.sJC.EVENT_MENU_ITEM_SELECTED,k.hideFunc),!0},h1([(0,w.fsG)("popupService")],t.prototype,"popupService",void 0),h1([(0,w.FiY)("rangeService")],t.prototype,"rangeService",void 0),h1([(0,w.fsG)("ctrlsService")],t.prototype,"ctrlsService",void 0),h1([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),h1([(0,w.Vu6)("contextMenuFactory")],t)}(w.AS9),nw=function(l){function t(e){var r=l.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return r.menuList=null,r.focusedCell=null,r.menuItems=e,r}return zC(t,l),t.prototype.addMenuItems=function(){var e=this,r=this.createBean(new w.O_3),o=this.menuItemMapper.mapWithStockItems(this.menuItems,null);r.addMenuItems(o),this.appendChild(r),this.menuList=r,r.addEventListener(w.sJC.EVENT_MENU_ITEM_SELECTED,function(s){return e.dispatchEvent(s)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var r=this.focusedCell,o=r.rowIndex,s=r.rowPinned,h=r.column,p=this.gridOptionsWrapper.getDocument();p.activeElement===p.body&&this.focusService.setFocusedCell(o,h,s,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),l.prototype.destroy.call(this)},h1([(0,w.fsG)("menuItemMapper")],t.prototype,"menuItemMapper",void 0),h1([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),h1([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),h1([w.NqP],t.prototype,"addMenuItems",null),t}(w.wA2),rw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},iw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return rw(t,l),t.prototype.mapWithStockItems=function(e,r){var o=this;if(!e)return[];var s=[];return e.forEach(function(h){var p;if(p="string"==typeof h?o.getStockMenuItem(h,r):h){var S=p.subMenu;S&&S instanceof Array&&(p.subMenu=o.mapWithStockItems(p.subMenu,r)),null!=p&&s.push(p)}}),s},t.prototype.getStockMenuItem=function(e,r){var o=this,s=this.gridOptionsWrapper.getLocaleTextFunc(),h=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:w._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnPinned(r,w.gTE.PINNED_LEFT,"contextMenu")},checked:!!r&&r.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnPinned(r,w.gTE.PINNED_RIGHT,"contextMenu")},checked:!!r&&r.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return o.columnModel.setColumnPinned(r,null,"contextMenu")},checked:!!r&&!r.isPinned()};case"valueAggSubMenu":return w.O3h.assertRegistered(w.GXE.RowGroupingModule,"Aggregation from Menu")?{name:s("valueAggregation","Value Aggregation"),icon:w._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(r)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(r,h,"contextMenu")}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns(h,"contextMenu")}};case"rowGroup":return{name:s("groupBy","Group by")+" "+w._.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),action:function(){return o.columnModel.addRowGroupColumn(r,"contextMenu")},icon:w._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:s("ungroupBy","Un-Group by")+" "+w._.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),action:function(){return o.columnModel.removeRowGroupColumn(r,"contextMenu")},icon:w._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All"),action:function(){return o.gridApi.collapseAll()}};case"copy":return w.O3h.assertRegistered(w.GXE.ClipboardModule,"Copy from Menu")?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:w._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return w.O3h.assertRegistered(w.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:s("copyWithHeaders","Copy with Headers"),icon:w._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return w.O3h.assertRegistered(w.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:w._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return w.O3h.assertRegistered(w.GXE.ClipboardModule,"Paste from Clipboard")?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:w._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var p=[],y=w.O3h.isRegistered(w.GXE.CsvExportModule),S=w.O3h.isRegistered(w.GXE.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&y&&p.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&S&&p.push("excelExport"),{name:s("export","Export"),subMenu:p,icon:w._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:w._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:w._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var r=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),s=function(p,y,S){return{name:o(p,y),action:function(){return r.chartService.createPivotChart({chartType:S})}}},h=function(p,y,S){return{name:o(p,y),action:function(){return r.chartService.createChartFromCurrentRange(S)}}};switch(e){case"pivotChart":return{name:o("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:w._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:o("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:w._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:o("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return s("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return s("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return s("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:o("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return h("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return h("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return h("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:o("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return s("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return s("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return s("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:o("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return h("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return h("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return h("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:o("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return s("pie","Pie&lrm;","pie");case"pivotDoughnut":return s("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:o("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return h("pie","Pie&lrm;","pie");case"rangeDoughnut":return h("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return s("line","Line&lrm;","line");case"rangeLineChart":return h("line","Line&lrm;","line");case"pivotXYChart":return{name:o("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return s("scatter","Scatter&lrm;","scatter");case"pivotBubble":return s("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:o("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return h("scatter","Scatter&lrm;","scatter");case"rangeBubble":return h("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:o("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return s("area","Area&lrm;","area");case"pivotStackedArea":return s("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return s("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:o("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return h("area","Area&lrm;","area");case"rangeStackedArea":return h("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return h("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return h("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return h("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return h("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:o("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},t.prototype.createAggregationSubMenu=function(e){var p,r=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),s=e.isValueActive(),h=this.aggFuncService.getFuncNames(e);if(e.isPrimary())p=e;else{var y=e.getColDef().pivotValueColumn;p=w._.exists(y)?y:void 0}var S=[];return h.forEach(function(E){S.push({name:o(E,E),action:function(){r.columnModel.setColumnAggFunc(p,E,"contextMenu"),r.columnModel.addValueColumn(p,"contextMenu")},checked:s&&p.getAggFunc()===E})}),S},x3([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),x3([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),x3([(0,w.FiY)("clipboardService")],t.prototype,"clipboardService",void 0),x3([(0,w.FiY)("aggFuncService")],t.prototype,"aggFuncService",void 0),x3([(0,w.FiY)("chartService")],t.prototype,"chartService",void 0),x3([(0,w.Vu6)("menuItemMapper")],t)}(w.AS9),ow={moduleName:w.GXE.MenuModule,beans:[J9,tw,iw],dependantModules:[Et]},aw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lw=function(l){function t(e){var r=l.call(this,'<div class="ag-rich-select-row"></div>')||this;return r.params=e,r}return aw(t,l),t.prototype.setState=function(e,r,o){this.populateWithRenderer(e,r)||this.populateWithoutRenderer(e,r),this.addOrRemoveCssClass("ag-rich-select-row-selected",o)},t.prototype.populateWithoutRenderer=function(e,r){var s=null!=r?r:e;w._.exists(s)&&""!==s?this.getGui().textContent=s.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,r){var o=this,s={value:e,valueFormatted:r,api:this.gridOptionsWrapper.getApi()},h=this.userComponentFactory.getCellRendererDetails(this.params,s),p=h?h.newAgStackInstance():void 0;return null!=p?w._.bindCellRendererToHtmlElement(p,this.getGui()):this.getGui().innerText=null!=s.valueFormatted?s.valueFormatted:s.value,!!p&&(p.then(function(y){o.addDestroyFunc(function(){o.getContext().destroyBean(y)})}),!0)},function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(w.wA2),cw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),r7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},HC=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return cw(t,l),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var r=w._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(r.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(r),this.virtualList=this.getContext().createBean(new w.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),w._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),w._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var o=e.values;this.virtualList.setModel({getRowCount:function(){return o.length},getRow:function(p){return o[p]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var s=this.virtualList.getGui();this.addManagedListener(s,"click",this.onClick.bind(this)),this.addManagedListener(s,"mousemove",this.onMouseMove.bind(this));var h=w._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=w._.debounce(this.clearSearchString,h),w._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var r=e.key;switch(e.preventDefault(),r){case w.VDZ.ENTER:this.onEnterKeyDown();break;case w.VDZ.TAB:this.confirmSelection();break;case w.VDZ.DOWN:case w.VDZ.UP:this.onNavigationKeyPressed(e,r);break;default:this.searchText(e)}},t.prototype.confirmSelection=function(){this.selectionConfirmed=!0},t.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,r){e.preventDefault();var o=this.params.values.indexOf(this.selectedValue),s=r===w.VDZ.UP?o-1:o+1;s>=0&&s<this.params.values.length&&this.setSelectedValue(this.params.values[s])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var r=e.key;if(r===w.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!w._.isEventFromPrintableCharacter(e))return;this.searchText(r)}},t.prototype.runSearch=function(){var o,e=this,r=this.params.values;if(("number"==typeof r[0]||"string"==typeof r[0])&&(o=r.map(String)),"object"==typeof r[0]&&this.params.colDef.keyCreator&&(o=r.map(function(y){var S={value:y,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi(),context:e.gridOptionsWrapper.getContext()};return e.params.colDef.keyCreator(S)})),o){var s=w._.fuzzySuggestions(this.searchString,o,!0,!0)[0];if(s){var h=o.indexOf(s);this.setSelectedValue(r[h])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,r=this.params.formatValue(this.selectedValue),o=this.eValue,s={value:this.selectedValue,valueFormatted:r,api:this.gridOptionsWrapper.getApi()},h=this.userComponentFactory.getCellRendererDetails(this.params,s),p=h?h.newAgStackInstance():void 0;p?(w._.bindCellRendererToHtmlElement(p,o),p.then(function(y){e.addDestroyFunc(function(){return e.getContext().destroyBean(y)})})):w._.exists(this.selectedValue)?o.innerHTML=r:w._.clearElement(o)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var r=this.params.values.indexOf(e);-1!==r&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(r),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var r=this.params.formatValue(e),o=new lw(this.params);return this.getContext().createBean(o),o.setState(e,r,e===this.selectedValue),o},t.prototype.onMouseMove=function(e){var r=this.virtualList.getGui().getBoundingClientRect(),o=this.virtualList.getScrollTop(),h=Math.floor((e.clientY-r.top+o)/this.virtualList.getRowHeight()),p=this.params.values[h];void 0!==p&&this.setSelectedValue(p)},t.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',r7([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),r7([(0,w.cqo)("eValue")],t.prototype,"eValue",void 0),r7([(0,w.cqo)("eList")],t.prototype,"eList",void 0),t}(w.RXH),uw={moduleName:w.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:HC},{componentName:"agRichSelectCellEditor",componentClass:HC}],dependantModules:[Et]},dw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),tu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hw=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e.started=!1,e}return dw(t,l),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){!this.datasource||(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,w.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,w.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&w._.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.")},"SSRM.DefaultGroupOrderComparator"),this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowIdFunc()&&w._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},t.prototype.setDatasource=function(e){!this.started||(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){if(!this.storeParams)return void this.resetRootStore();var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=!w._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),h=!w._.jsonEquals(this.storeParams.rowGroupCols,e),p=!w._.jsonEquals(this.storeParams.pivotCols,o),y=!w._.jsonEquals(this.storeParams.valueCols,r);(s||h||p||y)&&this.resetRootStore()}},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,r){this.storeParams&&(this.storeParams.sortModel=e);var o=this.getRootStore();!o||(o.refreshAfterSort(r),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new w.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:w.zW2.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var r=this;return e.map(function(o){return{id:o.getId(),aggFunc:o.getAggFunc(),displayName:r.columnModel.getDisplayNameForColumn(o,"model"),field:o.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),o=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:r,rowGroupCols:e,pivotCols:o,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new w.at1,dynamicRowHeight:s}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:w.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();!e||e.setDisplayIndexes(new w.at1,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();!e||(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var r=this.getRootStore();if(r)return r.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(r){r.group&&r.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,r){this.storeParams&&(this.storeParams.filterModel=e);var o=this.getRootStore();!o||(o.refreshAfterFilter(r),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():1},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.getRootStore();return r?r.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var r=this.getRootStore();return r?r.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},t.prototype.getRowIndexAtPixel=function(e){var r=this.getRootStore();return e<=0||!r?0:r.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return w.gTE.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var r=this.getRootStore();!r||r.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var r=this.getRootStore();!r||r.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,r){var o=this.getRootStore();if(o){var s=o.getChildStore(e);s&&r(s)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(o){return o.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],r=this.getRootStore();return r&&r.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,r){return w._.exists(r)&&e.parent!==r.parent?[]:e.parent.childStore.getRowNodesInRange(r,e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o),o.detailNode&&o.detailNode.id===e&&(r=o.detailNode)}),r},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},tu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),tu([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),tu([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),tu([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),tu([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),tu([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),tu([(0,w.fsG)("ssrmSortService")],t.prototype,"sortListener",void 0),tu([(0,w.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),tu([(0,w.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),tu([(0,w.fsG)("beans")],t.prototype,"beans",void 0),tu([w.FXL],t.prototype,"destroyDatasource",null),tu([w.NqP],t.prototype,"addEventListeners",null),tu([w.FXL],t.prototype,"destroyRootStore",null),tu([(0,w.Vu6)("rowModel")],t)}(w.AS9),pw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),i7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},fw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return pw(t,l),t.prototype.loadFromDatasource=function(e){var r=e.parentNode.getGroupKeys(),o=e.storeParams;if(o.datasource){var h={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:o.rowGroupCols,valueCols:o.valueCols,pivotCols:o.pivotCols,pivotMode:o.pivotMode,groupKeys:r,filterModel:o.filterModel,sortModel:o.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){o.datasource&&o.datasource.getRows(h)},0)}},t.prototype.getChildStore=function(e,r,o){if(w._.missingOrEmpty(e))return r;var h=o(e[0]);if(h){var p=e.slice(1,e.length),y=h.childStore;return y?y.getChildStore(p):null}return null},t.prototype.isServerRefreshNeeded=function(e,r,o){if(o.alwaysReset||o.valueColChanged||o.secondaryColChanged)return!0;var s=e.level+1;return!(s<r.length&&!(o.changedColumns.indexOf(r[s].id)>-1))},i7([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),i7([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),i7([(0,w.Vu6)("ssrmStoreUtils")],t)}(w.AS9),gw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),M3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},vw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return gw(t,l),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var r=new w.Fxk(this.beans);return r.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),r.group=e.group,r.leafGroup=e.leafGroup,r.level=e.level,r.uiLevel=e.level,r.parent=e.parent,r.stub=!0,r.group&&(r.expanded=!1,r.field=e.field,r.rowGroupColumn=e.rowGroupColumn),r},t.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},t.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){var r=this.gridOptionsWrapper.getIsServerSideGroupFunc(),o=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=r&&(e.setGroup(r(e.data)),e.group&&null!=o&&(e.key=o(e.data))),!e.group&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&w._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var r=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==r||r(e.data)},t.prototype.updateDataIntoRowNode=function(e,r){e.updateData(r),this.usingTreeData&&this.setTreeGroupInfo(e)},t.prototype.setDataIntoRowNode=function(e,r,o,s){e.stub=!1,w._.exists(r)?(e.setDataAndId(r,o),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),w._.exists(r)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,s).height)},t.prototype.setChildCountIntoRowNode=function(e){var r=this.gridOptionsWrapper.getChildCountFunc();r&&(e.allChildrenCount=r(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var r=this,o=this.columnModel.getGroupDisplayColumns(),s=this.gridOptionsWrapper.isTreeData();o.forEach(function(h){if(null==e.groupData&&(e.groupData={}),s)e.groupData[h.getColId()]=e.key;else if(h.isRowGroupDisplayed(e.rowGroupColumn.getId())){var p=r.valueService.getValue(e.rowGroupColumn,e);e.groupData[h.getColId()]=p}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&w._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,r,o){if(e.setRowIndex(r.next()),e.setRowTop(o.value),o.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(r.next()),e.detailNode.setRowTop(o.value),o.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&w._.exists(e.childStore)){var p=e.childStore;e.expanded?p.setDisplayIndexes(r,o):p.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,r){var o=0,s=r.length-1;if(w._.missing(s)||w._.missing(o))console.warn("AG Grid: error: topPointer = "+s+", bottomPointer = "+o);else for(;;){var h=Math.floor((o+s)/2),p=r[h];if(p.rowIndex===e)return p;var S=p.detailNode;if(p.master&&p.expanded&&S&&S.rowIndex===e)return p.detailNode;var E=p.childStore;if(p.expanded&&E&&E.isDisplayIndexInStore(e))return E.getRowUsingDisplayIndex(e);if(p.rowIndex<e)o=h+1;else{if(!(p.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");s=h-1}}},t.prototype.extractRowBounds=function(e,r){var o=function(h){return{rowHeight:h.rowHeight,rowTop:h.rowTop}};if(e.rowIndex===r)return o(e);if(e.group&&e.expanded&&w._.exists(e.childStore)){var s=e.childStore;if(s.isDisplayIndexInStore(r))return s.getRowBounds(r)}else if(e.master&&e.expanded&&w._.exists(e.detailNode)&&e.detailNode.rowIndex===r)return o(e.detailNode)},t.prototype.getIndexAtPixel=function(e,r){if(e.isPixelInRange(r))return e.rowIndex;var s=e.detailNode;if(e.master&&e.expanded&&s&&s.isPixelInRange(r))return e.detailNode.rowIndex;if(e.group&&e.expanded&&w._.exists(e.childStore)){var h=e.childStore;if(h.isPixelInRange(r))return h.getRowIndexAtPixel(r)}return null},t.prototype.createNodeIdPrefix=function(e){for(var r=[],o=e;o&&o.level>=0;)r.push(o.key),o=o.parent;if(r.length>0)return r.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var r=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();r&&r({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},M3([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),M3([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),M3([(0,w.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),M3([(0,w.fsG)("beans")],t.prototype,"beans",void 0),M3([w.NqP],t.prototype,"postConstruct",null),M3([(0,w.Vu6)("ssrmBlockUtils")],t)}(w.AS9),GC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},mw=function(){function l(){this.rowNodes={}}return l.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: duplicate node id "+t.id),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},l.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},l.prototype.clear=function(){this.rowNodes={}},GC([w.FXL],l.prototype,"clear",null),GC([(0,w.Vu6)("ssrmNodeManager")],l)}(),yw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),f8=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Cw=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.asyncTransactions=[],e}return yw(t,l),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,r){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:r})},t.prototype.scheduleExecuteAsync=function(){var e=this,r=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},r)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var r=[],o=[],s=[],h=!1;if(this.asyncTransactions.forEach(function(y){var S;e.serverSideRowModel.executeOnStore(y.transaction.route,function(T){S=T.applyTransaction(y.transaction)}),null==S&&(S={status:w.Qk6.StoreNotFound}),o.push(S),S.status==w.Qk6.StoreLoading?s.push(y):(y.callback&&r.push(function(){return y.callback(S)}),S.status===w.Qk6.Applied&&(h=!0))}),r.length>0&&window.setTimeout(function(){r.forEach(function(y){return y()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=s,h&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED})),o.length>0){var p={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:w.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(p)}}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var r;return this.serverSideRowModel.executeOnStore(e.route,function(o){r=o.applyTransaction(e)}),r?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED}),r):{status:w.Qk6.StoreNotFound}},f8([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),f8([(0,w.fsG)("valueCache")],t.prototype,"valueCache",void 0),f8([(0,w.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),f8([w.NqP],t.prototype,"postConstruct",null),f8([(0,w.Vu6)("ssrmTransactionManager")],t)}(w.AS9),_w=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g8=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ww=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return _w(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,w.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var r=e.node;if(r.expanded){if(r.master)this.createDetailNode(r);else if(w._.missing(r.childStore)){var o=this.serverSideRowModel.getParams();r.childStore=this.createBean(this.storeFactory.createStore(o,r))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&w._.exists(r.childStore)&&(r.childStore=this.destroyBean(r.childStore));this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(w._.exists(e.detailNode))return e.detailNode;var r=new w.Fxk(this.beans);r.detail=!0,r.selectable=!1,r.parent=e,w._.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1;var s=this.gridOptionsWrapper.getRowHeightForNode(r).height;return r.rowHeight=s||200,e.detailNode=r,r},g8([(0,w.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),g8([(0,w.fsG)("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),g8([(0,w.fsG)("beans")],t.prototype,"beans",void 0),g8([w.NqP],t.prototype,"postConstruct",null),g8([(0,w.Vu6)("ssrmExpandListener")],t)}(w.AS9),Sw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),P3=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},bw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Sw(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,w.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var r=w.gTE.GROUP_AUTO_COLUMN_ID+"-",o=0;o<e.length;++o)e[o].colId.indexOf(r)>-1&&(e[o].colId=e[o].colId.substr(r.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var r=e.find(function(y){return y.colId==w.gTE.GROUP_AUTO_COLUMN_ID});if(r){var o=e.indexOf(r);w._.removeFromArray(e,r);var p=this.columnModel.getRowGroupColumns().filter(function(y){return 0==e.filter(function(S){return S.colId===y.getColId()}).length}).map(function(y){return{colId:y.getId(),sort:r.sort}});w._.insertArrayIntoArray(e,p,o)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.extractSortModel(),s=this.findChangedColumnsInSort(r,e.sortModel),h=this.listenerUtils.isSortingWithValueColumn(s),p=this.listenerUtils.isSortingWithSecondaryColumn(s),y=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.serverSideRowModel.refreshAfterSort(r,{valueColChanged:h,secondaryColChanged:p,alwaysReset:y,changedColumns:s})}},t.prototype.findChangedColumnsInSort=function(e,r){var o=[];return[e,r].forEach(function(p){if(p){var y=p.map(function(S){return S.colId});o=o.concat(y)}}),o.filter(function(p){var y=r.find(function(E){return E.colId===p}),S=e.find(function(E){return E.colId===p});return function(p,y){return(p?p.sort:null)!==(y?y.sort:null)}(y,S)||function(p,y){return(p?r.indexOf(p):-1)!==(y?e.indexOf(y):-1)}(y,S)})},P3([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),P3([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),P3([(0,w.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),P3([(0,w.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),P3([w.NqP],t.prototype,"postConstruct",null),P3([(0,w.Vu6)("ssrmSortService")],t)}(w.AS9),Ew=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),v8=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Dw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Ew(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,w.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.filterManager.getFilterModel(),s=this.findChangedColumns(r,e?e.filterModel:{}),h=this.listenerUtils.isSortingWithValueColumn(s),p=this.listenerUtils.isSortingWithSecondaryColumn(s),y=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets();this.serverSideRowModel.refreshAfterFilter(r,{valueColChanged:h,secondaryColChanged:p,alwaysReset:y,changedColumns:s})}},t.prototype.findChangedColumns=function(e,r){var o={};Object.keys(e).forEach(function(h){return o[h]=!0}),Object.keys(r).forEach(function(h){return o[h]=!0});var s=[];return Object.keys(o).forEach(function(h){JSON.stringify(e[h])!=JSON.stringify(r[h])&&s.push(h)}),s},v8([(0,w.fsG)("rowModel")],t.prototype,"serverSideRowModel",void 0),v8([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),v8([(0,w.fsG)("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),v8([w.NqP],t.prototype,"postConstruct",null),v8([(0,w.Vu6)("ssrmFilterListener")],t)}(w.AS9),Ow=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Tw=function(l,t){return function(e,r){t(e,r,l)}},BC=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],r=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&r>=l.length&&(l=void 0),{value:l&&l[r++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},WC=function(l){function t(e,r,o,s,h){var p=l.call(this,e)||this;return p.ssrmParams=o,p.storeParams=s,p.parentRowNode=r,p.startRow=e*s.cacheBlockSize,p.parentStore=h,p.level=r.level+1,p.groupLevel=o.rowGroupCols?p.level<o.rowGroupCols.length:void 0,p.leafGroup=!!o.rowGroupCols&&p.level===o.rowGroupCols.length-1,p}return Ow(t,l),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(r){return r.expanded}).length>0},t.prototype.forEachNode=function(e,r,o,s){void 0===r&&(r=new w.at1),this.rowNodes.forEach(function(h){if(e(h,r.next()),o&&h.childStore){var p=h.childStore;s?p.forEachNodeDeepAfterFilterAndSort(e,r):p.forEachNodeDeep(e,r)}})},t.prototype.forEachNodeDeep=function(e,r){this.forEachNode(e,r,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){this.forEachNode(e,r,!0,!0)},t.prototype.forEachNodeShallow=function(e,r){this.forEachNode(e,r,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===w.NlK.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,r){void 0===e&&(e=[]),void 0===r&&(r=!1),this.destroyRowNodes();for(var o=this.parentStore.getRowCount(),s=this.getId()*this.storeParams.cacheBlockSize,p=Math.min(s+this.storeParams.cacheBlockSize,o)-s,S=this.columnModel.isAutoRowHeightActive()?this.parentStore.getCachedBlockHeight(this.getId()):void 0,E=S?Math.round(S/p):void 0,T=0;T<p;T++){var O=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn,rowHeight:E});if(T<e.length){var k=e[T],Q=this.prefixId(this.startRow+T);this.blockUtils.setDataIntoRowNode(O,k,Q,E),this.parentStore.removeDuplicateNode(O.id),this.nodeManager.addRowNode(O),this.allNodesMap[O.id]=O,this.blockUtils.checkOpenByDefault(O)}this.rowNodes.push(O),r&&(O.failedLoad=!0)}},t.prototype.removeDuplicateNode=function(e){var r=this.allNodesMap[e];if(r){this.blockUtils.destroyRowNode(r);var o=this.rowNodes.indexOf(r),s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[o]=s}},t.prototype.refresh=function(){this.getState()!==w.NlK.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var r,o,s;this.touchLastAccessed();try{for(var h=BC(this.rowNodes),p=h.next();!p.done&&null==(s=this.blockUtils.extractRowBounds(p.value,e));p=h.next());}catch(S){r={error:S}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return s},t.prototype.getRowIndexAtPixel=function(e){var r,o;this.touchLastAccessed();var s=null;try{for(var h=BC(this.rowNodes),p=h.next();!p.done&&null==(s=this.blockUtils.getIndexAtPixel(p.value,e));p=h.next());}catch(S){r={error:S}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return s},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.setDisplayIndexes=function(e,r){var o=this;this.displayIndexStart=e.peek(),this.blockTopPx=r.value,this.rowNodes.forEach(function(s){return o.blockUtils.setDisplayIndex(s,e,r)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=r.value-this.blockTopPx},mv([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),mv([(0,w.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),mv([(0,w.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),mv([(0,w.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),mv([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),mv([w.NqP],t.prototype,"postConstruct",null),mv([w.FXL],t.prototype,"destroyRowNodes",null),mv([Tw(0,(0,w.qaB)("loggerFactory"))],t.prototype,"setBeans",null),t}(w.NlK),xw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yv=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Mw=function(l,t){return function(e,r){t(e,r,l)}},ll=(()=>(function(l){l[l.FOUND=0]="FOUND",l[l.CONTINUE_FIND=1]="CONTINUE_FIND",l[l.BREAK_FIND=2]="BREAK_FIND"}(ll||(ll={})),ll))(),Pw=function(l){function t(e,r,o){var s=l.call(this)||this;return s.blocks={},s.blockHeights={},s.lastRowIndexKnown=!1,s.displayIndexStart=0,s.displayIndexEnd=0,s.cacheTopPixel=0,s.info={},s.ssrmParams=e,s.storeParams=r,s.parentRowNode=o,s.rowCount=t.INITIAL_ROW_COUNT,s}return xw(t,l),t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,r){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r.rowCount),r.storeInfo&&Object.assign(this.info,r.storeInfo),r.rowData||w._.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',r)},"InfiniteStore.noData");var s=null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0;!this.isAlive()||(this.checkRowCount(e,s),e.setData(r.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,o=this.getBlocksInOrder().filter(function(S){return S!=e});o.sort(function(S,E){return E.getLastAccessed()-S.getLastAccessed()});var h=this.storeParams.maxBlocksInCache>0,p=h?this.storeParams.maxBlocksInCache-1:null,y=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach(function(S,E){if(S.getState()===WC.STATE_WAITING_TO_LOAD&&E>=y||h&&E>=p){if(S.isAnyNodeOpen()||r.isBlockCurrentlyDisplayed(S)||r.isBlockFocused(S))return;r.destroyBlock(S)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||null!=r.rowPinned)return!1;var o=e.getDisplayIndexStart(),s=e.getDisplayIndexEnd();return null!=s&&null!=o&&r.rowIndex>=o&&r.rowIndex<s},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getDisplayIndexStart(),o=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(r,o)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(r){return r.removeDuplicateNode(e)})},t.prototype.checkRowCount=function(e,r){if("number"==typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var s=(e.getId()+1)*this.storeParams.cacheBlockSize+t.OVERFLOW_SIZE;this.rowCount<s&&(this.rowCount=s)}},t.prototype.forEachNodeDeep=function(e,r){void 0===r&&(r=new w.at1),this.getBlocksInOrder().forEach(function(o){return o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r){void 0===r&&(r=new w.at1),this.getBlocksInOrder().forEach(function(o){return o.forEachNodeAfterFilterAndSort(e,r)})},t.prototype.getBlocksInOrder=function(){return w._.getAllValuesInObject(this.blocks).sort(function(o,s){return o.getId()-s.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED})},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(o){o.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&r.push(o)}),r.length>0&&r.forEach(function(o){return e.destroyBlock(o)})},t.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive||0===this.rowCount)&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,r){var o=[],s=-1,h=!1;w._.missing(e)&&(h=!0);var p=!1;return this.getBlocksInOrder().forEach(function(S){if(!p){if(h&&s+1!==S.getId())return void(p=!0);s=S.getId(),S.forEachNodeShallow(function(E){var T=E===e||E===r;(h||T)&&o.push(E),T&&(h=!h)})}}),p||h?[]:o},t.prototype.findBlockAndExecute=function(e,r,o){var y,s=!1,h=!1,p=null;return this.getBlocksInOrder().forEach(function(S){if(!s&&!h){var E=e(S);E==ll.FOUND?(y=r(S),s=!0):E==ll.CONTINUE_FIND?p=S:E==ll.BREAK_FIND&&(h=!0)}}),s||(y=o(p)),y},t.prototype.getRowBounds=function(e){var r=this;return this.findBlockAndExecute(function(p){return p.isDisplayIndexInBlock(e)?ll.FOUND:p.isBlockBefore(e)?ll.CONTINUE_FIND:ll.BREAK_FIND},function(p){return p.getRowBounds(e)},function(p){var y,S;return null!==p?(y=p.getBlockTopPx()+p.getBlockHeightPx(),S=p.getDisplayIndexEnd()):(y=r.cacheTopPixel,S=r.displayIndexStart),{rowHeight:r.defaultRowHeight,rowTop:y+(e-S)*r.defaultRowHeight}})},t.prototype.getRowIndexAtPixel=function(e){var r=this,p=this.findBlockAndExecute(function(S){return S.isPixelInRange(e)?ll.FOUND:S.getBlockTopPx()<e?ll.CONTINUE_FIND:ll.BREAK_FIND},function(S){return S.getRowIndexAtPixel(e)},function(S){var E,T;S?(E=S.getBlockTopPx()+S.getBlockHeightPx(),T=S.getDisplayIndexEnd()):(E=r.cacheTopPixel,T=r.displayIndexStart);for(var O=r.storeParams.cacheBlockSize,F=r.defaultRowHeight*O,k=S?S.getId()+1:0,Q=function(Be){var ct=r.getCachedBlockHeight(Be),tt=null!=ct?ct:F;return{height:tt,pixelInBlock:e<=tt+E}},de=Q(k);!de.pixelInBlock;)E+=de.height,T+=O,de=Q(++k);return T+(0|Math.floor((e-E)/(de.height/O)))}),y=this.getDisplayIndexEnd()-1;return Math.min(p,y)},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},t.prototype.setDisplayIndexes=function(e,r){var o=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=r.value;var s=-1,h=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(E){var T=E.getId(),O=T-s-1,F=O*h;F>0&&e.skip(F);for(var k=1;k<=O;k++){var Q=T-k;w._.exists(o.blockHeights[Q])?r.value+=o.blockHeights[Q]:r.value+=h*o.defaultRowHeight}s=T,E.setDisplayIndexes(e,r),o.blockHeights[T]=E.getBlockHeightPx()});var p=(s+1)*h-1,S=this.getRowCount()-p-1;S>0&&(e.skip(S),r.value+=S*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=r.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,r){var o=this;if(void 0===r&&(r=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(y){return y.isDisplayIndexInBlock(e)?ll.FOUND:y.isBlockBefore(e)?ll.CONTINUE_FIND:ll.BREAK_FIND},function(y){return y.getRowUsingDisplayIndex(e)},function(y){if(!r){var S,E,T,O=o.storeParams.cacheBlockSize;if(y)for(S=y.getId()+1,E=y.getDisplayIndexEnd(),T=y.getBlockHeightPx()+y.getBlockTopPx();!(e>=E&&e<E+O);){E+=O;var k=o.blockHeights[S];w._.exists(k)?T+=k:T+=o.defaultRowHeight*O,S++}else S=Math.floor((e-o.displayIndexStart)/O),E=o.displayIndexStart+S*O,T=o.cacheTopPixel+S*O*o.defaultRowHeight;return o.logger.log("block missing, rowIndex = "+e+", creating #"+S+", displayIndexStart = "+E),o.createBlock(S,E,{value:T}).getRowUsingDisplayIndex(e)}})},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.storeParams.cacheBlockSize,o=Math.floor(e/r);return this.findBlockAndExecute(function(y){return y.getId()===o?ll.FOUND:y.getId()<o?ll.CONTINUE_FIND:ll.BREAK_FIND},function(y){return y.getRowUsingLocalIndex(e).rowIndex},function(y){if(!y)return e;var S=r*(y.getId()+1)-1,E=y.getRowUsingLocalIndex(S);return(E.expanded&&E.childStore?E.childStore.getDisplayIndexEnd()-1:E.expanded&&E.detailNode?E.detailNode.rowIndex:E.rowIndex)+(e-S)})},t.prototype.addStoreStates=function(e){e.push({type:"partial",route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},t.prototype.createBlock=function(e,r,o){var s=this.createBean(new WC(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return s.setDisplayIndexes(new w.at1(r),o),this.blocks[s.getId()]=s,this.purgeBlocksIfNeeded(s),this.rowNodeBlockLoader.addBlock(s),s},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return{status:w.Qk6.StoreWrongType}},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(s){var h=null;return r.getBlocksInOrder().forEach(function(p){p.forEachNodeShallow(function(y){y.key===s&&(h=y)},new w.at1)}),h})},t.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},t.prototype.refreshAfterFilter=function(e){this.resetStore()},t.prototype.refreshAfterSort=function(e){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(r){return r.refreshAfterSort(e)})},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(r){r.isGroupLevel()&&r.forEachNodeShallow(function(s){var h=s.childStore;h&&e(h)},new w.at1)})},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,yv([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),yv([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),yv([(0,w.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),yv([(0,w.fsG)("focusService")],t.prototype,"focusService",void 0),yv([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),yv([w.NqP],t.prototype,"postConstruct",null),yv([w.FXL],t.prototype,"destroyAllBlocks",null),yv([Mw(0,(0,w.qaB)("loggerFactory"))],t.prototype,"setBeans",null),t}(w.AS9),Aw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vu=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Rw=function(l){function t(e,r,o){var s=l.call(this,0)||this;return s.nodeIdSequence=new w.at1,s.info={},s.ssrmParams=e,s.parentRowNode=o,s.level=o.level+1,s.groupLevel=e.rowGroupCols?s.level<e.rowGroupCols.length:void 0,s.leafGroup=!!e.rowGroupCols&&s.level===e.rowGroupCols.length-1,s}return Aw(t,l),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,r){void 0===e&&(e=1),void 0===r&&(r=!1),this.destroyRowNodes();for(var o=0;o<e;o++){var s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r&&(s.failedLoad=!0),this.allRowNodes.push(s),this.nodesAfterFilter.push(s),this.nodesAfterSort.push(s)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,r){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=r?w._.insertIntoArray(this.allRowNodes,o,r):this.allRowNodes.push(o);var s=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(o,e,s,void 0),this.nodeManager.addRowNode(o),this.blockUtils.checkOpenByDefault(o),this.allNodesMap[o.id]=o,o},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){e.storeInfo&&Object.assign(this.info,e.storeInfo);var r=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||w._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(r,e.rowData),r&&this.blockUtils.destroyRowNodes(w._.getAllValuesInObject(r)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,r){var o=this;r&&r.forEach(function(p){var y=function(p){if(e){var y=o.gridOptionsWrapper.getRowIdFunc();if(y){var S=o.parentRowNode.getGroupKeys(),T=y({data:p,parentKeys:S.length>0?S:void 0,level:o.level,api:o.gridApi,columnApi:o.columnApi}),O=e[T];if(O)return delete e[T],O}}}(p);y?function(p,y){o.allNodesMap[p.id]=p,o.blockUtils.updateDataIntoRowNode(p,y),o.allRowNodes.push(p)}(y,p):o.createDataNode(p)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),r=!e||0==e.length,o=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.nodesAfterSort=r||o?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(h){return e.filterManager.doesRowPassFilter({rowNode:h})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,r){var o=this;this.displayIndexStart=e.peek(),this.topPx=r.value;var s={};this.nodesAfterSort.forEach(function(h){o.blockUtils.setDisplayIndex(h,e,r),s[h.id]=!0}),this.allRowNodes.forEach(function(h){s[h.id]||o.blockUtils.clearDisplayIndex(h)}),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachNodeDeep=function(e,r){void 0===r&&(r=new w.at1),this.allRowNodes.forEach(function(o){e(o,r.next());var s=o.childStore;s&&s.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r){void 0===r&&(r=new w.at1),this.nodesAfterSort.forEach(function(o){e(o,r.next());var s=o.childStore;s&&s.forEachNodeDeepAfterFilterAndSort(e,r)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var r=0;r<this.nodesAfterSort.length;r++){var s=this.blockUtils.extractRowBounds(this.nodesAfterSort[r],e);if(s)return s}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var r=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var p=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=p.rowTop+p.rowHeight&&p.expanded){if(p.childStore&&p.childStore.getRowCount()>0)return p.childStore.getRowIndexAtPixel(e);if(p.detailNode)return p.detailNode.rowIndex}return p.rowIndex}var S=null;return this.nodesAfterSort.forEach(function(T){var O=r.blockUtils.getIndexAtPixel(T,e);null!=O&&(S=O)}),null==S?this.displayIndexEnd-1:S},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(o){return r.allRowNodes.find(function(h){return h.key===o})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(r){var o=r.childStore;o&&e(o)})},t.prototype.refreshAfterFilter=function(e){e.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow(function(r){return r.refreshAfterFilter(e)}))},t.prototype.refreshAfterSort=function(e){e.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow(function(r){return r.refreshAfterSort(e)}))},t.prototype.applyTransaction=function(e){switch(this.getState()){case w.NlK.STATE_FAILED:return{status:w.Qk6.StoreLoadingFailed};case w.NlK.STATE_LOADING:return{status:w.Qk6.StoreLoading};case w.NlK.STATE_WAITING_TO_LOAD:return{status:w.Qk6.StoreWaitingToLoad}}var r=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(r&&!r({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:w.Qk6.Cancelled};var h={status:w.Qk6.Applied,remove:[],update:[],add:[]},p=[];return this.executeAdd(e,h),this.executeRemove(e,h,p),this.executeUpdate(e,h,p),this.filterAndSortNodes(),this.updateSelection(p),h},t.prototype.updateSelection=function(e){if(e.length>0){e.forEach(function(s){s.setSelected(!1,!1,!0)});var o={type:w.zW2.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(o)}},t.prototype.executeAdd=function(e,r){var o=this,s=e.add,h=e.addIndex;w._.missingOrEmpty(s)||("number"==typeof h&&h>=0?s.reverse().forEach(function(y){var S=o.createDataNode(y,h);r.add.push(S)}):s.forEach(function(y){var S=o.createDataNode(y);r.add.push(S)}))},t.prototype.executeRemove=function(e,r,o){var s=this,h=e.remove;if(null!=h){var p={};h.forEach(function(y){var S=s.lookupRowNode(y);!S||(S.isSelected()&&o.push(S),S.clearRowTopAndRowIndex(),p[S.id]=!0,delete s.allNodesMap[S.id],r.remove.push(S),s.nodeManager.removeNode(S))}),this.allRowNodes=this.allRowNodes.filter(function(y){return!p[y.id]})}},t.prototype.executeUpdate=function(e,r,o){var s=this,h=e.update;null!=h&&h.forEach(function(p){var y=s.lookupRowNode(p);!y||(y.updateData(p),!y.selectable&&y.isSelected()&&o.push(y),r.update.push(y))})},t.prototype.lookupRowNode=function(e){var o,r=this.gridOptionsWrapper.getRowIdFunc();if(null!=r){var s=this.level,h=this.parentRowNode.getGroupKeys(),p=r({data:e,parentKeys:h.length>0?h:void 0,level:s,api:this.gridApi,columnApi:this.columnApi});if(!(o=this.allNodesMap[p]))return console.error("AG Grid: could not find row id="+p+", data item was not found for this id"),null}else if(!(o=this.allRowNodes.find(function(y){return y.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return o},t.prototype.addStoreStates=function(e){e.push({type:"full",route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===w.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:w.zW2.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==w.NlK.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,r){var o=[],s=!1;return w._.missing(e)&&(s=!0),this.nodesAfterSort.forEach(function(p){var y=p===e||p===r;(s||y)&&o.push(p),y&&(s=!s)}),s?[]:o},Vu([(0,w.fsG)("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Vu([(0,w.fsG)("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Vu([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),Vu([(0,w.fsG)("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Vu([(0,w.fsG)("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Vu([(0,w.fsG)("sortController")],t.prototype,"sortController",void 0),Vu([(0,w.fsG)("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Vu([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),Vu([(0,w.fsG)("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),Vu([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),Vu([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),Vu([w.NqP],t.prototype,"postConstruct",null),Vu([w.FXL],t.prototype,"destroyRowNodes",null),t}(w.NlK),o7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Fw=function(){function l(){}return l.prototype.createStore=function(t,e){var r=this.getStoreParams(t,e);return new("partial"===r.storeType?Pw:Rw)(t,r,e)},l.prototype.getStoreParams=function(t,e){var r=this.getLevelSpecificParams(e),o=this.getStoreType(r);return{storeType:o,cacheBlockSize:this.getBlockSize(o,r),maxBlocksInCache:this.getMaxBlocksInCache(o,t,r)}},l.prototype.getMaxBlocksInCache=function(t,e,r){if("full"!=t){var o=r&&null!=r.maxBlocksInCache?r.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=o&&o>=0)return e.dynamicRowHeight?void w._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight"):this.columnModel.isAutoRowHeightActive()?void w._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive"):o}},l.prototype.getBlockSize=function(t,e){if("full"!=t){var r=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=r&&r>0?r:100}},l.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(e)return e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},l.prototype.getStoreType=function(t){var e=t&&null!=t.storeType?t.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(e){case"partial":case"full":return e;case null:case void 0:return"full";default:var o=["full","partial"].join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+e+", valid types are ["+o+"]"),"partial"}},o7([(0,w.fsG)("gridOptionsWrapper")],l.prototype,"gridOptionsWrapper",void 0),o7([(0,w.fsG)("columnModel")],l.prototype,"columnModel",void 0),o7([(0,w.Vu6)("ssrmStoreFactory")],l)}(),jC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Lw=function(){function l(){}return l.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(o){return o.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},l.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(o){return o.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},jC([(0,w.fsG)("columnModel")],l.prototype,"columnModel",void 0),jC([(0,w.Vu6)("ssrmListenerUtils")],l)}(),Iw={moduleName:w.GXE.ServerSideRowModelModule,rowModels:{serverSide:hw},beans:[ww,bw,fw,vw,mw,Cw,Dw,Fw,Lw],dependantModules:[Et]},kw=function(){function l(t,e,r){this.rowModel=t,this.filterParams=e,this.caseFormat=r}return l.prototype.extractUniqueValues=function(t){var e=this,r={},o=this.filterParams.colDef.keyCreator,s=function(h){var p=null!=h?e.caseFormat(h):"__<ag-grid-pseudo-null>__";p&&null==r[p]&&(r[p]=h)};return this.rowModel.forEachLeafNode(function(h){if(h.data&&t(h)){var p=e.filterParams,F=e.filterParams.valueGetter({api:p.api,colDef:p.colDef,column:p.column,columnApi:p.columnApi,context:p.context,data:h.data,getValue:function(Q){return h.data[Q]},node:h});o&&(F=o({value:F,colDef:e.filterParams.colDef,column:e.filterParams.column,node:h,data:h.data,api:e.filterParams.api,columnApi:e.filterParams.columnApi,context:e.filterParams.context})),null!=(F=w._.makeNull(F))&&Array.isArray(F)?F.forEach(function(Q){var de=w._.toStringOrNull(w._.makeNull(Q));s(de)}):s(w._.toStringOrNull(F))}}),w._.values(r)},l}(),nu=(()=>(function(l){l[l.PROVIDED_LIST=0]="PROVIDED_LIST",l[l.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",l[l.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(nu||(nu={})),nu))(),UC=function(){function l(t,e,r,o,s){var h=this;this.filterParams=t,this.setIsLoading=e,this.valueFormatterService=r,this.translate=o,this.caseFormat=s,this.localEventService=new w.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var y=t.colDef,S=t.textFormatter,E=t.doesRowPassOtherFilter,T=t.suppressSorting,O=t.comparator,F=t.rowModel,k=t.values;this.column=t.column,this.formatter=S||w.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=E,this.suppressSorting=T||!1,this.comparator=O||y.comparator||w._.defaultComparator,F.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new kw(F,this.filterParams,this.caseFormat)),null==k?this.valuesType=nu.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(k)?nu.PROVIDED_LIST:nu.PROVIDED_CALLBACK,this.providedValues=k),this.updateAllValues().then(function(de){return h.resetSelectionState(de||[])})}return l.prototype.addEventListener=function(t,e,r){this.localEventService.addEventListener(t,e,r)},l.prototype.removeEventListener=function(t,e,r){this.localEventService.removeEventListener(t,e,r)},l.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},l.prototype.overrideValues=function(t){var e=this;return new w.j_S(function(r){e.allValuesPromise.then(function(){e.valuesType=nu.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return r()})})})},l.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}):w.j_S.resolve()},l.prototype.isInitialised=function(){return this.initialised},l.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new w.j_S(function(e){switch(t.valuesType){case nu.TAKEN_FROM_GRID_VALUES:case nu.PROVIDED_LIST:var r=t.valuesType===nu.TAKEN_FROM_GRID_VALUES?t.getValuesFromRows(!1):w._.values(t.uniqueValues(w._.toStrings(t.providedValues)||[])),o=t.sortValues(r||[]);t.allValues=o,e(o);break;case nu.PROVIDED_CALLBACK:t.setIsLoading(!0);var s=t.providedValues,h=t.filterParams,O={success:function(F){var k=w._.values(t.uniqueValues(w._.toStrings(F)||[]));t.setIsLoading(!1);var Q=t.sortValues(k||[]);t.allValues=Q,e(Q)},colDef:h.colDef,column:h.column,columnApi:h.columnApi,api:h.api,context:h.context};window.setTimeout(function(){return s(O)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}).then(function(){return t.initialised=!0}),this.allValuesPromise},l.prototype.setValuesType=function(t){this.valuesType=t},l.prototype.getValuesType=function(){return this.valuesType},l.prototype.isValueAvailable=function(t){return this.availableValues.has(t)},l.prototype.showAvailableOnly=function(){return this.valuesType===nu.TAKEN_FROM_GRID_VALUES},l.prototype.updateAvailableValues=function(t){var e=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=w._.convertToSet(e),this.localEventService.dispatchEvent({type:l.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},l.prototype.sortValues=function(t){return this.suppressSorting?t:!this.filterParams.excelMode||t.indexOf(null)<0?t.sort(this.comparator):t.filter(function(e){return null!=e}).sort(this.comparator).concat(null)},l.prototype.getValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(o){return!t||e.doesRowPassOtherFilters(o)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},l.prototype.setMiniFilter=function(t){return t=w._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues(),!0)},l.prototype.getMiniFilter=function(){return this.miniFilterText},l.prototype.updateDisplayedValues=function(){var t=this;if(null!=this.miniFilterText){this.displayedValues=[];var e=this.caseFormat(this.formatter(this.miniFilterText)||""),r=function(o){return null!=o&&t.caseFormat(o).indexOf(e)>=0};this.availableValues.forEach(function(o){if(null==o)t.filterParams.excelMode&&r(t.translate("blanks"))&&t.displayedValues.push(o);else{var s=t.formatter(o),h=t.valueFormatterService.formatValue(t.column,null,null,s,t.filterParams.valueFormatter,!1);(r(s)||r(h))&&t.displayedValues.push(o)}})}else this.displayedValues=w._.values(this.availableValues)},l.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},l.prototype.getDisplayedValue=function(t){return this.displayedValues[t]},l.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},l.prototype.getValues=function(){return this.allValues.slice()},l.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedValues=w._.convertToSet(this.allValues):(t&&this.selectedValues.clear(),this.displayedValues.forEach(function(r){return e.selectedValues.add(r)}))},l.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach(function(e){return t.selectedValues.delete(e)})},l.prototype.selectValue=function(t){this.selectedValues.add(t)},l.prototype.deselectValue=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(t)},l.prototype.isValueSelected=function(t){return this.selectedValues.has(t)},l.prototype.isEverythingVisibleSelected=function(){var t=this;return this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length===this.displayedValues.length},l.prototype.isNothingVisibleSelected=function(){var t=this;return 0===this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length},l.prototype.getModel=function(){return this.hasSelections()?w._.values(this.selectedValues):null},l.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(r){if(null==t)e.resetSelectionState(r||[]);else{e.selectedValues.clear();var o=e.uniqueValues(r||[]);t.forEach(function(s){var h=o[e.uniqueKey(s)];void 0!==h&&e.selectedValues.add(h)})}})},l.prototype.uniqueValues=function(t){var e=this,r={};return(t||[]).forEach(function(o){var s=w._.makeNull(o),h=e.uniqueKey(s);void 0===r[h]&&(r[h]=s)}),r},l.prototype.uniqueKey=function(t){return null==t?"__<ag-grid-pseudo-null>__":this.caseFormat(t)},l.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=w._.convertToSet(t||[])},l.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",l}(),Vw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dy=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hy=function(l){function t(e,r,o,s){var h=l.call(this,t.TEMPLATE)||this;return h.value=e,h.params=r,h.translate=o,h.isSelected=s,h}return Vw(t,l),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),!this.params.readOnly&&this.eCheckbox.onValueChange(function(r){var o=r||!1;e.isSelected=o,e.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:o})})},t.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},t.prototype.render=function(){var e=this.params.column,r=this.value,o=null;"function"==typeof r?r=r():o=this.getFormattedValue(this.params,e,r),this.params.showTooltips&&this.setTooltip(null!=o?o:r);var h={value:r,valueFormatted:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(h)},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},t.prototype.getFormattedValue=function(e,r,o){return this.valueFormatterService.formatValue(r,null,null,o,e&&e.valueFormatter,!1)},t.prototype.renderCell=function(e){var r=this,o=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),s=o?o.newAgStackInstance():void 0;if(null!=s)s.then(function(p){p&&(r.eCheckbox.setLabel(p.getGui()),r.addDestroyFunc(function(){return r.destroyBean(p)}))});else{var h=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==h?this.translate("blanks"):h)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',dy([(0,w.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),dy([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),dy([(0,w.cqo)("eCheckbox")],t.prototype,"eCheckbox",void 0),dy([w.NqP],t.prototype,"init",null),t}(w.wA2),YC={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},Hw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),m8=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},a7=function(l){function t(){var e=l.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.appliedModelValues=null,e}return Hw(t,l),t.prototype.postConstruct=function(){l.prototype.postConstruct.call(this),this.positionableFeature=new w.Gxm(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(e){if(l.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case w.VDZ.SPACE:this.handleKeySpace(e);break;case w.VDZ.ENTER:this.handleKeyEnter(e)}},t.prototype.handleKeySpace=function(e){var r=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(r.activeElement)&&this.virtualList){var o=this.virtualList.getLastFocusedRow();if(null!=o){var s=this.virtualList.getComponentAt(o);null!=s&&(e.preventDefault(),(this.setFilterParams||{}).readOnly||s.toggleSelected())}}},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var r=this.setFilterParams||{};!r.excelMode||r.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var r=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return r.refresh()}):w.j_S.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,r){return null==e&&null==r||null!=e&&null!=r&&w._.areEqual(e.values,r.values)},t.prototype.setParams=function(e){var r=this;this.applyExcelModeOptions(e),l.prototype.setParams.call(this,e),this.setFilterParams=e,this.caseSensitive=e.caseSensitive||!1,this.valueModel=new UC(e,function(o){return r.showOrHideLoadingScreen(o)},this.valueFormatterService,function(o){return r.translateForSetFilter(o)},function(o){return r.caseFormat(o)}),this.initialiseFilterBodyUi(),e.rowModel.getType()===w.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&!e.values&&this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,w.zW2.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,w.zW2.EVENT_CELL_VALUE_CHANGED,function(r){e.setFilterParams&&r.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(e){var r=this;if(void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");var o=w.j_S.resolve();return e&&(o=this.valueModel.refreshValues()),o.then(function(){r.refresh(),r.onBtApply(!1,!0)})},t.prototype.showOrHideLoadingScreen=function(e){w._.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var o=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),s=this.virtualList=this.createBean(new w.CPJ("filter","listbox",o)),h=this.getRefElement("eSetFilterList");h&&h.appendChild(s.getGui());var y,p=this.setFilterParams.cellHeight;null!=p&&s.setRowHeight(p),s.setComponentCreator(function(S){return e.createSetListItem(S)}),y=this.setFilterParams.suppressSelectAll?new Gw(this.valueModel):new Bw(this.valueModel,function(){return e.isSelectAllSelected()}),s.setModel(y)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var o,r=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===t.SELECT_ALL_VALUE?((o=this.createBean(new hy(function(){return r.getSelectAllLabel()},this.setFilterParams,function(s){return r.translateForSetFilter(s)},this.isSelectAllSelected()))).addEventListener(hy.EVENT_SELECTION_CHANGED,function(s){return r.onSelectAll(s.isSelected)}),o):((o=this.createBean(new hy(e,this.setFilterParams,function(s){return r.translateForSetFilter(s)},this.valueModel.isValueSelected(e)))).addEventListener(hy.EVENT_SELECTION_CHANGED,function(s){return r.onItemSelected(e,s.isSelected)}),o)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var o=this.eMiniFilter,h=this.gridOptionsWrapper.getLocaleTextFunc();o.setDisplayed(!this.setFilterParams.suppressMiniFilter),o.setValue(this.valueModel.getMiniFilter()),o.onValueChange(function(){return e.onMiniFilterInput()}),o.setInputAriaLabel(h("ariaSearchFilterValues","Search filter values")),this.addManagedListener(o.getInputElement(),"keypress",function(p){return e.onMiniFilterKeyPress(p)})},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");l.prototype.afterGuiAttached.call(this,e),this.refreshVirtualList(),this.setFilterParams.excelMode&&this.resetUiToActiveModel();var r=this.eMiniFilter;r.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&r.getFocusableElement().focus();var s,o=!(!e||"floatingFilter"!==e.container);s=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},o?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(s)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var r=l.prototype.applyModel.call(this),o=this.getModel();return this.appliedModelValues=o?o.values.reduce(function(s,h){return s[e.caseFormat(String(h))]=!0,s},{}):null,r},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var r=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var o=e.node,s=e.data,h=this.setFilterParams,y=h.colDef.keyCreator,S=h.api,E=h.colDef,T=h.column,O=h.columnApi,F=h.context,k=(0,h.valueGetter)({api:S,colDef:E,column:T,columnApi:O,context:F,data:s,getValue:function(de){return s[de]},node:o});return y&&(k=y({value:k,colDef:E,column:T,node:o,data:s,api:S,columnApi:O,context:F})),k=w._.makeNull(k),Array.isArray(k)?k.some(function(de){return!0===r.appliedModelValues[r.caseFormat(String(w._.makeNull(de)))]}):!0===this.appliedModelValues[this.caseFormat(String(k))]},t.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType();this.syncAfterDataChange(e===nu.TAKEN_FROM_GRID_VALUES)},t.prototype.setFilterValues=function(e){var r=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){r.refresh(),r.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(nu.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0)},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");!this.valueModel.isInitialised()||this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;w._.setDisplayed(this.eNoMatches,e),w._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){var r=this.setFilterParams||{};e.key===w.VDZ.ENTER&&!r.excelMode&&!r.readOnly&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var r=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(r)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var r=this;null!=e&&window.setTimeout(function(){if(!r.virtualList)throw new Error("Virtual list has not been created.");r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var r=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(r)},t.prototype.onItemSelected=function(e,r){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");r?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var o=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(o)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,YC[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),l.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",m8([(0,w.cqo)("eMiniFilter")],t.prototype,"eMiniFilter",void 0),m8([(0,w.cqo)("eFilterLoading")],t.prototype,"eFilterLoading",void 0),m8([(0,w.cqo)("eSetFilterList")],t.prototype,"eSetFilterList",void 0),m8([(0,w.cqo)("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),m8([(0,w.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(w.AGU),Gw=function(){function l(t){this.model=t}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},l.prototype.getRow=function(t){return this.model.getDisplayedValue(t)},l.prototype.isRowSelected=function(t){return this.model.isValueSelected(this.getRow(t))},l}(),Bw=function(){function l(t,e){this.model=t,this.isSelectAllSelected=e}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},l.prototype.getRow=function(t){return 0===t?a7.SELECT_ALL_VALUE:this.model.getDisplayedValue(t-1)},l.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(t))},l}(),Ww=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},jw=function(l){function t(){var e=l.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e}return Ww(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),o=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r+" "+o("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof a7))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(r)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(r){var o=r.getValueModel();!o||e.addManagedListener(o,UC.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var r=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(o){var s=(e||o.getModel()||{}).values,h=o.getValueModel();if(null!=s&&null!=h){var p=r.gridOptionsWrapper.getLocaleTextFunc(),S=s.filter(function(O){return h.isValueAvailable(O)}).map(function(O){var F=r.params,de=r.valueFormatterService.formatValue(F.column,null,null,O,F.filterParams.valueFormatter,!1),he=null!=de?de:O;return null==he?p("blanks",YC.blanks):he}),E=S.length>10?S.slice(0,10).concat("..."):S,T="("+S.length+") "+E.join(",");r.eFloatingFilterText.setValue(T)}else r.eFloatingFilterText.setValue("")})},s7([(0,w.cqo)("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),s7([(0,w.fsG)("valueFormatterService")],t.prototype,"valueFormatterService",void 0),s7([(0,w.fsG)("columnModel")],t.prototype,"columnModel",void 0),t}(w.wA2),Uw={moduleName:w.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:a7},{componentName:"agSetColumnFloatingFilter",componentClass:jw}],dependantModules:[Et]},Yw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),A3=function(){return A3=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},A3.apply(this,arguments)},l7=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},c7=function(l){function t(){var e=l.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return Yw(t,l),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)}})},t.getFilterDefs=function(e){var r=e.filters;return r&&r.length>0?r:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var r=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var s=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=s;var h=[];return this.filterDefs.forEach(function(p,y){var S=r.createFilter(p,y);null!=S&&h.push(S)}),w.j_S.all(h).then(function(p){r.filters=p,r.refreshGui("columnMenu"),r.afterFiltersReadyFuncs.forEach(function(y){return y()}),r.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var r=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(o,s){s>0&&r.appendChild(w._.loadTemplate('<div class="ag-filter-separator"></div>'));var y,h=r.filterDefs[s],p=r.getFilterTitle(o,h);y="subMenu"===h.display&&"toolPanel"!==e?r.insertFilterMenu(o,p).getGui():"subMenu"===h.display||"accordion"===h.display?r.insertFilterGroup(o,p).getGui():o.getGui(),r.appendChild(y)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,r){return null!=r.title?r.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,r){var o=this,s=this.createBean(new w.sJC({name:r,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return s.setParentComponent(this),this.guiDestroyFuncs.push(function(){return o.destroyBean(s)}),this.addManagedListener(s,w.sJC.EVENT_MENU_ITEM_ACTIVATED,function(h){o.lastActivatedMenuItem&&o.lastActivatedMenuItem!==h.menuItem&&o.lastActivatedMenuItem.deactivate(),o.lastActivatedMenuItem=h.menuItem}),s.addGuiEventListener("focusin",function(){return s.activate()}),s.addGuiEventListener("focusout",function(){s.isSubMenuOpen()||s.deactivate()}),s},t.prototype.insertFilterGroup=function(e,r){var o=this,s=this.createBean(new w.H1u({title:r,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return o.destroyBean(s)}),s.addItem(e.getGui()),s.toggleGroupExpand(!1),e.afterGuiAttached){var h={container:this.lastOpenedInContainer,suppressFocus:!0};s.addManagedListener(s,w.H1u.EVENT_EXPANDED,function(){return e.afterGuiAttached(h)})}return s},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,r){var o=!0;return this.filters.forEach(function(s){!o||s===r||!s.isFilterActive()||(o=s.doesFilterPass(e))}),o},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return"function"==typeof r.getModelFromUi?r.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return r.isFilterActive()?r.getModel():null})}:null},t.prototype.setModel=function(e){var r=this,o=function(h,p){return new w.j_S(function(y){var S=h.setModel(p);S?S.then(function(){return y()}):y()})},s=[];return null==e?s=this.filters.map(function(h,p){var y=o(h,null);return r.updateActiveList(p),y}):this.filters.forEach(function(h,p){var S=o(h,e.filterModels.length>p?e.filterModels[p]:null);s.push(S),r.updateActiveList(p)}),w.j_S.all(s).then(function(){})},t.prototype.applyModel=function(){var e=!1;return this.filters.forEach(function(r){r instanceof w.AGU&&(e=r.applyModel()||e)}),e},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var r=this.params.filters,o=r&&r.some(function(p){return p.display&&"inline"!==p.display});this.executeFunctionIfExists("afterGuiAttached",A3(A3({},e||{}),{suppressFocus:o}));var s=this.gridOptionsWrapper.getDocument(),h=s.activeElement;o&&(h===s.body||this.getGui().contains(h))&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(r){r.setModel(null),e.destroyBean(r)}),this.filters.length=0,this.destroyChildren(),l.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];w._.forEachReverse(this.filters,function(s){var h=s[e];"function"==typeof h&&h.apply(s,r)})},t.prototype.createFilter=function(e,r){var y,o=this,s=this.params,h=s.filterModifiedCallback,p=s.doesRowPassOtherFilter,S=A3(A3({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:h,filterChangedCallback:function(O){o.executeWhenAllFiltersReady(function(){return o.filterChanged(r,O)})},doesRowPassOtherFilter:function(O){return p(O)&&o.doesFilterPass({node:O,data:O.data},y)}}),E=this.userComponentFactory.getFilterDetails(e,S,"agTextColumnFilter");if(!E)return null;var T=E.newAgStackInstance();return T&&T.then(function(O){return y=O}),T},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var r=this.filters[e];w._.removeFromArray(this.activeFilterIndices,e),r.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,r){this.updateActiveList(e),this.filterChangedCallback(r);var o=this.filters[e];this.filters.forEach(function(s){s!==o&&"function"==typeof s.onAnyFilterChanged&&s.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},l7([(0,w.fsG)("filterManager")],t.prototype,"filterManager",void 0),l7([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),l7([w.NqP],t.prototype,"postConstruct",null),t}(w.BxR),Kw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),py=function(){return py=Object.assign||function(l){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(l[o]=t[o]);return l},py.apply(this,arguments)},qw=function(l){function t(){var e=l.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return Kw(t,l),t.prototype.init=function(e){var r=this;this.params=e;var s=[];return c7.getFilterDefs(e.filterParams).forEach(function(h,p){var y=py(py({},e),{parentFilterInstance:function(E){r.parentMultiFilterInstance(function(T){var O=T.getChildFilterInstance(p);null!=O&&E(O)})}}),S=r.createFloatingFilter(h,y);null!=S&&s.push(S)}),w.j_S.all(s).then(function(h){h.forEach(function(p,y){r.floatingFilters.push(p);var S=p.getGui();r.appendChild(S),y>0&&w._.setDisplayed(S,!1)})})},t.prototype.onParentModelChanged=function(e,r){var o=this;r&&r.afterFloatingFilter||this.parentMultiFilterInstance(function(s){if(null==e)o.floatingFilters.forEach(function(p,y){p.onParentModelChanged(null,r),w._.setDisplayed(p.getGui(),0===y)});else{var h=s.getLastActiveFilterIndex();o.floatingFilters.forEach(function(p,y){p.onParentModelChanged(e.filterModels.length>y?e.filterModels[y]:null,r);var E=null==h?0===y:y===h;w._.setDisplayed(p.getGui(),E)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,l.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,r){var o=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",s=this.userComponentFactory.getFloatingFilterCompDetails(e,r,o);return s?s.newAgStackInstance():null},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof c7))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(r)})},function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);o>3&&s&&Object.defineProperty(t,e,s)}([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(w.wA2),Xw={moduleName:w.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:c7},{componentName:"agMultiColumnFloatingFilter",componentClass:qw}],dependantModules:[Et]},Zw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jw=function(l){function t(){var e=l.call(this)||this;return e.allComponents={},e}return Zw(t,l),t.prototype.registerStatusPanel=function(e,r){this.allComponents[e]=r},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},t=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([(0,w.Vu6)("statusBarService")],t),t}(w.AS9),eS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),C4=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},tS=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return eS(t,l),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(s){return"left"===s.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var r=this.gridOptions.statusBar.statusPanels.filter(function(s){return"center"===s.align});this.createAndRenderComponents(r,this.eStatusBarCenter);var o=this.gridOptions.statusBar.statusPanels.filter(function(s){return!s.align||"right"===s.align});this.createAndRenderComponents(o,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,r){var o=this,s=[];e.forEach(function(h){var p={api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi(),context:o.gridOptionsWrapper.getContext()},S=o.userComponentFactory.getStatusPanelCompDetails(h,p).newAgStackInstance();!S||s.push({key:h.key||h.statusPanel,promise:S})}),w.j_S.all(s.map(function(h){return h.promise})).then(function(){s.forEach(function(h){h.promise.then(function(p){var y=function(){o.getContext().destroyBean(p)};o.isAlive()?(o.statusBarService.registerStatusPanel(h.key,p),r.appendChild(p.getGui()),o.addDestroyFunc(y)):y()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',C4([(0,w.fsG)("gridOptions")],t.prototype,"gridOptions",void 0),C4([(0,w.fsG)("userComponentFactory")],t.prototype,"userComponentFactory",void 0),C4([(0,w.fsG)("statusBarService")],t.prototype,"statusBarService",void 0),C4([(0,w.cqo)("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),C4([(0,w.cqo)("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),C4([(0,w.cqo)("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),C4([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),nS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),KC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},y8=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return nS(t,l),t.prototype.setLabel=function(e,r){this.setDisplayed(!1);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=o(e,r)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',KC([(0,w.cqo)("eLabel")],t.prototype,"eLabel",void 0),KC([(0,w.cqo)("eValue")],t.prototype,"eValue",void 0),t}(w.wA2),rS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$C=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},iS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return rS(t,l),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("thousandSeparator",","),o=e("decimalSeparator","."),s=w._.formatNumberCommas(this.getFilteredRowCountValue(),r,o),h=w._.formatNumberCommas(this.getTotalRowCount(),r,o);if(s===h)this.setValue(s);else{var p=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(s+" "+p("of","of")+" "+h)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(r){r.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},$C([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),$C([w.NqP],t.prototype,"postConstruct",null),t}(y8),oS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},aS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return oS(t,l),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),r=this.getFilteredRowCountValue(),o=this.gridOptionsWrapper.getLocaleTextFunc(),s=o("thousandSeparator",","),h=o("decimalSeparator",".");this.setValue(w._.formatNumberCommas(r,s,h)),this.setDisplayed(e!==r)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(r){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},qC([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),qC([w.NqP],t.prototype,"postConstruct",null),t}(y8),sS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),XC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},lS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return sS(t,l),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),r=e("thousandSeparator",","),o=e("decimalSeparator",".");this.setValue(w._.formatNumberCommas(this.getRowCountValue(),r,o))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(r){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},XC([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),XC([w.NqP],t.prototype,"postConstruct",null),t}(y8),cS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZC=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},uS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return cS(t,l),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=r("thousandSeparator",","),s=r("decimalSeparator",".");this.setValue(w._.formatNumberCommas(e,o,s)),this.setDisplayed(e>0);var h=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,h),this.addManagedListener(this.eventService,w.zW2.EVENT_SELECTION_CHANGED,h)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,r=this.gridOptionsWrapper.getLocaleTextFunc(),o=r("thousandSeparator",","),s=r("decimalSeparator",".");this.setValue(w._.formatNumberCommas(e,o,s)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},ZC([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),ZC([w.NqP],t.prototype,"postConstruct",null),t}(y8),dS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ru=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hS=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return dS(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,w.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,w.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,r,o){var s=this.getAggregationValueComponent(e);if(w._.exists(s)&&s){var h=this.gridOptionsWrapper.getLocaleTextFunc(),p=h("thousandSeparator",","),y=h("decimalSeparator",".");s.setValue(w._.formatNumberTwoDecimalPlacesAndCommas(r,p,y)),s.setDisplayed(o)}},t.prototype.getAggregationValueComponent=function(e){var r=e+"AggregationComp",o=null,s=w._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find(function(h){return"agAggregationComponent"===h.statusPanel}):null;return w._.exists(s)&&s?(!w._.exists(s.statusPanelParams)||w._.exists(s.statusPanelParams)&&w._.exists(s.statusPanelParams.aggFuncs)&&w._.exists(s.statusPanelParams.aggFuncs.find(function(h){return h===e})))&&(o=this[r]):o=this[r],o},t.prototype.onRangeSelectionChanged=function(){var e=this,r=this.rangeService?this.rangeService.getCellRanges():void 0,o=0,s=0,h=0,p=null,y=null,S={};r&&!w._.missingOrEmpty(r)&&r.forEach(function(O){for(var F=e.rangeService.getRangeStartRow(O),k=e.rangeService.getRangeEndRow(O);!w._.missing(F)&&F&&!e.rowPositionUtils.before(k,F)&&F&&O.columns;)O.columns.forEach(function(de){if(null!==F){var he=e.cellPositionUtils.createId({rowPinned:F.rowPinned,column:de,rowIndex:F.rowIndex});if(!S[he]){S[he]=!0;var fe=e.rowRenderer.getRowNode(F);if(!w._.missing(fe)){var ve=e.valueService.getValue(de,fe);w._.missing(ve)||""===ve||(ve.value&&(ve=ve.value),"string"==typeof ve&&(ve=Number(ve)),"number"==typeof ve&&!isNaN(ve)&&(o+=ve,(null===y||ve>y)&&(y=ve),(null===p||ve<p)&&(p=ve),h++),s++)}}}}),F=e.cellNavigationService.getRowBelow(F)});var T=h>1;this.setAggregationComponentValue("count",s,s>1),this.setAggregationComponentValue("sum",o,T),this.setAggregationComponentValue("min",p,T),this.setAggregationComponentValue("max",y,T),this.setAggregationComponentValue("avg",o/h,T)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',ru([(0,w.FiY)("rangeService")],t.prototype,"rangeService",void 0),ru([(0,w.fsG)("valueService")],t.prototype,"valueService",void 0),ru([(0,w.fsG)("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ru([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),ru([(0,w.fsG)("gridOptions")],t.prototype,"gridOptions",void 0),ru([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),ru([(0,w.fsG)("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ru([(0,w.fsG)("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ru([(0,w.cqo)("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),ru([(0,w.cqo)("countAggregationComp")],t.prototype,"countAggregationComp",void 0),ru([(0,w.cqo)("minAggregationComp")],t.prototype,"minAggregationComp",void 0),ru([(0,w.cqo)("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),ru([(0,w.cqo)("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),ru([w.NqP],t.prototype,"postConstruct",null),t}(w.wA2),pS={moduleName:w.GXE.StatusBarModule,beans:[Jw],agStackComponents:[{componentName:"AgStatusBar",componentClass:tS},{componentName:"AgNameValue",componentClass:y8}],userComponents:[{componentName:"agAggregationComponent",componentClass:hS},{componentName:"agSelectedRowCountComponent",componentClass:uS},{componentName:"agTotalRowCountComponent",componentClass:lS},{componentName:"agFilteredRowCountComponent",componentClass:aS},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:iS}],dependantModules:[Et]},fS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])})(t,e)};return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_4=function(l,t,e,r){var h,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,r);else for(var p=l.length-1;p>=0;p--)(h=l[p])&&(s=(o<3?h(s):o>3?h(t,e,s):h(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},gS=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return fS(t,l),t.prototype.ensureRowHeightsValid=function(e,r,o,s){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,w.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){!this.viewportDatasource||(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var r=this.gridOptionsWrapper.getViewportRowModelBufferSize(),o=this.gridOptionsWrapper.getViewportRowModelPageSize(),s=e-r;return s<0?0:Math.floor(s/o)*o},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var r=this.gridOptionsWrapper.getViewportRowModelBufferSize(),o=this.gridOptionsWrapper.getViewportRowModelPageSize(),h=Math.ceil((e+r)/o)*o;return Math.min(h,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var r=this.calculateFirstRow(e.firstRow),o=this.calculateLastRow(e.lastRow);(this.firstRow!==r||this.lastRow!==o)&&(this.firstRow=r,this.lastRow=o,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(r){var o=parseInt(r,10);(o<e.firstRow||o>e.lastRow)&&delete e.rowNodesByIndex[o]})},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return w.gTE.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(o){o.id===e&&(r=o)}),r},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,r){var o=w._.missing(e)?0:e.rowIndex,s=r.rowIndex;if(o<this.firstRow||o>this.lastRow||s<this.firstRow||s>this.lastRow)return[];for(var y=[],E=o<=s?s:o,T=o<=s?o:s;T<=E;T++)y.push(this.rowNodesByIndex[T]);return y},t.prototype.forEachNode=function(e){var r=this,o=0;Object.keys(this.rowNodesByIndex).forEach(function(s){var h=parseInt(s,10);e(r.rowNodesByIndex[h],o),o++})},t.prototype.setRowData=function(e){var r=this;w._.iterateObject(e,function(o,s){var h=parseInt(o,10);if(h>=r.firstRow&&h<=r.lastRow){var p=r.rowNodesByIndex[h];w._.missing(p)&&(p=r.createBlankRowNode(h),r.rowNodesByIndex[h]=p),p.setDataAndId(s,h.toString())}})},t.prototype.createBlankRowNode=function(e){var r=new w.Fxk(this.beans);return r.setRowHeight(this.rowHeight),r.setRowTop(this.rowHeight*e),r.setRowIndex(e),r},t.prototype.setRowCount=function(e,r){void 0===r&&(r=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:w.zW2.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:r,animate:!1}))},t.prototype.isRowPresent=function(e){return!1},_4([(0,w.fsG)("gridApi")],t.prototype,"gridApi",void 0),_4([(0,w.fsG)("columnApi")],t.prototype,"columnApi",void 0),_4([(0,w.fsG)("rowRenderer")],t.prototype,"rowRenderer",void 0),_4([(0,w.fsG)("beans")],t.prototype,"beans",void 0),_4([w.NqP],t.prototype,"init",null),_4([w.FXL],t.prototype,"destroyDatasource",null),_4([(0,w.Vu6)("rowModel")],t)}(w.AS9),vS={moduleName:w.GXE.ViewportRowModelModule,rowModels:{viewport:gS},dependantModules:[Et]};at.setLicenseKey("_MjU1NTk0NjAwMDAwMA==3d4e805d480235845d58b32b2dae76d0"),w.O3h.registerModules([Rv,Uh,Iw,vn,x5,Q9,Ks,pu,Fa,fl,R3,kh,O1,ow,uw,Uw,Xw,su,pS,vS],!0),(0,G.G48)(),M.q6().bootstrapModule(gt,{}).catch(l=>console.error(l))},9868:(An,Dt,H)=>{function M(G){var B=new Date(Date.UTC(G.getFullYear(),G.getMonth(),G.getDate(),G.getHours(),G.getMinutes(),G.getSeconds(),G.getMilliseconds()));return B.setUTCFullYear(G.getFullYear()),G.getTime()-B.getTime()}H.d(Dt,{Z:()=>M})},833:(An,Dt,H)=>{function M(G,B){if(B.length<G)throw new TypeError(G+" argument"+(G>1?"s":"")+" required, but only "+B.length+" present")}H.d(Dt,{Z:()=>M})},1998:(An,Dt,H)=>{function M(G){if(null===G||!0===G||!1===G)return NaN;var B=Number(G);return isNaN(B)?B:B<0?Math.ceil(B):Math.floor(B)}H.d(Dt,{Z:()=>M})},900:(An,Dt,H)=>{H.d(Dt,{Z:()=>Le});var M=H(833);function G(Ne){return(0,M.Z)(1,arguments),Ne instanceof Date||"object"==typeof Ne&&"[object Date]"===Object.prototype.toString.call(Ne)}var B=H(953);function Le(Ne){if((0,M.Z)(1,arguments),!G(Ne)&&"number"!=typeof Ne)return!1;var Ue=(0,B.Z)(Ne);return!isNaN(Number(Ue))}},895:(An,Dt,H)=>{H.d(Dt,{Z:()=>Le});var M=H(953),G=H(1998),B=H(833);function Le(Ne,Ue){(0,B.Z)(1,arguments);var Ze=Ue||{},nt=Ze.locale,Je=nt&&nt.options&&nt.options.weekStartsOn,Fe=null==Je?0:(0,G.Z)(Je),we=null==Ze.weekStartsOn?Fe:(0,G.Z)(Ze.weekStartsOn);if(!(we>=0&&we<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Ae=(0,M.Z)(Ne),ot=Ae.getDay(),lt=(ot<we?7:0)+ot-we;return Ae.setDate(Ae.getDate()-lt),Ae.setHours(0,0,0,0),Ae}},953:(An,Dt,H)=>{H.d(Dt,{Z:()=>G});var M=H(833);function G(B){(0,M.Z)(1,arguments);var Le=Object.prototype.toString.call(B);return B instanceof Date||"object"==typeof B&&"[object Date]"===Le?new Date(B.getTime()):"number"==typeof B||"[object Number]"===Le?new Date(B):(("string"==typeof B||"[object String]"===Le)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},1135:(An,Dt,H)=>{H.d(Dt,{X:()=>G});var M=H(7579);class G extends M.x{constructor(Le){super(),this._value=Le}get value(){return this.getValue()}_subscribe(Le){const Ne=super._subscribe(Le);return!Ne.closed&&Le.next(this._value),Ne}getValue(){const{hasError:Le,thrownError:Ne,_value:Ue}=this;if(Le)throw Ne;return this._throwIfClosed(),Ue}next(Le){super.next(this._value=Le)}}},8306:(An,Dt,H)=>{H.d(Dt,{y:()=>Fe});var M=H(930),G=H(727),B=H(8822),Le=H(4671);var Ze=H(2416),nt=H(576),Je=H(2806);let Fe=(()=>{class lt{constructor(zt){zt&&(this._subscribe=zt)}lift(zt){const gt=new lt;return gt.source=this,gt.operator=zt,gt}subscribe(zt,gt,fn){const w=function ot(lt){return lt&&lt instanceof M.Lv||function Ae(lt){return lt&&(0,nt.m)(lt.next)&&(0,nt.m)(lt.error)&&(0,nt.m)(lt.complete)}(lt)&&(0,G.Nn)(lt)}(zt)?zt:new M.Hp(zt,gt,fn);return(0,Je.x)(()=>{const{operator:Vn,source:Yt}=this;w.add(Vn?Vn.call(w,Yt):Yt?this._subscribe(w):this._trySubscribe(w))}),w}_trySubscribe(zt){try{return this._subscribe(zt)}catch(gt){zt.error(gt)}}forEach(zt,gt){return new(gt=we(gt))((fn,w)=>{const Vn=new M.Hp({next:Yt=>{try{zt(Yt)}catch(ue){w(ue),Vn.unsubscribe()}},error:w,complete:fn});this.subscribe(Vn)})}_subscribe(zt){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(zt)}[B.L](){return this}pipe(...zt){return function Ue(lt){return 0===lt.length?Le.y:1===lt.length?lt[0]:function(zt){return lt.reduce((gt,fn)=>fn(gt),zt)}}(zt)(this)}toPromise(zt){return new(zt=we(zt))((gt,fn)=>{let w;this.subscribe(Vn=>w=Vn,Vn=>fn(Vn),()=>gt(w))})}}return lt.create=mt=>new lt(mt),lt})();function we(lt){var mt;return null!==(mt=null!=lt?lt:Ze.v.Promise)&&void 0!==mt?mt:Promise}},7579:(An,Dt,H)=>{H.d(Dt,{x:()=>Ze});var M=H(8306),G=H(727);const Le=(0,H(3888).d)(Je=>function(){Je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=H(8737),Ue=H(2806);let Ze=(()=>{class Je extends M.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(we){const Ae=new nt(this,this);return Ae.operator=we,Ae}_throwIfClosed(){if(this.closed)throw new Le}next(we){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(we)}})}error(we){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=we;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(we)}})}complete(){(0,Ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:we}=this;for(;we.length;)we.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var we;return(null===(we=this.observers)||void 0===we?void 0:we.length)>0}_trySubscribe(we){return this._throwIfClosed(),super._trySubscribe(we)}_subscribe(we){return this._throwIfClosed(),this._checkFinalizedStatuses(we),this._innerSubscribe(we)}_innerSubscribe(we){const{hasError:Ae,isStopped:ot,observers:lt}=this;return Ae||ot?G.Lc:(this.currentObservers=null,lt.push(we),new G.w0(()=>{this.currentObservers=null,(0,Ne.P)(lt,we)}))}_checkFinalizedStatuses(we){const{hasError:Ae,thrownError:ot,isStopped:lt}=this;Ae?we.error(ot):lt&&we.complete()}asObservable(){const we=new M.y;return we.source=this,we}}return Je.create=(Fe,we)=>new nt(Fe,we),Je})();class nt extends Ze{constructor(Fe,we){super(),this.destination=Fe,this.source=we}next(Fe){var we,Ae;null===(Ae=null===(we=this.destination)||void 0===we?void 0:we.next)||void 0===Ae||Ae.call(we,Fe)}error(Fe){var we,Ae;null===(Ae=null===(we=this.destination)||void 0===we?void 0:we.error)||void 0===Ae||Ae.call(we,Fe)}complete(){var Fe,we;null===(we=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.complete)||void 0===we||we.call(Fe)}_subscribe(Fe){var we,Ae;return null!==(Ae=null===(we=this.source)||void 0===we?void 0:we.subscribe(Fe))&&void 0!==Ae?Ae:G.Lc}}},930:(An,Dt,H)=>{H.d(Dt,{Hp:()=>zt,Lv:()=>Ae});var M=H(576),G=H(727),B=H(2416),Le=H(7849),Ne=H(5032);const Ue=Je("C",void 0,void 0);function Je(Yt,ue,at){return{kind:Yt,value:ue,error:at}}var Fe=H(3410),we=H(2806);class Ae extends G.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,G.Nn)(ue)&&ue.add(this)):this.destination=Vn}static create(ue,at,De){return new zt(ue,at,De)}next(ue){this.isStopped?w(function nt(Yt){return Je("N",Yt,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?w(function Ze(Yt){return Je("E",void 0,Yt)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?w(Ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function lt(Yt,ue){return ot.call(Yt,ue)}class mt{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:at}=this;if(at.next)try{at.next(ue)}catch(De){gt(De)}}error(ue){const{partialObserver:at}=this;if(at.error)try{at.error(ue)}catch(De){gt(De)}else gt(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(at){gt(at)}}}class zt extends Ae{constructor(ue,at,De){let Qe;if(super(),(0,M.m)(ue)||!ue)Qe={next:null!=ue?ue:void 0,error:null!=at?at:void 0,complete:null!=De?De:void 0};else{let Ct;this&&B.v.useDeprecatedNextContext?(Ct=Object.create(ue),Ct.unsubscribe=()=>this.unsubscribe(),Qe={next:ue.next&&lt(ue.next,Ct),error:ue.error&&lt(ue.error,Ct),complete:ue.complete&&lt(ue.complete,Ct)}):Qe=ue}this.destination=new mt(Qe)}}function gt(Yt){B.v.useDeprecatedSynchronousErrorHandling?(0,we.O)(Yt):(0,Le.h)(Yt)}function w(Yt,ue){const{onStoppedNotification:at}=B.v;at&&Fe.z.setTimeout(()=>at(Yt,ue))}const Vn={closed:!0,next:Ne.Z,error:function fn(Yt){throw Yt},complete:Ne.Z}},727:(An,Dt,H)=>{H.d(Dt,{Lc:()=>Ue,w0:()=>Ne,Nn:()=>Ze});var M=H(576);const B=(0,H(3888).d)(Je=>function(we){Je(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((Ae,ot)=>`${ot+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we});var Le=H(8737);class Ne{constructor(Fe){this.initialTeardown=Fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Fe;if(!this.closed){this.closed=!0;const{_parentage:we}=this;if(we)if(this._parentage=null,Array.isArray(we))for(const lt of we)lt.remove(this);else we.remove(this);const{initialTeardown:Ae}=this;if((0,M.m)(Ae))try{Ae()}catch(lt){Fe=lt instanceof B?lt.errors:[lt]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const lt of ot)try{nt(lt)}catch(mt){Fe=null!=Fe?Fe:[],mt instanceof B?Fe=[...Fe,...mt.errors]:Fe.push(mt)}}if(Fe)throw new B(Fe)}}add(Fe){var we;if(Fe&&Fe!==this)if(this.closed)nt(Fe);else{if(Fe instanceof Ne){if(Fe.closed||Fe._hasParent(this))return;Fe._addParent(this)}(this._finalizers=null!==(we=this._finalizers)&&void 0!==we?we:[]).push(Fe)}}_hasParent(Fe){const{_parentage:we}=this;return we===Fe||Array.isArray(we)&&we.includes(Fe)}_addParent(Fe){const{_parentage:we}=this;this._parentage=Array.isArray(we)?(we.push(Fe),we):we?[we,Fe]:Fe}_removeParent(Fe){const{_parentage:we}=this;we===Fe?this._parentage=null:Array.isArray(we)&&(0,Le.P)(we,Fe)}remove(Fe){const{_finalizers:we}=this;we&&(0,Le.P)(we,Fe),Fe instanceof Ne&&Fe._removeParent(this)}}Ne.EMPTY=(()=>{const Je=new Ne;return Je.closed=!0,Je})();const Ue=Ne.EMPTY;function Ze(Je){return Je instanceof Ne||Je&&"closed"in Je&&(0,M.m)(Je.remove)&&(0,M.m)(Je.add)&&(0,M.m)(Je.unsubscribe)}function nt(Je){(0,M.m)(Je)?Je():Je.unsubscribe()}},2416:(An,Dt,H)=>{H.d(Dt,{v:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(An,Dt,H)=>{H.d(Dt,{a:()=>Fe});var M=H(8306),G=H(4742),B=H(188),Le=H(4671),Ne=H(3268),Ue=H(3269),Ze=H(1810),nt=H(5403),Je=H(9672);function Fe(...ot){const lt=(0,Ue.yG)(ot),mt=(0,Ue.jO)(ot),{args:zt,keys:gt}=(0,G.D)(ot);if(0===zt.length)return(0,B.D)([],lt);const fn=new M.y(function we(ot,lt,mt=Le.y){return zt=>{Ae(lt,()=>{const{length:gt}=ot,fn=new Array(gt);let w=gt,Vn=gt;for(let Yt=0;Yt<gt;Yt++)Ae(lt,()=>{const ue=(0,B.D)(ot[Yt],lt);let at=!1;ue.subscribe((0,nt.x)(zt,De=>{fn[Yt]=De,at||(at=!0,Vn--),Vn||zt.next(mt(fn.slice()))},()=>{--w||zt.complete()}))},zt)},zt)}}(zt,lt,gt?w=>(0,Ze.n)(gt,w):Le.y));return mt?fn.pipe((0,Ne.Z)(mt)):fn}function Ae(ot,lt,mt){ot?(0,Je.f)(mt,ot,lt):lt()}},7272:(An,Dt,H)=>{H.d(Dt,{z:()=>Ne});var M=H(8189),B=H(3269),Le=H(188);function Ne(...Ue){return function G(){return(0,M.J)(1)}()((0,Le.D)(Ue,(0,B.yG)(Ue)))}},9770:(An,Dt,H)=>{H.d(Dt,{P:()=>B});var M=H(8306),G=H(8421);function B(Le){return new M.y(Ne=>{(0,G.Xf)(Le()).subscribe(Ne)})}},515:(An,Dt,H)=>{H.d(Dt,{E:()=>G});const G=new(H(8306).y)(Ne=>Ne.complete())},188:(An,Dt,H)=>{H.d(Dt,{D:()=>B});var M=H(9975),G=H(8421);function B(Le,Ne){return Ne?(0,M.x)(Le,Ne):(0,G.Xf)(Le)}},4968:(An,Dt,H)=>{H.d(Dt,{R:()=>Fe});var M=H(8421),G=H(8306),B=H(5577),Le=H(1144),Ne=H(576),Ue=H(3268);const Ze=["addListener","removeListener"],nt=["addEventListener","removeEventListener"],Je=["on","off"];function Fe(mt,zt,gt,fn){if((0,Ne.m)(gt)&&(fn=gt,gt=void 0),fn)return Fe(mt,zt,gt).pipe((0,Ue.Z)(fn));const[w,Vn]=function lt(mt){return(0,Ne.m)(mt.addEventListener)&&(0,Ne.m)(mt.removeEventListener)}(mt)?nt.map(Yt=>ue=>mt[Yt](zt,ue,gt)):function Ae(mt){return(0,Ne.m)(mt.addListener)&&(0,Ne.m)(mt.removeListener)}(mt)?Ze.map(we(mt,zt)):function ot(mt){return(0,Ne.m)(mt.on)&&(0,Ne.m)(mt.off)}(mt)?Je.map(we(mt,zt)):[];if(!w&&(0,Le.z)(mt))return(0,B.z)(Yt=>Fe(Yt,zt,gt))((0,M.Xf)(mt));if(!w)throw new TypeError("Invalid event target");return new G.y(Yt=>{const ue=(...at)=>Yt.next(1<at.length?at:at[0]);return w(ue),()=>Vn(ue)})}function we(mt,zt){return gt=>fn=>mt[gt](zt,fn)}},8421:(An,Dt,H)=>{H.d(Dt,{Xf:()=>ot});var M=H(655),G=H(1144),B=H(8239),Le=H(8306),Ne=H(3670),Ue=H(2206),Ze=H(4532),nt=H(6495),Je=H(3260),Fe=H(576),we=H(7849),Ae=H(8822);function ot(Yt){if(Yt instanceof Le.y)return Yt;if(null!=Yt){if((0,Ne.c)(Yt))return function lt(Yt){return new Le.y(ue=>{const at=Yt[Ae.L]();if((0,Fe.m)(at.subscribe))return at.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Yt);if((0,G.z)(Yt))return function mt(Yt){return new Le.y(ue=>{for(let at=0;at<Yt.length&&!ue.closed;at++)ue.next(Yt[at]);ue.complete()})}(Yt);if((0,B.t)(Yt))return function zt(Yt){return new Le.y(ue=>{Yt.then(at=>{ue.closed||(ue.next(at),ue.complete())},at=>ue.error(at)).then(null,we.h)})}(Yt);if((0,Ue.D)(Yt))return fn(Yt);if((0,nt.T)(Yt))return function gt(Yt){return new Le.y(ue=>{for(const at of Yt)if(ue.next(at),ue.closed)return;ue.complete()})}(Yt);if((0,Je.L)(Yt))return function w(Yt){return fn((0,Je.Q)(Yt))}(Yt)}throw(0,Ze.z)(Yt)}function fn(Yt){return new Le.y(ue=>{(function Vn(Yt,ue){var at,De,Qe,Ct;return(0,M.mG)(this,void 0,void 0,function*(){try{for(at=(0,M.KL)(Yt);!(De=yield at.next()).done;)if(ue.next(De.value),ue.closed)return}catch(je){Qe={error:je}}finally{try{De&&!De.done&&(Ct=at.return)&&(yield Ct.call(at))}finally{if(Qe)throw Qe.error}}ue.complete()})})(Yt,ue).catch(at=>ue.error(at))})}},6451:(An,Dt,H)=>{H.d(Dt,{T:()=>Ue});var M=H(8189),G=H(8421),B=H(515),Le=H(3269),Ne=H(188);function Ue(...Ze){const nt=(0,Le.yG)(Ze),Je=(0,Le._6)(Ze,1/0),Fe=Ze;return Fe.length?1===Fe.length?(0,G.Xf)(Fe[0]):(0,M.J)(Je)((0,Ne.D)(Fe,nt)):B.E}},9646:(An,Dt,H)=>{H.d(Dt,{of:()=>B});var M=H(3269),G=H(188);function B(...Le){const Ne=(0,M.yG)(Le);return(0,G.D)(Le,Ne)}},2843:(An,Dt,H)=>{H.d(Dt,{_:()=>B});var M=H(8306),G=H(576);function B(Le,Ne){const Ue=(0,G.m)(Le)?Le:()=>Le,Ze=nt=>nt.error(Ue());return new M.y(Ne?nt=>Ne.schedule(Ze,0,nt):Ze)}},5963:(An,Dt,H)=>{H.d(Dt,{H:()=>Ne});var M=H(8306),G=H(4986),B=H(3532);function Ne(Ue=0,Ze,nt=G.P){let Je=-1;return null!=Ze&&((0,B.K)(Ze)?nt=Ze:Je=Ze),new M.y(Fe=>{let we=function Le(Ue){return Ue instanceof Date&&!isNaN(Ue)}(Ue)?+Ue-nt.now():Ue;we<0&&(we=0);let Ae=0;return nt.schedule(function(){Fe.closed||(Fe.next(Ae++),0<=Je?this.schedule(void 0,Je):Fe.complete())},we)})}},5403:(An,Dt,H)=>{H.d(Dt,{x:()=>G});var M=H(930);function G(Le,Ne,Ue,Ze,nt){return new B(Le,Ne,Ue,Ze,nt)}class B extends M.Lv{constructor(Ne,Ue,Ze,nt,Je,Fe){super(Ne),this.onFinalize=Je,this.shouldUnsubscribe=Fe,this._next=Ue?function(we){try{Ue(we)}catch(Ae){Ne.error(Ae)}}:super._next,this._error=nt?function(we){try{nt(we)}catch(Ae){Ne.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=Ze?function(){try{Ze()}catch(we){Ne.error(we)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ue}=this;super.unsubscribe(),!Ue&&(null===(Ne=this.onFinalize)||void 0===Ne||Ne.call(this))}}}},3601:(An,Dt,H)=>{H.d(Dt,{e:()=>Ze});var M=H(4986),G=H(4482),B=H(8421),Le=H(5403),Ue=H(5963);function Ze(nt,Je=M.z){return function Ne(nt){return(0,G.e)((Je,Fe)=>{let we=!1,Ae=null,ot=null,lt=!1;const mt=()=>{if(null==ot||ot.unsubscribe(),ot=null,we){we=!1;const gt=Ae;Ae=null,Fe.next(gt)}lt&&Fe.complete()},zt=()=>{ot=null,lt&&Fe.complete()};Je.subscribe((0,Le.x)(Fe,gt=>{we=!0,Ae=gt,ot||(0,B.Xf)(nt(gt)).subscribe(ot=(0,Le.x)(Fe,mt,zt))},()=>{lt=!0,(!we||!ot||ot.closed)&&Fe.complete()}))})}(()=>(0,Ue.H)(nt,Je))}},262:(An,Dt,H)=>{H.d(Dt,{K:()=>Le});var M=H(8421),G=H(5403),B=H(4482);function Le(Ne){return(0,B.e)((Ue,Ze)=>{let Fe,nt=null,Je=!1;nt=Ue.subscribe((0,G.x)(Ze,void 0,void 0,we=>{Fe=(0,M.Xf)(Ne(we,Le(Ne)(Ue))),nt?(nt.unsubscribe(),nt=null,Fe.subscribe(Ze)):Je=!0})),Je&&(nt.unsubscribe(),nt=null,Fe.subscribe(Ze))})}},4351:(An,Dt,H)=>{H.d(Dt,{b:()=>B});var M=H(5577),G=H(576);function B(Le,Ne){return(0,G.m)(Ne)?(0,M.z)(Le,Ne,1):(0,M.z)(Le,1)}},1884:(An,Dt,H)=>{H.d(Dt,{x:()=>Le});var M=H(4671),G=H(4482),B=H(5403);function Le(Ue,Ze=M.y){return Ue=null!=Ue?Ue:Ne,(0,G.e)((nt,Je)=>{let Fe,we=!0;nt.subscribe((0,B.x)(Je,Ae=>{const ot=Ze(Ae);(we||!Ue(Fe,ot))&&(we=!1,Fe=ot,Je.next(Ae))}))})}function Ne(Ue,Ze){return Ue===Ze}},9300:(An,Dt,H)=>{H.d(Dt,{h:()=>B});var M=H(4482),G=H(5403);function B(Le,Ne){return(0,M.e)((Ue,Ze)=>{let nt=0;Ue.subscribe((0,G.x)(Ze,Je=>Le.call(Ne,Je,nt++)&&Ze.next(Je)))})}},8746:(An,Dt,H)=>{H.d(Dt,{x:()=>G});var M=H(4482);function G(B){return(0,M.e)((Le,Ne)=>{try{Le.subscribe(Ne)}finally{Ne.add(B)}})}},4004:(An,Dt,H)=>{H.d(Dt,{U:()=>B});var M=H(4482),G=H(5403);function B(Le,Ne){return(0,M.e)((Ue,Ze)=>{let nt=0;Ue.subscribe((0,G.x)(Ze,Je=>{Ze.next(Le.call(Ne,Je,nt++))}))})}},9718:(An,Dt,H)=>{H.d(Dt,{h:()=>G});var M=H(4004);function G(B){return(0,M.U)(()=>B)}},8189:(An,Dt,H)=>{H.d(Dt,{J:()=>B});var M=H(5577),G=H(4671);function B(Le=1/0){return(0,M.z)(G.y,Le)}},5577:(An,Dt,H)=>{H.d(Dt,{z:()=>nt});var M=H(4004),G=H(8421),B=H(4482),Le=H(9672),Ne=H(5403),Ze=H(576);function nt(Je,Fe,we=1/0){return(0,Ze.m)(Fe)?nt((Ae,ot)=>(0,M.U)((lt,mt)=>Fe(Ae,lt,ot,mt))((0,G.Xf)(Je(Ae,ot))),we):("number"==typeof Fe&&(we=Fe),(0,B.e)((Ae,ot)=>function Ue(Je,Fe,we,Ae,ot,lt,mt,zt){const gt=[];let fn=0,w=0,Vn=!1;const Yt=()=>{Vn&&!gt.length&&!fn&&Fe.complete()},ue=De=>fn<Ae?at(De):gt.push(De),at=De=>{lt&&Fe.next(De),fn++;let Qe=!1;(0,G.Xf)(we(De,w++)).subscribe((0,Ne.x)(Fe,Ct=>{null==ot||ot(Ct),lt?ue(Ct):Fe.next(Ct)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(fn--;gt.length&&fn<Ae;){const Ct=gt.shift();mt?(0,Le.f)(Fe,mt,()=>at(Ct)):at(Ct)}Yt()}catch(Ct){Fe.error(Ct)}}))};return Je.subscribe((0,Ne.x)(Fe,ue,()=>{Vn=!0,Yt()})),()=>{null==zt||zt()}}(Ae,ot,Je,we)))}},3099:(An,Dt,H)=>{H.d(Dt,{B:()=>Ue});var M=H(188),G=H(5698),B=H(7579),Le=H(930),Ne=H(4482);function Ue(nt={}){const{connector:Je=(()=>new B.x),resetOnError:Fe=!0,resetOnComplete:we=!0,resetOnRefCountZero:Ae=!0}=nt;return ot=>{let lt=null,mt=null,zt=null,gt=0,fn=!1,w=!1;const Vn=()=>{null==mt||mt.unsubscribe(),mt=null},Yt=()=>{Vn(),lt=zt=null,fn=w=!1},ue=()=>{const at=lt;Yt(),null==at||at.unsubscribe()};return(0,Ne.e)((at,De)=>{gt++,!w&&!fn&&Vn();const Qe=zt=null!=zt?zt:Je();De.add(()=>{gt--,0===gt&&!w&&!fn&&(mt=Ze(ue,Ae))}),Qe.subscribe(De),lt||(lt=new Le.Hp({next:Ct=>Qe.next(Ct),error:Ct=>{w=!0,Vn(),mt=Ze(Yt,Fe,Ct),Qe.error(Ct)},complete:()=>{fn=!0,Vn(),mt=Ze(Yt,we),Qe.complete()}}),(0,M.D)(at).subscribe(lt))})(ot)}}function Ze(nt,Je,...Fe){return!0===Je?(nt(),null):!1===Je?null:Je(...Fe).pipe((0,G.q)(1)).subscribe(()=>nt())}},8675:(An,Dt,H)=>{H.d(Dt,{O:()=>Le});var M=H(7272),G=H(3269),B=H(4482);function Le(...Ne){const Ue=(0,G.yG)(Ne);return(0,B.e)((Ze,nt)=>{(Ue?(0,M.z)(Ne,Ze,Ue):(0,M.z)(Ne,Ze)).subscribe(nt)})}},3900:(An,Dt,H)=>{H.d(Dt,{w:()=>Le});var M=H(8421),G=H(4482),B=H(5403);function Le(Ne,Ue){return(0,G.e)((Ze,nt)=>{let Je=null,Fe=0,we=!1;const Ae=()=>we&&!Je&&nt.complete();Ze.subscribe((0,B.x)(nt,ot=>{null==Je||Je.unsubscribe();let lt=0;const mt=Fe++;(0,M.Xf)(Ne(ot,mt)).subscribe(Je=(0,B.x)(nt,zt=>nt.next(Ue?Ue(ot,zt,mt,lt++):zt),()=>{Je=null,Ae()}))},()=>{we=!0,Ae()}))})}},5698:(An,Dt,H)=>{H.d(Dt,{q:()=>Le});var M=H(515),G=H(4482),B=H(5403);function Le(Ne){return Ne<=0?()=>M.E:(0,G.e)((Ue,Ze)=>{let nt=0;Ue.subscribe((0,B.x)(Ze,Je=>{++nt<=Ne&&(Ze.next(Je),Ne<=nt&&Ze.complete())}))})}},2722:(An,Dt,H)=>{H.d(Dt,{R:()=>Ne});var M=H(4482),G=H(5403),B=H(8421),Le=H(5032);function Ne(Ue){return(0,M.e)((Ze,nt)=>{(0,B.Xf)(Ue).subscribe((0,G.x)(nt,()=>nt.complete(),Le.Z)),!nt.closed&&Ze.subscribe(nt)})}},8505:(An,Dt,H)=>{H.d(Dt,{b:()=>Ne});var M=H(576),G=H(4482),B=H(5403),Le=H(4671);function Ne(Ue,Ze,nt){const Je=(0,M.m)(Ue)||Ze||nt?{next:Ue,error:Ze,complete:nt}:Ue;return Je?(0,G.e)((Fe,we)=>{var Ae;null===(Ae=Je.subscribe)||void 0===Ae||Ae.call(Je);let ot=!0;Fe.subscribe((0,B.x)(we,lt=>{var mt;null===(mt=Je.next)||void 0===mt||mt.call(Je,lt),we.next(lt)},()=>{var lt;ot=!1,null===(lt=Je.complete)||void 0===lt||lt.call(Je),we.complete()},lt=>{var mt;ot=!1,null===(mt=Je.error)||void 0===mt||mt.call(Je,lt),we.error(lt)},()=>{var lt,mt;ot&&(null===(lt=Je.unsubscribe)||void 0===lt||lt.call(Je)),null===(mt=Je.finalize)||void 0===mt||mt.call(Je)}))}):Le.y}},9975:(An,Dt,H)=>{H.d(Dt,{x:()=>at});var M=H(8421),G=H(9672),B=H(4482),Le=H(5403);function Ne(De,Qe=0){return(0,B.e)((Ct,je)=>{Ct.subscribe((0,Le.x)(je,yt=>(0,G.f)(je,De,()=>je.next(yt),Qe),()=>(0,G.f)(je,De,()=>je.complete(),Qe),yt=>(0,G.f)(je,De,()=>je.error(yt),Qe)))})}function Ue(De,Qe=0){return(0,B.e)((Ct,je)=>{je.add(De.schedule(()=>Ct.subscribe(je),Qe))})}var Je=H(8306),we=H(2202),Ae=H(576);function lt(De,Qe){if(!De)throw new Error("Iterable cannot be null");return new Je.y(Ct=>{(0,G.f)(Ct,Qe,()=>{const je=De[Symbol.asyncIterator]();(0,G.f)(Ct,Qe,()=>{je.next().then(yt=>{yt.done?Ct.complete():Ct.next(yt.value)})},0,!0)})})}var mt=H(3670),zt=H(8239),gt=H(1144),fn=H(6495),w=H(2206),Vn=H(4532),Yt=H(3260);function at(De,Qe){if(null!=De){if((0,mt.c)(De))return function Ze(De,Qe){return(0,M.Xf)(De).pipe(Ue(Qe),Ne(Qe))}(De,Qe);if((0,gt.z)(De))return function Fe(De,Qe){return new Je.y(Ct=>{let je=0;return Qe.schedule(function(){je===De.length?Ct.complete():(Ct.next(De[je++]),Ct.closed||this.schedule())})})}(De,Qe);if((0,zt.t)(De))return function nt(De,Qe){return(0,M.Xf)(De).pipe(Ue(Qe),Ne(Qe))}(De,Qe);if((0,w.D)(De))return lt(De,Qe);if((0,fn.T)(De))return function ot(De,Qe){return new Je.y(Ct=>{let je;return(0,G.f)(Ct,Qe,()=>{je=De[we.h](),(0,G.f)(Ct,Qe,()=>{let yt,It;try{({value:yt,done:It}=je.next())}catch(Et){return void Ct.error(Et)}It?Ct.complete():Ct.next(yt)},0,!0)}),()=>(0,Ae.m)(null==je?void 0:je.return)&&je.return()})}(De,Qe);if((0,Yt.L)(De))return function ue(De,Qe){return lt((0,Yt.Q)(De),Qe)}(De,Qe)}throw(0,Vn.z)(De)}},4408:(An,Dt,H)=>{H.d(Dt,{o:()=>Ne});var M=H(727);class G extends M.w0{constructor(Ze,nt){super()}schedule(Ze,nt=0){return this}}const B={setInterval(Ue,Ze,...nt){const{delegate:Je}=B;return(null==Je?void 0:Je.setInterval)?Je.setInterval(Ue,Ze,...nt):setInterval(Ue,Ze,...nt)},clearInterval(Ue){const{delegate:Ze}=B;return((null==Ze?void 0:Ze.clearInterval)||clearInterval)(Ue)},delegate:void 0};var Le=H(8737);class Ne extends G{constructor(Ze,nt){super(Ze,nt),this.scheduler=Ze,this.work=nt,this.pending=!1}schedule(Ze,nt=0){if(this.closed)return this;this.state=Ze;const Je=this.id,Fe=this.scheduler;return null!=Je&&(this.id=this.recycleAsyncId(Fe,Je,nt)),this.pending=!0,this.delay=nt,this.id=this.id||this.requestAsyncId(Fe,this.id,nt),this}requestAsyncId(Ze,nt,Je=0){return B.setInterval(Ze.flush.bind(Ze,this),Je)}recycleAsyncId(Ze,nt,Je=0){if(null!=Je&&this.delay===Je&&!1===this.pending)return nt;B.clearInterval(nt)}execute(Ze,nt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Je=this._execute(Ze,nt);if(Je)return Je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ze,nt){let Fe,Je=!1;try{this.work(Ze)}catch(we){Je=!0,Fe=we||new Error("Scheduled action threw falsy error")}if(Je)return this.unsubscribe(),Fe}unsubscribe(){if(!this.closed){const{id:Ze,scheduler:nt}=this,{actions:Je}=nt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Le.P)(Je,this),null!=Ze&&(this.id=this.recycleAsyncId(nt,Ze,null)),this.delay=null,super.unsubscribe()}}}},7565:(An,Dt,H)=>{H.d(Dt,{v:()=>B});var M=H(6063);class G{constructor(Ne,Ue=G.now){this.schedulerActionCtor=Ne,this.now=Ue}schedule(Ne,Ue=0,Ze){return new this.schedulerActionCtor(this,Ne).schedule(Ze,Ue)}}G.now=M.l.now;class B extends G{constructor(Ne,Ue=G.now){super(Ne,Ue),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ne){const{actions:Ue}=this;if(this._active)return void Ue.push(Ne);let Ze;this._active=!0;do{if(Ze=Ne.execute(Ne.state,Ne.delay))break}while(Ne=Ue.shift());if(this._active=!1,Ze){for(;Ne=Ue.shift();)Ne.unsubscribe();throw Ze}}}},6406:(An,Dt,H)=>{H.d(Dt,{Z:()=>Ze});var M=H(4408),G=H(727);const B={schedule(Je){let Fe=requestAnimationFrame,we=cancelAnimationFrame;const{delegate:Ae}=B;Ae&&(Fe=Ae.requestAnimationFrame,we=Ae.cancelAnimationFrame);const ot=Fe(lt=>{we=void 0,Je(lt)});return new G.w0(()=>null==we?void 0:we(ot))},requestAnimationFrame(...Je){const{delegate:Fe}=B;return((null==Fe?void 0:Fe.requestAnimationFrame)||requestAnimationFrame)(...Je)},cancelAnimationFrame(...Je){const{delegate:Fe}=B;return((null==Fe?void 0:Fe.cancelAnimationFrame)||cancelAnimationFrame)(...Je)},delegate:void 0};var Ne=H(7565);const Ze=new class Ue extends Ne.v{flush(Fe){this._active=!0;const we=this._scheduled;this._scheduled=void 0;const{actions:Ae}=this;let ot;Fe=Fe||Ae.shift();do{if(ot=Fe.execute(Fe.state,Fe.delay))break}while((Fe=Ae[0])&&Fe.id===we&&Ae.shift());if(this._active=!1,ot){for(;(Fe=Ae[0])&&Fe.id===we&&Ae.shift();)Fe.unsubscribe();throw ot}}}(class Le extends M.o{constructor(Fe,we){super(Fe,we),this.scheduler=Fe,this.work=we}requestAsyncId(Fe,we,Ae=0){return null!==Ae&&Ae>0?super.requestAsyncId(Fe,we,Ae):(Fe.actions.push(this),Fe._scheduled||(Fe._scheduled=B.requestAnimationFrame(()=>Fe.flush(void 0))))}recycleAsyncId(Fe,we,Ae=0){if(null!=Ae&&Ae>0||null==Ae&&this.delay>0)return super.recycleAsyncId(Fe,we,Ae);Fe.actions.some(ot=>ot.id===we)||(B.cancelAnimationFrame(we),Fe._scheduled=void 0)}})},3101:(An,Dt,H)=>{H.d(Dt,{E:()=>lt});var M=H(4408);let B,G=1;const Le={};function Ne(zt){return zt in Le&&(delete Le[zt],!0)}const Ue={setImmediate(zt){const gt=G++;return Le[gt]=!0,B||(B=Promise.resolve()),B.then(()=>Ne(gt)&&zt()),gt},clearImmediate(zt){Ne(zt)}},{setImmediate:nt,clearImmediate:Je}=Ue,Fe={setImmediate(...zt){const{delegate:gt}=Fe;return((null==gt?void 0:gt.setImmediate)||nt)(...zt)},clearImmediate(zt){const{delegate:gt}=Fe;return((null==gt?void 0:gt.clearImmediate)||Je)(zt)},delegate:void 0};var Ae=H(7565);const lt=new class ot extends Ae.v{flush(gt){this._active=!0;const fn=this._scheduled;this._scheduled=void 0;const{actions:w}=this;let Vn;gt=gt||w.shift();do{if(Vn=gt.execute(gt.state,gt.delay))break}while((gt=w[0])&&gt.id===fn&&w.shift());if(this._active=!1,Vn){for(;(gt=w[0])&&gt.id===fn&&w.shift();)gt.unsubscribe();throw Vn}}}(class we extends M.o{constructor(gt,fn){super(gt,fn),this.scheduler=gt,this.work=fn}requestAsyncId(gt,fn,w=0){return null!==w&&w>0?super.requestAsyncId(gt,fn,w):(gt.actions.push(this),gt._scheduled||(gt._scheduled=Fe.setImmediate(gt.flush.bind(gt,void 0))))}recycleAsyncId(gt,fn,w=0){if(null!=w&&w>0||null==w&&this.delay>0)return super.recycleAsyncId(gt,fn,w);gt.actions.some(Vn=>Vn.id===fn)||(Fe.clearImmediate(fn),gt._scheduled=void 0)}})},4986:(An,Dt,H)=>{H.d(Dt,{P:()=>Le,z:()=>B});var M=H(4408);const B=new(H(7565).v)(M.o),Le=B},6063:(An,Dt,H)=>{H.d(Dt,{l:()=>M});const M={now:()=>(M.delegate||Date).now(),delegate:void 0}},3410:(An,Dt,H)=>{H.d(Dt,{z:()=>M});const M={setTimeout(G,B,...Le){const{delegate:Ne}=M;return(null==Ne?void 0:Ne.setTimeout)?Ne.setTimeout(G,B,...Le):setTimeout(G,B,...Le)},clearTimeout(G){const{delegate:B}=M;return((null==B?void 0:B.clearTimeout)||clearTimeout)(G)},delegate:void 0}},2202:(An,Dt,H)=>{H.d(Dt,{h:()=>G});const G=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(An,Dt,H)=>{H.d(Dt,{L:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(An,Dt,H)=>{H.d(Dt,{_6:()=>Ue,jO:()=>Le,yG:()=>Ne});var M=H(576),G=H(3532);function B(Ze){return Ze[Ze.length-1]}function Le(Ze){return(0,M.m)(B(Ze))?Ze.pop():void 0}function Ne(Ze){return(0,G.K)(B(Ze))?Ze.pop():void 0}function Ue(Ze,nt){return"number"==typeof B(Ze)?Ze.pop():nt}},4742:(An,Dt,H)=>{H.d(Dt,{D:()=>Ne});const{isArray:M}=Array,{getPrototypeOf:G,prototype:B,keys:Le}=Object;function Ne(Ze){if(1===Ze.length){const nt=Ze[0];if(M(nt))return{args:nt,keys:null};if(function Ue(Ze){return Ze&&"object"==typeof Ze&&G(Ze)===B}(nt)){const Je=Le(nt);return{args:Je.map(Fe=>nt[Fe]),keys:Je}}}return{args:Ze,keys:null}}},8737:(An,Dt,H)=>{function M(G,B){if(G){const Le=G.indexOf(B);0<=Le&&G.splice(Le,1)}}H.d(Dt,{P:()=>M})},3888:(An,Dt,H)=>{function M(G){const Le=G(Ne=>{Error.call(Ne),Ne.stack=(new Error).stack});return Le.prototype=Object.create(Error.prototype),Le.prototype.constructor=Le,Le}H.d(Dt,{d:()=>M})},1810:(An,Dt,H)=>{function M(G,B){return G.reduce((Le,Ne,Ue)=>(Le[Ne]=B[Ue],Le),{})}H.d(Dt,{n:()=>M})},2806:(An,Dt,H)=>{H.d(Dt,{O:()=>Le,x:()=>B});var M=H(2416);let G=null;function B(Ne){if(M.v.useDeprecatedSynchronousErrorHandling){const Ue=!G;if(Ue&&(G={errorThrown:!1,error:null}),Ne(),Ue){const{errorThrown:Ze,error:nt}=G;if(G=null,Ze)throw nt}}else Ne()}function Le(Ne){M.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=Ne)}},9672:(An,Dt,H)=>{function M(G,B,Le,Ne=0,Ue=!1){const Ze=B.schedule(function(){Le(),Ue?G.add(this.schedule(null,Ne)):this.unsubscribe()},Ne);if(G.add(Ze),!Ue)return Ze}H.d(Dt,{f:()=>M})},4671:(An,Dt,H)=>{function M(G){return G}H.d(Dt,{y:()=>M})},1144:(An,Dt,H)=>{H.d(Dt,{z:()=>M});const M=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(An,Dt,H)=>{H.d(Dt,{D:()=>G});var M=H(576);function G(B){return Symbol.asyncIterator&&(0,M.m)(null==B?void 0:B[Symbol.asyncIterator])}},576:(An,Dt,H)=>{function M(G){return"function"==typeof G}H.d(Dt,{m:()=>M})},3670:(An,Dt,H)=>{H.d(Dt,{c:()=>B});var M=H(8822),G=H(576);function B(Le){return(0,G.m)(Le[M.L])}},6495:(An,Dt,H)=>{H.d(Dt,{T:()=>B});var M=H(2202),G=H(576);function B(Le){return(0,G.m)(null==Le?void 0:Le[M.h])}},8239:(An,Dt,H)=>{H.d(Dt,{t:()=>G});var M=H(576);function G(B){return(0,M.m)(null==B?void 0:B.then)}},3260:(An,Dt,H)=>{H.d(Dt,{L:()=>Le,Q:()=>B});var M=H(655),G=H(576);function B(Ne){return(0,M.FC)(this,arguments,function*(){const Ze=Ne.getReader();try{for(;;){const{value:nt,done:Je}=yield(0,M.qq)(Ze.read());if(Je)return yield(0,M.qq)(void 0);yield yield(0,M.qq)(nt)}}finally{Ze.releaseLock()}})}function Le(Ne){return(0,G.m)(null==Ne?void 0:Ne.getReader)}},3532:(An,Dt,H)=>{H.d(Dt,{K:()=>G});var M=H(576);function G(B){return B&&(0,M.m)(B.schedule)}},4482:(An,Dt,H)=>{H.d(Dt,{A:()=>G,e:()=>B});var M=H(576);function G(Le){return(0,M.m)(null==Le?void 0:Le.lift)}function B(Le){return Ne=>{if(G(Ne))return Ne.lift(function(Ue){try{return Le(Ue,this)}catch(Ze){this.error(Ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(An,Dt,H)=>{H.d(Dt,{Z:()=>Le});var M=H(4004);const{isArray:G}=Array;function Le(Ne){return(0,M.U)(Ue=>function B(Ne,Ue){return G(Ue)?Ne(...Ue):Ne(Ue)}(Ne,Ue))}},5032:(An,Dt,H)=>{function M(){}H.d(Dt,{Z:()=>M})},7849:(An,Dt,H)=>{H.d(Dt,{h:()=>B});var M=H(2416),G=H(3410);function B(Le){G.z.setTimeout(()=>{const{onUnhandledError:Ne}=M.v;if(!Ne)throw Le;Ne(Le)})}},4532:(An,Dt,H)=>{function M(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Dt,{z:()=>M})},655:(An,Dt,H)=>{function Le(je,yt){var It={};for(var Et in je)Object.prototype.hasOwnProperty.call(je,Et)&&yt.indexOf(Et)<0&&(It[Et]=je[Et]);if(null!=je&&"function"==typeof Object.getOwnPropertySymbols){var ln=0;for(Et=Object.getOwnPropertySymbols(je);ln<Et.length;ln++)yt.indexOf(Et[ln])<0&&Object.prototype.propertyIsEnumerable.call(je,Et[ln])&&(It[Et[ln]]=je[Et[ln]])}return It}function Ne(je,yt,It,Et){var Sn,ln=arguments.length,ht=ln<3?yt:null===Et?Et=Object.getOwnPropertyDescriptor(yt,It):Et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ht=Reflect.decorate(je,yt,It,Et);else for(var qe=je.length-1;qe>=0;qe--)(Sn=je[qe])&&(ht=(ln<3?Sn(ht):ln>3?Sn(yt,It,ht):Sn(yt,It))||ht);return ln>3&&ht&&Object.defineProperty(yt,It,ht),ht}function nt(je,yt,It,Et){return new(It||(It=Promise))(function(ht,Sn){function qe(Xt){try{wt(Et.next(Xt))}catch(Kn){Sn(Kn)}}function Zt(Xt){try{wt(Et.throw(Xt))}catch(Kn){Sn(Kn)}}function wt(Xt){Xt.done?ht(Xt.value):function ln(ht){return ht instanceof It?ht:new It(function(Sn){Sn(ht)})}(Xt.value).then(qe,Zt)}wt((Et=Et.apply(je,yt||[])).next())})}function gt(je){return this instanceof gt?(this.v=je,this):new gt(je)}function fn(je,yt,It){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ln,Et=It.apply(je,yt||[]),ht=[];return ln={},Sn("next"),Sn("throw"),Sn("return"),ln[Symbol.asyncIterator]=function(){return this},ln;function Sn(or){Et[or]&&(ln[or]=function(gr){return new Promise(function(_r,mi){ht.push([or,gr,_r,mi])>1||qe(or,gr)})})}function qe(or,gr){try{!function Zt(or){or.value instanceof gt?Promise.resolve(or.value.v).then(wt,Xt):Kn(ht[0][2],or)}(Et[or](gr))}catch(_r){Kn(ht[0][3],_r)}}function wt(or){qe("next",or)}function Xt(or){qe("throw",or)}function Kn(or,gr){or(gr),ht.shift(),ht.length&&qe(ht[0][0],ht[0][1])}}function Vn(je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,yt=je[Symbol.asyncIterator];return yt?yt.call(je):(je=function Ae(je){var yt="function"==typeof Symbol&&Symbol.iterator,It=yt&&je[yt],Et=0;if(It)return It.call(je);if(je&&"number"==typeof je.length)return{next:function(){return je&&Et>=je.length&&(je=void 0),{value:je&&je[Et++],done:!je}}};throw new TypeError(yt?"Object is not iterable.":"Symbol.iterator is not defined.")}(je),It={},Et("next"),Et("throw"),Et("return"),It[Symbol.asyncIterator]=function(){return this},It);function Et(ht){It[ht]=je[ht]&&function(Sn){return new Promise(function(qe,Zt){!function ln(ht,Sn,qe,Zt){Promise.resolve(Zt).then(function(wt){ht({value:wt,done:qe})},Sn)}(qe,Zt,(Sn=je[ht](Sn)).done,Sn.value)})}}}H.d(Dt,{FC:()=>fn,KL:()=>Vn,_T:()=>Le,gn:()=>Ne,mG:()=>nt,qq:()=>gt})},1777:(An,Dt,H)=>{H.d(Dt,{EY:()=>zt,IO:()=>mt,LC:()=>G,SB:()=>Je,X$:()=>Le,ZE:()=>w,ZN:()=>fn,_j:()=>M,eR:()=>we,jt:()=>Ne,k1:()=>Vn,l3:()=>B,oB:()=>nt,vP:()=>Ze});class M{}class G{}const B="*";function Le(Yt,ue){return{type:7,name:Yt,definitions:ue,options:{}}}function Ne(Yt,ue=null){return{type:4,styles:ue,timings:Yt}}function Ze(Yt,ue=null){return{type:2,steps:Yt,options:ue}}function nt(Yt){return{type:6,styles:Yt,offset:null}}function Je(Yt,ue,at){return{type:0,name:Yt,styles:ue,options:at}}function we(Yt,ue,at=null){return{type:1,expr:Yt,animation:ue,options:at}}function mt(Yt,ue,at=null){return{type:11,selector:Yt,animation:ue,options:at}}function zt(Yt,ue){return{type:12,timings:Yt,animation:ue}}function gt(Yt){Promise.resolve(null).then(Yt)}class fn{constructor(ue=0,at=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ue+at}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ue=>ue()),this._onDoneFns=[])}onStart(ue){this._onStartFns.push(ue)}onDone(ue){this._onDoneFns.push(ue)}onDestroy(ue){this._onDestroyFns.push(ue)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ue=>ue()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ue=>ue()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ue){this._position=this.totalTime?ue*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ue){const at="start"==ue?this._onStartFns:this._onDoneFns;at.forEach(De=>De()),at.length=0}}class w{constructor(ue){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ue;let at=0,De=0,Qe=0;const Ct=this.players.length;0==Ct?gt(()=>this._onFinish()):this.players.forEach(je=>{je.onDone(()=>{++at==Ct&&this._onFinish()}),je.onDestroy(()=>{++De==Ct&&this._onDestroy()}),je.onStart(()=>{++Qe==Ct&&this._onStart()})}),this.totalTime=this.players.reduce((je,yt)=>Math.max(je,yt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ue=>ue()),this._onDoneFns=[])}init(){this.players.forEach(ue=>ue.init())}onStart(ue){this._onStartFns.push(ue)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ue=>ue()),this._onStartFns=[])}onDone(ue){this._onDoneFns.push(ue)}onDestroy(ue){this._onDestroyFns.push(ue)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ue=>ue.play())}pause(){this.players.forEach(ue=>ue.pause())}restart(){this.players.forEach(ue=>ue.restart())}finish(){this._onFinish(),this.players.forEach(ue=>ue.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ue=>ue.destroy()),this._onDestroyFns.forEach(ue=>ue()),this._onDestroyFns=[])}reset(){this.players.forEach(ue=>ue.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ue){const at=ue*this.totalTime;this.players.forEach(De=>{const Qe=De.totalTime?Math.min(1,at/De.totalTime):1;De.setPosition(Qe)})}getPosition(){const ue=this.players.reduce((at,De)=>null===at||De.totalTime>at.totalTime?De:at,null);return null!=ue?ue.getPosition():0}beforeDestroy(){this.players.forEach(ue=>{ue.beforeDestroy&&ue.beforeDestroy()})}triggerCallback(ue){const at="start"==ue?this._onStartFns:this._onDoneFns;at.forEach(De=>De()),at.length=0}}const Vn="!"},5911:(An,Dt,H)=>{H.d(Dt,{rt:()=>ce,tE:()=>Nn,qV:()=>Ni});var M=H(9808),G=H(5e3),B=H(925),Le=H(1135),Ne=H(7579),Ue=H(9646),Ze=H(1159),nt=H(9300),Fe=H(5698),we=H(1884),Ae=H(2722),ot=H(3191);let lt=(()=>{class Lt{create(We){return"undefined"==typeof MutationObserver?null:new MutationObserver(We)}}return Lt.\u0275fac=function(We){return new(We||Lt)},Lt.\u0275prov=G.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})(),gt=(()=>{class Lt{}return Lt.\u0275fac=function(We){return new(We||Lt)},Lt.\u0275mod=G.oAB({type:Lt}),Lt.\u0275inj=G.cJS({providers:[lt]}),Lt})(),Sn=(()=>{class Lt{constructor(We){this._platform=We}isDisabled(We){return We.hasAttribute("disabled")}isVisible(We){return function Zt(Lt){return!!(Lt.offsetWidth||Lt.offsetHeight||"function"==typeof Lt.getClientRects&&Lt.getClientRects().length)}(We)&&"visible"===getComputedStyle(We).visibility}isTabbable(We){if(!this._platform.isBrowser)return!1;const kt=function qe(Lt){try{return Lt.frameElement}catch(pt){return null}}(function Gi(Lt){return Lt.ownerDocument&&Lt.ownerDocument.defaultView||window}(We));if(kt&&(-1===mi(kt)||!this.isVisible(kt)))return!1;let Qt=We.nodeName.toLowerCase(),Hn=mi(We);return We.hasAttribute("contenteditable")?-1!==Hn:!("iframe"===Qt||"object"===Qt||this._platform.WEBKIT&&this._platform.IOS&&!function ri(Lt){let pt=Lt.nodeName.toLowerCase(),We="input"===pt&&Lt.type;return"text"===We||"password"===We||"select"===pt||"textarea"===pt}(We))&&("audio"===Qt?!!We.hasAttribute("controls")&&-1!==Hn:"video"===Qt?-1!==Hn&&(null!==Hn||this._platform.FIREFOX||We.hasAttribute("controls")):We.tabIndex>=0)}isFocusable(We,kt){return function Dr(Lt){return!function Xt(Lt){return function or(Lt){return"input"==Lt.nodeName.toLowerCase()}(Lt)&&"hidden"==Lt.type}(Lt)&&(function wt(Lt){let pt=Lt.nodeName.toLowerCase();return"input"===pt||"select"===pt||"button"===pt||"textarea"===pt}(Lt)||function Kn(Lt){return function gr(Lt){return"a"==Lt.nodeName.toLowerCase()}(Lt)&&Lt.hasAttribute("href")}(Lt)||Lt.hasAttribute("contenteditable")||_r(Lt))}(We)&&!this.isDisabled(We)&&((null==kt?void 0:kt.ignoreVisibility)||this.isVisible(We))}}return Lt.\u0275fac=function(We){return new(We||Lt)(G.LFG(B.t4))},Lt.\u0275prov=G.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})();function _r(Lt){if(!Lt.hasAttribute("tabindex")||void 0===Lt.tabIndex)return!1;let pt=Lt.getAttribute("tabindex");return!(!pt||isNaN(parseInt(pt,10)))}function mi(Lt){if(!_r(Lt))return null;const pt=parseInt(Lt.getAttribute("tabindex")||"",10);return isNaN(pt)?-1:pt}class Ii{constructor(pt,We,kt,Qt,Hn=!1){this._element=pt,this._checker=We,this._ngZone=kt,this._document=Qt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Hn||this.attachAnchors()}get enabled(){return this._enabled}set enabled(pt){this._enabled=pt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(pt,this._startAnchor),this._toggleAnchorTabIndex(pt,this._endAnchor))}destroy(){const pt=this._startAnchor,We=this._endAnchor;pt&&(pt.removeEventListener("focus",this.startAnchorListener),pt.remove()),We&&(We.removeEventListener("focus",this.endAnchorListener),We.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(pt){return new Promise(We=>{this._executeOnStable(()=>We(this.focusInitialElement(pt)))})}focusFirstTabbableElementWhenReady(pt){return new Promise(We=>{this._executeOnStable(()=>We(this.focusFirstTabbableElement(pt)))})}focusLastTabbableElementWhenReady(pt){return new Promise(We=>{this._executeOnStable(()=>We(this.focusLastTabbableElement(pt)))})}_getRegionBoundary(pt){const We=this._element.querySelectorAll(`[cdk-focus-region-${pt}], [cdkFocusRegion${pt}], [cdk-focus-${pt}]`);return"start"==pt?We.length?We[0]:this._getFirstTabbableElement(this._element):We.length?We[We.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(pt){const We=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(We){if(!this._checker.isFocusable(We)){const kt=this._getFirstTabbableElement(We);return null==kt||kt.focus(pt),!!kt}return We.focus(pt),!0}return this.focusFirstTabbableElement(pt)}focusFirstTabbableElement(pt){const We=this._getRegionBoundary("start");return We&&We.focus(pt),!!We}focusLastTabbableElement(pt){const We=this._getRegionBoundary("end");return We&&We.focus(pt),!!We}hasAttached(){return this._hasAttached}_getFirstTabbableElement(pt){if(this._checker.isFocusable(pt)&&this._checker.isTabbable(pt))return pt;const We=pt.children;for(let kt=0;kt<We.length;kt++){const Qt=We[kt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(We[kt]):null;if(Qt)return Qt}return null}_getLastTabbableElement(pt){if(this._checker.isFocusable(pt)&&this._checker.isTabbable(pt))return pt;const We=pt.children;for(let kt=We.length-1;kt>=0;kt--){const Qt=We[kt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(We[kt]):null;if(Qt)return Qt}return null}_createAnchor(){const pt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,pt),pt.classList.add("cdk-visually-hidden"),pt.classList.add("cdk-focus-trap-anchor"),pt.setAttribute("aria-hidden","true"),pt}_toggleAnchorTabIndex(pt,We){pt?We.setAttribute("tabindex","0"):We.removeAttribute("tabindex")}toggleAnchors(pt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(pt,this._startAnchor),this._toggleAnchorTabIndex(pt,this._endAnchor))}_executeOnStable(pt){this._ngZone.isStable?pt():this._ngZone.onStable.pipe((0,Fe.q)(1)).subscribe(pt)}}let Ni=(()=>{class Lt{constructor(We,kt,Qt){this._checker=We,this._ngZone=kt,this._document=Qt}create(We,kt=!1){return new Ii(We,this._checker,this._ngZone,this._document,kt)}}return Lt.\u0275fac=function(We){return new(We||Lt)(G.LFG(Sn),G.LFG(G.R0b),G.LFG(M.K0))},Lt.\u0275prov=G.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})();const Ht=new G.OlP("cdk-input-modality-detector-options"),Se={ignoreKeys:[Ze.zL,Ze.jx,Ze.b2,Ze.MW,Ze.JU]},Re=(0,B.i$)({passive:!0,capture:!0});let xe=(()=>{class Lt{constructor(We,kt,Qt,Hn){this._platform=We,this._mostRecentTarget=null,this._modality=new Le.X(null),this._lastTouchMs=0,this._onKeydown=ar=>{var St,_n;(null===(_n=null===(St=this._options)||void 0===St?void 0:St.ignoreKeys)||void 0===_n?void 0:_n.some(jn=>jn===ar.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,B.sA)(ar))},this._onMousedown=ar=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function Ur(Lt){return 0===Lt.buttons||0===Lt.offsetX&&0===Lt.offsetY}(ar)?"keyboard":"mouse"),this._mostRecentTarget=(0,B.sA)(ar))},this._onTouchstart=ar=>{!function Qn(Lt){const pt=Lt.touches&&Lt.touches[0]||Lt.changedTouches&&Lt.changedTouches[0];return!(!pt||-1!==pt.identifier||null!=pt.radiusX&&1!==pt.radiusX||null!=pt.radiusY&&1!==pt.radiusY)}(ar)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,B.sA)(ar)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},Se),Hn),this.modalityDetected=this._modality.pipe(function Je(Lt){return(0,nt.h)((pt,We)=>Lt<=We)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,we.x)()),We.isBrowser&&kt.runOutsideAngular(()=>{Qt.addEventListener("keydown",this._onKeydown,Re),Qt.addEventListener("mousedown",this._onMousedown,Re),Qt.addEventListener("touchstart",this._onTouchstart,Re)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Re),document.removeEventListener("mousedown",this._onMousedown,Re),document.removeEventListener("touchstart",this._onTouchstart,Re))}}return Lt.\u0275fac=function(We){return new(We||Lt)(G.LFG(B.t4),G.LFG(G.R0b),G.LFG(M.K0),G.LFG(Ht,8))},Lt.\u0275prov=G.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})();const en=new G.OlP("cdk-focus-monitor-default-options"),gn=(0,B.i$)({passive:!0,capture:!0});let Nn=(()=>{class Lt{constructor(We,kt,Qt,Hn,ar){this._ngZone=We,this._platform=kt,this._inputModalityDetector=Qt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ne.x,this._rootNodeFocusAndBlurListener=St=>{const _n=(0,B.sA)(St),jn="focus"===St.type?this._onFocus:this._onBlur;for(let pi=_n;pi;pi=pi.parentElement)jn.call(this,St,pi)},this._document=Hn,this._detectionMode=(null==ar?void 0:ar.detectionMode)||0}monitor(We,kt=!1){const Qt=(0,ot.fI)(We);if(!this._platform.isBrowser||1!==Qt.nodeType)return(0,Ue.of)(null);const Hn=(0,B.kV)(Qt)||this._getDocument(),ar=this._elementInfo.get(Qt);if(ar)return kt&&(ar.checkChildren=!0),ar.subject;const St={checkChildren:kt,subject:new Ne.x,rootNode:Hn};return this._elementInfo.set(Qt,St),this._registerGlobalListeners(St),St.subject}stopMonitoring(We){const kt=(0,ot.fI)(We),Qt=this._elementInfo.get(kt);Qt&&(Qt.subject.complete(),this._setClasses(kt),this._elementInfo.delete(kt),this._removeGlobalListeners(Qt))}focusVia(We,kt,Qt){const Hn=(0,ot.fI)(We);Hn===this._getDocument().activeElement?this._getClosestElementsInfo(Hn).forEach(([St,_n])=>this._originChanged(St,kt,_n)):(this._setOrigin(kt),"function"==typeof Hn.focus&&Hn.focus(Qt))}ngOnDestroy(){this._elementInfo.forEach((We,kt)=>this.stopMonitoring(kt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(We){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(We)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(We){return 1===this._detectionMode||!!(null==We?void 0:We.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(We,kt){We.classList.toggle("cdk-focused",!!kt),We.classList.toggle("cdk-touch-focused","touch"===kt),We.classList.toggle("cdk-keyboard-focused","keyboard"===kt),We.classList.toggle("cdk-mouse-focused","mouse"===kt),We.classList.toggle("cdk-program-focused","program"===kt)}_setOrigin(We,kt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=We,this._originFromTouchInteraction="touch"===We&&kt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(We,kt){const Qt=this._elementInfo.get(kt),Hn=(0,B.sA)(We);!Qt||!Qt.checkChildren&&kt!==Hn||this._originChanged(kt,this._getFocusOrigin(Hn),Qt)}_onBlur(We,kt){const Qt=this._elementInfo.get(kt);!Qt||Qt.checkChildren&&We.relatedTarget instanceof Node&&kt.contains(We.relatedTarget)||(this._setClasses(kt),this._emitOrigin(Qt.subject,null))}_emitOrigin(We,kt){this._ngZone.run(()=>We.next(kt))}_registerGlobalListeners(We){if(!this._platform.isBrowser)return;const kt=We.rootNode,Qt=this._rootNodeFocusListenerCount.get(kt)||0;Qt||this._ngZone.runOutsideAngular(()=>{kt.addEventListener("focus",this._rootNodeFocusAndBlurListener,gn),kt.addEventListener("blur",this._rootNodeFocusAndBlurListener,gn)}),this._rootNodeFocusListenerCount.set(kt,Qt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ae.R)(this._stopInputModalityDetector)).subscribe(Hn=>{this._setOrigin(Hn,!0)}))}_removeGlobalListeners(We){const kt=We.rootNode;if(this._rootNodeFocusListenerCount.has(kt)){const Qt=this._rootNodeFocusListenerCount.get(kt);Qt>1?this._rootNodeFocusListenerCount.set(kt,Qt-1):(kt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gn),kt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gn),this._rootNodeFocusListenerCount.delete(kt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(We,kt,Qt){this._setClasses(We,kt),this._emitOrigin(Qt.subject,kt),this._lastFocusOrigin=kt}_getClosestElementsInfo(We){const kt=[];return this._elementInfo.forEach((Qt,Hn)=>{(Hn===We||Qt.checkChildren&&Hn.contains(We))&&kt.push([Hn,Qt])}),kt}}return Lt.\u0275fac=function(We){return new(We||Lt)(G.LFG(G.R0b),G.LFG(B.t4),G.LFG(xe),G.LFG(M.K0,8),G.LFG(en,8))},Lt.\u0275prov=G.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})();const qn="cdk-high-contrast-black-on-white",Gt="cdk-high-contrast-white-on-black",vn="cdk-high-contrast-active";let bn=(()=>{class Lt{constructor(We,kt){this._platform=We,this._document=kt}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const We=this._document.createElement("div");We.style.backgroundColor="rgb(1,2,3)",We.style.position="absolute",this._document.body.appendChild(We);const kt=this._document.defaultView||window,Qt=kt&&kt.getComputedStyle?kt.getComputedStyle(We):null,Hn=(Qt&&Qt.backgroundColor||"").replace(/ /g,"");switch(We.remove(),Hn){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const We=this._document.body.classList;We.remove(vn),We.remove(qn),We.remove(Gt),this._hasCheckedHighContrastMode=!0;const kt=this.getHighContrastMode();1===kt?(We.add(vn),We.add(qn)):2===kt&&(We.add(vn),We.add(Gt))}}}return Lt.\u0275fac=function(We){return new(We||Lt)(G.LFG(B.t4),G.LFG(M.K0))},Lt.\u0275prov=G.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt})(),ce=(()=>{class Lt{constructor(We){We._applyBodyHighContrastModeCssClasses()}}return Lt.\u0275fac=function(We){return new(We||Lt)(G.LFG(bn))},Lt.\u0275mod=G.oAB({type:Lt}),Lt.\u0275inj=G.cJS({imports:[[gt]]}),Lt})()},226:(An,Dt,H)=>{H.d(Dt,{Is:()=>Ze,Lv:()=>nt,vT:()=>Je});var M=H(5e3),G=H(9808);const B=new M.OlP("cdk-dir-doc",{providedIn:"root",factory:function Le(){return(0,M.f3M)(G.K0)}}),Ne=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ue(Fe){const we=(null==Fe?void 0:Fe.toLowerCase())||"";return"auto"===we&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ne.test(navigator.language)?"rtl":"ltr":"rtl"===we?"rtl":"ltr"}let Ze=(()=>{class Fe{constructor(Ae){if(this.value="ltr",this.change=new M.vpe,Ae){const lt=Ae.documentElement?Ae.documentElement.dir:null;this.value=Ue((Ae.body?Ae.body.dir:null)||lt||"ltr")}}ngOnDestroy(){this.change.complete()}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)(M.LFG(B,8))},Fe.\u0275prov=M.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),nt=(()=>{class Fe{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new M.vpe}get dir(){return this._dir}set dir(Ae){const ot=this._dir;this._dir=Ue(Ae),this._rawDir=Ae,ot!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)},Fe.\u0275dir=M.lG2({type:Fe,selectors:[["","dir",""]],hostVars:1,hostBindings:function(Ae,ot){2&Ae&&M.uIk("dir",ot._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[M._Bn([{provide:Ze,useExisting:Fe}])]}),Fe})(),Je=(()=>{class Fe{}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)},Fe.\u0275mod=M.oAB({type:Fe}),Fe.\u0275inj=M.cJS({}),Fe})()},3191:(An,Dt,H)=>{H.d(Dt,{Eq:()=>Ne,HM:()=>Ue,Ig:()=>G,fI:()=>Ze,t6:()=>Le});var M=H(5e3);function G(Je){return null!=Je&&"false"!=`${Je}`}function Le(Je){return!isNaN(parseFloat(Je))&&!isNaN(Number(Je))}function Ne(Je){return Array.isArray(Je)?Je:[Je]}function Ue(Je){return null==Je?"":"string"==typeof Je?Je:`${Je}px`}function Ze(Je){return Je instanceof M.SBq?Je.nativeElement:Je}},1159:(An,Dt,H)=>{H.d(Dt,{JU:()=>Ue,K5:()=>Ne,MW:()=>ut,Vb:()=>qi,b2:()=>zo,hY:()=>we,jx:()=>Ze,zL:()=>nt});const Ne=13,Ue=16,Ze=17,nt=18,we=27,ut=91,zo=224;function qi(rn,...Po){return Po.length?Po.some(yo=>rn[yo]):rn.altKey||rn.shiftKey||rn.ctrlKey||rn.metaKey}},5113:(An,Dt,H)=>{H.d(Dt,{vx:()=>Ue,xu:()=>B});var M=H(5e3),G=H(925);let B=(()=>{class Ae{}return Ae.\u0275fac=function(lt){return new(lt||Ae)},Ae.\u0275mod=M.oAB({type:Ae}),Ae.\u0275inj=M.cJS({}),Ae})();const Le=new Set;let Ne,Ue=(()=>{class Ae{constructor(lt){this._platform=lt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nt}matchMedia(lt){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ze(Ae){if(!Le.has(Ae))try{Ne||(Ne=document.createElement("style"),Ne.setAttribute("type","text/css"),document.head.appendChild(Ne)),Ne.sheet&&(Ne.sheet.insertRule(`@media ${Ae} {body{ }}`,0),Le.add(Ae))}catch(ot){console.error(ot)}}(lt),this._matchMedia(lt)}}return Ae.\u0275fac=function(lt){return new(lt||Ae)(M.LFG(G.t4))},Ae.\u0275prov=M.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();function nt(Ae){return{matches:"all"===Ae||""===Ae,media:Ae,addListener:()=>{},removeListener:()=>{}}}},9776:(An,Dt,H)=>{H.d(Dt,{pI:()=>ci,xu:()=>Ti,tR:()=>je,aV:()=>Ni,X_:()=>Ct,U8:()=>Ur,Iu:()=>ht});var M=H(9071),G=H(9808),B=H(5e3),Le=H(3191),Ne=H(925),Ue=H(226),Ze=H(7429),nt=H(7579),Je=H(727),Fe=H(6451),we=H(4482),Ae=H(5403),lt=H(5698),mt=H(2722),zt=H(1159);const gt=(0,Ne.Mq)();class fn{constructor(Se,rt){this._viewportRuler=Se,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=rt}attach(){}enable(){if(this._canBeEnabled()){const Se=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Se.style.left||"",this._previousHTMLStyles.top=Se.style.top||"",Se.style.left=(0,Le.HM)(-this._previousScrollPosition.left),Se.style.top=(0,Le.HM)(-this._previousScrollPosition.top),Se.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Se=this._document.documentElement,Re=Se.style,xe=this._document.body.style,oe=Re.scrollBehavior||"",Me=xe.scrollBehavior||"";this._isEnabled=!1,Re.left=this._previousHTMLStyles.left,Re.top=this._previousHTMLStyles.top,Se.classList.remove("cdk-global-scrollblock"),gt&&(Re.scrollBehavior=xe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),gt&&(Re.scrollBehavior=oe,xe.scrollBehavior=Me)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const rt=this._document.body,Re=this._viewportRuler.getViewportSize();return rt.scrollHeight>Re.height||rt.scrollWidth>Re.width}}class Vn{constructor(Se,rt,Re,xe){this._scrollDispatcher=Se,this._ngZone=rt,this._viewportRuler=Re,this._config=xe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Se){this._overlayRef=Se}enable(){if(this._scrollSubscription)return;const Se=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Se.subscribe(()=>{const rt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(rt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Se.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Yt{enable(){}disable(){}attach(){}}function ue(Ht,Se){return Se.some(rt=>Ht.bottom<rt.top||Ht.top>rt.bottom||Ht.right<rt.left||Ht.left>rt.right)}function at(Ht,Se){return Se.some(rt=>Ht.top<rt.top||Ht.bottom>rt.bottom||Ht.left<rt.left||Ht.right>rt.right)}class De{constructor(Se,rt,Re,xe){this._scrollDispatcher=Se,this._viewportRuler=rt,this._ngZone=Re,this._config=xe,this._scrollSubscription=null}attach(Se){this._overlayRef=Se}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const rt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Re,height:xe}=this._viewportRuler.getViewportSize();ue(rt,[{width:Re,height:xe,bottom:xe,right:Re,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Qe=(()=>{class Ht{constructor(rt,Re,xe,oe){this._scrollDispatcher=rt,this._viewportRuler=Re,this._ngZone=xe,this.noop=()=>new Yt,this.close=Me=>new Vn(this._scrollDispatcher,this._ngZone,this._viewportRuler,Me),this.block=()=>new fn(this._viewportRuler,this._document),this.reposition=Me=>new De(this._scrollDispatcher,this._viewportRuler,this._ngZone,Me),this._document=oe}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.LFG(M.mF),B.LFG(M.rL),B.LFG(B.R0b),B.LFG(G.K0))},Ht.\u0275prov=B.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})();class Ct{constructor(Se){if(this.scrollStrategy=new Yt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Se){const rt=Object.keys(Se);for(const Re of rt)void 0!==Se[Re]&&(this[Re]=Se[Re])}}}class je{constructor(Se,rt,Re,xe,oe){this.offsetX=Re,this.offsetY=xe,this.panelClass=oe,this.originX=Se.originX,this.originY=Se.originY,this.overlayX=rt.overlayX,this.overlayY=rt.overlayY}}class It{constructor(Se,rt){this.connectionPair=Se,this.scrollableViewProperties=rt}}class ht{constructor(Se,rt,Re,xe,oe,Me,ye,ze,ut){this._portalOutlet=Se,this._host=rt,this._pane=Re,this._config=xe,this._ngZone=oe,this._keyboardDispatcher=Me,this._document=ye,this._location=ze,this._outsideClickDispatcher=ut,this._backdropElement=null,this._backdropClick=new nt.x,this._attachments=new nt.x,this._detachments=new nt.x,this._locationChanges=Je.w0.EMPTY,this._backdropClickHandler=en=>this._backdropClick.next(en),this._backdropTransitionendHandler=en=>{this._disposeBackdrop(en.target)},this._keydownEvents=new nt.x,this._outsidePointerEvents=new nt.x,xe.scrollStrategy&&(this._scrollStrategy=xe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=xe.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Se){let rt=this._portalOutlet.attach(Se);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,lt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),rt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Se=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Se}dispose(){var Se;const rt=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(Se=this._host)||void 0===Se||Se.remove(),this._previousHostParent=this._pane=this._host=null,rt&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Se){Se!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Se,this.hasAttached()&&(Se.attach(this),this.updatePosition()))}updateSize(Se){this._config=Object.assign(Object.assign({},this._config),Se),this._updateElementSize()}setDirection(Se){this._config=Object.assign(Object.assign({},this._config),{direction:Se}),this._updateElementDirection()}addPanelClass(Se){this._pane&&this._toggleClasses(this._pane,Se,!0)}removePanelClass(Se){this._pane&&this._toggleClasses(this._pane,Se,!1)}getDirection(){const Se=this._config.direction;return Se?"string"==typeof Se?Se:Se.value:"ltr"}updateScrollStrategy(Se){Se!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Se,this.hasAttached()&&(Se.attach(this),Se.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Se=this._pane.style;Se.width=(0,Le.HM)(this._config.width),Se.height=(0,Le.HM)(this._config.height),Se.minWidth=(0,Le.HM)(this._config.minWidth),Se.minHeight=(0,Le.HM)(this._config.minHeight),Se.maxWidth=(0,Le.HM)(this._config.maxWidth),Se.maxHeight=(0,Le.HM)(this._config.maxHeight)}_togglePointerEvents(Se){this._pane.style.pointerEvents=Se?"":"none"}_attachBackdrop(){const Se="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Se)})}):this._backdropElement.classList.add(Se)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Se=this._backdropElement;!Se||(Se.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Se.addEventListener("transitionend",this._backdropTransitionendHandler)}),Se.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Se)},500)))}_toggleClasses(Se,rt,Re){const xe=(0,Le.Eq)(rt||[]).filter(oe=>!!oe);xe.length&&(Re?Se.classList.add(...xe):Se.classList.remove(...xe))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const Se=this._ngZone.onStable.pipe((0,mt.R)((0,Fe.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Se.unsubscribe())})})}_disposeScrollStrategy(){const Se=this._scrollStrategy;Se&&(Se.disable(),Se.detach&&Se.detach())}_disposeBackdrop(Se){Se&&(Se.removeEventListener("click",this._backdropClickHandler),Se.removeEventListener("transitionend",this._backdropTransitionendHandler),Se.remove(),this._backdropElement===Se&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Sn=(()=>{class Ht{constructor(rt,Re){this._platform=Re,this._document=rt}ngOnDestroy(){var rt;null===(rt=this._containerElement)||void 0===rt||rt.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const rt="cdk-overlay-container";if(this._platform.isBrowser||(0,Ne.Oy)()){const xe=this._document.querySelectorAll(`.${rt}[platform="server"], .${rt}[platform="test"]`);for(let oe=0;oe<xe.length;oe++)xe[oe].remove()}const Re=this._document.createElement("div");Re.classList.add(rt),(0,Ne.Oy)()?Re.setAttribute("platform","test"):this._platform.isBrowser||Re.setAttribute("platform","server"),this._document.body.appendChild(Re),this._containerElement=Re}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.LFG(G.K0),B.LFG(Ne.t4))},Ht.\u0275prov=B.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})();const qe="cdk-overlay-connected-position-bounding-box",Zt=/([A-Za-z%]+)$/;class wt{constructor(Se,rt,Re,xe,oe){this._viewportRuler=rt,this._document=Re,this._platform=xe,this._overlayContainer=oe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nt.x,this._resizeSubscription=Je.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Se)}get positions(){return this._preferredPositions}attach(Se){this._validatePositions(),Se.hostElement.classList.add(qe),this._overlayRef=Se,this._boundingBox=Se.hostElement,this._pane=Se.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Se=this._originRect,rt=this._overlayRect,Re=this._viewportRect,xe=this._containerRect,oe=[];let Me;for(let ye of this._preferredPositions){let ze=this._getOriginPoint(Se,xe,ye),ut=this._getOverlayPoint(ze,rt,ye),en=this._getOverlayFit(ut,rt,Re,ye);if(en.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ye,ze);this._canFitWithFlexibleDimensions(en,ut,Re)?oe.push({position:ye,origin:ze,overlayRect:rt,boundingBoxRect:this._calculateBoundingBoxRect(ze,ye)}):(!Me||Me.overlayFit.visibleArea<en.visibleArea)&&(Me={overlayFit:en,overlayPoint:ut,originPoint:ze,position:ye,overlayRect:rt})}if(oe.length){let ye=null,ze=-1;for(const ut of oe){const en=ut.boundingBoxRect.width*ut.boundingBoxRect.height*(ut.position.weight||1);en>ze&&(ze=en,ye=ut)}return this._isPushed=!1,void this._applyPosition(ye.position,ye.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Me.position,Me.originPoint);this._applyPosition(Me.position,Me.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qe),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Se=this._lastPosition;if(Se){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const rt=this._getOriginPoint(this._originRect,this._containerRect,Se);this._applyPosition(Se,rt)}else this.apply()}withScrollableContainers(Se){return this._scrollables=Se,this}withPositions(Se){return this._preferredPositions=Se,-1===Se.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Se){return this._viewportMargin=Se,this}withFlexibleDimensions(Se=!0){return this._hasFlexibleDimensions=Se,this}withGrowAfterOpen(Se=!0){return this._growAfterOpen=Se,this}withPush(Se=!0){return this._canPush=Se,this}withLockedPosition(Se=!0){return this._positionLocked=Se,this}setOrigin(Se){return this._origin=Se,this}withDefaultOffsetX(Se){return this._offsetX=Se,this}withDefaultOffsetY(Se){return this._offsetY=Se,this}withTransformOriginOn(Se){return this._transformOriginSelector=Se,this}_getOriginPoint(Se,rt,Re){let xe,oe;if("center"==Re.originX)xe=Se.left+Se.width/2;else{const Me=this._isRtl()?Se.right:Se.left,ye=this._isRtl()?Se.left:Se.right;xe="start"==Re.originX?Me:ye}return rt.left<0&&(xe-=rt.left),oe="center"==Re.originY?Se.top+Se.height/2:"top"==Re.originY?Se.top:Se.bottom,rt.top<0&&(oe-=rt.top),{x:xe,y:oe}}_getOverlayPoint(Se,rt,Re){let xe,oe;return xe="center"==Re.overlayX?-rt.width/2:"start"===Re.overlayX?this._isRtl()?-rt.width:0:this._isRtl()?0:-rt.width,oe="center"==Re.overlayY?-rt.height/2:"top"==Re.overlayY?0:-rt.height,{x:Se.x+xe,y:Se.y+oe}}_getOverlayFit(Se,rt,Re,xe){const oe=or(rt);let{x:Me,y:ye}=Se,ze=this._getOffset(xe,"x"),ut=this._getOffset(xe,"y");ze&&(Me+=ze),ut&&(ye+=ut);let Nn=0-ye,ur=ye+oe.height-Re.height,qn=this._subtractOverflows(oe.width,0-Me,Me+oe.width-Re.width),Gt=this._subtractOverflows(oe.height,Nn,ur),vn=qn*Gt;return{visibleArea:vn,isCompletelyWithinViewport:oe.width*oe.height===vn,fitsInViewportVertically:Gt===oe.height,fitsInViewportHorizontally:qn==oe.width}}_canFitWithFlexibleDimensions(Se,rt,Re){if(this._hasFlexibleDimensions){const xe=Re.bottom-rt.y,oe=Re.right-rt.x,Me=Kn(this._overlayRef.getConfig().minHeight),ye=Kn(this._overlayRef.getConfig().minWidth),ut=Se.fitsInViewportHorizontally||null!=ye&&ye<=oe;return(Se.fitsInViewportVertically||null!=Me&&Me<=xe)&&ut}return!1}_pushOverlayOnScreen(Se,rt,Re){if(this._previousPushAmount&&this._positionLocked)return{x:Se.x+this._previousPushAmount.x,y:Se.y+this._previousPushAmount.y};const xe=or(rt),oe=this._viewportRect,Me=Math.max(Se.x+xe.width-oe.width,0),ye=Math.max(Se.y+xe.height-oe.height,0),ze=Math.max(oe.top-Re.top-Se.y,0),ut=Math.max(oe.left-Re.left-Se.x,0);let en=0,gn=0;return en=xe.width<=oe.width?ut||-Me:Se.x<this._viewportMargin?oe.left-Re.left-Se.x:0,gn=xe.height<=oe.height?ze||-ye:Se.y<this._viewportMargin?oe.top-Re.top-Se.y:0,this._previousPushAmount={x:en,y:gn},{x:Se.x+en,y:Se.y+gn}}_applyPosition(Se,rt){if(this._setTransformOrigin(Se),this._setOverlayElementStyles(rt,Se),this._setBoundingBoxStyles(rt,Se),Se.panelClass&&this._addPanelClasses(Se.panelClass),this._lastPosition=Se,this._positionChanges.observers.length){const Re=this._getScrollVisibility(),xe=new It(Se,Re);this._positionChanges.next(xe)}this._isInitialRender=!1}_setTransformOrigin(Se){if(!this._transformOriginSelector)return;const rt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Re,xe=Se.overlayY;Re="center"===Se.overlayX?"center":this._isRtl()?"start"===Se.overlayX?"right":"left":"start"===Se.overlayX?"left":"right";for(let oe=0;oe<rt.length;oe++)rt[oe].style.transformOrigin=`${Re} ${xe}`}_calculateBoundingBoxRect(Se,rt){const Re=this._viewportRect,xe=this._isRtl();let oe,Me,ye,en,gn,Nn;if("top"===rt.overlayY)Me=Se.y,oe=Re.height-Me+this._viewportMargin;else if("bottom"===rt.overlayY)ye=Re.height-Se.y+2*this._viewportMargin,oe=Re.height-ye+this._viewportMargin;else{const ur=Math.min(Re.bottom-Se.y+Re.top,Se.y),qn=this._lastBoundingBoxSize.height;oe=2*ur,Me=Se.y-ur,oe>qn&&!this._isInitialRender&&!this._growAfterOpen&&(Me=Se.y-qn/2)}if("end"===rt.overlayX&&!xe||"start"===rt.overlayX&&xe)Nn=Re.width-Se.x+this._viewportMargin,en=Se.x-this._viewportMargin;else if("start"===rt.overlayX&&!xe||"end"===rt.overlayX&&xe)gn=Se.x,en=Re.right-Se.x;else{const ur=Math.min(Re.right-Se.x+Re.left,Se.x),qn=this._lastBoundingBoxSize.width;en=2*ur,gn=Se.x-ur,en>qn&&!this._isInitialRender&&!this._growAfterOpen&&(gn=Se.x-qn/2)}return{top:Me,left:gn,bottom:ye,right:Nn,width:en,height:oe}}_setBoundingBoxStyles(Se,rt){const Re=this._calculateBoundingBoxRect(Se,rt);!this._isInitialRender&&!this._growAfterOpen&&(Re.height=Math.min(Re.height,this._lastBoundingBoxSize.height),Re.width=Math.min(Re.width,this._lastBoundingBoxSize.width));const xe={};if(this._hasExactPosition())xe.top=xe.left="0",xe.bottom=xe.right=xe.maxHeight=xe.maxWidth="",xe.width=xe.height="100%";else{const oe=this._overlayRef.getConfig().maxHeight,Me=this._overlayRef.getConfig().maxWidth;xe.height=(0,Le.HM)(Re.height),xe.top=(0,Le.HM)(Re.top),xe.bottom=(0,Le.HM)(Re.bottom),xe.width=(0,Le.HM)(Re.width),xe.left=(0,Le.HM)(Re.left),xe.right=(0,Le.HM)(Re.right),xe.alignItems="center"===rt.overlayX?"center":"end"===rt.overlayX?"flex-end":"flex-start",xe.justifyContent="center"===rt.overlayY?"center":"bottom"===rt.overlayY?"flex-end":"flex-start",oe&&(xe.maxHeight=(0,Le.HM)(oe)),Me&&(xe.maxWidth=(0,Le.HM)(Me))}this._lastBoundingBoxSize=Re,Xt(this._boundingBox.style,xe)}_resetBoundingBoxStyles(){Xt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Se,rt){const Re={},xe=this._hasExactPosition(),oe=this._hasFlexibleDimensions,Me=this._overlayRef.getConfig();if(xe){const en=this._viewportRuler.getViewportScrollPosition();Xt(Re,this._getExactOverlayY(rt,Se,en)),Xt(Re,this._getExactOverlayX(rt,Se,en))}else Re.position="static";let ye="",ze=this._getOffset(rt,"x"),ut=this._getOffset(rt,"y");ze&&(ye+=`translateX(${ze}px) `),ut&&(ye+=`translateY(${ut}px)`),Re.transform=ye.trim(),Me.maxHeight&&(xe?Re.maxHeight=(0,Le.HM)(Me.maxHeight):oe&&(Re.maxHeight="")),Me.maxWidth&&(xe?Re.maxWidth=(0,Le.HM)(Me.maxWidth):oe&&(Re.maxWidth="")),Xt(this._pane.style,Re)}_getExactOverlayY(Se,rt,Re){let xe={top:"",bottom:""},oe=this._getOverlayPoint(rt,this._overlayRect,Se);return this._isPushed&&(oe=this._pushOverlayOnScreen(oe,this._overlayRect,Re)),"bottom"===Se.overlayY?xe.bottom=this._document.documentElement.clientHeight-(oe.y+this._overlayRect.height)+"px":xe.top=(0,Le.HM)(oe.y),xe}_getExactOverlayX(Se,rt,Re){let Me,xe={left:"",right:""},oe=this._getOverlayPoint(rt,this._overlayRect,Se);return this._isPushed&&(oe=this._pushOverlayOnScreen(oe,this._overlayRect,Re)),Me=this._isRtl()?"end"===Se.overlayX?"left":"right":"end"===Se.overlayX?"right":"left","right"===Me?xe.right=this._document.documentElement.clientWidth-(oe.x+this._overlayRect.width)+"px":xe.left=(0,Le.HM)(oe.x),xe}_getScrollVisibility(){const Se=this._getOriginRect(),rt=this._pane.getBoundingClientRect(),Re=this._scrollables.map(xe=>xe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:at(Se,Re),isOriginOutsideView:ue(Se,Re),isOverlayClipped:at(rt,Re),isOverlayOutsideView:ue(rt,Re)}}_subtractOverflows(Se,...rt){return rt.reduce((Re,xe)=>Re-Math.max(xe,0),Se)}_getNarrowedViewportRect(){const Se=this._document.documentElement.clientWidth,rt=this._document.documentElement.clientHeight,Re=this._viewportRuler.getViewportScrollPosition();return{top:Re.top+this._viewportMargin,left:Re.left+this._viewportMargin,right:Re.left+Se-this._viewportMargin,bottom:Re.top+rt-this._viewportMargin,width:Se-2*this._viewportMargin,height:rt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Se,rt){return"x"===rt?null==Se.offsetX?this._offsetX:Se.offsetX:null==Se.offsetY?this._offsetY:Se.offsetY}_validatePositions(){}_addPanelClasses(Se){this._pane&&(0,Le.Eq)(Se).forEach(rt=>{""!==rt&&-1===this._appliedPanelClasses.indexOf(rt)&&(this._appliedPanelClasses.push(rt),this._pane.classList.add(rt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Se=>{this._pane.classList.remove(Se)}),this._appliedPanelClasses=[])}_getOriginRect(){const Se=this._origin;if(Se instanceof B.SBq)return Se.nativeElement.getBoundingClientRect();if(Se instanceof Element)return Se.getBoundingClientRect();const rt=Se.width||0,Re=Se.height||0;return{top:Se.y,bottom:Se.y+Re,left:Se.x,right:Se.x+rt,height:Re,width:rt}}}function Xt(Ht,Se){for(let rt in Se)Se.hasOwnProperty(rt)&&(Ht[rt]=Se[rt]);return Ht}function Kn(Ht){if("number"!=typeof Ht&&null!=Ht){const[Se,rt]=Ht.split(Zt);return rt&&"px"!==rt?null:parseFloat(Se)}return Ht||null}function or(Ht){return{top:Math.floor(Ht.top),right:Math.floor(Ht.right),bottom:Math.floor(Ht.bottom),left:Math.floor(Ht.left),width:Math.floor(Ht.width),height:Math.floor(Ht.height)}}const gr="cdk-global-overlay-wrapper";class _r{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(Se){const rt=Se.getConfig();this._overlayRef=Se,this._width&&!rt.width&&Se.updateSize({width:this._width}),this._height&&!rt.height&&Se.updateSize({height:this._height}),Se.hostElement.classList.add(gr),this._isDisposed=!1}top(Se=""){return this._bottomOffset="",this._topOffset=Se,this._alignItems="flex-start",this}left(Se=""){return this._rightOffset="",this._leftOffset=Se,this._justifyContent="flex-start",this}bottom(Se=""){return this._topOffset="",this._bottomOffset=Se,this._alignItems="flex-end",this}right(Se=""){return this._leftOffset="",this._rightOffset=Se,this._justifyContent="flex-end",this}width(Se=""){return this._overlayRef?this._overlayRef.updateSize({width:Se}):this._width=Se,this}height(Se=""){return this._overlayRef?this._overlayRef.updateSize({height:Se}):this._height=Se,this}centerHorizontally(Se=""){return this.left(Se),this._justifyContent="center",this}centerVertically(Se=""){return this.top(Se),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Se=this._overlayRef.overlayElement.style,rt=this._overlayRef.hostElement.style,Re=this._overlayRef.getConfig(),{width:xe,height:oe,maxWidth:Me,maxHeight:ye}=Re,ze=!("100%"!==xe&&"100vw"!==xe||Me&&"100%"!==Me&&"100vw"!==Me),ut=!("100%"!==oe&&"100vh"!==oe||ye&&"100%"!==ye&&"100vh"!==ye);Se.position=this._cssPosition,Se.marginLeft=ze?"0":this._leftOffset,Se.marginTop=ut?"0":this._topOffset,Se.marginBottom=this._bottomOffset,Se.marginRight=this._rightOffset,ze?rt.justifyContent="flex-start":"center"===this._justifyContent?rt.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?rt.justifyContent="flex-end":"flex-end"===this._justifyContent&&(rt.justifyContent="flex-start"):rt.justifyContent=this._justifyContent,rt.alignItems=ut?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Se=this._overlayRef.overlayElement.style,rt=this._overlayRef.hostElement,Re=rt.style;rt.classList.remove(gr),Re.justifyContent=Re.alignItems=Se.marginTop=Se.marginBottom=Se.marginLeft=Se.marginRight=Se.position="",this._overlayRef=null,this._isDisposed=!0}}let mi=(()=>{class Ht{constructor(rt,Re,xe,oe){this._viewportRuler=rt,this._document=Re,this._platform=xe,this._overlayContainer=oe}global(){return new _r}flexibleConnectedTo(rt){return new wt(rt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.LFG(M.rL),B.LFG(G.K0),B.LFG(Ne.t4),B.LFG(Sn))},Ht.\u0275prov=B.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})(),ri=(()=>{class Ht{constructor(rt){this._attachedOverlays=[],this._document=rt}ngOnDestroy(){this.detach()}add(rt){this.remove(rt),this._attachedOverlays.push(rt)}remove(rt){const Re=this._attachedOverlays.indexOf(rt);Re>-1&&this._attachedOverlays.splice(Re,1),0===this._attachedOverlays.length&&this.detach()}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.LFG(G.K0))},Ht.\u0275prov=B.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})(),Dr=(()=>{class Ht extends ri{constructor(rt,Re){super(rt),this._ngZone=Re,this._keydownListener=xe=>{const oe=this._attachedOverlays;for(let Me=oe.length-1;Me>-1;Me--)if(oe[Me]._keydownEvents.observers.length>0){const ye=oe[Me]._keydownEvents;this._ngZone?this._ngZone.run(()=>ye.next(xe)):ye.next(xe);break}}}add(rt){super.add(rt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.LFG(G.K0),B.LFG(B.R0b,8))},Ht.\u0275prov=B.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})(),Gi=(()=>{class Ht extends ri{constructor(rt,Re,xe){super(rt),this._platform=Re,this._ngZone=xe,this._cursorStyleIsSet=!1,this._pointerDownListener=oe=>{this._pointerDownEventTarget=(0,Ne.sA)(oe)},this._clickListener=oe=>{const Me=(0,Ne.sA)(oe),ye="click"===oe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Me;this._pointerDownEventTarget=null;const ze=this._attachedOverlays.slice();for(let ut=ze.length-1;ut>-1;ut--){const en=ze[ut];if(en._outsidePointerEvents.observers.length<1||!en.hasAttached())continue;if(en.overlayElement.contains(Me)||en.overlayElement.contains(ye))break;const gn=en._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>gn.next(oe)):gn.next(oe)}}}add(rt){if(super.add(rt),!this._isAttached){const Re=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Re)):this._addEventListeners(Re),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Re.style.cursor,Re.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const rt=this._document.body;rt.removeEventListener("pointerdown",this._pointerDownListener,!0),rt.removeEventListener("click",this._clickListener,!0),rt.removeEventListener("auxclick",this._clickListener,!0),rt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(rt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(rt){rt.addEventListener("pointerdown",this._pointerDownListener,!0),rt.addEventListener("click",this._clickListener,!0),rt.addEventListener("auxclick",this._clickListener,!0),rt.addEventListener("contextmenu",this._clickListener,!0)}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.LFG(G.K0),B.LFG(Ne.t4),B.LFG(B.R0b,8))},Ht.\u0275prov=B.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Ht})(),Ii=0,Ni=(()=>{class Ht{constructor(rt,Re,xe,oe,Me,ye,ze,ut,en,gn,Nn){this.scrollStrategies=rt,this._overlayContainer=Re,this._componentFactoryResolver=xe,this._positionBuilder=oe,this._keyboardDispatcher=Me,this._injector=ye,this._ngZone=ze,this._document=ut,this._directionality=en,this._location=gn,this._outsideClickDispatcher=Nn}create(rt){const Re=this._createHostElement(),xe=this._createPaneElement(Re),oe=this._createPortalOutlet(xe),Me=new Ct(rt);return Me.direction=Me.direction||this._directionality.value,new ht(oe,Re,xe,Me,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(rt){const Re=this._document.createElement("div");return Re.id="cdk-overlay-"+Ii++,Re.classList.add("cdk-overlay-pane"),rt.appendChild(Re),Re}_createHostElement(){const rt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(rt),rt}_createPortalOutlet(rt){return this._appRef||(this._appRef=this._injector.get(B.z2F)),new Ze.u0(rt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.LFG(Qe),B.LFG(Sn),B.LFG(B._Vd),B.LFG(mi),B.LFG(Dr),B.LFG(B.zs3),B.LFG(B.R0b),B.LFG(G.K0),B.LFG(Ue.Is),B.LFG(G.Ye),B.LFG(Gi))},Ht.\u0275prov=B.Yz7({token:Ht,factory:Ht.\u0275fac}),Ht})();const Er=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Kr=new B.OlP("cdk-connected-overlay-scroll-strategy");let Ti=(()=>{class Ht{constructor(rt){this.elementRef=rt}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.Y36(B.SBq))},Ht.\u0275dir=B.lG2({type:Ht,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),Ht})(),ci=(()=>{class Ht{constructor(rt,Re,xe,oe,Me){this._overlay=rt,this._dir=Me,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Je.w0.EMPTY,this._attachSubscription=Je.w0.EMPTY,this._detachSubscription=Je.w0.EMPTY,this._positionSubscription=Je.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new B.vpe,this.positionChange=new B.vpe,this.attach=new B.vpe,this.detach=new B.vpe,this.overlayKeydown=new B.vpe,this.overlayOutsideClick=new B.vpe,this._templatePortal=new Ze.UE(Re,xe),this._scrollStrategyFactory=oe,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(rt){this._offsetX=rt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(rt){this._offsetY=rt,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(rt){this._hasBackdrop=(0,Le.Ig)(rt)}get lockPosition(){return this._lockPosition}set lockPosition(rt){this._lockPosition=(0,Le.Ig)(rt)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(rt){this._flexibleDimensions=(0,Le.Ig)(rt)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(rt){this._growAfterOpen=(0,Le.Ig)(rt)}get push(){return this._push}set push(rt){this._push=(0,Le.Ig)(rt)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(rt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),rt.origin&&this.open&&this._position.apply()),rt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Er);const rt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=rt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=rt.detachments().subscribe(()=>this.detach.emit()),rt.keydownEvents().subscribe(Re=>{this.overlayKeydown.next(Re),Re.keyCode===zt.hY&&!this.disableClose&&!(0,zt.Vb)(Re)&&(Re.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Re=>{this.overlayOutsideClick.next(Re)})}_buildConfig(){const rt=this._position=this.positionStrategy||this._createPositionStrategy(),Re=new Ct({direction:this._dir,positionStrategy:rt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Re.width=this.width),(this.height||0===this.height)&&(Re.height=this.height),(this.minWidth||0===this.minWidth)&&(Re.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Re.minHeight=this.minHeight),this.backdropClass&&(Re.backdropClass=this.backdropClass),this.panelClass&&(Re.panelClass=this.panelClass),Re}_updatePositionStrategy(rt){const Re=this.positions.map(xe=>({originX:xe.originX,originY:xe.originY,overlayX:xe.overlayX,overlayY:xe.overlayY,offsetX:xe.offsetX||this.offsetX,offsetY:xe.offsetY||this.offsetY,panelClass:xe.panelClass||void 0}));return rt.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Re).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const rt=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(rt),rt}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Ti?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(rt=>{this.backdropClick.emit(rt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function ot(Ht,Se=!1){return(0,we.e)((rt,Re)=>{let xe=0;rt.subscribe((0,Ae.x)(Re,oe=>{const Me=Ht(oe,xe++);(Me||Se)&&Re.next(oe),!Me&&Re.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(rt=>{this.positionChange.emit(rt),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return Ht.\u0275fac=function(rt){return new(rt||Ht)(B.Y36(Ni),B.Y36(B.Rgc),B.Y36(B.s_b),B.Y36(Kr),B.Y36(Ue.Is,8))},Ht.\u0275dir=B.lG2({type:Ht,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[B.TTD]}),Ht})();const Zn={provide:Kr,deps:[Ni],useFactory:function no(Ht){return()=>Ht.scrollStrategies.reposition()}};let Ur=(()=>{class Ht{}return Ht.\u0275fac=function(rt){return new(rt||Ht)},Ht.\u0275mod=B.oAB({type:Ht}),Ht.\u0275inj=B.cJS({providers:[Ni,Zn],imports:[[Ue.vT,Ze.eL,M.Cl],M.Cl]}),Ht})()},925:(An,Dt,H)=>{H.d(Dt,{Mq:()=>lt,Oy:()=>Yt,i$:()=>we,kV:()=>fn,sA:()=>Vn,t4:()=>Le,ud:()=>Ne});var M=H(5e3),G=H(9808);let B;try{B="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ue){B=!1}let Je,ot,zt,Le=(()=>{class ue{constructor(De){this._platformId=De,this.isBrowser=this._platformId?(0,G.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!B)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ue.\u0275fac=function(De){return new(De||ue)(M.LFG(M.Lbi))},ue.\u0275prov=M.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),Ne=(()=>{class ue{}return ue.\u0275fac=function(De){return new(De||ue)},ue.\u0275mod=M.oAB({type:ue}),ue.\u0275inj=M.cJS({}),ue})();function we(ue){return function Fe(){if(null==Je&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Je=!0}))}finally{Je=Je||!1}return Je}()?ue:!!ue.capture}function lt(){if(null==ot){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ot=!1,ot;if("scrollBehavior"in document.documentElement.style)ot=!0;else{const ue=Element.prototype.scrollTo;ot=!!ue&&!/\{\s*\[native code\]\s*\}/.test(ue.toString())}}return ot}function fn(ue){if(function gt(){if(null==zt){const ue="undefined"!=typeof document?document.head:null;zt=!(!ue||!ue.createShadowRoot&&!ue.attachShadow)}return zt}()){const at=ue.getRootNode?ue.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&at instanceof ShadowRoot)return at}return null}function Vn(ue){return ue.composedPath?ue.composedPath()[0]:ue.target}function Yt(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(An,Dt,H)=>{H.d(Dt,{C5:()=>Fe,Pl:()=>w,UE:()=>we,eL:()=>Yt,en:()=>ot,u0:()=>mt});var M=H(5e3),G=H(9808);class Je{attach(De){return this._attachedHost=De,De.attach(this)}detach(){let De=this._attachedHost;null!=De&&(this._attachedHost=null,De.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(De){this._attachedHost=De}}class Fe extends Je{constructor(De,Qe,Ct,je){super(),this.component=De,this.viewContainerRef=Qe,this.injector=Ct,this.componentFactoryResolver=je}}class we extends Je{constructor(De,Qe,Ct){super(),this.templateRef=De,this.viewContainerRef=Qe,this.context=Ct}get origin(){return this.templateRef.elementRef}attach(De,Qe=this.context){return this.context=Qe,super.attach(De)}detach(){return this.context=void 0,super.detach()}}class Ae extends Je{constructor(De){super(),this.element=De instanceof M.SBq?De.nativeElement:De}}class ot{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(De){return De instanceof Fe?(this._attachedPortal=De,this.attachComponentPortal(De)):De instanceof we?(this._attachedPortal=De,this.attachTemplatePortal(De)):this.attachDomPortal&&De instanceof Ae?(this._attachedPortal=De,this.attachDomPortal(De)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(De){this._disposeFn=De}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class mt extends ot{constructor(De,Qe,Ct,je,yt){super(),this.outletElement=De,this._componentFactoryResolver=Qe,this._appRef=Ct,this._defaultInjector=je,this.attachDomPortal=It=>{const Et=It.element,ln=this._document.createComment("dom-portal");Et.parentNode.insertBefore(ln,Et),this.outletElement.appendChild(Et),this._attachedPortal=It,super.setDisposeFn(()=>{ln.parentNode&&ln.parentNode.replaceChild(Et,ln)})},this._document=yt}attachComponentPortal(De){const Ct=(De.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(De.component);let je;return De.viewContainerRef?(je=De.viewContainerRef.createComponent(Ct,De.viewContainerRef.length,De.injector||De.viewContainerRef.injector),this.setDisposeFn(()=>je.destroy())):(je=Ct.create(De.injector||this._defaultInjector||M.zs3.NULL),this._appRef.attachView(je.hostView),this.setDisposeFn(()=>{this._appRef.detachView(je.hostView),je.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(je)),this._attachedPortal=De,je}attachTemplatePortal(De){let Qe=De.viewContainerRef,Ct=Qe.createEmbeddedView(De.templateRef,De.context);return Ct.rootNodes.forEach(je=>this.outletElement.appendChild(je)),Ct.detectChanges(),this.setDisposeFn(()=>{let je=Qe.indexOf(Ct);-1!==je&&Qe.remove(je)}),this._attachedPortal=De,Ct}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(De){return De.hostView.rootNodes[0]}}let w=(()=>{class at extends ot{constructor(Qe,Ct,je){super(),this._componentFactoryResolver=Qe,this._viewContainerRef=Ct,this._isInitialized=!1,this.attached=new M.vpe,this.attachDomPortal=yt=>{const It=yt.element,Et=this._document.createComment("dom-portal");yt.setAttachedHost(this),It.parentNode.insertBefore(Et,It),this._getRootNode().appendChild(It),this._attachedPortal=yt,super.setDisposeFn(()=>{Et.parentNode&&Et.parentNode.replaceChild(It,Et)})},this._document=je}get portal(){return this._attachedPortal}set portal(Qe){this.hasAttached()&&!Qe&&!this._isInitialized||(this.hasAttached()&&super.detach(),Qe&&super.attach(Qe),this._attachedPortal=Qe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Qe){Qe.setAttachedHost(this);const Ct=null!=Qe.viewContainerRef?Qe.viewContainerRef:this._viewContainerRef,yt=(Qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Qe.component),It=Ct.createComponent(yt,Ct.length,Qe.injector||Ct.injector);return Ct!==this._viewContainerRef&&this._getRootNode().appendChild(It.hostView.rootNodes[0]),super.setDisposeFn(()=>It.destroy()),this._attachedPortal=Qe,this._attachedRef=It,this.attached.emit(It),It}attachTemplatePortal(Qe){Qe.setAttachedHost(this);const Ct=this._viewContainerRef.createEmbeddedView(Qe.templateRef,Qe.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Qe,this._attachedRef=Ct,this.attached.emit(Ct),Ct}_getRootNode(){const Qe=this._viewContainerRef.element.nativeElement;return Qe.nodeType===Qe.ELEMENT_NODE?Qe:Qe.parentNode}}return at.\u0275fac=function(Qe){return new(Qe||at)(M.Y36(M._Vd),M.Y36(M.s_b),M.Y36(G.K0))},at.\u0275dir=M.lG2({type:at,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[M.qOj]}),at})(),Yt=(()=>{class at{}return at.\u0275fac=function(Qe){return new(Qe||at)},at.\u0275mod=M.oAB({type:at}),at.\u0275inj=M.cJS({}),at})()},9071:(An,Dt,H)=>{H.d(Dt,{Cl:()=>ln,mF:()=>Yt,rL:()=>De});var M=H(3191),G=H(5e3),B=H(7579),Le=H(9646),Ne=H(8306),Ue=H(4968),Je=(H(6406),H(3101),H(3601)),Fe=H(9300),we=H(9808),Ae=H(925),ot=H(226);let Yt=(()=>{class ht{constructor(qe,Zt,wt){this._ngZone=qe,this._platform=Zt,this._scrolled=new B.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=wt}register(qe){this.scrollContainers.has(qe)||this.scrollContainers.set(qe,qe.elementScrolled().subscribe(()=>this._scrolled.next(qe)))}deregister(qe){const Zt=this.scrollContainers.get(qe);Zt&&(Zt.unsubscribe(),this.scrollContainers.delete(qe))}scrolled(qe=20){return this._platform.isBrowser?new Ne.y(Zt=>{this._globalSubscription||this._addGlobalListener();const wt=qe>0?this._scrolled.pipe((0,Je.e)(qe)).subscribe(Zt):this._scrolled.subscribe(Zt);return this._scrolledCount++,()=>{wt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Le.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((qe,Zt)=>this.deregister(Zt)),this._scrolled.complete()}ancestorScrolled(qe,Zt){const wt=this.getAncestorScrollContainers(qe);return this.scrolled(Zt).pipe((0,Fe.h)(Xt=>!Xt||wt.indexOf(Xt)>-1))}getAncestorScrollContainers(qe){const Zt=[];return this.scrollContainers.forEach((wt,Xt)=>{this._scrollableContainsElement(Xt,qe)&&Zt.push(Xt)}),Zt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(qe,Zt){let wt=(0,M.fI)(Zt),Xt=qe.getElementRef().nativeElement;do{if(wt==Xt)return!0}while(wt=wt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const qe=this._getWindow();return(0,Ue.R)(qe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ht.\u0275fac=function(qe){return new(qe||ht)(G.LFG(G.R0b),G.LFG(Ae.t4),G.LFG(we.K0,8))},ht.\u0275prov=G.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),De=(()=>{class ht{constructor(qe,Zt,wt){this._platform=qe,this._change=new B.x,this._changeListener=Xt=>{this._change.next(Xt)},this._document=wt,Zt.runOutsideAngular(()=>{if(qe.isBrowser){const Xt=this._getWindow();Xt.addEventListener("resize",this._changeListener),Xt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const qe=this._getWindow();qe.removeEventListener("resize",this._changeListener),qe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const qe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),qe}getViewportRect(){const qe=this.getViewportScrollPosition(),{width:Zt,height:wt}=this.getViewportSize();return{top:qe.top,left:qe.left,bottom:qe.top+wt,right:qe.left+Zt,height:wt,width:Zt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const qe=this._document,Zt=this._getWindow(),wt=qe.documentElement,Xt=wt.getBoundingClientRect();return{top:-Xt.top||qe.body.scrollTop||Zt.scrollY||wt.scrollTop||0,left:-Xt.left||qe.body.scrollLeft||Zt.scrollX||wt.scrollLeft||0}}change(qe=20){return qe>0?this._change.pipe((0,Je.e)(qe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const qe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:qe.innerWidth,height:qe.innerHeight}:{width:0,height:0}}}return ht.\u0275fac=function(qe){return new(qe||ht)(G.LFG(Ae.t4),G.LFG(G.R0b),G.LFG(we.K0,8))},ht.\u0275prov=G.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"}),ht})(),Et=(()=>{class ht{}return ht.\u0275fac=function(qe){return new(qe||ht)},ht.\u0275mod=G.oAB({type:ht}),ht.\u0275inj=G.cJS({}),ht})(),ln=(()=>{class ht{}return ht.\u0275fac=function(qe){return new(qe||ht)},ht.\u0275mod=G.oAB({type:ht}),ht.\u0275inj=G.cJS({imports:[[ot.vT,Et],ot.vT,Et]}),ht})()},9808:(An,Dt,H)=>{H.d(Dt,{Do:()=>Yt,ED:()=>ia,EM:()=>Wo,HT:()=>Ne,JF:()=>Mi,JJ:()=>xa,K0:()=>Ze,Mx:()=>Wi,NF:()=>To,O5:()=>qi,PC:()=>ns,RF:()=>yn,S$:()=>gt,Tn:()=>Et,V_:()=>Fe,Ye:()=>ue,b0:()=>Vn,bD:()=>Bo,ez:()=>os,lw:()=>nt,mk:()=>$i,mr:()=>w,n9:()=>bi,ol:()=>Zt,p6:()=>en,q:()=>B,sg:()=>ti,tP:()=>Ba,uU:()=>Cs,w_:()=>Ue,x:()=>It});var M=H(5e3);let G=null;function B(){return G}function Ne(te){G||(G=te)}class Ue{}const Ze=new M.OlP("DocumentToken");let nt=(()=>{class te{historyGo(ee){throw new Error("Not implemented")}}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275prov=M.Yz7({token:te,factory:function(){return function Je(){return(0,M.LFG)(we)}()},providedIn:"platform"}),te})();const Fe=new M.OlP("Location Initialized");let we=(()=>{class te extends nt{constructor(ee){super(),this._doc=ee,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(ee){const Pe=B().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("popstate",ee,!1),()=>Pe.removeEventListener("popstate",ee)}onHashChange(ee){const Pe=B().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("hashchange",ee,!1),()=>Pe.removeEventListener("hashchange",ee)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(ee){this.location.pathname=ee}pushState(ee,Pe,Ot){Ae()?this._history.pushState(ee,Pe,Ot):this.location.hash=Ot}replaceState(ee,Pe,Ot){Ae()?this._history.replaceState(ee,Pe,Ot):this.location.hash=Ot}forward(){this._history.forward()}back(){this._history.back()}historyGo(ee=0){this._history.go(ee)}getState(){return this._history.state}}return te.\u0275fac=function(ee){return new(ee||te)(M.LFG(Ze))},te.\u0275prov=M.Yz7({token:te,factory:function(){return function ot(){return new we((0,M.LFG)(Ze))}()},providedIn:"platform"}),te})();function Ae(){return!!window.history.pushState}function lt(te,Ee){if(0==te.length)return Ee;if(0==Ee.length)return te;let ee=0;return te.endsWith("/")&&ee++,Ee.startsWith("/")&&ee++,2==ee?te+Ee.substring(1):1==ee?te+Ee:te+"/"+Ee}function mt(te){const Ee=te.match(/#|\?|$/),ee=Ee&&Ee.index||te.length;return te.slice(0,ee-("/"===te[ee-1]?1:0))+te.slice(ee)}function zt(te){return te&&"?"!==te[0]?"?"+te:te}let gt=(()=>{class te{historyGo(ee){throw new Error("Not implemented")}}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275prov=M.Yz7({token:te,factory:function(){return function fn(te){const Ee=(0,M.LFG)(Ze).location;return new Vn((0,M.LFG)(nt),Ee&&Ee.origin||"")}()},providedIn:"root"}),te})();const w=new M.OlP("appBaseHref");let Vn=(()=>{class te extends gt{constructor(ee,Pe){if(super(),this._platformLocation=ee,this._removeListenerFns=[],null==Pe&&(Pe=this._platformLocation.getBaseHrefFromDOM()),null==Pe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Pe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ee){this._removeListenerFns.push(this._platformLocation.onPopState(ee),this._platformLocation.onHashChange(ee))}getBaseHref(){return this._baseHref}prepareExternalUrl(ee){return lt(this._baseHref,ee)}path(ee=!1){const Pe=this._platformLocation.pathname+zt(this._platformLocation.search),Ot=this._platformLocation.hash;return Ot&&ee?`${Pe}${Ot}`:Pe}pushState(ee,Pe,Ot,an){const mn=this.prepareExternalUrl(Ot+zt(an));this._platformLocation.pushState(ee,Pe,mn)}replaceState(ee,Pe,Ot,an){const mn=this.prepareExternalUrl(Ot+zt(an));this._platformLocation.replaceState(ee,Pe,mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(ee=0){var Pe,Ot;null===(Ot=(Pe=this._platformLocation).historyGo)||void 0===Ot||Ot.call(Pe,ee)}}return te.\u0275fac=function(ee){return new(ee||te)(M.LFG(nt),M.LFG(w,8))},te.\u0275prov=M.Yz7({token:te,factory:te.\u0275fac}),te})(),Yt=(()=>{class te extends gt{constructor(ee,Pe){super(),this._platformLocation=ee,this._baseHref="",this._removeListenerFns=[],null!=Pe&&(this._baseHref=Pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ee){this._removeListenerFns.push(this._platformLocation.onPopState(ee),this._platformLocation.onHashChange(ee))}getBaseHref(){return this._baseHref}path(ee=!1){let Pe=this._platformLocation.hash;return null==Pe&&(Pe="#"),Pe.length>0?Pe.substring(1):Pe}prepareExternalUrl(ee){const Pe=lt(this._baseHref,ee);return Pe.length>0?"#"+Pe:Pe}pushState(ee,Pe,Ot,an){let mn=this.prepareExternalUrl(Ot+zt(an));0==mn.length&&(mn=this._platformLocation.pathname),this._platformLocation.pushState(ee,Pe,mn)}replaceState(ee,Pe,Ot,an){let mn=this.prepareExternalUrl(Ot+zt(an));0==mn.length&&(mn=this._platformLocation.pathname),this._platformLocation.replaceState(ee,Pe,mn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(ee=0){var Pe,Ot;null===(Ot=(Pe=this._platformLocation).historyGo)||void 0===Ot||Ot.call(Pe,ee)}}return te.\u0275fac=function(ee){return new(ee||te)(M.LFG(nt),M.LFG(w,8))},te.\u0275prov=M.Yz7({token:te,factory:te.\u0275fac}),te})(),ue=(()=>{class te{constructor(ee,Pe){this._subject=new M.vpe,this._urlChangeListeners=[],this._platformStrategy=ee;const Ot=this._platformStrategy.getBaseHref();this._platformLocation=Pe,this._baseHref=mt(Qe(Ot)),this._platformStrategy.onPopState(an=>{this._subject.emit({url:this.path(!0),pop:!0,state:an.state,type:an.type})})}path(ee=!1){return this.normalize(this._platformStrategy.path(ee))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(ee,Pe=""){return this.path()==this.normalize(ee+zt(Pe))}normalize(ee){return te.stripTrailingSlash(function De(te,Ee){return te&&Ee.startsWith(te)?Ee.substring(te.length):Ee}(this._baseHref,Qe(ee)))}prepareExternalUrl(ee){return ee&&"/"!==ee[0]&&(ee="/"+ee),this._platformStrategy.prepareExternalUrl(ee)}go(ee,Pe="",Ot=null){this._platformStrategy.pushState(Ot,"",ee,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(ee+zt(Pe)),Ot)}replaceState(ee,Pe="",Ot=null){this._platformStrategy.replaceState(Ot,"",ee,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(ee+zt(Pe)),Ot)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(ee=0){var Pe,Ot;null===(Ot=(Pe=this._platformStrategy).historyGo)||void 0===Ot||Ot.call(Pe,ee)}onUrlChange(ee){this._urlChangeListeners.push(ee),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Pe=>{this._notifyUrlChangeListeners(Pe.url,Pe.state)}))}_notifyUrlChangeListeners(ee="",Pe){this._urlChangeListeners.forEach(Ot=>Ot(ee,Pe))}subscribe(ee,Pe,Ot){return this._subject.subscribe({next:ee,error:Pe,complete:Ot})}}return te.normalizeQueryParams=zt,te.joinWithSlash=lt,te.stripTrailingSlash=mt,te.\u0275fac=function(ee){return new(ee||te)(M.LFG(gt),M.LFG(nt))},te.\u0275prov=M.Yz7({token:te,factory:function(){return function at(){return new ue((0,M.LFG)(gt),(0,M.LFG)(nt))}()},providedIn:"root"}),te})();function Qe(te){return te.replace(/\/index.html$/,"")}var je=(()=>((je=je||{})[je.Decimal=0]="Decimal",je[je.Percent=1]="Percent",je[je.Currency=2]="Currency",je[je.Scientific=3]="Scientific",je))(),It=(()=>((It=It||{})[It.Format=0]="Format",It[It.Standalone=1]="Standalone",It))(),Et=(()=>((Et=Et||{})[Et.Narrow=0]="Narrow",Et[Et.Abbreviated=1]="Abbreviated",Et[Et.Wide=2]="Wide",Et[Et.Short=3]="Short",Et))(),ln=(()=>((ln=ln||{})[ln.Short=0]="Short",ln[ln.Medium=1]="Medium",ln[ln.Long=2]="Long",ln[ln.Full=3]="Full",ln))(),ht=(()=>((ht=ht||{})[ht.Decimal=0]="Decimal",ht[ht.Group=1]="Group",ht[ht.List=2]="List",ht[ht.PercentSign=3]="PercentSign",ht[ht.PlusSign=4]="PlusSign",ht[ht.MinusSign=5]="MinusSign",ht[ht.Exponential=6]="Exponential",ht[ht.SuperscriptingExponent=7]="SuperscriptingExponent",ht[ht.PerMille=8]="PerMille",ht[ht.Infinity=9]="Infinity",ht[ht.NaN=10]="NaN",ht[ht.TimeSeparator=11]="TimeSeparator",ht[ht.CurrencyDecimal=12]="CurrencyDecimal",ht[ht.CurrencyGroup=13]="CurrencyGroup",ht))();function Zt(te,Ee,ee){const Pe=(0,M.cg1)(te),an=Qn([Pe[M.wAp.DayPeriodsFormat],Pe[M.wAp.DayPeriodsStandalone]],Ee);return Qn(an,ee)}function _r(te,Ee){return Qn((0,M.cg1)(te)[M.wAp.DateFormat],Ee)}function mi(te,Ee){return Qn((0,M.cg1)(te)[M.wAp.TimeFormat],Ee)}function ri(te,Ee){return Qn((0,M.cg1)(te)[M.wAp.DateTimeFormat],Ee)}function Dr(te,Ee){const ee=(0,M.cg1)(te),Pe=ee[M.wAp.NumberSymbols][Ee];if(void 0===Pe){if(Ee===ht.CurrencyDecimal)return ee[M.wAp.NumberSymbols][ht.Decimal];if(Ee===ht.CurrencyGroup)return ee[M.wAp.NumberSymbols][ht.Group]}return Pe}function ci(te){if(!te[M.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${te[M.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qn(te,Ee){for(let ee=Ee;ee>-1;ee--)if(void 0!==te[ee])return te[ee];throw new Error("Locale data API: locale data undefined")}function Ht(te){const[Ee,ee]=te.split(":");return{hours:+Ee,minutes:+ee}}const xe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oe={},Me=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ye=(()=>((ye=ye||{})[ye.Short=0]="Short",ye[ye.ShortGMT=1]="ShortGMT",ye[ye.Long=2]="Long",ye[ye.Extended=3]="Extended",ye))(),ze=(()=>((ze=ze||{})[ze.FullYear=0]="FullYear",ze[ze.Month=1]="Month",ze[ze.Date=2]="Date",ze[ze.Hours=3]="Hours",ze[ze.Minutes=4]="Minutes",ze[ze.Seconds=5]="Seconds",ze[ze.FractionalSeconds=6]="FractionalSeconds",ze[ze.Day=7]="Day",ze))(),ut=(()=>((ut=ut||{})[ut.DayPeriods=0]="DayPeriods",ut[ut.Days=1]="Days",ut[ut.Months=2]="Months",ut[ut.Eras=3]="Eras",ut))();function en(te,Ee,ee,Pe){let Ot=function vt(te){if(bt(te))return te;if("number"==typeof te&&!isNaN(te))return new Date(te);if("string"==typeof te){if(te=te.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(te)){const[Ot,an=1,mn=1]=te.split("-").map(tr=>+tr);return gn(Ot,an-1,mn)}const ee=parseFloat(te);if(!isNaN(te-ee))return new Date(ee);let Pe;if(Pe=te.match(xe))return function $e(te){const Ee=new Date(0);let ee=0,Pe=0;const Ot=te[8]?Ee.setUTCFullYear:Ee.setFullYear,an=te[8]?Ee.setUTCHours:Ee.setHours;te[9]&&(ee=Number(te[9]+te[10]),Pe=Number(te[9]+te[11])),Ot.call(Ee,Number(te[1]),Number(te[2])-1,Number(te[3]));const mn=Number(te[4]||0)-ee,tr=Number(te[5]||0)-Pe,Si=Number(te[6]||0),ni=Math.floor(1e3*parseFloat("0."+(te[7]||0)));return an.call(Ee,mn,tr,Si,ni),Ee}(Pe)}const Ee=new Date(te);if(!bt(Ee))throw new Error(`Unable to convert "${te}" into a date`);return Ee}(te);Ee=Nn(ee,Ee)||Ee;let tr,mn=[];for(;Ee;){if(tr=Me.exec(Ee),!tr){mn.push(Ee);break}{mn=mn.concat(tr.slice(1));const Yr=mn.pop();if(!Yr)break;Ee=Yr}}let Si=Ot.getTimezoneOffset();Pe&&(Si=pi(Pe,Si),Ot=function Rt(te,Ee,ee){const Pe=ee?-1:1,Ot=te.getTimezoneOffset();return function $r(te,Ee){return(te=new Date(te.getTime())).setMinutes(te.getMinutes()+Ee),te}(te,Pe*(pi(Ee,Ot)-Ot))}(Ot,Pe,!0));let ni="";return mn.forEach(Yr=>{const di=function jn(te){if(_n[te])return _n[te];let Ee;switch(te){case"G":case"GG":case"GGG":Ee=ce(ut.Eras,Et.Abbreviated);break;case"GGGG":Ee=ce(ut.Eras,Et.Wide);break;case"GGGGG":Ee=ce(ut.Eras,Et.Narrow);break;case"y":Ee=vn(ze.FullYear,1,0,!1,!0);break;case"yy":Ee=vn(ze.FullYear,2,0,!0,!0);break;case"yyy":Ee=vn(ze.FullYear,3,0,!1,!0);break;case"yyyy":Ee=vn(ze.FullYear,4,0,!1,!0);break;case"Y":Ee=St(1);break;case"YY":Ee=St(2,!0);break;case"YYY":Ee=St(3);break;case"YYYY":Ee=St(4);break;case"M":case"L":Ee=vn(ze.Month,1,1);break;case"MM":case"LL":Ee=vn(ze.Month,2,1);break;case"MMM":Ee=ce(ut.Months,Et.Abbreviated);break;case"MMMM":Ee=ce(ut.Months,Et.Wide);break;case"MMMMM":Ee=ce(ut.Months,Et.Narrow);break;case"LLL":Ee=ce(ut.Months,Et.Abbreviated,It.Standalone);break;case"LLLL":Ee=ce(ut.Months,Et.Wide,It.Standalone);break;case"LLLLL":Ee=ce(ut.Months,Et.Narrow,It.Standalone);break;case"w":Ee=ar(1);break;case"ww":Ee=ar(2);break;case"W":Ee=ar(1,!0);break;case"d":Ee=vn(ze.Date,1);break;case"dd":Ee=vn(ze.Date,2);break;case"c":case"cc":Ee=vn(ze.Day,1);break;case"ccc":Ee=ce(ut.Days,Et.Abbreviated,It.Standalone);break;case"cccc":Ee=ce(ut.Days,Et.Wide,It.Standalone);break;case"ccccc":Ee=ce(ut.Days,Et.Narrow,It.Standalone);break;case"cccccc":Ee=ce(ut.Days,Et.Short,It.Standalone);break;case"E":case"EE":case"EEE":Ee=ce(ut.Days,Et.Abbreviated);break;case"EEEE":Ee=ce(ut.Days,Et.Wide);break;case"EEEEE":Ee=ce(ut.Days,Et.Narrow);break;case"EEEEEE":Ee=ce(ut.Days,Et.Short);break;case"a":case"aa":case"aaa":Ee=ce(ut.DayPeriods,Et.Abbreviated);break;case"aaaa":Ee=ce(ut.DayPeriods,Et.Wide);break;case"aaaaa":Ee=ce(ut.DayPeriods,Et.Narrow);break;case"b":case"bb":case"bbb":Ee=ce(ut.DayPeriods,Et.Abbreviated,It.Standalone,!0);break;case"bbbb":Ee=ce(ut.DayPeriods,Et.Wide,It.Standalone,!0);break;case"bbbbb":Ee=ce(ut.DayPeriods,Et.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":Ee=ce(ut.DayPeriods,Et.Abbreviated,It.Format,!0);break;case"BBBB":Ee=ce(ut.DayPeriods,Et.Wide,It.Format,!0);break;case"BBBBB":Ee=ce(ut.DayPeriods,Et.Narrow,It.Format,!0);break;case"h":Ee=vn(ze.Hours,1,-12);break;case"hh":Ee=vn(ze.Hours,2,-12);break;case"H":Ee=vn(ze.Hours,1);break;case"HH":Ee=vn(ze.Hours,2);break;case"m":Ee=vn(ze.Minutes,1);break;case"mm":Ee=vn(ze.Minutes,2);break;case"s":Ee=vn(ze.Seconds,1);break;case"ss":Ee=vn(ze.Seconds,2);break;case"S":Ee=vn(ze.FractionalSeconds,1);break;case"SS":Ee=vn(ze.FractionalSeconds,2);break;case"SSS":Ee=vn(ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ee=pt(ye.Short);break;case"ZZZZZ":Ee=pt(ye.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ee=pt(ye.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ee=pt(ye.Long);break;default:return null}return _n[te]=Ee,Ee}(Yr);ni+=di?di(Ot,ee,Si):"''"===Yr?"'":Yr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ni}function gn(te,Ee,ee){const Pe=new Date(0);return Pe.setFullYear(te,Ee,ee),Pe.setHours(0,0,0),Pe}function Nn(te,Ee){const ee=function qe(te){return(0,M.cg1)(te)[M.wAp.LocaleId]}(te);if(oe[ee]=oe[ee]||{},oe[ee][Ee])return oe[ee][Ee];let Pe="";switch(Ee){case"shortDate":Pe=_r(te,ln.Short);break;case"mediumDate":Pe=_r(te,ln.Medium);break;case"longDate":Pe=_r(te,ln.Long);break;case"fullDate":Pe=_r(te,ln.Full);break;case"shortTime":Pe=mi(te,ln.Short);break;case"mediumTime":Pe=mi(te,ln.Medium);break;case"longTime":Pe=mi(te,ln.Long);break;case"fullTime":Pe=mi(te,ln.Full);break;case"short":const Ot=Nn(te,"shortTime"),an=Nn(te,"shortDate");Pe=ur(ri(te,ln.Short),[Ot,an]);break;case"medium":const mn=Nn(te,"mediumTime"),tr=Nn(te,"mediumDate");Pe=ur(ri(te,ln.Medium),[mn,tr]);break;case"long":const Si=Nn(te,"longTime"),ni=Nn(te,"longDate");Pe=ur(ri(te,ln.Long),[Si,ni]);break;case"full":const Yr=Nn(te,"fullTime"),di=Nn(te,"fullDate");Pe=ur(ri(te,ln.Full),[Yr,di])}return Pe&&(oe[ee][Ee]=Pe),Pe}function ur(te,Ee){return Ee&&(te=te.replace(/\{([^}]+)}/g,function(ee,Pe){return null!=Ee&&Pe in Ee?Ee[Pe]:ee})),te}function qn(te,Ee,ee="-",Pe,Ot){let an="";(te<0||Ot&&te<=0)&&(Ot?te=1-te:(te=-te,an=ee));let mn=String(te);for(;mn.length<Ee;)mn="0"+mn;return Pe&&(mn=mn.substr(mn.length-Ee)),an+mn}function vn(te,Ee,ee=0,Pe=!1,Ot=!1){return function(an,mn){let tr=function bn(te,Ee){switch(te){case ze.FullYear:return Ee.getFullYear();case ze.Month:return Ee.getMonth();case ze.Date:return Ee.getDate();case ze.Hours:return Ee.getHours();case ze.Minutes:return Ee.getMinutes();case ze.Seconds:return Ee.getSeconds();case ze.FractionalSeconds:return Ee.getMilliseconds();case ze.Day:return Ee.getDay();default:throw new Error(`Unknown DateType value "${te}".`)}}(te,an);if((ee>0||tr>-ee)&&(tr+=ee),te===ze.Hours)0===tr&&-12===ee&&(tr=12);else if(te===ze.FractionalSeconds)return function Gt(te,Ee){return qn(te,3).substr(0,Ee)}(tr,Ee);const Si=Dr(mn,ht.MinusSign);return qn(tr,Ee,Si,Pe,Ot)}}function ce(te,Ee,ee=It.Format,Pe=!1){return function(Ot,an){return function Lt(te,Ee,ee,Pe,Ot,an){switch(ee){case ut.Months:return function Xt(te,Ee,ee){const Pe=(0,M.cg1)(te),an=Qn([Pe[M.wAp.MonthsFormat],Pe[M.wAp.MonthsStandalone]],Ee);return Qn(an,ee)}(Ee,Ot,Pe)[te.getMonth()];case ut.Days:return function wt(te,Ee,ee){const Pe=(0,M.cg1)(te),an=Qn([Pe[M.wAp.DaysFormat],Pe[M.wAp.DaysStandalone]],Ee);return Qn(an,ee)}(Ee,Ot,Pe)[te.getDay()];case ut.DayPeriods:const mn=te.getHours(),tr=te.getMinutes();if(an){const ni=function no(te){const Ee=(0,M.cg1)(te);return ci(Ee),(Ee[M.wAp.ExtraData][2]||[]).map(Pe=>"string"==typeof Pe?Ht(Pe):[Ht(Pe[0]),Ht(Pe[1])])}(Ee),Yr=function Zn(te,Ee,ee){const Pe=(0,M.cg1)(te);ci(Pe);const an=Qn([Pe[M.wAp.ExtraData][0],Pe[M.wAp.ExtraData][1]],Ee)||[];return Qn(an,ee)||[]}(Ee,Ot,Pe),di=ni.findIndex(ji=>{if(Array.isArray(ji)){const[Ei,Pi]=ji,va=mn>=Ei.hours&&tr>=Ei.minutes,io=mn<Pi.hours||mn===Pi.hours&&tr<Pi.minutes;if(Ei.hours<Pi.hours){if(va&&io)return!0}else if(va||io)return!0}else if(ji.hours===mn&&ji.minutes===tr)return!0;return!1});if(-1!==di)return Yr[di]}return Zt(Ee,Ot,Pe)[mn<12?0:1];case ut.Eras:return function Kn(te,Ee){return Qn((0,M.cg1)(te)[M.wAp.Eras],Ee)}(Ee,Pe)[te.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ee}`)}}(Ot,an,te,Ee,ee,Pe)}}function pt(te){return function(Ee,ee,Pe){const Ot=-1*Pe,an=Dr(ee,ht.MinusSign),mn=Ot>0?Math.floor(Ot/60):Math.ceil(Ot/60);switch(te){case ye.Short:return(Ot>=0?"+":"")+qn(mn,2,an)+qn(Math.abs(Ot%60),2,an);case ye.ShortGMT:return"GMT"+(Ot>=0?"+":"")+qn(mn,1,an);case ye.Long:return"GMT"+(Ot>=0?"+":"")+qn(mn,2,an)+":"+qn(Math.abs(Ot%60),2,an);case ye.Extended:return 0===Pe?"Z":(Ot>=0?"+":"")+qn(mn,2,an)+":"+qn(Math.abs(Ot%60),2,an);default:throw new Error(`Unknown zone width "${te}"`)}}}function Hn(te){return gn(te.getFullYear(),te.getMonth(),te.getDate()+(4-te.getDay()))}function ar(te,Ee=!1){return function(ee,Pe){let Ot;if(Ee){const an=new Date(ee.getFullYear(),ee.getMonth(),1).getDay()-1,mn=ee.getDate();Ot=1+Math.floor((mn+an)/7)}else{const an=Hn(ee),mn=function Qt(te){const Ee=gn(te,0,1).getDay();return gn(te,0,1+(Ee<=4?4:11)-Ee)}(an.getFullYear()),tr=an.getTime()-mn.getTime();Ot=1+Math.round(tr/6048e5)}return qn(Ot,te,Dr(Pe,ht.MinusSign))}}function St(te,Ee=!1){return function(ee,Pe){return qn(Hn(ee).getFullYear(),te,Dr(Pe,ht.MinusSign),Ee)}}const _n={};function pi(te,Ee){te=te.replace(/:/g,"");const ee=Date.parse("Jan 01, 1970 00:00:00 "+te)/6e4;return isNaN(ee)?Ee:ee}function bt(te){return te instanceof Date&&!isNaN(te.valueOf())}const Ge=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function fr(te){const Ee=parseInt(te);if(isNaN(Ee))throw new Error("Invalid integer literal when parsing "+te);return Ee}function Wi(te,Ee){Ee=encodeURIComponent(Ee);for(const ee of te.split(";")){const Pe=ee.indexOf("="),[Ot,an]=-1==Pe?[ee,""]:[ee.slice(0,Pe),ee.slice(Pe+1)];if(Ot.trim()===Ee)return decodeURIComponent(an)}return null}let $i=(()=>{class te{constructor(ee,Pe,Ot,an){this._iterableDiffers=ee,this._keyValueDiffers=Pe,this._ngEl=Ot,this._renderer=an,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(ee){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof ee?ee.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(ee){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof ee?ee.split(/\s+/):ee,this._rawClass&&((0,M.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const ee=this._iterableDiffer.diff(this._rawClass);ee&&this._applyIterableChanges(ee)}else if(this._keyValueDiffer){const ee=this._keyValueDiffer.diff(this._rawClass);ee&&this._applyKeyValueChanges(ee)}}_applyKeyValueChanges(ee){ee.forEachAddedItem(Pe=>this._toggleClass(Pe.key,Pe.currentValue)),ee.forEachChangedItem(Pe=>this._toggleClass(Pe.key,Pe.currentValue)),ee.forEachRemovedItem(Pe=>{Pe.previousValue&&this._toggleClass(Pe.key,!1)})}_applyIterableChanges(ee){ee.forEachAddedItem(Pe=>{if("string"!=typeof Pe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,M.AaK)(Pe.item)}`);this._toggleClass(Pe.item,!0)}),ee.forEachRemovedItem(Pe=>this._toggleClass(Pe.item,!1))}_applyClasses(ee){ee&&(Array.isArray(ee)||ee instanceof Set?ee.forEach(Pe=>this._toggleClass(Pe,!0)):Object.keys(ee).forEach(Pe=>this._toggleClass(Pe,!!ee[Pe])))}_removeClasses(ee){ee&&(Array.isArray(ee)||ee instanceof Set?ee.forEach(Pe=>this._toggleClass(Pe,!1)):Object.keys(ee).forEach(Pe=>this._toggleClass(Pe,!1)))}_toggleClass(ee,Pe){(ee=ee.trim())&&ee.split(/\s+/g).forEach(Ot=>{Pe?this._renderer.addClass(this._ngEl.nativeElement,Ot):this._renderer.removeClass(this._ngEl.nativeElement,Ot)})}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.ZZ4),M.Y36(M.aQg),M.Y36(M.SBq),M.Y36(M.Qsj))},te.\u0275dir=M.lG2({type:te,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),te})();class Oo{constructor(Ee,ee,Pe,Ot){this.$implicit=Ee,this.ngForOf=ee,this.index=Pe,this.count=Ot}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ti=(()=>{class te{constructor(ee,Pe,Ot){this._viewContainer=ee,this._template=Pe,this._differs=Ot,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ee){this._ngForOf=ee,this._ngForOfDirty=!0}set ngForTrackBy(ee){this._trackByFn=ee}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(ee){ee&&(this._template=ee)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ee=this._ngForOf;!this._differ&&ee&&(this._differ=this._differs.find(ee).create(this.ngForTrackBy))}if(this._differ){const ee=this._differ.diff(this._ngForOf);ee&&this._applyChanges(ee)}}_applyChanges(ee){const Pe=this._viewContainer;ee.forEachOperation((Ot,an,mn)=>{if(null==Ot.previousIndex)Pe.createEmbeddedView(this._template,new Oo(Ot.item,this._ngForOf,-1,-1),null===mn?void 0:mn);else if(null==mn)Pe.remove(null===an?void 0:an);else if(null!==an){const tr=Pe.get(an);Pe.move(tr,mn),mo(tr,Ot)}});for(let Ot=0,an=Pe.length;Ot<an;Ot++){const tr=Pe.get(Ot).context;tr.index=Ot,tr.count=an,tr.ngForOf=this._ngForOf}ee.forEachIdentityChange(Ot=>{mo(Pe.get(Ot.currentIndex),Ot)})}static ngTemplateContextGuard(ee,Pe){return!0}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(M.ZZ4))},te.\u0275dir=M.lG2({type:te,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),te})();function mo(te,Ee){te.context.$implicit=Ee.item}let qi=(()=>{class te{constructor(ee,Pe){this._viewContainer=ee,this._context=new rn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Pe}set ngIf(ee){this._context.$implicit=this._context.ngIf=ee,this._updateView()}set ngIfThen(ee){Po("ngIfThen",ee),this._thenTemplateRef=ee,this._thenViewRef=null,this._updateView()}set ngIfElse(ee){Po("ngIfElse",ee),this._elseTemplateRef=ee,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ee,Pe){return!0}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.s_b),M.Y36(M.Rgc))},te.\u0275dir=M.lG2({type:te,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),te})();class rn{constructor(){this.$implicit=null,this.ngIf=null}}function Po(te,Ee){if(Ee&&!Ee.createEmbeddedView)throw new Error(`${te} must be a TemplateRef, but received '${(0,M.AaK)(Ee)}'.`)}class yo{constructor(Ee,ee){this._viewContainerRef=Ee,this._templateRef=ee,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Ee){Ee&&!this._created?this.create():!Ee&&this._created&&this.destroy()}}let yn=(()=>{class te{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ee){this._ngSwitch=ee,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ee){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(ee)}_matchCase(ee){const Pe=ee==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Pe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Pe}_updateDefaultCases(ee){if(this._defaultViews&&ee!==this._defaultUsed){this._defaultUsed=ee;for(let Pe=0;Pe<this._defaultViews.length;Pe++)this._defaultViews[Pe].enforceState(ee)}}}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275dir=M.lG2({type:te,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),te})(),bi=(()=>{class te{constructor(ee,Pe,Ot){this.ngSwitch=Ot,Ot._addCase(),this._view=new yo(ee,Pe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(yn,9))},te.\u0275dir=M.lG2({type:te,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),te})(),ia=(()=>{class te{constructor(ee,Pe,Ot){Ot._addDefault(new yo(ee,Pe))}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(yn,9))},te.\u0275dir=M.lG2({type:te,selectors:[["","ngSwitchDefault",""]]}),te})(),ns=(()=>{class te{constructor(ee,Pe,Ot){this._ngEl=ee,this._differs=Pe,this._renderer=Ot,this._ngStyle=null,this._differ=null}set ngStyle(ee){this._ngStyle=ee,!this._differ&&ee&&(this._differ=this._differs.find(ee).create())}ngDoCheck(){if(this._differ){const ee=this._differ.diff(this._ngStyle);ee&&this._applyChanges(ee)}}_setStyle(ee,Pe){const[Ot,an]=ee.split(".");null!=(Pe=null!=Pe&&an?`${Pe}${an}`:Pe)?this._renderer.setStyle(this._ngEl.nativeElement,Ot,Pe):this._renderer.removeStyle(this._ngEl.nativeElement,Ot)}_applyChanges(ee){ee.forEachRemovedItem(Pe=>this._setStyle(Pe.key,null)),ee.forEachAddedItem(Pe=>this._setStyle(Pe.key,Pe.currentValue)),ee.forEachChangedItem(Pe=>this._setStyle(Pe.key,Pe.currentValue))}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.SBq),M.Y36(M.aQg),M.Y36(M.Qsj))},te.\u0275dir=M.lG2({type:te,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),te})(),Ba=(()=>{class te{constructor(ee){this._viewContainerRef=ee,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(ee){if(ee.ngTemplateOutlet){const Pe=this._viewContainerRef;this._viewRef&&Pe.remove(Pe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Pe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&ee.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.s_b))},te.\u0275dir=M.lG2({type:te,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[M.TTD]}),te})();function co(te,Ee){return new M.vHH(2100,"")}const uo=new M.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Cs=(()=>{class te{constructor(ee,Pe){this.locale=ee,this.defaultTimezone=Pe}transform(ee,Pe="mediumDate",Ot,an){var mn;if(null==ee||""===ee||ee!=ee)return null;try{return en(ee,Pe,an||this.locale,null!==(mn=null!=Ot?Ot:this.defaultTimezone)&&void 0!==mn?mn:void 0)}catch(tr){throw co()}}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.soG,16),M.Y36(uo,24))},te.\u0275pipe=M.Yjl({name:"date",type:te,pure:!0}),te})(),xa=(()=>{class te{constructor(ee){this._locale=ee}transform(ee,Pe,Ot){if(!function rs(te){return!(null==te||""===te||te!=te)}(ee))return null;Ot=Ot||this._locale;try{return function Sr(te,Ee,ee){return function Bi(te,Ee,ee,Pe,Ot,an,mn=!1){let tr="",Si=!1;if(isFinite(te)){let ni=function ii(te){let Pe,Ot,an,mn,tr,Ee=Math.abs(te)+"",ee=0;for((Ot=Ee.indexOf("."))>-1&&(Ee=Ee.replace(".","")),(an=Ee.search(/e/i))>0?(Ot<0&&(Ot=an),Ot+=+Ee.slice(an+1),Ee=Ee.substring(0,an)):Ot<0&&(Ot=Ee.length),an=0;"0"===Ee.charAt(an);an++);if(an===(tr=Ee.length))Pe=[0],Ot=1;else{for(tr--;"0"===Ee.charAt(tr);)tr--;for(Ot-=an,Pe=[],mn=0;an<=tr;an++,mn++)Pe[mn]=Number(Ee.charAt(an))}return Ot>22&&(Pe=Pe.splice(0,21),ee=Ot-1,Ot=1),{digits:Pe,exponent:ee,integerLen:Ot}}(te);mn&&(ni=function Zi(te){if(0===te.digits[0])return te;const Ee=te.digits.length-te.integerLen;return te.exponent?te.exponent+=2:(0===Ee?te.digits.push(0,0):1===Ee&&te.digits.push(0),te.integerLen+=2),te}(ni));let Yr=Ee.minInt,di=Ee.minFrac,ji=Ee.maxFrac;if(an){const jo=an.match(Ge);if(null===jo)throw new Error(`${an} is not a valid digit info`);const Aa=jo[1],ss=jo[3],Di=jo[5];null!=Aa&&(Yr=fr(Aa)),null!=ss&&(di=fr(ss)),null!=Di?ji=fr(Di):null!=ss&&di>ji&&(ji=di)}!function Or(te,Ee,ee){if(Ee>ee)throw new Error(`The minimum number of digits after fraction (${Ee}) is higher than the maximum (${ee}).`);let Pe=te.digits,Ot=Pe.length-te.integerLen;const an=Math.min(Math.max(Ee,Ot),ee);let mn=an+te.integerLen,tr=Pe[mn];if(mn>0){Pe.splice(Math.max(te.integerLen,mn));for(let di=mn;di<Pe.length;di++)Pe[di]=0}else{Ot=Math.max(0,Ot),te.integerLen=1,Pe.length=Math.max(1,mn=an+1),Pe[0]=0;for(let di=1;di<mn;di++)Pe[di]=0}if(tr>=5)if(mn-1<0){for(let di=0;di>mn;di--)Pe.unshift(0),te.integerLen++;Pe.unshift(1),te.integerLen++}else Pe[mn-1]++;for(;Ot<Math.max(0,an);Ot++)Pe.push(0);let Si=0!==an;const ni=Ee+te.integerLen,Yr=Pe.reduceRight(function(di,ji,Ei,Pi){return Pi[Ei]=(ji+=di)<10?ji:ji-10,Si&&(0===Pi[Ei]&&Ei>=ni?Pi.pop():Si=!1),ji>=10?1:0},0);Yr&&(Pe.unshift(Yr),te.integerLen++)}(ni,di,ji);let Ei=ni.digits,Pi=ni.integerLen;const va=ni.exponent;let io=[];for(Si=Ei.every(jo=>!jo);Pi<Yr;Pi++)Ei.unshift(0);for(;Pi<0;Pi++)Ei.unshift(0);Pi>0?io=Ei.splice(Pi,Ei.length):(io=Ei,Ei=[0]);const mr=[];for(Ei.length>=Ee.lgSize&&mr.unshift(Ei.splice(-Ee.lgSize,Ei.length).join(""));Ei.length>Ee.gSize;)mr.unshift(Ei.splice(-Ee.gSize,Ei.length).join(""));Ei.length&&mr.unshift(Ei.join("")),tr=mr.join(Dr(ee,Pe)),io.length&&(tr+=Dr(ee,Ot)+io.join("")),va&&(tr+=Dr(ee,ht.Exponential)+"+"+va)}else tr=Dr(ee,ht.Infinity);return tr=te<0&&!Si?Ee.negPre+tr+Ee.negSuf:Ee.posPre+tr+Ee.posSuf,tr}(te,function ui(te,Ee="-"){const ee={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Pe=te.split(";"),Ot=Pe[0],an=Pe[1],mn=-1!==Ot.indexOf(".")?Ot.split("."):[Ot.substring(0,Ot.lastIndexOf("0")+1),Ot.substring(Ot.lastIndexOf("0")+1)],tr=mn[0],Si=mn[1]||"";ee.posPre=tr.substr(0,tr.indexOf("#"));for(let Yr=0;Yr<Si.length;Yr++){const di=Si.charAt(Yr);"0"===di?ee.minFrac=ee.maxFrac=Yr+1:"#"===di?ee.maxFrac=Yr+1:ee.posSuf+=di}const ni=tr.split(",");if(ee.gSize=ni[1]?ni[1].length:0,ee.lgSize=ni[2]||ni[1]?(ni[2]||ni[1]).length:0,an){const Yr=Ot.length-ee.posPre.length-ee.posSuf.length,di=an.indexOf("#");ee.negPre=an.substr(0,di).replace(/'/g,""),ee.negSuf=an.substr(di+Yr).replace(/'/g,"")}else ee.negPre=Ee+ee.posPre,ee.negSuf=ee.posSuf;return ee}(function Gi(te,Ee){return(0,M.cg1)(te)[M.wAp.NumberFormats][Ee]}(Ee,je.Decimal),Dr(Ee,ht.MinusSign)),Ee,ht.Group,ht.Decimal,ee)}(function is(te){if("string"==typeof te&&!isNaN(Number(te)-parseFloat(te)))return Number(te);if("number"!=typeof te)throw new Error(`${te} is not a number`);return te}(ee),Ot,Pe)}catch(an){throw co()}}}return te.\u0275fac=function(ee){return new(ee||te)(M.Y36(M.soG,16))},te.\u0275pipe=M.Yjl({name:"number",type:te,pure:!0}),te})();let os=(()=>{class te{}return te.\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=M.oAB({type:te}),te.\u0275inj=M.cJS({}),te})();const Bo="browser";function To(te){return te===Bo}let Wo=(()=>{class te{}return te.\u0275prov=(0,M.Yz7)({token:te,providedIn:"root",factory:()=>new _o((0,M.LFG)(Ze),window)}),te})();class _o{constructor(Ee,ee){this.document=Ee,this.window=ee,this.offset=()=>[0,0]}setOffset(Ee){this.offset=Array.isArray(Ee)?()=>Ee:Ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Ee){this.supportsScrolling()&&this.window.scrollTo(Ee[0],Ee[1])}scrollToAnchor(Ee){if(!this.supportsScrolling())return;const ee=function as(te,Ee){const ee=te.getElementById(Ee)||te.getElementsByName(Ee)[0];if(ee)return ee;if("function"==typeof te.createTreeWalker&&te.body&&(te.body.createShadowRoot||te.body.attachShadow)){const Pe=te.createTreeWalker(te.body,NodeFilter.SHOW_ELEMENT);let Ot=Pe.currentNode;for(;Ot;){const an=Ot.shadowRoot;if(an){const mn=an.getElementById(Ee)||an.querySelector(`[name="${Ee}"]`);if(mn)return mn}Ot=Pe.nextNode()}}return null}(this.document,Ee);ee&&(this.scrollToElement(ee),ee.focus())}setHistoryScrollRestoration(Ee){if(this.supportScrollRestoration()){const ee=this.window.history;ee&&ee.scrollRestoration&&(ee.scrollRestoration=Ee)}}scrollToElement(Ee){const ee=Ee.getBoundingClientRect(),Pe=ee.left+this.window.pageXOffset,Ot=ee.top+this.window.pageYOffset,an=this.offset();this.window.scrollTo(Pe-an[0],Ot-an[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Ee=Zo(this.window.history)||Zo(Object.getPrototypeOf(this.window.history));return!(!Ee||!Ee.writable&&!Ee.set)}catch(Ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ee){return!1}}}function Zo(te){return Object.getOwnPropertyDescriptor(te,"scrollRestoration")}class Mi{}},520:(An,Dt,H)=>{H.d(Dt,{JF:()=>Ht,PG:()=>nt,TP:()=>qe,WM:()=>Fe,Zn:()=>It,aW:()=>Qe,dt:()=>Ct,eN:()=>ht,jN:()=>Je});var M=H(9808),G=H(5e3),B=H(9646),Le=H(8306),Ne=H(4351),Ue=H(9300),Ze=H(4004);class nt{}class Je{}class Fe{constructor(xe){this.normalizedNames=new Map,this.lazyUpdate=null,xe?this.lazyInit="string"==typeof xe?()=>{this.headers=new Map,xe.split("\n").forEach(oe=>{const Me=oe.indexOf(":");if(Me>0){const ye=oe.slice(0,Me),ze=ye.toLowerCase(),ut=oe.slice(Me+1).trim();this.maybeSetNormalizedName(ye,ze),this.headers.has(ze)?this.headers.get(ze).push(ut):this.headers.set(ze,[ut])}})}:()=>{this.headers=new Map,Object.keys(xe).forEach(oe=>{let Me=xe[oe];const ye=oe.toLowerCase();"string"==typeof Me&&(Me=[Me]),Me.length>0&&(this.headers.set(ye,Me),this.maybeSetNormalizedName(oe,ye))})}:this.headers=new Map}has(xe){return this.init(),this.headers.has(xe.toLowerCase())}get(xe){this.init();const oe=this.headers.get(xe.toLowerCase());return oe&&oe.length>0?oe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(xe){return this.init(),this.headers.get(xe.toLowerCase())||null}append(xe,oe){return this.clone({name:xe,value:oe,op:"a"})}set(xe,oe){return this.clone({name:xe,value:oe,op:"s"})}delete(xe,oe){return this.clone({name:xe,value:oe,op:"d"})}maybeSetNormalizedName(xe,oe){this.normalizedNames.has(oe)||this.normalizedNames.set(oe,xe)}init(){this.lazyInit&&(this.lazyInit instanceof Fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(xe=>this.applyUpdate(xe)),this.lazyUpdate=null))}copyFrom(xe){xe.init(),Array.from(xe.headers.keys()).forEach(oe=>{this.headers.set(oe,xe.headers.get(oe)),this.normalizedNames.set(oe,xe.normalizedNames.get(oe))})}clone(xe){const oe=new Fe;return oe.lazyInit=this.lazyInit&&this.lazyInit instanceof Fe?this.lazyInit:this,oe.lazyUpdate=(this.lazyUpdate||[]).concat([xe]),oe}applyUpdate(xe){const oe=xe.name.toLowerCase();switch(xe.op){case"a":case"s":let Me=xe.value;if("string"==typeof Me&&(Me=[Me]),0===Me.length)return;this.maybeSetNormalizedName(xe.name,oe);const ye=("a"===xe.op?this.headers.get(oe):void 0)||[];ye.push(...Me),this.headers.set(oe,ye);break;case"d":const ze=xe.value;if(ze){let ut=this.headers.get(oe);if(!ut)return;ut=ut.filter(en=>-1===ze.indexOf(en)),0===ut.length?(this.headers.delete(oe),this.normalizedNames.delete(oe)):this.headers.set(oe,ut)}else this.headers.delete(oe),this.normalizedNames.delete(oe)}}forEach(xe){this.init(),Array.from(this.normalizedNames.keys()).forEach(oe=>xe(this.normalizedNames.get(oe),this.headers.get(oe)))}}class we{encodeKey(xe){return mt(xe)}encodeValue(xe){return mt(xe)}decodeKey(xe){return decodeURIComponent(xe)}decodeValue(xe){return decodeURIComponent(xe)}}const ot=/%(\d[a-f0-9])/gi,lt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function mt(Re){return encodeURIComponent(Re).replace(ot,(xe,oe)=>{var Me;return null!==(Me=lt[oe])&&void 0!==Me?Me:xe})}function zt(Re){return`${Re}`}class gt{constructor(xe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=xe.encoder||new we,xe.fromString){if(xe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ae(Re,xe){const oe=new Map;return Re.length>0&&Re.replace(/^\?/,"").split("&").forEach(ye=>{const ze=ye.indexOf("="),[ut,en]=-1==ze?[xe.decodeKey(ye),""]:[xe.decodeKey(ye.slice(0,ze)),xe.decodeValue(ye.slice(ze+1))],gn=oe.get(ut)||[];gn.push(en),oe.set(ut,gn)}),oe}(xe.fromString,this.encoder)}else xe.fromObject?(this.map=new Map,Object.keys(xe.fromObject).forEach(oe=>{const Me=xe.fromObject[oe];this.map.set(oe,Array.isArray(Me)?Me:[Me])})):this.map=null}has(xe){return this.init(),this.map.has(xe)}get(xe){this.init();const oe=this.map.get(xe);return oe?oe[0]:null}getAll(xe){return this.init(),this.map.get(xe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(xe,oe){return this.clone({param:xe,value:oe,op:"a"})}appendAll(xe){const oe=[];return Object.keys(xe).forEach(Me=>{const ye=xe[Me];Array.isArray(ye)?ye.forEach(ze=>{oe.push({param:Me,value:ze,op:"a"})}):oe.push({param:Me,value:ye,op:"a"})}),this.clone(oe)}set(xe,oe){return this.clone({param:xe,value:oe,op:"s"})}delete(xe,oe){return this.clone({param:xe,value:oe,op:"d"})}toString(){return this.init(),this.keys().map(xe=>{const oe=this.encoder.encodeKey(xe);return this.map.get(xe).map(Me=>oe+"="+this.encoder.encodeValue(Me)).join("&")}).filter(xe=>""!==xe).join("&")}clone(xe){const oe=new gt({encoder:this.encoder});return oe.cloneFrom=this.cloneFrom||this,oe.updates=(this.updates||[]).concat(xe),oe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(xe=>this.map.set(xe,this.cloneFrom.map.get(xe))),this.updates.forEach(xe=>{switch(xe.op){case"a":case"s":const oe=("a"===xe.op?this.map.get(xe.param):void 0)||[];oe.push(zt(xe.value)),this.map.set(xe.param,oe);break;case"d":if(void 0===xe.value){this.map.delete(xe.param);break}{let Me=this.map.get(xe.param)||[];const ye=Me.indexOf(zt(xe.value));-1!==ye&&Me.splice(ye,1),Me.length>0?this.map.set(xe.param,Me):this.map.delete(xe.param)}}}),this.cloneFrom=this.updates=null)}}class w{constructor(){this.map=new Map}set(xe,oe){return this.map.set(xe,oe),this}get(xe){return this.map.has(xe)||this.map.set(xe,xe.defaultValue()),this.map.get(xe)}delete(xe){return this.map.delete(xe),this}has(xe){return this.map.has(xe)}keys(){return this.map.keys()}}function Yt(Re){return"undefined"!=typeof ArrayBuffer&&Re instanceof ArrayBuffer}function ue(Re){return"undefined"!=typeof Blob&&Re instanceof Blob}function at(Re){return"undefined"!=typeof FormData&&Re instanceof FormData}class Qe{constructor(xe,oe,Me,ye){let ze;if(this.url=oe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=xe.toUpperCase(),function Vn(Re){switch(Re){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ye?(this.body=void 0!==Me?Me:null,ze=ye):ze=Me,ze&&(this.reportProgress=!!ze.reportProgress,this.withCredentials=!!ze.withCredentials,ze.responseType&&(this.responseType=ze.responseType),ze.headers&&(this.headers=ze.headers),ze.context&&(this.context=ze.context),ze.params&&(this.params=ze.params)),this.headers||(this.headers=new Fe),this.context||(this.context=new w),this.params){const ut=this.params.toString();if(0===ut.length)this.urlWithParams=oe;else{const en=oe.indexOf("?");this.urlWithParams=oe+(-1===en?"?":en<oe.length-1?"&":"")+ut}}else this.params=new gt,this.urlWithParams=oe}serializeBody(){return null===this.body?null:Yt(this.body)||ue(this.body)||at(this.body)||function De(Re){return"undefined"!=typeof URLSearchParams&&Re instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||at(this.body)?null:ue(this.body)?this.body.type||null:Yt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(xe={}){var oe;const Me=xe.method||this.method,ye=xe.url||this.url,ze=xe.responseType||this.responseType,ut=void 0!==xe.body?xe.body:this.body,en=void 0!==xe.withCredentials?xe.withCredentials:this.withCredentials,gn=void 0!==xe.reportProgress?xe.reportProgress:this.reportProgress;let Nn=xe.headers||this.headers,ur=xe.params||this.params;const qn=null!==(oe=xe.context)&&void 0!==oe?oe:this.context;return void 0!==xe.setHeaders&&(Nn=Object.keys(xe.setHeaders).reduce((Gt,vn)=>Gt.set(vn,xe.setHeaders[vn]),Nn)),xe.setParams&&(ur=Object.keys(xe.setParams).reduce((Gt,vn)=>Gt.set(vn,xe.setParams[vn]),ur)),new Qe(Me,ye,ut,{params:ur,headers:Nn,context:qn,reportProgress:gn,responseType:ze,withCredentials:en})}}var Ct=(()=>((Ct=Ct||{})[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct))();class je{constructor(xe,oe=200,Me="OK"){this.headers=xe.headers||new Fe,this.status=void 0!==xe.status?xe.status:oe,this.statusText=xe.statusText||Me,this.url=xe.url||null,this.ok=this.status>=200&&this.status<300}}class yt extends je{constructor(xe={}){super(xe),this.type=Ct.ResponseHeader}clone(xe={}){return new yt({headers:xe.headers||this.headers,status:void 0!==xe.status?xe.status:this.status,statusText:xe.statusText||this.statusText,url:xe.url||this.url||void 0})}}class It extends je{constructor(xe={}){super(xe),this.type=Ct.Response,this.body=void 0!==xe.body?xe.body:null}clone(xe={}){return new It({body:void 0!==xe.body?xe.body:this.body,headers:xe.headers||this.headers,status:void 0!==xe.status?xe.status:this.status,statusText:xe.statusText||this.statusText,url:xe.url||this.url||void 0})}}class Et extends je{constructor(xe){super(xe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${xe.url||"(unknown url)"}`:`Http failure response for ${xe.url||"(unknown url)"}: ${xe.status} ${xe.statusText}`,this.error=xe.error||null}}function ln(Re,xe){return{body:xe,headers:Re.headers,context:Re.context,observe:Re.observe,params:Re.params,reportProgress:Re.reportProgress,responseType:Re.responseType,withCredentials:Re.withCredentials}}let ht=(()=>{class Re{constructor(oe){this.handler=oe}request(oe,Me,ye={}){let ze;if(oe instanceof Qe)ze=oe;else{let gn,Nn;gn=ye.headers instanceof Fe?ye.headers:new Fe(ye.headers),ye.params&&(Nn=ye.params instanceof gt?ye.params:new gt({fromObject:ye.params})),ze=new Qe(oe,Me,void 0!==ye.body?ye.body:null,{headers:gn,context:ye.context,params:Nn,reportProgress:ye.reportProgress,responseType:ye.responseType||"json",withCredentials:ye.withCredentials})}const ut=(0,B.of)(ze).pipe((0,Ne.b)(gn=>this.handler.handle(gn)));if(oe instanceof Qe||"events"===ye.observe)return ut;const en=ut.pipe((0,Ue.h)(gn=>gn instanceof It));switch(ye.observe||"body"){case"body":switch(ze.responseType){case"arraybuffer":return en.pipe((0,Ze.U)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gn.body}));case"blob":return en.pipe((0,Ze.U)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new Error("Response is not a Blob.");return gn.body}));case"text":return en.pipe((0,Ze.U)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new Error("Response is not a string.");return gn.body}));default:return en.pipe((0,Ze.U)(gn=>gn.body))}case"response":return en;default:throw new Error(`Unreachable: unhandled observe type ${ye.observe}}`)}}delete(oe,Me={}){return this.request("DELETE",oe,Me)}get(oe,Me={}){return this.request("GET",oe,Me)}head(oe,Me={}){return this.request("HEAD",oe,Me)}jsonp(oe,Me){return this.request("JSONP",oe,{params:(new gt).append(Me,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(oe,Me={}){return this.request("OPTIONS",oe,Me)}patch(oe,Me,ye={}){return this.request("PATCH",oe,ln(ye,Me))}post(oe,Me,ye={}){return this.request("POST",oe,ln(ye,Me))}put(oe,Me,ye={}){return this.request("PUT",oe,ln(ye,Me))}}return Re.\u0275fac=function(oe){return new(oe||Re)(G.LFG(nt))},Re.\u0275prov=G.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class Sn{constructor(xe,oe){this.next=xe,this.interceptor=oe}handle(xe){return this.interceptor.intercept(xe,this.next)}}const qe=new G.OlP("HTTP_INTERCEPTORS");let Zt=(()=>{class Re{intercept(oe,Me){return Me.handle(oe)}}return Re.\u0275fac=function(oe){return new(oe||Re)},Re.\u0275prov=G.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const Dr=/^\)\]\}',?\n/;let Ii=(()=>{class Re{constructor(oe){this.xhrFactory=oe}handle(oe){if("JSONP"===oe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Le.y(Me=>{const ye=this.xhrFactory.build();if(ye.open(oe.method,oe.urlWithParams),oe.withCredentials&&(ye.withCredentials=!0),oe.headers.forEach((vn,bn)=>ye.setRequestHeader(vn,bn.join(","))),oe.headers.has("Accept")||ye.setRequestHeader("Accept","application/json, text/plain, */*"),!oe.headers.has("Content-Type")){const vn=oe.detectContentTypeHeader();null!==vn&&ye.setRequestHeader("Content-Type",vn)}if(oe.responseType){const vn=oe.responseType.toLowerCase();ye.responseType="json"!==vn?vn:"text"}const ze=oe.serializeBody();let ut=null;const en=()=>{if(null!==ut)return ut;const vn=ye.statusText||"OK",bn=new Fe(ye.getAllResponseHeaders()),ce=function Gi(Re){return"responseURL"in Re&&Re.responseURL?Re.responseURL:/^X-Request-URL:/m.test(Re.getAllResponseHeaders())?Re.getResponseHeader("X-Request-URL"):null}(ye)||oe.url;return ut=new yt({headers:bn,status:ye.status,statusText:vn,url:ce}),ut},gn=()=>{let{headers:vn,status:bn,statusText:ce,url:Lt}=en(),pt=null;204!==bn&&(pt=void 0===ye.response?ye.responseText:ye.response),0===bn&&(bn=pt?200:0);let We=bn>=200&&bn<300;if("json"===oe.responseType&&"string"==typeof pt){const kt=pt;pt=pt.replace(Dr,"");try{pt=""!==pt?JSON.parse(pt):null}catch(Qt){pt=kt,We&&(We=!1,pt={error:Qt,text:pt})}}We?(Me.next(new It({body:pt,headers:vn,status:bn,statusText:ce,url:Lt||void 0})),Me.complete()):Me.error(new Et({error:pt,headers:vn,status:bn,statusText:ce,url:Lt||void 0}))},Nn=vn=>{const{url:bn}=en(),ce=new Et({error:vn,status:ye.status||0,statusText:ye.statusText||"Unknown Error",url:bn||void 0});Me.error(ce)};let ur=!1;const qn=vn=>{ur||(Me.next(en()),ur=!0);let bn={type:Ct.DownloadProgress,loaded:vn.loaded};vn.lengthComputable&&(bn.total=vn.total),"text"===oe.responseType&&!!ye.responseText&&(bn.partialText=ye.responseText),Me.next(bn)},Gt=vn=>{let bn={type:Ct.UploadProgress,loaded:vn.loaded};vn.lengthComputable&&(bn.total=vn.total),Me.next(bn)};return ye.addEventListener("load",gn),ye.addEventListener("error",Nn),ye.addEventListener("timeout",Nn),ye.addEventListener("abort",Nn),oe.reportProgress&&(ye.addEventListener("progress",qn),null!==ze&&ye.upload&&ye.upload.addEventListener("progress",Gt)),ye.send(ze),Me.next({type:Ct.Sent}),()=>{ye.removeEventListener("error",Nn),ye.removeEventListener("abort",Nn),ye.removeEventListener("load",gn),ye.removeEventListener("timeout",Nn),oe.reportProgress&&(ye.removeEventListener("progress",qn),null!==ze&&ye.upload&&ye.upload.removeEventListener("progress",Gt)),ye.readyState!==ye.DONE&&ye.abort()}})}}return Re.\u0275fac=function(oe){return new(oe||Re)(G.LFG(M.JF))},Re.\u0275prov=G.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const Ni=new G.OlP("XSRF_COOKIE_NAME"),Er=new G.OlP("XSRF_HEADER_NAME");class Kr{}let Ti=(()=>{class Re{constructor(oe,Me,ye){this.doc=oe,this.platform=Me,this.cookieName=ye,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const oe=this.doc.cookie||"";return oe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,M.Mx)(oe,this.cookieName),this.lastCookieString=oe),this.lastToken}}return Re.\u0275fac=function(oe){return new(oe||Re)(G.LFG(M.K0),G.LFG(G.Lbi),G.LFG(Ni))},Re.\u0275prov=G.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),ci=(()=>{class Re{constructor(oe,Me){this.tokenService=oe,this.headerName=Me}intercept(oe,Me){const ye=oe.url.toLowerCase();if("GET"===oe.method||"HEAD"===oe.method||ye.startsWith("http://")||ye.startsWith("https://"))return Me.handle(oe);const ze=this.tokenService.getToken();return null!==ze&&!oe.headers.has(this.headerName)&&(oe=oe.clone({headers:oe.headers.set(this.headerName,ze)})),Me.handle(oe)}}return Re.\u0275fac=function(oe){return new(oe||Re)(G.LFG(Kr),G.LFG(Er))},Re.\u0275prov=G.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),no=(()=>{class Re{constructor(oe,Me){this.backend=oe,this.injector=Me,this.chain=null}handle(oe){if(null===this.chain){const Me=this.injector.get(qe,[]);this.chain=Me.reduceRight((ye,ze)=>new Sn(ye,ze),this.backend)}return this.chain.handle(oe)}}return Re.\u0275fac=function(oe){return new(oe||Re)(G.LFG(Je),G.LFG(G.zs3))},Re.\u0275prov=G.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),Qn=(()=>{class Re{static disable(){return{ngModule:Re,providers:[{provide:ci,useClass:Zt}]}}static withOptions(oe={}){return{ngModule:Re,providers:[oe.cookieName?{provide:Ni,useValue:oe.cookieName}:[],oe.headerName?{provide:Er,useValue:oe.headerName}:[]]}}}return Re.\u0275fac=function(oe){return new(oe||Re)},Re.\u0275mod=G.oAB({type:Re}),Re.\u0275inj=G.cJS({providers:[ci,{provide:qe,useExisting:ci,multi:!0},{provide:Kr,useClass:Ti},{provide:Ni,useValue:"XSRF-TOKEN"},{provide:Er,useValue:"X-XSRF-TOKEN"}]}),Re})(),Ht=(()=>{class Re{}return Re.\u0275fac=function(oe){return new(oe||Re)},Re.\u0275mod=G.oAB({type:Re}),Re.\u0275inj=G.cJS({providers:[ht,{provide:nt,useClass:no},Ii,{provide:Je,useExisting:Ii}],imports:[[Qn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Re})()},5e3:(An,Dt,H)=>{H.d(Dt,{$8M:()=>Od,$Z:()=>Lf,AFp:()=>F6,ALo:()=>c6,AaK:()=>nt,AcB:()=>g1,AsE:()=>U2,BQk:()=>up,CHM:()=>Jn,CRH:()=>C6,CZH:()=>y3,CqO:()=>zg,DdM:()=>Em,DjV:()=>Uf,EJc:()=>C5,EiD:()=>Ld,EpF:()=>Ql,F$t:()=>Hg,F4k:()=>H0,FYo:()=>q8,FiY:()=>du,G48:()=>A5,Gf:()=>m6,GfV:()=>X8,GkF:()=>xu,Gpc:()=>we,Gre:()=>tm,Hsn:()=>Vf,IIB:()=>m5,JOm:()=>Na,JVY:()=>T1,L6k:()=>Rd,LAX:()=>F4,LFG:()=>_a,LSH:()=>jh,Lbi:()=>L6,MAs:()=>M0,MT6:()=>X2,NdJ:()=>Vg,O4$:()=>So,OlP:()=>Uo,Oqu:()=>Y0,PXZ:()=>h4,Q6J:()=>Ja,QGY:()=>kg,Qsj:()=>c3,R0b:()=>na,RDi:()=>Zo,Rgc:()=>Dh,SBq:()=>wh,Sil:()=>z6,Suo:()=>y6,TTD:()=>rs,TgZ:()=>Nf,Tol:()=>Vt,Udp:()=>Wf,VKq:()=>r6,VLi:()=>T5,W1O:()=>S6,WFA:()=>dp,WLB:()=>i6,X6Q:()=>Y6,XFs:()=>Zn,Xpm:()=>Hn,Y36:()=>Io,YKP:()=>J8,YNc:()=>Af,Yjl:()=>$e,Yz7:()=>_r,ZZ4:()=>e8,_Bn:()=>tv,_UZ:()=>kf,_Vd:()=>Zf,_c5:()=>V5,_uU:()=>j2,aQg:()=>t8,c2e:()=>N6,cJS:()=>ri,cg1:()=>_e,d8E:()=>v,dDg:()=>H6,deG:()=>Rp,dqk:()=>Nn,eBb:()=>Mv,eFA:()=>B6,ekj:()=>Ie,f3M:()=>bv,g9A:()=>bp,h0i:()=>Jc,hGG:()=>H5,hij:()=>mh,iGM:()=>v6,ifc:()=>ye,ip1:()=>R6,kEZ:()=>o6,kL8:()=>xt,kYT:()=>$r,l5B:()=>d3,lG2:()=>vt,lcZ:()=>Eh,mCW:()=>_i,n5z:()=>Ap,n_E:()=>bl,oAB:()=>pi,oJD:()=>Rv,oxw:()=>B0,pB0:()=>x1,q3G:()=>Ho,qLn:()=>$h,qOj:()=>sd,qZA:()=>vd,qzn:()=>Ad,r_U:()=>y5,s9C:()=>Mu,sBO:()=>pv,sIi:()=>ap,s_b:()=>a4,soG:()=>Wm,tBr:()=>Np,tb:()=>I6,tp0:()=>Zs,uIk:()=>Og,vHH:()=>mt,vpe:()=>_d,wAp:()=>qt,xi3:()=>u6,xp6:()=>Xv,yhl:()=>O1,ynx:()=>fs,z2F:()=>w3,z3N:()=>oc,zSh:()=>As,zs3:()=>qo});var M=H(7579),G=H(727),B=H(8306),Le=H(6451),Ne=H(3099);function Ue(f){for(let g in f)if(f[g]===Ue)return g;throw Error("Could not find renamed property on target object.")}function Ze(f,g){for(const m in g)g.hasOwnProperty(m)&&!f.hasOwnProperty(m)&&(f[m]=g[m])}function nt(f){if("string"==typeof f)return f;if(Array.isArray(f))return"["+f.map(nt).join(", ")+"]";if(null==f)return""+f;if(f.overriddenName)return`${f.overriddenName}`;if(f.name)return`${f.name}`;const g=f.toString();if(null==g)return""+g;const m=g.indexOf("\n");return-1===m?g:g.substring(0,m)}function Je(f,g){return null==f||""===f?null===g?"":g:null==g||""===g?f:f+" "+g}const Fe=Ue({__forward_ref__:Ue});function we(f){return f.__forward_ref__=we,f.toString=function(){return nt(this())},f}function Ae(f){return ot(f)?f():f}function ot(f){return"function"==typeof f&&f.hasOwnProperty(Fe)&&f.__forward_ref__===we}class mt extends Error{constructor(g,m){super(function zt(f,g){return`NG0${Math.abs(f)}${g?": "+g:""}`}(g,m)),this.code=g}}function gt(f){return"string"==typeof f?f:null==f?"":String(f)}function fn(f){return"function"==typeof f?f.name||f.toString():"object"==typeof f&&null!=f&&"function"==typeof f.type?f.type.name||f.type.toString():gt(f)}function ue(f,g){const m=g?` in ${g}`:"";throw new mt(-201,`No provider for ${fn(f)} found${m}`)}function wt(f,g){null==f&&function Xt(f,g,m,_){throw new Error(`ASSERTION ERROR: ${f}`+(null==_?"":` [Expected=> ${m} ${_} ${g} <=Actual]`))}(g,f,null,"!=")}function _r(f){return{token:f.token,providedIn:f.providedIn||null,factory:f.factory,value:void 0}}function ri(f){return{providers:f.providers||[],imports:f.imports||[]}}function Dr(f){return Gi(f,Kr)||Gi(f,ci)}function Gi(f,g){return f.hasOwnProperty(g)?f[g]:null}function Er(f){return f&&(f.hasOwnProperty(Ti)||f.hasOwnProperty(no))?f[Ti]:null}const Kr=Ue({\u0275prov:Ue}),Ti=Ue({\u0275inj:Ue}),ci=Ue({ngInjectableDef:Ue}),no=Ue({ngInjectorDef:Ue});var Zn=(()=>((Zn=Zn||{})[Zn.Default=0]="Default",Zn[Zn.Host=1]="Host",Zn[Zn.Self=2]="Self",Zn[Zn.SkipSelf=4]="SkipSelf",Zn[Zn.Optional=8]="Optional",Zn))();let Ur;function Ht(f){const g=Ur;return Ur=f,g}function Se(f,g,m){const _=Dr(f);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:m&Zn.Optional?null:void 0!==g?g:void ue(nt(f),"Injector")}function Re(f){return{toString:f}.toString()}var xe=(()=>((xe=xe||{})[xe.OnPush=0]="OnPush",xe[xe.Default=1]="Default",xe))(),ye=(()=>{return(f=ye||(ye={}))[f.Emulated=0]="Emulated",f[f.None=2]="None",f[f.ShadowDom=3]="ShadowDom",ye;var f})();const ze="undefined"!=typeof globalThis&&globalThis,ut="undefined"!=typeof window&&window,en="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nn=ze||"undefined"!=typeof global&&global||ut||en,Gt={},vn=[],bn=Ue({\u0275cmp:Ue}),ce=Ue({\u0275dir:Ue}),Lt=Ue({\u0275pipe:Ue}),pt=Ue({\u0275mod:Ue}),We=Ue({\u0275fac:Ue}),kt=Ue({__NG_ELEMENT_ID__:Ue});let Qt=0;function Hn(f){return Re(()=>{const m={},_={type:f.type,providersResolver:null,decls:f.decls,vars:f.vars,factory:null,template:f.template||null,consts:f.consts||null,ngContentSelectors:f.ngContentSelectors,hostBindings:f.hostBindings||null,hostVars:f.hostVars||0,hostAttrs:f.hostAttrs||null,contentQueries:f.contentQueries||null,declaredInputs:m,inputs:null,outputs:null,exportAs:f.exportAs||null,onPush:f.changeDetection===xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:f.selectors||vn,viewQuery:f.viewQuery||null,features:f.features||null,data:f.data||{},encapsulation:f.encapsulation||ye.Emulated,id:"c",styles:f.styles||vn,_:null,setInput:null,schemas:f.schemas||null,tView:null},b=f.directives,D=f.features,R=f.pipes;return _.id+=Qt++,_.inputs=Rt(f.inputs,m),_.outputs=Rt(f.outputs),D&&D.forEach(V=>V(_)),_.directiveDefs=b?()=>("function"==typeof b?b():b).map(St):null,_.pipeDefs=R?()=>("function"==typeof R?R():R).map(_n):null,_})}function St(f){return bt(f)||function Ge(f){return f[ce]||null}(f)}function _n(f){return function Wt(f){return f[Lt]||null}(f)}const jn={};function pi(f){return Re(()=>{const g={type:f.type,bootstrap:f.bootstrap||vn,declarations:f.declarations||vn,imports:f.imports||vn,exports:f.exports||vn,transitiveCompileScopes:null,schemas:f.schemas||null,id:f.id||null};return null!=f.id&&(jn[f.id]=f.type),g})}function $r(f,g){return Re(()=>{const m=ge(f,!0);m.declarations=g.declarations||vn,m.imports=g.imports||vn,m.exports=g.exports||vn})}function Rt(f,g){if(null==f)return Gt;const m={};for(const _ in f)if(f.hasOwnProperty(_)){let b=f[_],D=b;Array.isArray(b)&&(D=b[1],b=b[0]),m[b]=_,g&&(g[b]=D)}return m}const vt=Hn;function $e(f){return{type:f.type,name:f.name,factory:null,pure:!1!==f.pure,onDestroy:f.type.prototype.ngOnDestroy||null}}function bt(f){return f[bn]||null}function ge(f,g){const m=f[pt]||null;if(!m&&!0===g)throw new Error(`Type ${nt(f)} does not have '\u0275mod' property.`);return m}function yn(f){return Array.isArray(f)&&"object"==typeof f[1]}function bi(f){return Array.isArray(f)&&!0===f[1]}function ia(f){return 0!=(8&f.flags)}function Vo(f){return 2==(2&f.flags)}function Ga(f){return 1==(1&f.flags)}function Ye(f){return null!==f.template}function ns(f){return 0!=(512&f[2])}function aa(f,g){return f.hasOwnProperty(We)?f[We]:null}class Ma{constructor(g,m,_){this.previousValue=g,this.currentValue=m,this.firstChange=_}isFirstChange(){return this.firstChange}}function rs(){return is}function is(f){return f.type.prototype.ngOnChanges&&(f.setInput=Bs),ga}function ga(){const f=Bo(this),g=null==f?void 0:f.current;if(g){const m=f.previous;if(m===Gt)f.previous=g;else for(let _ in g)m[_]=g[_];f.current=null,this.ngOnChanges(g)}}function Bs(f,g,m,_){const b=Bo(f)||function Pa(f,g){return f[os]=g}(f,{previous:Gt,current:null}),D=b.current||(b.current={}),R=b.previous,V=this.declaredInputs[m],Y=R[V];D[V]=new Ma(Y&&Y.currentValue,g,R===Gt),f[_]=g}rs.ngInherit=!0;const os="__ngSimpleChanges__";function Bo(f){return f[os]||null}let _o;function Zo(f){_o=f}function as(){return void 0!==_o?_o:"undefined"!=typeof document?document:void 0}function Mi(f){return!!f.listen}const te={createRenderer:(f,g)=>as()};function ee(f){for(;Array.isArray(f);)f=f[0];return f}function an(f,g){return ee(g[f])}function mn(f,g){return ee(g[f.index])}function Si(f,g){return f.data[g]}function ni(f,g){return f[g]}function Yr(f,g){const m=g[f];return yn(m)?m:m[0]}function di(f){return 4==(4&f[2])}function ji(f){return 128==(128&f[2])}function Pi(f,g){return null==g?null:f[g]}function va(f){f[18]=0}function io(f,g){f[5]+=g;let m=f,_=f[3];for(;null!==_&&(1===g&&1===m[5]||-1===g&&0===m[5]);)_[5]+=g,m=_,_=_[3]}const mr={lFrame:wr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ne(){return mr.bindingsEnabled}function ie(){return mr.lFrame.lView}function Kt(){return mr.lFrame.tView}function Jn(f){return mr.lFrame.contextLView=f,f[8]}function Rr(){let f=bo();for(;null!==f&&64===f.type;)f=f.parent;return f}function bo(){return mr.lFrame.currentTNode}function wo(f,g){const m=mr.lFrame;m.currentTNode=f,m.isParent=g}function Ra(){return mr.lFrame.isParent}function j(){mr.lFrame.isParent=!1}function Ve(){return mr.isInCheckNoChangesMode}function _t(f){mr.isInCheckNoChangesMode=f}function nn(){const f=mr.lFrame;let g=f.bindingRootIndex;return-1===g&&(g=f.bindingRootIndex=f.tView.bindingStartIndex),g}function ir(){return mr.lFrame.bindingIndex}function se(){return mr.lFrame.bindingIndex++}function P(f){const g=mr.lFrame,m=g.bindingIndex;return g.bindingIndex=g.bindingIndex+f,m}function me(f,g){const m=mr.lFrame;m.bindingIndex=m.bindingRootIndex=f,dt(g)}function dt(f){mr.lFrame.currentDirectiveIndex=f}function ft(f){const g=mr.lFrame.currentDirectiveIndex;return-1===g?null:f[g]}function Bt(){return mr.lFrame.currentQueryIndex}function tn(f){mr.lFrame.currentQueryIndex=f}function Gn(f){const g=f[1];return 2===g.type?g.declTNode:1===g.type?f[6]:null}function Bn(f,g,m){if(m&Zn.SkipSelf){let b=g,D=f;for(;!(b=b.parent,null!==b||m&Zn.Host||(b=Gn(D),null===b||(D=D[15],10&b.type))););if(null===b)return!1;g=b,f=D}const _=mr.lFrame=Wr();return _.currentTNode=g,_.lView=f,!0}function br(f){const g=Wr(),m=f[1];mr.lFrame=g,g.currentTNode=m.firstChild,g.lView=f,g.tView=m,g.contextLView=f,g.bindingIndex=m.bindingStartIndex,g.inI18n=!1}function Wr(){const f=mr.lFrame,g=null===f?null:f.child;return null===g?wr(f):g}function wr(f){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:f,child:null,inI18n:!1};return null!==f&&(f.child=g),g}function Fr(){const f=mr.lFrame;return mr.lFrame=f.parent,f.currentTNode=null,f.lView=null,f}const wi=Fr;function Qi(){const f=Fr();f.isParent=!0,f.tView=null,f.selectedIndex=-1,f.contextLView=null,f.elementDepthCount=0,f.currentDirectiveIndex=-1,f.currentNamespace=null,f.bindingRootIndex=-1,f.bindingIndex=-1,f.currentQueryIndex=0}function yi(){return mr.lFrame.selectedIndex}function Ro(f){mr.lFrame.selectedIndex=f}function Oi(){const f=mr.lFrame;return Si(f.tView,f.selectedIndex)}function So(){mr.lFrame.currentNamespace="svg"}function ro(f,g){for(let m=g.directiveStart,_=g.directiveEnd;m<_;m++){const D=f.data[m].type.prototype,{ngAfterContentInit:R,ngAfterContentChecked:V,ngAfterViewInit:Y,ngAfterViewChecked:le,ngOnDestroy:Ce}=D;R&&(f.contentHooks||(f.contentHooks=[])).push(-m,R),V&&((f.contentHooks||(f.contentHooks=[])).push(m,V),(f.contentCheckHooks||(f.contentCheckHooks=[])).push(m,V)),Y&&(f.viewHooks||(f.viewHooks=[])).push(-m,Y),le&&((f.viewHooks||(f.viewHooks=[])).push(m,le),(f.viewCheckHooks||(f.viewCheckHooks=[])).push(m,le)),null!=Ce&&(f.destroyHooks||(f.destroyHooks=[])).push(m,Ce)}}function js(f,g,m){Tr(f,g,3,m)}function Us(f,g,m,_){(3&f[2])===m&&Tr(f,g,m,_)}function nr(f,g){let m=f[2];(3&m)===g&&(m&=2047,m+=1,f[2]=m)}function Tr(f,g,m,_){const D=null!=_?_:-1,R=g.length-1;let V=0;for(let Y=void 0!==_?65535&f[18]:0;Y<R;Y++)if("number"==typeof g[Y+1]){if(V=g[Y],null!=_&&V>=_)break}else g[Y]<0&&(f[18]+=65536),(V<D||-1==D)&&(xr(f,m,g,Y),f[18]=(4294901760&f[18])+Y+2),Y++}function xr(f,g,m,_){const b=m[_]<0,D=m[_+1],V=f[b?-m[_]:m[_]];if(b){if(f[2]>>11<f[18]>>16&&(3&f[2])===g){f[2]+=2048;try{D.call(V)}finally{}}}else try{D.call(V)}finally{}}class eo{constructor(g,m,_){this.factory=g,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=_}}function Fa(f,g,m){const _=Mi(f);let b=0;for(;b<m.length;){const D=m[b];if("number"==typeof D){if(0!==D)break;b++;const R=m[b++],V=m[b++],Y=m[b++];_?f.setAttribute(g,V,Y,R):g.setAttributeNS(R,V,Y)}else{const R=D,V=m[++b];fo(R)?_&&f.setProperty(g,R,V):_?f.setAttribute(g,R,V):g.setAttribute(R,V),b++}}return b}function Ys(f){return 3===f||4===f||6===f}function fo(f){return 64===f.charCodeAt(0)}function Gu(f,g){if(null!==g&&0!==g.length)if(null===f||0===f.length)f=g.slice();else{let m=-1;for(let _=0;_<g.length;_++){const b=g[_];"number"==typeof b?m=b:0===m||Ed(f,m,b,null,-1===m||2===m?g[++_]:null)}}return f}function Ed(f,g,m,_,b){let D=0,R=f.length;if(-1===g)R=-1;else for(;D<f.length;){const V=f[D++];if("number"==typeof V){if(V===g){R=-1;break}if(V>g){R=D-1;break}}}for(;D<f.length;){const V=f[D];if("number"==typeof V)break;if(V===m){if(null===_)return void(null!==b&&(f[D+1]=b));if(_===f[D+1])return void(f[D+2]=b)}D++,null!==_&&D++,null!==b&&D++}-1!==R&&(f.splice(R,0,g),D=R+1),f.splice(D++,0,m),null!==_&&f.splice(D++,0,_),null!==b&&f.splice(D++,0,b)}function Fh(f){return-1!==f}function Ks(f){return 32767&f}function Ss(f,g){let m=function Mp(f){return f>>16}(f),_=g;for(;m>0;)_=_[15],m--;return _}let ma=!0;function Bu(f){const g=ma;return ma=f,g}let W=0;function N(f,g){const m=re(f,g);if(-1!==m)return m;const _=g[1];_.firstCreatePass&&(f.injectorIndex=g.length,J(_.data,f),J(g,null),J(_.blueprint,null));const b=Oe(f,g),D=f.injectorIndex;if(Fh(b)){const R=Ks(b),V=Ss(b,g),Y=V[1].data;for(let le=0;le<8;le++)g[D+le]=V[R+le]|Y[R+le]}return g[D+8]=b,D}function J(f,g){f.push(0,0,0,0,0,0,0,0,g)}function re(f,g){return-1===f.injectorIndex||f.parent&&f.parent.injectorIndex===f.injectorIndex||null===g[f.injectorIndex+8]?-1:f.injectorIndex}function Oe(f,g){if(f.parent&&-1!==f.parent.injectorIndex)return f.parent.injectorIndex;let m=0,_=null,b=g;for(;null!==b;){const D=b[1],R=D.type;if(_=2===R?D.declTNode:1===R?b[6]:null,null===_)return-1;if(m++,b=b[15],-1!==_.injectorIndex)return _.injectorIndex|m<<16}return-1}function st(f,g,m){!function z(f,g,m){let _;"string"==typeof m?_=m.charCodeAt(0)||0:m.hasOwnProperty(kt)&&(_=m[kt]),null==_&&(_=m[kt]=W++);const b=255&_;g.data[f+(b>>5)]|=1<<b}(f,g,m)}function pn(f,g,m){if(m&Zn.Optional)return f;ue(g,"NodeInjector")}function cr(f,g,m,_){if(m&Zn.Optional&&void 0===_&&(_=null),0==(m&(Zn.Self|Zn.Host))){const b=f[9],D=Ht(void 0);try{return b?b.get(g,_,m&Zn.Optional):Se(g,_,m&Zn.Optional)}finally{Ht(D)}}return pn(_,g,m)}function oi(f,g,m,_=Zn.Default,b){if(null!==f){const D=function Oc(f){if("string"==typeof f)return f.charCodeAt(0)||0;const g=f.hasOwnProperty(kt)?f[kt]:void 0;return"number"==typeof g?g>=0?255&g:fi:g}(m);if("function"==typeof D){if(!Bn(g,f,_))return _&Zn.Host?pn(b,m,_):cr(g,m,_,b);try{const R=D(_);if(null!=R||_&Zn.Optional)return R;ue(m)}finally{wi()}}else if("number"==typeof D){let R=null,V=re(f,g),Y=-1,le=_&Zn.Host?g[16][6]:null;for((-1===V||_&Zn.SkipSelf)&&(Y=-1===V?Oe(f,g):g[V+8],-1!==Y&&xc(_,!1)?(R=g[1],V=Ks(Y),g=Ss(Y,g)):V=-1);-1!==V;){const Ce=g[1];if(Tc(D,V,Ce.data)){const Ke=Gr(V,g,m,R,_,le);if(Ke!==yr)return Ke}Y=g[V+8],-1!==Y&&xc(_,g[1].data[V+8]===le)&&Tc(D,V,g)?(R=Ce,V=Ks(Y),g=Ss(Y,g)):V=-1}}}return cr(g,m,_,b)}const yr={};function fi(){return new Mc(Rr(),ie())}function Gr(f,g,m,_,b,D){const R=g[1],V=R.data[f+8],Ce=$a(V,R,m,null==_?Vo(V)&&ma:_!=R&&0!=(3&V.type),b&Zn.Host&&D===V);return null!==Ce?$s(g,R,Ce,V):yr}function $a(f,g,m,_,b){const D=f.providerIndexes,R=g.data,V=1048575&D,Y=f.directiveStart,Ce=D>>20,At=b?V+Ce:f.directiveEnd;for(let $t=_?V:V+Ce;$t<At;$t++){const On=R[$t];if($t<Y&&m===On||$t>=Y&&On.type===m)return $t}if(b){const $t=R[Y];if($t&&Ye($t)&&$t.type===m)return Y}return null}function $s(f,g,m,_){let b=f[m];const D=g.data;if(function Ya(f){return f instanceof eo}(b)){const R=b;R.resolving&&function w(f,g){const m=g?`. Dependency path: ${g.join(" > ")} > ${f}`:"";throw new mt(-200,`Circular dependency in DI detected for ${f}${m}`)}(fn(D[m]));const V=Bu(R.canSeeViewProviders);R.resolving=!0;const Y=R.injectImpl?Ht(R.injectImpl):null;Bn(f,_,Zn.Default);try{b=f[m]=R.factory(void 0,D,f,_),g.firstCreatePass&&m>=_.directiveStart&&function Al(f,g,m){const{ngOnChanges:_,ngOnInit:b,ngDoCheck:D}=g.type.prototype;if(_){const R=is(g);(m.preOrderHooks||(m.preOrderHooks=[])).push(f,R),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(f,R)}b&&(m.preOrderHooks||(m.preOrderHooks=[])).push(0-f,b),D&&((m.preOrderHooks||(m.preOrderHooks=[])).push(f,D),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(f,D))}(m,D[m],g)}finally{null!==Y&&Ht(Y),Bu(V),R.resolving=!1,wi()}}return b}function Tc(f,g,m){return!!(m[g+(f>>5)]&1<<f)}function xc(f,g){return!(f&Zn.Self||f&Zn.Host&&g)}class Mc{constructor(g,m){this._tNode=g,this._lView=m}get(g,m,_){return oi(this._tNode,this._lView,g,_,m)}}function Ap(f){return Re(()=>{const g=f.prototype.constructor,m=g[We]||f1(g),_=Object.prototype;let b=Object.getPrototypeOf(f.prototype).constructor;for(;b&&b!==_;){const D=b[We]||f1(b);if(D&&D!==m)return D;b=Object.getPrototypeOf(b)}return D=>new D})}function f1(f){return ot(f)?()=>{const g=f1(Ae(f));return g&&g()}:aa(f)}function Od(f){return function Tt(f,g){if("class"===g)return f.classes;if("style"===g)return f.styles;const m=f.attrs;if(m){const _=m.length;let b=0;for(;b<_;){const D=m[b];if(Ys(D))break;if(0===D)b+=2;else if("number"==typeof D)for(b++;b<_&&"string"==typeof m[b];)b++;else{if(D===g)return m[b+1];b+=2}}}return null}(Rr(),f)}const go="__parameters__",Wu="__prop__metadata__";function su(f){return function(...m){if(f){const _=f(...m);for(const b in _)this[b]=_[b]}}}function fl(f,g,m){return Re(()=>{const _=su(g);function b(...D){if(this instanceof b)return _.apply(this,D),this;const R=new b(...D);return V.annotation=R,V;function V(Y,le,Ce){const Ke=Y.hasOwnProperty(go)?Y[go]:Object.defineProperty(Y,go,{value:[]})[go];for(;Ke.length<=Ce;)Ke.push(null);return(Ke[Ce]=Ke[Ce]||[]).push(R),Y}}return m&&(b.prototype=Object.create(m.prototype)),b.prototype.ngMetadataName=f,b.annotationCls=b,b})}function ls(f,g,m,_){return Re(()=>{const b=su(g);function D(...R){if(this instanceof D)return b.apply(this,R),this;const V=new D(...R);return function Y(le,Ce){const Ke=le.constructor,At=Ke.hasOwnProperty(Wu)?Ke[Wu]:Object.defineProperty(Ke,Wu,{value:{}})[Wu];At[Ce]=At.hasOwnProperty(Ce)&&At[Ce]||[],At[Ce].unshift(V),_&&_(le,Ce,...R)}}return m&&(D.prototype=Object.create(m.prototype)),D.prototype.ngMetadataName=f,D.annotationCls=D,D})}class Uo{constructor(g,m){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=_r({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Rp=new Uo("AnalyzeForEntryComponents");class gl{}const g1=ls("ContentChildren",(f,g={})=>Object.assign({selector:f,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},g),gl);function vl(f,g){void 0===g&&(g=f);for(let m=0;m<f.length;m++){let _=f[m];Array.isArray(_)?(g===f&&(g=f.slice(0,m)),vl(_,g)):g!==f&&g.push(_)}return g}function qa(f,g){f.forEach(m=>Array.isArray(m)?qa(m,g):g(m))}function m1(f,g,m){g>=f.length?f.push(m):f.splice(g,0,m)}function Nh(f,g){return g>=f.length-1?f.pop():f.splice(g,1)[0]}function ju(f,g){const m=[];for(let _=0;_<f;_++)m.push(g);return m}function Yo(f,g,m){let _=lu(f,g);return _>=0?f[1|_]=m:(_=~_,function Rn(f,g,m,_){let b=f.length;if(b==g)f.push(m,_);else if(1===b)f.push(_,f[0]),f[0]=m;else{for(b--,f.push(f[b-1],f[b]);b>g;)f[b]=f[b-2],b--;f[g]=m,f[g+1]=_}}(f,_,g,m)),_}function kh(f,g){const m=lu(f,g);if(m>=0)return f[1|m]}function lu(f,g){return function qs(f,g,m){let _=0,b=f.length>>m;for(;b!==_;){const D=_+(b-_>>1),R=f[D<<m];if(g===R)return D<<m;R>g?b=D:_=D+1}return~(b<<m)}(f,g,1)}const bs={},Ip="__NG_DI_FLAG__",Hh="ngTempTokenPath",C1=/\n/gm,ic="__source",xd=Ue({provide:String,useValue:Ue});let Il;function Ca(f){const g=Il;return Il=f,g}function xo(f,g=Zn.Default){if(void 0===Il)throw new mt(203,"");return null===Il?Se(f,void 0,g):Il.get(f,g&Zn.Optional?null:void 0,g)}function _a(f,g=Zn.Default){return(function Qn(){return Ur}()||xo)(Ae(f),g)}const bv=_a;function Bh(f){const g=[];for(let m=0;m<f.length;m++){const _=Ae(f[m]);if(Array.isArray(_)){if(0===_.length)throw new mt(900,"");let b,D=Zn.Default;for(let R=0;R<_.length;R++){const V=_[R],Y=w1(V);"number"==typeof Y?-1===Y?b=V.token:D|=Y:b=V}g.push(_a(b,D))}else g.push(_a(_))}return g}function Nl(f,g){return f[Ip]=g,f.prototype[Ip]=g,f}function w1(f){return f[Ip]}const Np=Nl(fl("Inject",f=>({token:f})),-1),du=Nl(fl("Optional"),8),Zs=Nl(fl("SkipSelf"),4);let Bp,Pd;function Md(f){var g;return(null===(g=function Es(){if(void 0===Bp&&(Bp=null,Nn.trustedTypes))try{Bp=Nn.trustedTypes.createPolicy("angular",{createHTML:f=>f,createScript:f=>f,createScriptURL:f=>f})}catch(f){}return Bp}())||void 0===g?void 0:g.createHTML(f))||f}function Tv(f){var g;return(null===(g=function D1(){if(void 0===Pd&&(Pd=null,Nn.trustedTypes))try{Pd=Nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:f=>f,createScript:f=>f,createScriptURL:f=>f})}catch(f){}return Pd}())||void 0===g?void 0:g.createHTML(f))||f}class ml{constructor(g){this.changingThisBreaksApplicationSecurity=g}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wp extends ml{getTypeName(){return"HTML"}}class A4 extends ml{getTypeName(){return"Style"}}class Yu extends ml{getTypeName(){return"Script"}}class jp extends ml{getTypeName(){return"URL"}}class R4 extends ml{getTypeName(){return"ResourceURL"}}function oc(f){return f instanceof ml?f.changingThisBreaksApplicationSecurity:f}function Ad(f,g){const m=O1(f);if(null!=m&&m!==g){if("ResourceURL"===m&&"URL"===g)return!0;throw new Error(`Required a safe ${g}, got a ${m} (see https://g.co/ng/security#xss)`)}return m===g}function O1(f){return f instanceof ml&&f.getTypeName()||null}function T1(f){return new Wp(f)}function Rd(f){return new A4(f)}function Mv(f){return new Yu(f)}function F4(f){return new jp(f)}function x1(f){return new R4(f)}class L4{constructor(g){this.inertDocumentHelper=g}getInertBodyElement(g){g="<body><remove></remove>"+g;try{const m=(new window.DOMParser).parseFromString(Md(g),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(g):(m.removeChild(m.firstChild),m)}catch(m){return null}}}class Pv{constructor(g){if(this.defaultDoc=g,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const m=this.inertDocument.createElement("html");this.inertDocument.appendChild(m);const _=this.inertDocument.createElement("body");m.appendChild(_)}}getInertBodyElement(g){const m=this.inertDocument.createElement("template");if("content"in m)return m.innerHTML=Md(g),m;const _=this.inertDocument.createElement("body");return _.innerHTML=Md(g),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(_),_}stripCustomNsAttrs(g){const m=g.attributes;for(let b=m.length-1;0<b;b--){const R=m.item(b).name;("xmlns:ns1"===R||0===R.indexOf("ns1:"))&&g.removeAttribute(R)}let _=g.firstChild;for(;_;)_.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(_),_=_.nextSibling}}const Ku=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _i(f){return(f=String(f)).match(Ku)||f.match(pu)?f:"unsafe:"+f}function Hl(f){const g={};for(const m of f.split(","))g[m]=!0;return g}function Fd(...f){const g={};for(const m of f)for(const _ in m)m.hasOwnProperty(_)&&(g[_]=!0);return g}const wa=Hl("area,br,col,hr,img,wbr"),Sa=Hl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),P1=Hl("rp,rt"),La=Fd(wa,Fd(Sa,Hl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fd(P1,Hl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fd(P1,Sa)),Fc=Hl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fu=Hl("srcset"),Av=Fd(Fc,fu,Hl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),N4=Hl("script,style,template");class Yp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(g){let m=g.firstChild,_=!0;for(;m;)if(m.nodeType===Node.ELEMENT_NODE?_=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,_&&m.firstChild)m=m.firstChild;else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let b=this.checkClobberedElement(m,m.nextSibling);if(b){m=b;break}m=this.checkClobberedElement(m,m.parentNode)}return this.buf.join("")}startElement(g){const m=g.nodeName.toLowerCase();if(!La.hasOwnProperty(m))return this.sanitizedSomething=!0,!N4.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const _=g.attributes;for(let b=0;b<_.length;b++){const D=_.item(b),R=D.name,V=R.toLowerCase();if(!Av.hasOwnProperty(V)){this.sanitizedSomething=!0;continue}let Y=D.value;Fc[V]&&(Y=_i(Y)),fu[V]&&(f=Y,Y=(f=String(f)).split(",").map(g=>_i(g.trim())).join(", ")),this.buf.push(" ",R,'="',$p(Y),'"')}var f;return this.buf.push(">"),!0}endElement(g){const m=g.nodeName.toLowerCase();La.hasOwnProperty(m)&&!wa.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(g){this.buf.push($p(g))}checkClobberedElement(g,m){if(m&&(g.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${g.outerHTML}`);return m}}const Kp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wh=/([^\#-~ |!])/g;function $p(f){return f.replace(/&/g,"&amp;").replace(Kp,function(g){return"&#"+(1024*(g.charCodeAt(0)-55296)+(g.charCodeAt(1)-56320)+65536)+";"}).replace(Wh,function(g){return"&#"+g.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qp;function Ld(f,g){let m=null;try{qp=qp||function Up(f){const g=new Pv(f);return function I4(){try{return!!(new window.DOMParser).parseFromString(Md(""),"text/html")}catch(f){return!1}}()?new L4(g):g}(f);let _=g?String(g):"";m=qp.getInertBodyElement(_);let b=5,D=_;do{if(0===b)throw new Error("Failed to sanitize html because the input is unstable");b--,_=D,D=m.innerHTML,m=qp.getInertBodyElement(_)}while(_!==D);return Md((new Yp).sanitizeChildren(Lc(m)||m))}finally{if(m){const _=Lc(m)||m;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function Lc(f){return"content"in f&&function k4(f){return f.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===f.nodeName}(f)?f.content:null}var Ho=(()=>((Ho=Ho||{})[Ho.NONE=0]="NONE",Ho[Ho.HTML=1]="HTML",Ho[Ho.STYLE=2]="STYLE",Ho[Ho.SCRIPT=3]="SCRIPT",Ho[Ho.URL=4]="URL",Ho[Ho.RESOURCE_URL=5]="RESOURCE_URL",Ho))();function Rv(f){const g=Uh();return g?Tv(g.sanitize(Ho.HTML,f)||""):Ad(f,"HTML")?Tv(oc(f)):Ld(as(),gt(f))}function jh(f){const g=Uh();return g?g.sanitize(Ho.URL,f)||"":Ad(f,"URL")?oc(f):_i(gt(f))}function Uh(){const f=ie();return f&&f[12]}const L1="__ngContext__";function Ko(f,g){f[L1]=g}function Id(f){const g=function Yh(f){return f[L1]||null}(f);return g?Array.isArray(g)?g:g.lView:null}function us(f){return f.ngOriginalError}function Wl(f,...g){f.error(...g)}class $h{constructor(){this._console=console}handleError(g){const m=this._findOriginalError(g),_=function sc(f){return f&&f.ngErrorLogger||Wl}(g);_(this._console,"ERROR",g),m&&_(this._console,"ORIGINAL ERROR",m)}_findOriginalError(g){let m=g&&us(g);for(;m&&us(m);)m=us(m);return m||null}}const kv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nn))();function Ia(f){return f instanceof Function?f():f}var Na=(()=>((Na=Na||{})[Na.Important=1]="Important",Na[Na.DashCase=2]="DashCase",Na))();function qh(f,g){return undefined(f,g)}function Xu(f){const g=f[3];return bi(g)?g[3]:g}function Zu(f){return z1(f[13])}function Zh(f){return z1(f[4])}function z1(f){for(;null!==f&&!bi(f);)f=f[4];return f}function Vd(f,g,m,_,b){if(null!=_){let D,R=!1;bi(_)?D=_:yn(_)&&(R=!0,_=_[0]);const V=ee(_);0===f&&null!==m?null==b?Bv(g,m,V):mu(g,m,V,b||null,!0):1===f&&null!==m?mu(g,m,V,b||null,!0):2===f?function Uv(f,g,m){const _=kc(f,g);_&&function Qu(f,g,m,_){Mi(f)?f.removeChild(g,m,_):g.removeChild(m)}(f,_,g,m)}(g,V,R):3===f&&g.destroyNode(V),null!=D&&function U1(f,g,m,_,b){const D=m[7];D!==ee(m)&&Vd(g,f,_,D,b);for(let V=10;V<m.length;V++){const Y=m[V];cc(Y[1],Y,f,g,_,D)}}(g,f,D,m,b)}}function Qh(f,g,m){if(Mi(f))return f.createElement(g,m);{const _=null!==m?function Wo(f){const g=f.toLowerCase();return"svg"===g?"http://www.w3.org/2000/svg":"math"===g?"http://www.w3.org/1998/MathML/":null}(m):null;return null===_?f.createElement(g):f.createElementNS(_,g)}}function lc(f,g){const m=f[9],_=m.indexOf(g),b=g[3];1024&g[2]&&(g[2]&=-1025,io(b,-1)),m.splice(_,1)}function nf(f,g){if(f.length<=10)return;const m=10+g,_=f[m];if(_){const b=_[17];null!==b&&b!==f&&lc(b,_),g>0&&(f[m-1][4]=_[4]);const D=Nh(f,10+g);!function si(f,g){cc(f,g,g[11],2,null,null),g[0]=null,g[6]=null}(_[1],_);const R=D[19];null!==R&&R.detachView(D[1]),_[3]=null,_[4]=null,_[2]&=-129}return _}function rf(f,g){if(!(256&g[2])){const m=g[11];Mi(m)&&m.destroyNode&&cc(f,g,m,3,null,null),function Vv(f){let g=f[13];if(!g)return af(f[1],f);for(;g;){let m=null;if(yn(g))m=g[13];else{const _=g[10];_&&(m=_)}if(!m){for(;g&&!g[4]&&g!==f;)yn(g)&&af(g[1],g),g=g[3];null===g&&(g=f),yn(g)&&af(g[1],g),m=g&&g[4]}g=m}}(g)}}function af(f,g){if(!(256&g[2])){g[2]&=-129,g[2]|=256,function X4(f,g){let m;if(null!=f&&null!=(m=f.destroyHooks))for(let _=0;_<m.length;_+=2){const b=g[m[_]];if(!(b instanceof eo)){const D=m[_+1];if(Array.isArray(D))for(let R=0;R<D.length;R+=2){const V=b[D[R]],Y=D[R+1];try{Y.call(V)}finally{}}else try{D.call(b)}finally{}}}}(f,g),function G1(f,g){const m=f.cleanup,_=g[7];let b=-1;if(null!==m)for(let D=0;D<m.length-1;D+=2)if("string"==typeof m[D]){const R=m[D+1],V="function"==typeof R?R(g):ee(g[R]),Y=_[b=m[D+2]],le=m[D+3];"boolean"==typeof le?V.removeEventListener(m[D],Y,le):le>=0?_[b=le]():_[b=-le].unsubscribe(),D+=2}else{const R=_[b=m[D+1]];m[D].call(R)}if(null!==_){for(let D=b+1;D<_.length;D++)_[D]();g[7]=null}}(f,g),1===g[1].type&&Mi(g[11])&&g[11].destroy();const m=g[17];if(null!==m&&bi(g[3])){m!==g[3]&&lc(m,g);const _=g[19];null!==_&&_.detachView(f)}}}function Z4(f,g,m){return function Gv(f,g,m){let _=g;for(;null!==_&&40&_.type;)_=(g=_).parent;if(null===_)return m[0];if(2&_.flags){const b=f.data[_.directiveStart].encapsulation;if(b===ye.None||b===ye.Emulated)return null}return mn(_,m)}(f,g.parent,m)}function mu(f,g,m,_,b){Mi(f)?f.insertBefore(g,m,_,b):g.insertBefore(m,_,b)}function Bv(f,g,m){Mi(f)?f.appendChild(g,m):g.appendChild(m)}function Wv(f,g,m,_,b){null!==_?mu(f,g,m,_,b):Bv(f,g,m)}function kc(f,g){return Mi(f)?f.parentNode(g):g.parentNode}function jv(f,g,m){return W1(f,g,m)}let W1=function B1(f,g,m){return 40&f.type?mn(f,m):null};function Jh(f,g,m,_){const b=Z4(f,_,g),D=g[11],V=jv(_.parent||g[6],_,g);if(null!=b)if(Array.isArray(m))for(let Y=0;Y<m.length;Y++)Wv(D,b,m[Y],V,!1);else Wv(D,b,m,V,!1)}function Hd(f,g){if(null!==g){const m=g.type;if(3&m)return mn(g,f);if(4&m)return ep(-1,f[g.index]);if(8&m){const _=g.child;if(null!==_)return Hd(f,_);{const b=f[g.index];return bi(b)?ep(-1,b):ee(b)}}if(32&m)return qh(g,f)()||ee(f[g.index]);{const _=Ds(f,g);return null!==_?Array.isArray(_)?_[0]:Hd(Xu(f[16]),_):Hd(f,g.next)}}return null}function Ds(f,g){return null!==g?f[16][6].projection[g.projection]:null}function ep(f,g){const m=10+f+1;if(m<g.length){const _=g[m],b=_[1].firstChild;if(null!==b)return Hd(_,b)}return g[7]}function j1(f,g,m,_,b,D,R){for(;null!=m;){const V=_[m.index],Y=m.type;if(R&&0===g&&(V&&Ko(ee(V),_),m.flags|=4),64!=(64&m.flags))if(8&Y)j1(f,g,m.child,_,b,D,!1),Vd(g,f,b,V,D);else if(32&Y){const le=qh(m,_);let Ce;for(;Ce=le();)Vd(g,f,b,Ce,D);Vd(g,f,b,V,D)}else 16&Y?Yv(f,g,_,m,b,D):Vd(g,f,b,V,D);m=R?m.projectionNext:m.next}}function cc(f,g,m,_,b,D){j1(m,_,f.firstChild,g,b,D,!1)}function Yv(f,g,m,_,b,D){const R=m[16],Y=R[6].projection[_.projection];if(Array.isArray(Y))for(let le=0;le<Y.length;le++)Vd(g,f,b,Y[le],D);else j1(f,g,Y,R[3],b,D,!0)}function Y1(f,g,m){Mi(f)?f.setAttribute(g,"style",m):g.style.cssText=m}function Gd(f,g,m){Mi(f)?""===m?f.removeAttribute(g,"class"):f.setAttribute(g,"class",m):g.className=m}function cf(f,g,m){let _=f.length;for(;;){const b=f.indexOf(g,m);if(-1===b)return b;if(0===b||f.charCodeAt(b-1)<=32){const D=g.length;if(b+D===_||f.charCodeAt(b+D)<=32)return b}m=b+1}}const uf="ng-template";function Bd(f,g,m){let _=0;for(;_<f.length;){let b=f[_++];if(m&&"class"===b){if(b=f[_],-1!==cf(b.toLowerCase(),g,0))return!0}else if(1===b){for(;_<f.length&&"string"==typeof(b=f[_++]);)if(b.toLowerCase()===g)return!0;return!1}}return!1}function Kv(f){return 4===f.type&&f.value!==uf}function K1(f,g,m){return g===(4!==f.type||m?f.value:uf)}function e2(f,g,m){let _=4;const b=f.attrs||[],D=function zc(f){for(let g=0;g<f.length;g++)if(Ys(f[g]))return g;return f.length}(b);let R=!1;for(let V=0;V<g.length;V++){const Y=g[V];if("number"!=typeof Y){if(!R)if(4&_){if(_=2|1&_,""!==Y&&!K1(f,Y,m)||""===Y&&1===g.length){if(Yl(_))return!1;R=!0}}else{const le=8&_?Y:g[++V];if(8&_&&null!==f.attrs){if(!Bd(f.attrs,le,m)){if(Yl(_))return!1;R=!0}continue}const Ke=$v(8&_?"class":Y,b,Kv(f),m);if(-1===Ke){if(Yl(_))return!1;R=!0;continue}if(""!==le){let At;At=Ke>D?"":b[Ke+1].toLowerCase();const $t=8&_?At:null;if($t&&-1!==cf($t,le,0)||2&_&&le!==At){if(Yl(_))return!1;R=!0}}}}else{if(!R&&!Yl(_)&&!Yl(Y))return!1;if(R&&Yl(Y))continue;R=!1,_=Y|1&_}}return Yl(_)||R}function Yl(f){return 0==(1&f)}function $v(f,g,m,_){if(null===g)return-1;let b=0;if(_||!m){let D=!1;for(;b<g.length;){const R=g[b];if(R===f)return b;if(3===R||6===R)D=!0;else{if(1===R||2===R){let V=g[++b];for(;"string"==typeof V;)V=g[++b];continue}if(4===R)break;if(0===R){b+=4;continue}}b+=D?1:2}return-1}return function z3(f,g){let m=f.indexOf(4);if(m>-1)for(m++;m<f.length;){const _=f[m];if("number"==typeof _)return-1;if(_===g)return m;m++}return-1}(g,f)}function Go(f,g,m=!1){for(let _=0;_<g.length;_++)if(e2(f,g[_],m))return!0;return!1}function n2(f,g){e:for(let m=0;m<g.length;m++){const _=g[m];if(f.length===_.length){for(let b=0;b<f.length;b++)if(f[b]!==_[b])continue e;return!0}}return!1}function Ln(f,g){return f?":not("+g.trim()+")":g}function Os(f){let g=f[0],m=1,_=2,b="",D=!1;for(;m<f.length;){let R=f[m];if("string"==typeof R)if(2&_){const V=f[++m];b+="["+R+(V.length>0?'="'+V+'"':"")+"]"}else 8&_?b+="."+R:4&_&&(b+=" "+R);else""!==b&&!Yl(R)&&(g+=Ln(D,b),b=""),_=R,D=D||!Yl(_);m++}return""!==b&&(g+=Ln(D,b)),g}const li={};function Xv(f){df(Kt(),ie(),yi()+f,Ve())}function df(f,g,m,_){if(!_)if(3==(3&g[2])){const D=f.preOrderCheckHooks;null!==D&&js(g,D,m)}else{const D=f.preOrderHooks;null!==D&&Us(g,D,0,m)}Ro(m)}function pf(f,g){return f<<17|g<<2}function ba(f){return f>>17&32767}function Vc(f){return 2|f}function so(f){return(131068&f)>>2}function Qa(f,g){return-131069&f|g<<2}function ff(f){return 1|f}function eg(f,g){const m=f.contentQueries;if(null!==m)for(let _=0;_<m.length;_+=2){const b=m[_],D=m[_+1];if(-1!==D){const R=f.data[D];tn(b),R.contentQueries(2,g[D],D)}}}function fc(f,g,m,_,b,D,R,V,Y,le){const Ce=g.blueprint.slice();return Ce[0]=b,Ce[2]=140|_,va(Ce),Ce[3]=Ce[15]=f,Ce[8]=m,Ce[10]=R||f&&f[10],Ce[11]=V||f&&f[11],Ce[12]=Y||f&&f[12]||null,Ce[9]=le||f&&f[9]||null,Ce[6]=D,Ce[16]=2==g.type?f[16]:Ce,Ce}function Yd(f,g,m,_,b){let D=f.data[g];if(null===D)D=function tp(f,g,m,_,b){const D=bo(),R=Ra(),Y=f.data[g]=function rg(f,g,m,_,b,D){return{type:m,index:_,insertBeforeIndex:null,injectorIndex:g?g.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:b,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,R?D:D&&D.parent,m,g,_,b);return null===f.firstChild&&(f.firstChild=Y),null!==D&&(R?null==D.child&&null!==Y.parent&&(D.child=Y):null===D.next&&(D.next=Y)),Y}(f,g,m,_,b),function L(){return mr.lFrame.inI18n}()&&(D.flags|=64);else if(64&D.type){D.type=m,D.value=_,D.attrs=b;const R=function Ao(){const f=mr.lFrame,g=f.currentTNode;return f.isParent?g:g.parent}();D.injectorIndex=null===R?-1:R.injectorIndex}return wo(D,!0),D}function Kd(f,g,m,_){if(0===m)return-1;const b=g.length;for(let D=0;D<m;D++)g.push(_),f.blueprint.push(_),f.data.push(null);return b}function td(f,g,m){br(g);try{const _=f.viewQuery;null!==_&&bf(1,_,m);const b=f.template;null!==b&&Cu(f,g,b,1,m),f.firstCreatePass&&(f.firstCreatePass=!1),f.staticContentQueries&&eg(f,g),f.staticViewQueries&&bf(2,f.viewQuery,m);const D=f.components;null!==D&&function t0(f,g){for(let m=0;m<g.length;m++)p2(f,g[m])}(g,D)}catch(_){throw f.firstCreatePass&&(f.incompleteFirstPass=!0,f.firstCreatePass=!1),_}finally{g[2]&=-5,Qi()}}function $d(f,g,m,_){const b=g[2];if(256==(256&b))return;br(g);const D=Ve();try{va(g),function Jr(f){return mr.lFrame.bindingIndex=f}(f.bindingStartIndex),null!==m&&Cu(f,g,m,2,_);const R=3==(3&b);if(!D)if(R){const le=f.preOrderCheckHooks;null!==le&&js(g,le,null)}else{const le=f.preOrderHooks;null!==le&&Us(g,le,0,null),nr(g,0)}if(function vc(f){for(let g=Zu(f);null!==g;g=Zh(g)){if(!g[2])continue;const m=g[9];for(let _=0;_<m.length;_++){const b=m[_],D=b[3];0==(1024&b[2])&&io(D,1),b[2]|=1024}}}(g),function d2(f){for(let g=Zu(f);null!==g;g=Zh(g))for(let m=10;m<g.length;m++){const _=g[m],b=_[1];ji(_)&&$d(b,_,b.template,_[8])}}(g),null!==f.contentQueries&&eg(f,g),!D)if(R){const le=f.contentCheckHooks;null!==le&&js(g,le)}else{const le=f.contentHooks;null!==le&&Us(g,le,1),nr(g,1)}!function pc(f,g){const m=f.hostBindingOpCodes;if(null!==m)try{for(let _=0;_<m.length;_++){const b=m[_];if(b<0)Ro(~b);else{const D=b,R=m[++_],V=m[++_];me(R,D),V(2,g[D])}}}finally{Ro(-1)}}(f,g);const V=f.components;null!==V&&function Wc(f,g){for(let m=0;m<g.length;m++)h2(f,g[m])}(g,V);const Y=f.viewQuery;if(null!==Y&&bf(2,Y,_),!D)if(R){const le=f.viewCheckHooks;null!==le&&js(g,le)}else{const le=f.viewHooks;null!==le&&Us(g,le,2),nr(g,2)}!0===f.firstUpdatePass&&(f.firstUpdatePass=!1),D||(g[2]&=-73),1024&g[2]&&(g[2]&=-1025,io(g[3],-1))}finally{Qi()}}function n0(f,g,m,_){const b=g[10],D=!Ve(),R=di(g);try{D&&!R&&b.begin&&b.begin(),R&&td(f,g,_),$d(f,g,m,_)}finally{D&&!R&&b.end&&b.end()}}function Cu(f,g,m,_,b){const D=yi(),R=2&_;try{Ro(-1),R&&g.length>20&&df(f,g,20,Ve()),m(_,b)}finally{Ro(D)}}function tg(f,g,m){if(ia(g)){const b=g.directiveEnd;for(let D=g.directiveStart;D<b;D++){const R=f.data[D];R.contentQueries&&R.contentQueries(1,m[D],D)}}}function nd(f,g,m){!ne()||(function sg(f,g,m,_){const b=m.directiveStart,D=m.directiveEnd;f.firstCreatePass||N(m,g),Ko(_,g);const R=m.initialInputs;for(let V=b;V<D;V++){const Y=f.data[V],le=Ye(Y);le&&cg(g,m,Y);const Ce=$s(g,f,V,m);Ko(Ce,g),null!==R&&u2(0,V-b,Ce,Y,0,R),le&&(Yr(m.index,g)[8]=Ce)}}(f,g,m,mn(m,g)),128==(128&m.flags)&&function lg(f,g,m){const _=m.directiveStart,b=m.directiveEnd,R=m.index,V=function He(){return mr.lFrame.currentDirectiveIndex}();try{Ro(R);for(let Y=_;Y<b;Y++){const le=f.data[Y],Ce=g[Y];dt(Y),(null!==le.hostBindings||0!==le.hostVars||null!==le.hostAttrs)&&l0(le,Ce)}}finally{Ro(-1),dt(V)}}(f,g,m))}function ng(f,g,m=mn){const _=g.localNames;if(null!==_){let b=g.index+1;for(let D=0;D<_.length;D+=2){const R=_[D+1],V=-1===R?m(g,f):f[R];f[b++]=V}}}function r0(f){const g=f.tView;return null===g||g.incompleteFirstPass?f.tView=el(1,null,f.template,f.decls,f.vars,f.directiveDefs,f.pipeDefs,f.viewQuery,f.schemas,f.consts):g}function el(f,g,m,_,b,D,R,V,Y,le){const Ce=20+_,Ke=Ce+b,At=function o0(f,g){const m=[];for(let _=0;_<g;_++)m.push(_<f?null:li);return m}(Ce,Ke),$t="function"==typeof le?le():le;return At[1]={type:f,blueprint:At,template:m,queries:null,viewQuery:V,declTNode:g,data:At.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:Ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof R?R():R,firstChild:null,schemas:Y,consts:$t,incompleteFirstPass:!1}}function yf(f,g,m,_){const b=pg(g);null===m?b.push(_):(b.push(m),f.firstCreatePass&&wu(f).push(_,b.length-1))}function ig(f,g,m){for(let _ in f)if(f.hasOwnProperty(_)){const b=f[_];(m=null===m?{}:m).hasOwnProperty(_)?m[_].push(g,b):m[_]=[g,b]}return m}function tl(f,g,m,_,b,D,R,V){const Y=mn(g,m);let Ce,le=g.inputs;!V&&null!=le&&(Ce=le[_])?(g0(f,m,Ce,_,b),Vo(g)&&function l2(f,g){const m=Yr(g,f);16&m[2]||(m[2]|=64)}(m,g.index)):3&g.type&&(_=function qd(f){return"class"===f?"className":"for"===f?"htmlFor":"formaction"===f?"formAction":"innerHtml"===f?"innerHTML":"readonly"===f?"readOnly":"tabindex"===f?"tabIndex":f}(_),b=null!=R?R(b,g.value||"",_):b,Mi(D)?D.setProperty(Y,_,b):fo(_)||(Y.setProperty?Y.setProperty(_,b):Y[_]=b))}function np(f,g,m,_){let b=!1;if(ne()){const D=function c0(f,g,m){const _=f.directiveRegistry;let b=null;if(_)for(let D=0;D<_.length;D++){const R=_[D];Go(m,R.selectors,!1)&&(b||(b=[]),st(N(m,g),f,R.type),Ye(R)?(u0(f,m),b.unshift(R)):b.push(R))}return b}(f,g,m),R=null===_?null:{"":-1};if(null!==D){b=!0,_l(m,f.data.length,D.length);for(let Ce=0;Ce<D.length;Ce++){const Ke=D[Ce];Ke.providersResolver&&Ke.providersResolver(Ke)}let V=!1,Y=!1,le=Kd(f,g,D.length,null);for(let Ce=0;Ce<D.length;Ce++){const Ke=D[Ce];m.mergedAttrs=Gu(m.mergedAttrs,Ke.hostAttrs),d0(f,m,g,le,Ke),_f(le,Ke,R),null!==Ke.contentQueries&&(m.flags|=8),(null!==Ke.hostBindings||null!==Ke.hostAttrs||0!==Ke.hostVars)&&(m.flags|=128);const At=Ke.type.prototype;!V&&(At.ngOnChanges||At.ngOnInit||At.ngDoCheck)&&((f.preOrderHooks||(f.preOrderHooks=[])).push(m.index),V=!0),!Y&&(At.ngOnChanges||At.ngDoCheck)&&((f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(m.index),Y=!0),le++}!function xs(f,g){const _=g.directiveEnd,b=f.data,D=g.attrs,R=[];let V=null,Y=null;for(let le=g.directiveStart;le<_;le++){const Ce=b[le],Ke=Ce.inputs,At=null===D||Kv(g)?null:h0(Ke,D);R.push(At),V=ig(Ke,le,V),Y=ig(Ce.outputs,le,Y)}null!==V&&(V.hasOwnProperty("class")&&(g.flags|=16),V.hasOwnProperty("style")&&(g.flags|=32)),g.initialInputs=R,g.inputs=V,g.outputs=Y}(f,m)}R&&function c2(f,g,m){if(g){const _=f.localNames=[];for(let b=0;b<g.length;b+=2){const D=m[g[b+1]];if(null==D)throw new mt(-301,!1);_.push(g[b],D)}}}(m,_,R)}return m.mergedAttrs=Gu(m.mergedAttrs,m.attrs),b}function og(f,g,m,_,b,D){const R=D.hostBindings;if(R){let V=f.hostBindingOpCodes;null===V&&(V=f.hostBindingOpCodes=[]);const Y=~g.index;(function ag(f){let g=f.length;for(;g>0;){const m=f[--g];if("number"==typeof m&&m<0)return m}return 0})(V)!=Y&&V.push(Y),V.push(_,b,R)}}function l0(f,g){null!==f.hostBindings&&f.hostBindings(1,g)}function u0(f,g){g.flags|=2,(f.components||(f.components=[])).push(g.index)}function _f(f,g,m){if(m){if(g.exportAs)for(let _=0;_<g.exportAs.length;_++)m[g.exportAs[_]]=f;Ye(g)&&(m[""]=f)}}function _l(f,g,m){f.flags|=1,f.directiveStart=g,f.directiveEnd=g+m,f.providerIndexes=g}function d0(f,g,m,_,b){f.data[_]=b;const D=b.factory||(b.factory=aa(b.type)),R=new eo(D,Ye(b),null);f.blueprint[_]=R,m[_]=R,og(f,g,0,_,Kd(f,m,b.hostVars,li),b)}function cg(f,g,m){const _=mn(g,f),b=r0(m),D=f[10],R=ca(f,fc(f,b,null,m.onPush?64:16,_,g,D,D.createRenderer(_,m),null,null));f[g.index]=R}function Ms(f,g,m,_,b,D){const R=mn(f,g);!function ug(f,g,m,_,b,D,R){if(null==D)Mi(f)?f.removeAttribute(g,b,m):g.removeAttribute(b);else{const V=null==R?gt(D):R(D,_||"",b);Mi(f)?f.setAttribute(g,b,V,m):m?g.setAttributeNS(m,b,V):g.setAttribute(b,V)}}(g[11],R,D,f.value,m,_,b)}function u2(f,g,m,_,b,D){const R=D[g];if(null!==R){const V=_.setInput;for(let Y=0;Y<R.length;){const le=R[Y++],Ce=R[Y++],Ke=R[Y++];null!==V?_.setInput(m,Ke,le,Ce):m[Ce]=Ke}}}function h0(f,g){let m=null,_=0;for(;_<g.length;){const b=g[_];if(0!==b)if(5!==b){if("number"==typeof b)break;f.hasOwnProperty(b)&&(null===m&&(m=[]),m.push(b,f[b],g[_+1])),_+=2}else _+=2;else _+=4}return m}function rp(f,g,m,_){return new Array(f,!0,!1,g,null,0,_,m,null,null)}function h2(f,g){const m=Yr(g,f);if(ji(m)){const _=m[1];80&m[2]?$d(_,m,_.template,m[8]):m[5]>0&&wf(m)}}function wf(f){for(let _=Zu(f);null!==_;_=Zh(_))for(let b=10;b<_.length;b++){const D=_[b];if(1024&D[2]){const R=D[1];$d(R,D,R.template,D[8])}else D[5]>0&&wf(D)}const m=f[1].components;if(null!==m)for(let _=0;_<m.length;_++){const b=Yr(m[_],f);ji(b)&&b[5]>0&&wf(b)}}function p2(f,g){const m=Yr(g,f),_=m[1];(function Sf(f,g){for(let m=g.length;m<f.blueprint.length;m++)g.push(f.blueprint[m])})(_,m),td(_,m,m[8])}function ca(f,g){return f[13]?f[14][4]=g:f[13]=g,f[14]=g,g}function jc(f){for(;f;){f[2]|=64;const g=Xu(f);if(ns(f)&&!g)return f;f=g}return null}function hg(f,g,m){const _=g[10];_.begin&&_.begin();try{$d(f,g,f.template,m)}catch(b){throw fg(g,b),b}finally{_.end&&_.end()}}function Ps(f){!function Xd(f){for(let g=0;g<f.components.length;g++){const m=f.components[g],_=Id(m),b=_[1];n0(b,_,b.template,m)}}(f[8])}function bf(f,g,m){tn(0),g(f,m)}const g2=(()=>Promise.resolve(null))();function pg(f){return f[7]||(f[7]=[])}function wu(f){return f.cleanup||(f.cleanup=[])}function f0(f,g,m){return(null===f||Ye(f))&&(m=function Pe(f){for(;Array.isArray(f);){if("object"==typeof f[1])return f;f=f[0]}return null}(m[g.index])),m[11]}function fg(f,g){const m=f[9],_=m?m.get($h,null):null;_&&_.handleError(g)}function g0(f,g,m,_,b){for(let D=0;D<m.length;){const R=m[D++],V=m[D++],Y=g[R],le=f.data[R];null!==le.setInput?le.setInput(Y,b,_,V):Y[V]=b}}function yc(f,g,m){const _=an(g,f);!function H1(f,g,m){Mi(f)?f.setValue(g,m):g.textContent=m}(f[11],_,m)}function Ef(f,g,m){let _=m?f.styles:null,b=m?f.classes:null,D=0;if(null!==g)for(let R=0;R<g.length;R++){const V=g[R];"number"==typeof V?D=V:1==D?b=Je(b,V):2==D&&(_=Je(_,V+": "+g[++R]+";"))}m?f.styles=_:f.stylesWithoutHost=_,m?f.classes=b:f.classesWithoutHost=b}const id=new Uo("INJECTOR",-1);class v0{get(g,m=bs){if(m===bs){const _=new Error(`NullInjectorError: No provider for ${nt(g)}!`);throw _.name="NullInjectorError",_}return m}}const As=new Uo("Set Injector scope."),Zd={},y2={};let Su;function vg(){return void 0===Su&&(Su=new v0),Su}function Qd(f,g=null,m=null,_){const b=Cc(f,g,m,_);return b._resolveInjectorDefTypes(),b}function Cc(f,g=null,m=null,_){return new C2(f,m,g||vg(),_)}class C2{constructor(g,m,_,b=null){this.parent=_,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const D=[];m&&qa(m,V=>this.processProvider(V,g,m)),qa([g],V=>this.processInjectorType(V,[],D)),this.records.set(id,Jd(void 0,this));const R=this.records.get(As);this.scope=null!=R?R.value:null,this.source=b||("object"==typeof g?null:nt(g))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(g=>g.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(g,m=bs,_=Zn.Default){this.assertNotDestroyed();const b=Ca(this),D=Ht(void 0);try{if(!(_&Zn.SkipSelf)){let V=this.records.get(g);if(void 0===V){const Y=function w2(f){return"function"==typeof f||"object"==typeof f&&f instanceof Uo}(g)&&Dr(g);V=Y&&this.injectableDefInScope(Y)?Jd(mg(g),Zd):null,this.records.set(g,V)}if(null!=V)return this.hydrate(g,V)}return(_&Zn.Self?vg():this.parent).get(g,m=_&Zn.Optional&&m===bs?null:m)}catch(R){if("NullInjectorError"===R.name){if((R[Hh]=R[Hh]||[]).unshift(nt(g)),b)throw R;return function Ev(f,g,m,_){const b=f[Hh];throw g[ic]&&b.unshift(g[ic]),f.message=function uu(f,g,m,_=null){f=f&&"\n"===f.charAt(0)&&"\u0275"==f.charAt(1)?f.substr(2):f;let b=nt(g);if(Array.isArray(g))b=g.map(nt).join(" -> ");else if("object"==typeof g){let D=[];for(let R in g)if(g.hasOwnProperty(R)){let V=g[R];D.push(R+":"+("string"==typeof V?JSON.stringify(V):nt(V)))}b=`{${D.join(", ")}}`}return`${m}${_?"("+_+")":""}[${b}]: ${f.replace(C1,"\n  ")}`}("\n"+f.message,b,m,_),f.ngTokenPath=b,f[Hh]=null,f}(R,g,"R3InjectorError",this.source)}throw R}finally{Ht(D),Ca(b)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(g=>this.get(g))}toString(){const g=[];return this.records.forEach((_,b)=>g.push(nt(b))),`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new mt(205,!1)}processInjectorType(g,m,_){if(!(g=Ae(g)))return!1;let b=Er(g);const D=null==b&&g.ngModule||void 0,R=void 0===D?g:D,V=-1!==_.indexOf(R);if(void 0!==D&&(b=Er(D)),null==b)return!1;if(null!=b.imports&&!V){let Ce;_.push(R);try{qa(b.imports,Ke=>{this.processInjectorType(Ke,m,_)&&(void 0===Ce&&(Ce=[]),Ce.push(Ke))})}finally{}if(void 0!==Ce)for(let Ke=0;Ke<Ce.length;Ke++){const{ngModule:At,providers:$t}=Ce[Ke];qa($t,On=>this.processProvider(On,At,$t||vn))}}this.injectorDefTypes.add(R);const Y=aa(R)||(()=>new R);this.records.set(R,Jd(Y,Zd));const le=b.providers;if(null!=le&&!V){const Ce=g;qa(le,Ke=>this.processProvider(Ke,Ce,le))}return void 0!==D&&void 0!==g.providers}processProvider(g,m,_){let b=Eu(g=Ae(g))?g:Ae(g&&g.provide);const D=function ip(f,g,m){return eh(f)?Jd(void 0,f.useValue):Jd(bu(f),Zd)}(g);if(Eu(g)||!0!==g.multi)this.records.get(b);else{let R=this.records.get(b);R||(R=Jd(void 0,Zd,!0),R.factory=()=>Bh(R.multi),this.records.set(b,R)),b=g,R.multi.push(g)}this.records.set(b,D)}hydrate(g,m){return m.value===Zd&&(m.value=y2,m.value=m.factory()),"object"==typeof m.value&&m.value&&function _2(f){return null!==f&&"object"==typeof f&&"function"==typeof f.ngOnDestroy}(m.value)&&this.onDestroy.add(m.value),m.value}injectableDefInScope(g){if(!g.providedIn)return!1;const m=Ae(g.providedIn);return"string"==typeof m?"any"===m||m===this.scope:this.injectorDefTypes.has(m)}}function mg(f){const g=Dr(f),m=null!==g?g.factory:aa(f);if(null!==m)return m;if(f instanceof Uo)throw new mt(204,!1);if(f instanceof Function)return function yg(f){const g=f.length;if(g>0)throw ju(g,"?"),new mt(204,!1);const m=function Ii(f){const g=f&&(f[Kr]||f[ci]);if(g){const m=function Ni(f){if(f.hasOwnProperty("name"))return f.name;const g=(""+f).match(/^function\s*([^\s(]+)/);return null===g?"":g[1]}(f);return console.warn(`DEPRECATED: DI is instantiating a token "${m}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${m}" class.`),g}return null}(f);return null!==m?()=>m.factory(f):()=>new f}(f);throw new mt(204,!1)}function bu(f,g,m){let _;if(Eu(f)){const b=Ae(f);return aa(b)||mg(b)}if(eh(f))_=()=>Ae(f.useValue);else if(function Df(f){return!(!f||!f.useFactory)}(f))_=()=>f.useFactory(...Bh(f.deps||[]));else if(function U3(f){return!(!f||!f.useExisting)}(f))_=()=>_a(Ae(f.useExisting));else{const b=Ae(f&&(f.useClass||f.provide));if(!function m0(f){return!!f.deps}(f))return aa(b)||mg(b);_=()=>new b(...Bh(f.deps))}return _}function Jd(f,g,m=!1){return{factory:f,value:g,multi:m?[]:void 0}}function eh(f){return null!==f&&"object"==typeof f&&xd in f}function Eu(f){return"function"==typeof f}let qo=(()=>{class f{static create(m,_){var b;if(Array.isArray(m))return Qd({name:""},_,m,"");{const D=null!==(b=m.name)&&void 0!==b?b:"";return Qd({name:D},m.parent,m.providers,D)}}}return f.THROW_IF_NOT_FOUND=bs,f.NULL=new v0,f.\u0275prov=_r({token:f,providedIn:"any",factory:()=>_a(id)}),f.__NG_ELEMENT_ID__=-1,f})();function S0(f,g){ro(Id(f)[1],Rr())}function sd(f){let g=function b0(f){return Object.getPrototypeOf(f.prototype).constructor}(f.type),m=!0;const _=[f];for(;g;){let b;if(Ye(f))b=g.\u0275cmp||g.\u0275dir;else{if(g.\u0275cmp)throw new mt(903,"");b=g.\u0275dir}if(b){if(m){_.push(b);const R=f;R.inputs=ld(f.inputs),R.declaredInputs=ld(f.declaredInputs),R.outputs=ld(f.outputs);const V=b.hostBindings;V&&D0(f,V);const Y=b.viewQuery,le=b.contentQueries;if(Y&&T2(f,Y),le&&E0(f,le),Ze(f.inputs,b.inputs),Ze(f.declaredInputs,b.declaredInputs),Ze(f.outputs,b.outputs),Ye(b)&&b.data.animation){const Ce=f.data;Ce.animation=(Ce.animation||[]).concat(b.data.animation)}}const D=b.features;if(D)for(let R=0;R<D.length;R++){const V=D[R];V&&V.ngInherit&&V(f),V===sd&&(m=!1)}}g=Object.getPrototypeOf(g)}!function O2(f){let g=0,m=null;for(let _=f.length-1;_>=0;_--){const b=f[_];b.hostVars=g+=b.hostVars,b.hostAttrs=Gu(b.hostAttrs,m=Gu(m,b.hostAttrs))}}(_)}function ld(f){return f===Gt?{}:f===vn?[]:f}function T2(f,g){const m=f.viewQuery;f.viewQuery=m?(_,b)=>{g(_,b),m(_,b)}:g}function E0(f,g){const m=f.contentQueries;f.contentQueries=m?(_,b,D)=>{g(_,b,D),m(_,b,D)}:g}function D0(f,g){const m=f.hostBindings;f.hostBindings=m?(_,b)=>{g(_,b),m(_,b)}:g}let xf=null;function ih(){if(!xf){const f=Nn.Symbol;if(f&&f.iterator)xf=f.iterator;else{const g=Object.getOwnPropertyNames(Map.prototype);for(let m=0;m<g.length;++m){const _=g[m];"entries"!==_&&"size"!==_&&Map.prototype[_]===Map.prototype.entries&&(xf=_)}}}return xf}function ap(f){return!!Du(f)&&(Array.isArray(f)||!(f instanceof Map)&&ih()in f)}function Du(f){return null!==f&&("function"==typeof f||"object"==typeof f)}function rl(f,g,m){return f[g]=m}function Lo(f,g,m){return!Object.is(f[g],m)&&(f[g]=m,!0)}function ps(f,g,m,_){const b=Lo(f,g,m);return Lo(f,g+1,_)||b}function Rs(f,g,m,_,b,D){const R=ps(f,g,m,_);return ps(f,g+2,b,D)||R}function Og(f,g,m,_){const b=ie();return Lo(b,se(),g)&&(Kt(),Ms(Oi(),b,f,g,m,_)),Og}function ah(f,g,m,_){return Lo(f,se(),m)?g+gt(m)+_:li}function Ou(f,g,m,_,b,D){const V=ps(f,ir(),m,b);return P(2),V?g+gt(m)+_+gt(b)+D:li}function Af(f,g,m,_,b,D,R,V){const Y=ie(),le=Kt(),Ce=f+20,Ke=le.firstCreatePass?function x0(f,g,m,_,b,D,R,V,Y){const le=g.consts,Ce=Yd(g,f,4,R||null,Pi(le,V));np(g,m,Ce,Pi(le,Y)),ro(g,Ce);const Ke=Ce.tViews=el(2,Ce,_,b,D,g.directiveRegistry,g.pipeRegistry,null,g.schemas,le);return null!==g.queries&&(g.queries.template(g,Ce),Ke.queries=g.queries.embeddedTView(Ce)),Ce}(Ce,le,Y,g,m,_,b,D,R):le.data[Ce];wo(Ke,!1);const At=Y[11].createComment("");Jh(le,Y,At,Ke),Ko(At,Y),ca(Y,Y[Ce]=rp(At,Y,At,Ke)),Ga(Ke)&&nd(le,Y,Ke),null!=R&&ng(Y,Ke,V)}function M0(f){return ni(function X(){return mr.lFrame.contextLView}(),20+f)}function Io(f,g=Zn.Default){const m=ie();return null===m?_a(f,g):oi(Rr(),m,Ae(f),g)}function Lf(){throw new Error("invalid")}function Ja(f,g,m){const _=ie();return Lo(_,se(),g)&&tl(Kt(),Oi(),_,f,g,_[11],m,!1),Ja}function If(f,g,m,_,b){const R=b?"class":"style";g0(f,m,g.inputs[R],R,_)}function Nf(f,g,m,_){const b=ie(),D=Kt(),R=20+f,V=b[11],Y=b[R]=Qh(V,g,function Ji(){return mr.lFrame.currentNamespace}()),le=D.firstCreatePass?function I2(f,g,m,_,b,D,R){const V=g.consts,le=Yd(g,f,2,b,Pi(V,D));return np(g,m,le,Pi(V,R)),null!==le.attrs&&Ef(le,le.attrs,!1),null!==le.mergedAttrs&&Ef(le,le.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,le),le}(R,D,b,0,g,m,_):D.data[R];wo(le,!0);const Ce=le.mergedAttrs;null!==Ce&&Fa(V,Y,Ce);const Ke=le.classes;null!==Ke&&Gd(V,Y,Ke);const At=le.styles;return null!==At&&Y1(V,Y,At),64!=(64&le.flags)&&Jh(D,b,Y,le),0===function Aa(){return mr.lFrame.elementDepthCount}()&&Ko(Y,b),function ss(){mr.lFrame.elementDepthCount++}(),Ga(le)&&(nd(D,b,le),tg(D,le,b)),null!==_&&ng(b,le),Nf}function vd(){let f=Rr();Ra()?j():(f=f.parent,wo(f,!1));const g=f;!function Di(){mr.lFrame.elementDepthCount--}();const m=Kt();return m.firstCreatePass&&(ro(m,f),ia(f)&&m.queries.elementEnd(f)),null!=g.classesWithoutHost&&function Ka(f){return 0!=(16&f.flags)}(g)&&If(m,g,ie(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function iu(f){return 0!=(32&f.flags)}(g)&&If(m,g,ie(),g.stylesWithoutHost,!1),vd}function kf(f,g,m,_){return Nf(f,g,m,_),vd(),kf}function fs(f,g,m){const _=ie(),b=Kt(),D=f+20,R=b.firstCreatePass?function Zl(f,g,m,_,b){const D=g.consts,R=Pi(D,_),V=Yd(g,f,8,"ng-container",R);return null!==R&&Ef(V,R,!0),np(g,m,V,Pi(D,b)),null!==g.queries&&g.queries.elementStart(g,V),V}(D,b,_,g,m):b.data[D];wo(R,!0);const V=_[D]=_[11].createComment("");return Jh(b,_,V,R),Ko(V,_),Ga(R)&&(nd(b,_,R),tg(b,R,_)),null!=m&&ng(_,R),fs}function up(){let f=Rr();const g=Kt();return Ra()?j():(f=f.parent,wo(f,!1)),g.firstCreatePass&&(ro(g,f),ia(f)&&g.queries.elementEnd(f)),up}function xu(f,g,m){return fs(f,g,m),up(),xu}function Ql(){return ie()}function kg(f){return!!f&&"function"==typeof f.then}function H0(f){return!!f&&"function"==typeof f.subscribe}const zg=H0;function Vg(f,g,m,_){const b=ie(),D=Kt(),R=Rr();return ol(D,b,b[11],R,f,g,!!m,_),Vg}function dp(f,g){const m=Rr(),_=ie(),b=Kt();return ol(b,_,f0(ft(b.data),m,_),m,f,g,!1),dp}function ol(f,g,m,_,b,D,R,V){const Y=Ga(_),Ce=f.firstCreatePass&&wu(f),Ke=g[8],At=pg(g);let $t=!0;if(3&_.type||V){const rr=mn(_,g),vr=V?V(rr):rr,In=At.length,Nr=V?Ri=>V(ee(Ri[_.index])):_.index;if(Mi(m)){let Ri=null;if(!V&&Y&&(Ri=function md(f,g,m,_){const b=f.cleanup;if(null!=b)for(let D=0;D<b.length-1;D+=2){const R=b[D];if(R===m&&b[D+1]===_){const V=g[7],Y=b[D+2];return V.length>Y?V[Y]:null}"string"==typeof R&&(D+=2)}return null}(f,g,b,_.index)),null!==Ri)(Ri.__ngLastListenerFn__||Ri).__ngNextListenerFn__=D,Ri.__ngLastListenerFn__=D,$t=!1;else{D=zf(_,g,Ke,D,!1);const vo=m.listen(vr,b,D);At.push(D,vo),Ce&&Ce.push(b,Nr,In,In+1)}}else D=zf(_,g,Ke,D,!0),vr.addEventListener(b,D,R),At.push(D),Ce&&Ce.push(b,Nr,In,R)}else D=zf(_,g,Ke,D,!1);const On=_.outputs;let Un;if($t&&null!==On&&(Un=On[b])){const rr=Un.length;if(rr)for(let vr=0;vr<rr;vr+=2){const ra=g[Un[vr]][Un[vr+1]].subscribe(D),d1=At.length;At.push(D,ra),Ce&&Ce.push(b,_.index,d1,-(d1+1))}}}function G0(f,g,m,_){try{return!1!==m(_)}catch(b){return fg(f,b),!1}}function zf(f,g,m,_,b){return function D(R){if(R===Function)return _;const V=2&f.flags?Yr(f.index,g):g;0==(32&g[2])&&jc(V);let Y=G0(g,0,_,R),le=D.__ngNextListenerFn__;for(;le;)Y=G0(g,0,le,R)&&Y,le=le.__ngNextListenerFn__;return b&&!1===Y&&(R.preventDefault(),R.returnValue=!1),Y}}function B0(f=1){return function oo(f){return(mr.lFrame.contextLView=function po(f,g){for(;f>0;)g=g[15],f--;return g}(f,mr.lFrame.contextLView))[8]}(f)}function dh(f,g){let m=null;const _=function t2(f){const g=f.attrs;if(null!=g){const m=g.indexOf(5);if(0==(1&m))return g[m+1]}return null}(f);for(let b=0;b<g.length;b++){const D=g[b];if("*"!==D){if(null===_?Go(f,D,!0):n2(_,D))return b}else m=b}return m}function Hg(f){const g=ie()[16][6];if(!g.projection){const _=g.projection=ju(f?f.length:1,null),b=_.slice();let D=g.child;for(;null!==D;){const R=f?dh(D,f):0;null!==R&&(b[R]?b[R].projectionNext=D:_[R]=D,b[R]=D),D=D.next}}}function Vf(f,g=0,m){const _=ie(),b=Kt(),D=Yd(b,20+f,16,null,m||null);null===D.projection&&(D.projection=g),j(),64!=(64&D.flags)&&function Q4(f,g,m){Yv(g[11],0,g,m,Z4(f,m,g),jv(m.parent||g[6],m,g))}(b,_,D)}function Mu(f,g,m){return Gg(f,"",g,"",m),Mu}function Gg(f,g,m,_,b){const D=ie(),R=ah(D,g,m,_);return R!==li&&tl(Kt(),Oi(),D,f,R,D[11],b,!1),Gg}function hp(f,g,m,_,b){const D=f[m+1],R=null===g;let V=_?ba(D):so(D),Y=!1;for(;0!==V&&(!1===Y||R);){const Ce=f[V+1];k2(f[V],g)&&(Y=!0,f[V+1]=_?ff(Ce):Vc(Ce)),V=_?ba(Ce):so(Ce)}Y&&(f[m+1]=_?Vc(D):ff(D))}function k2(f,g){return null===f||null==g||(Array.isArray(f)?f[1]:f)===g||!(!Array.isArray(f)||"string"!=typeof g)&&lu(f,g)>=0}const ua={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function j0(f){return f.substring(ua.key,ua.keyEnd)}function Yg(f,g){const m=ua.textEnd;return m===g?-1:(g=ua.keyEnd=function z2(f,g,m){for(;g<m&&f.charCodeAt(g)>32;)g++;return g}(f,ua.key=g,m),Ru(f,g,m))}function Ru(f,g,m){for(;g<m&&f.charCodeAt(g)<=32;)g++;return g}function Wf(f,g,m){return Fn(f,g,m,!1),Wf}function Ie(f,g){return Fn(f,g,null,!0),Ie}function Vt(f){Yn(Yo,hn,f,!0)}function hn(f,g){for(let m=function fh(f){return function pp(f){ua.key=0,ua.keyEnd=0,ua.value=0,ua.valueEnd=0,ua.textEnd=f.length}(f),Yg(f,Ru(f,0,ua.textEnd))}(g);m>=0;m=Yg(g,m))Yo(f,j0(g),!0)}function Fn(f,g,m,_){const b=ie(),D=Kt(),R=P(2);D.firstUpdatePass&&Vi(D,f,R,_),g!==li&&Lo(b,R,g)&&G2(D,D.data[yi()],b,b[11],f,b[R+1]=function vp(f,g){return null==f||("string"==typeof g?f+=g:"object"==typeof f&&(f=nt(oc(f)))),f}(g,m),_,R)}function Yn(f,g,m,_){const b=Kt(),D=P(2);b.firstUpdatePass&&Vi(b,null,D,_);const R=ie();if(m!==li&&Lo(R,D,m)){const V=b.data[yi()];if(W2(V,_)&&!Ir(b,D)){let Y=_?V.classesWithoutHost:V.stylesWithoutHost;null!==Y&&(m=Je(Y,m||"")),If(b,V,R,m,_)}else!function J3(f,g,m,_,b,D,R,V){b===li&&(b=vn);let Y=0,le=0,Ce=0<b.length?b[0]:null,Ke=0<D.length?D[0]:null;for(;null!==Ce||null!==Ke;){const At=Y<b.length?b[Y+1]:void 0,$t=le<D.length?D[le+1]:void 0;let Un,On=null;Ce===Ke?(Y+=2,le+=2,At!==$t&&(On=Ke,Un=$t)):null===Ke||null!==Ce&&Ce<Ke?(Y+=2,On=Ce):(le+=2,On=Ke,Un=$t),null!==On&&G2(f,g,m,_,On,Un,R,V),Ce=Y<b.length?b[Y]:null,Ke=le<D.length?D[le]:null}}(b,V,R,R[11],R[D+1],R[D+1]=function Sc(f,g,m){if(null==m||""===m)return vn;const _=[],b=oc(m);if(Array.isArray(b))for(let D=0;D<b.length;D++)f(_,b[D],!0);else if("object"==typeof b)for(const D in b)b.hasOwnProperty(D)&&f(_,D,b[D]);else"string"==typeof b&&g(_,b);return _}(f,g,m),_,D)}}function Ir(f,g){return g>=f.expandoStartIndex}function Vi(f,g,m,_){const b=f.data;if(null===b[m+1]){const D=b[yi()],R=Ir(f,m);W2(D,_)&&null===g&&!R&&(g=!1),g=function gs(f,g,m,_){const b=ft(f);let D=_?g.residualClasses:g.residualStyles;if(null===b)0===(_?g.classBindings:g.styleBindings)&&(m=jf(m=gp(null,f,g,m,_),g.attrs,_),D=null);else{const R=g.directiveStylingLast;if(-1===R||f[R]!==b)if(m=gp(b,f,g,m,_),null===D){let Y=function Jl(f,g,m){const _=m?g.classBindings:g.styleBindings;if(0!==so(_))return f[ba(_)]}(f,g,_);void 0!==Y&&Array.isArray(Y)&&(Y=gp(null,f,g,Y[1],_),Y=jf(Y,g.attrs,_),function Ki(f,g,m,_){f[ba(m?g.classBindings:g.styleBindings)]=_}(f,g,_,Y))}else D=function U0(f,g,m){let _;const b=g.directiveEnd;for(let D=1+g.directiveStylingLast;D<b;D++)_=jf(_,f[D].hostAttrs,m);return jf(_,g.attrs,m)}(f,g,_)}return void 0!==D&&(_?g.residualClasses=D:g.residualStyles=D),m}(b,D,g,_),function W0(f,g,m,_,b,D){let R=D?g.classBindings:g.styleBindings,V=ba(R),Y=so(R);f[_]=m;let Ce,le=!1;if(Array.isArray(m)){const Ke=m;Ce=Ke[1],(null===Ce||lu(Ke,Ce)>0)&&(le=!0)}else Ce=m;if(b)if(0!==Y){const At=ba(f[V+1]);f[_+1]=pf(At,V),0!==At&&(f[At+1]=Qa(f[At+1],_)),f[V+1]=function V3(f,g){return 131071&f|g<<17}(f[V+1],_)}else f[_+1]=pf(V,0),0!==V&&(f[V+1]=Qa(f[V+1],_)),V=_;else f[_+1]=pf(Y,0),0===V?V=_:f[Y+1]=Qa(f[Y+1],_),Y=_;le&&(f[_+1]=Vc(f[_+1])),hp(f,Ce,_,!0),hp(f,Ce,_,!1),function N2(f,g,m,_,b){const D=b?f.residualClasses:f.residualStyles;null!=D&&"string"==typeof g&&lu(D,g)>=0&&(m[_+1]=ff(m[_+1]))}(g,Ce,f,_,D),R=pf(V,Y),D?g.classBindings=R:g.styleBindings=R}(b,D,g,m,R,_)}}function gp(f,g,m,_,b){let D=null;const R=m.directiveEnd;let V=m.directiveStylingLast;for(-1===V?V=m.directiveStart:V++;V<R&&(D=g[V],_=jf(_,D.hostAttrs,b),D!==f);)V++;return null!==f&&(m.directiveStylingLast=V),_}function jf(f,g,m){const _=m?1:2;let b=-1;if(null!==g)for(let D=0;D<g.length;D++){const R=g[D];"number"==typeof R?b=R:b===_&&(Array.isArray(f)||(f=void 0===f?[]:["",f]),Yo(f,R,!!m||g[++D]))}return void 0===f?null:f}function G2(f,g,m,_,b,D,R,V){if(!(3&g.type))return;const Y=f.data,le=Y[V+1];vh(function ea(f){return 1==(1&f)}(le)?B2(Y,g,m,b,so(le),R):void 0)||(vh(D)||function Xi(f){return 2==(2&f)}(le)&&(D=B2(Y,null,m,b,V,R)),function lf(f,g,m,_,b){const D=Mi(f);if(g)b?D?f.addClass(m,_):m.classList.add(_):D?f.removeClass(m,_):m.classList.remove(_);else{let R=-1===_.indexOf("-")?void 0:Na.DashCase;if(null==b)D?f.removeStyle(m,_,R):m.style.removeProperty(_);else{const V="string"==typeof b&&b.endsWith("!important");V&&(b=b.slice(0,-10),R|=Na.Important),D?f.setStyle(m,_,b,R):m.style.setProperty(_,b,V?"important":"")}}}(_,R,an(yi(),m),b,D))}function B2(f,g,m,_,b,D){const R=null===g;let V;for(;b>0;){const Y=f[b],le=Array.isArray(Y),Ce=le?Y[1]:Y,Ke=null===Ce;let At=m[b+1];At===li&&(At=Ke?vn:void 0);let $t=Ke?kh(At,_):Ce===_?At:void 0;if(le&&!vh($t)&&($t=kh(Y,_)),vh($t)&&(V=$t,R))return V;const On=f[b+1];b=R?ba(On):so(On)}if(null!==g){let Y=D?g.residualClasses:g.residualStyles;null!=Y&&(V=kh(Y,_))}return V}function vh(f){return void 0!==f}function W2(f,g){return 0!=(f.flags&(g?16:32))}function j2(f,g=""){const m=ie(),_=Kt(),b=f+20,D=_.firstCreatePass?Yd(_,b,1,g,null):_.data[b],R=m[b]=function V1(f,g){return Mi(f)?f.createText(g):f.createTextNode(g)}(m[11],g);Jh(_,m,R,D),wo(D,!1)}function Y0(f){return mh("",f,""),Y0}function mh(f,g,m){const _=ie(),b=ah(_,f,g,m);return b!==li&&yc(_,yi(),b),mh}function U2(f,g,m,_,b){const D=ie(),R=Ou(D,f,g,m,_,b);return R!==li&&yc(D,yi(),R),U2}function tm(f,g,m){Yn(Yo,hn,ah(ie(),f,g,m),!0)}function X2(f,g,m,_,b){Yn(Yo,hn,Ou(ie(),f,g,m,_,b),!0)}function Uf(f,g,m,_,b,D,R,V,Y){Yn(Yo,hn,function ud(f,g,m,_,b,D,R,V,Y,le){const Ke=Rs(f,ir(),m,b,R,Y);return P(4),Ke?g+gt(m)+_+gt(b)+D+gt(R)+V+gt(Y)+le:li}(ie(),f,g,m,_,b,D,R,V,Y),!0)}function v(f,g,m){const _=ie();if(Lo(_,se(),g)){const D=Kt(),R=Oi();tl(D,R,_,f,g,f0(ft(D.data),R,_),m,!0)}return v}const C=void 0;var I=["en",[["a","p"],["AM","PM"],C],[["AM","PM"],C,C],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],C,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],C,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",C,"{1} 'at' {0}",C],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function x(f){const m=Math.floor(Math.abs(f)),_=f.toString().replace(/^[^.]*\.?/,"").length;return 1===m&&0===_?1:5}];let U={};function _e(f){const g=function En(f){return f.toLowerCase().replace(/_/g,"-")}(f);let m=Ut(g);if(m)return m;const _=g.split("-")[0];if(m=Ut(_),m)return m;if("en"===_)return I;throw new Error(`Missing locale data for the locale "${f}".`)}function xt(f){return _e(f)[qt.PluralCase]}function Ut(f){return f in U||(U[f]=Nn.ng&&Nn.ng.common&&Nn.ng.common.locales&&Nn.ng.common.locales[f]),U[f]}var qt=(()=>((qt=qt||{})[qt.LocaleId=0]="LocaleId",qt[qt.DayPeriodsFormat=1]="DayPeriodsFormat",qt[qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",qt[qt.DaysFormat=3]="DaysFormat",qt[qt.DaysStandalone=4]="DaysStandalone",qt[qt.MonthsFormat=5]="MonthsFormat",qt[qt.MonthsStandalone=6]="MonthsStandalone",qt[qt.Eras=7]="Eras",qt[qt.FirstDayOfWeek=8]="FirstDayOfWeek",qt[qt.WeekendRange=9]="WeekendRange",qt[qt.DateFormat=10]="DateFormat",qt[qt.TimeFormat=11]="TimeFormat",qt[qt.DateTimeFormat=12]="DateTimeFormat",qt[qt.NumberSymbols=13]="NumberSymbols",qt[qt.NumberFormats=14]="NumberFormats",qt[qt.CurrencyCode=15]="CurrencyCode",qt[qt.CurrencySymbol=16]="CurrencySymbol",qt[qt.CurrencyName=17]="CurrencyName",qt[qt.Currencies=18]="Currencies",qt[qt.Directionality=19]="Directionality",qt[qt.PluralCase=20]="PluralCase",qt[qt.ExtraData=21]="ExtraData",qt))();const Ar="en-US";let za=Ar;function gm(f,g,m,_,b){if(f=Ae(f),Array.isArray(f))for(let D=0;D<f.length;D++)gm(f[D],g,m,_,b);else{const D=Kt(),R=ie();let V=Eu(f)?f:Ae(f.provide),Y=bu(f);const le=Rr(),Ce=1048575&le.providerIndexes,Ke=le.directiveStart,At=le.providerIndexes>>20;if(Eu(f)||!f.multi){const $t=new eo(Y,b,Io),On=ev(V,g,b?Ce:Ce+At,Ke);-1===On?(st(N(le,R),D,V),Va(D,f,g.length),g.push(V),le.directiveStart++,le.directiveEnd++,b&&(le.providerIndexes+=1048576),m.push($t),R.push($t)):(m[On]=$t,R[On]=$t)}else{const $t=ev(V,g,Ce+At,Ke),On=ev(V,g,Ce,Ce+At),Un=$t>=0&&m[$t],rr=On>=0&&m[On];if(b&&!rr||!b&&!Un){st(N(le,R),D,V);const vr=function vm(f,g,m,_,b){const D=new eo(f,m,Io);return D.multi=[],D.index=g,D.componentProviders=0,j8(D,b,_&&!m),D}(b?Y8:U8,m.length,b,_,Y);!b&&rr&&(m[On].providerFactory=vr),Va(D,f,g.length,0),g.push(V),le.directiveStart++,le.directiveEnd++,b&&(le.providerIndexes+=1048576),m.push(vr),R.push(vr)}else Va(D,f,$t>-1?$t:On,j8(m[b?On:$t],Y,!b&&_));!b&&_&&rr&&m[On].componentProviders++}}}function Va(f,g,m,_){const b=Eu(g),D=function Y3(f){return!!f.useClass}(g);if(b||D){const Y=(D?Ae(g.useClass):g).prototype.ngOnDestroy;if(Y){const le=f.destroyHooks||(f.destroyHooks=[]);if(!b&&g.multi){const Ce=le.indexOf(m);-1===Ce?le.push(m,[_,Y]):le[Ce+1].push(_,Y)}else le.push(m,Y)}}}function j8(f,g,m){return m&&f.componentProviders++,f.multi.push(g)-1}function ev(f,g,m,_){for(let b=m;b<_;b++)if(g[b]===f)return b;return-1}function U8(f,g,m,_){return Ns(this.multi,[])}function Y8(f,g,m,_){const b=this.multi;let D;if(this.providerFactory){const R=this.providerFactory.componentProviders,V=$s(m,m[1],this.providerFactory.index,_);D=V.slice(0,R),Ns(b,D);for(let Y=R;Y<V.length;Y++)D.push(V[Y])}else D=[],Ns(b,D);return D}function Ns(f,g){for(let m=0;m<f.length;m++)g.push((0,f[m])());return g}function tv(f,g=[]){return m=>{m.providersResolver=(_,b)=>function Fy(f,g,m){const _=Kt();if(_.firstCreatePass){const b=Ye(f);gm(m,_.data,_.blueprint,b,!0),gm(g,_.data,_.blueprint,b,!1)}}(_,b?b(f):f,g)}}class K8{}class $8{resolveComponentFactory(g){throw function Iy(f){const g=Error(`No component factory found for ${nt(f)}. Did you add it to @NgModule.entryComponents?`);return g.ngComponent=f,g}(g)}}let Zf=(()=>{class f{}return f.NULL=new $8,f})();function ym(){return Qc(Rr(),ie())}function Qc(f,g){return new wh(mn(f,g))}let wh=(()=>{class f{constructor(m){this.nativeElement=m}}return f.__NG_ELEMENT_ID__=ym,f})();function Ny(f){return f instanceof wh?f.nativeElement:f}class q8{}let c3=(()=>{class f{}return f.__NG_ELEMENT_ID__=()=>function ky(){const f=ie(),m=Yr(Rr().index,f);return function Qf(f){return f[11]}(yn(m)?m:f)}(),f})(),Cm=(()=>{class f{}return f.\u0275prov=_r({token:f,providedIn:"root",factory:()=>null}),f})();class X8{constructor(g){this.full=g,this.major=g.split(".")[0],this.minor=g.split(".")[1],this.patch=g.split(".").slice(2).join(".")}}const Z8=new X8("13.3.1"),_m={};function u3(f,g,m,_,b=!1){for(;null!==m;){const D=g[m.index];if(null!==D&&_.push(ee(D)),bi(D))for(let V=10;V<D.length;V++){const Y=D[V],le=Y[1].firstChild;null!==le&&u3(Y[1],Y,le,_)}const R=m.type;if(8&R)u3(f,g,m.child,_);else if(32&R){const V=qh(m,g);let Y;for(;Y=V();)_.push(Y)}else if(16&R){const V=Ds(g,m);if(Array.isArray(V))_.push(...V);else{const Y=Xu(g[16]);u3(Y[1],Y,V,_,!0)}}m=b?m.projectionNext:m.next}return _}class e4{constructor(g,m){this._lView=g,this._cdRefInjectingView=m,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const g=this._lView,m=g[1];return u3(m,g,m.firstChild,[])}get context(){return this._lView[8]}set context(g){this._lView[8]=g}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[3];if(bi(g)){const m=g[8],_=m?m.indexOf(this):-1;_>-1&&(nf(g,_),Nh(m,_))}this._attachedToViewContainer=!1}rf(this._lView[1],this._lView)}onDestroy(g){yf(this._lView[1],this._lView,null,g)}markForCheck(){jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function mc(f,g,m){_t(!0);try{hg(f,g,m)}finally{_t(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new mt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $4(f,g){cc(f,g,g[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new mt(902,"");this._appRef=g}}class Jf extends e4{constructor(g){super(g),this._view=g}detectChanges(){Ps(this._view)}checkNoChanges(){!function p0(f){_t(!0);try{Ps(f)}finally{_t(!1)}}(this._view)}get context(){return null}}class t4 extends Zf{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const m=bt(g);return new wm(m,this.ngModule)}}function Q8(f){const g=[];for(let m in f)f.hasOwnProperty(m)&&g.push({propName:f[m],templateName:m});return g}class wm extends K8{constructor(g,m){super(),this.componentDef=g,this.ngModule=m,this.componentType=g.type,this.selector=function qv(f){return f.map(Os).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!m}get inputs(){return Q8(this.componentDef.inputs)}get outputs(){return Q8(this.componentDef.outputs)}create(g,m,_,b){const D=(b=b||this.ngModule)?function zy(f,g){return{get:(m,_,b)=>{const D=f.get(m,_m,b);return D!==_m||_===_m?D:g.get(m,_,b)}}}(g,b.injector):g,R=D.get(q8,te),V=D.get(Cm,null),Y=R.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",Ce=_?function s0(f,g,m){if(Mi(f))return f.selectRootElement(g,m===ye.ShadowDom);let _="string"==typeof g?f.querySelector(g):g;return _.textContent="",_}(Y,_,this.componentDef.encapsulation):Qh(R.createRenderer(null,this.componentDef),le,function Cd(f){const g=f.toLowerCase();return"svg"===g?"svg":"math"===g?"math":null}(le)),Ke=this.componentDef.onPush?576:528,At=function _c(f,g){return{components:[],scheduler:f||kv,clean:g2,playerHandler:g||null,flags:0}}(),$t=el(0,null,null,1,0,null,null,null,null,null),On=fc(null,$t,At,Ke,null,null,R,Y,V,D);let Un,rr;br(On);try{const vr=function Sg(f,g,m,_,b,D){const R=m[1];m[20]=f;const Y=Yd(R,20,2,"#host",null),le=Y.mergedAttrs=g.hostAttrs;null!==le&&(Ef(Y,le,!0),null!==f&&(Fa(b,f,le),null!==Y.classes&&Gd(b,f,Y.classes),null!==Y.styles&&Y1(b,f,Y.styles)));const Ce=_.createRenderer(f,g),Ke=fc(m,r0(g),null,g.onPush?64:16,m[20],Y,_,Ce,D||null,null);return R.firstCreatePass&&(st(N(Y,m),R,g.type),u0(R,Y),_l(Y,m.length,1)),ca(m,Ke),m[20]=Ke}(Ce,this.componentDef,On,R,Y);if(Ce)if(_)Fa(Y,Ce,["ng-version",Z8.full]);else{const{attrs:In,classes:Nr}=function yu(f){const g=[],m=[];let _=1,b=2;for(;_<f.length;){let D=f[_];if("string"==typeof D)2===b?""!==D&&g.push(D,f[++_]):8===b&&m.push(D);else{if(!Yl(b))break;b=D}_++}return{attrs:g,classes:m}}(this.componentDef.selectors[0]);In&&Fa(Y,Ce,In),Nr&&Nr.length>0&&Gd(Y,Ce,Nr.join(" "))}if(rr=Si($t,20),void 0!==m){const In=rr.projection=[];for(let Nr=0;Nr<this.ngContentSelectors.length;Nr++){const Ri=m[Nr];In.push(null!=Ri?Array.from(Ri):null)}}Un=function ad(f,g,m,_,b){const D=m[1],R=function rd(f,g,m){const _=Rr();f.firstCreatePass&&(m.providersResolver&&m.providersResolver(m),d0(f,_,g,Kd(f,g,1,null),m));const b=$s(g,f,_.directiveStart,_);Ko(b,g);const D=mn(_,g);return D&&Ko(D,g),b}(D,m,g);if(_.components.push(R),f[8]=R,b&&b.forEach(Y=>Y(R,g)),g.contentQueries){const Y=Rr();g.contentQueries(1,R,Y.directiveStart)}const V=Rr();return!D.firstCreatePass||null===g.hostBindings&&null===g.hostAttrs||(Ro(V.index),og(m[1],V,0,V.directiveStart,V.directiveEnd,g),l0(g,R)),R}(vr,this.componentDef,On,At,[S0]),td($t,On,null)}finally{Qi()}return new Vy(this.componentType,Un,Qc(rr,On),On,rr)}}class Vy extends class Ly{}{constructor(g,m,_,b,D){super(),this.location=_,this._rootLView=b,this._tNode=D,this.instance=m,this.hostView=this.changeDetectorRef=new Jf(b),this.componentType=g}get injector(){return new Mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}class Jc{}class J8{}const bh=new Map;class n6 extends Jc{constructor(g,m){super(),this._parent=m,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new t4(this);const _=ge(g);this._bootstrapComponents=Ia(_.bootstrap),this._r3Injector=Cc(g,m,[{provide:Jc,useValue:this},{provide:Zf,useValue:this.componentFactoryResolver}],nt(g)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(g)}get(g,m=qo.THROW_IF_NOT_FOUND,_=Zn.Default){return g===qo||g===Jc||g===id?this:this._r3Injector.get(g,m,_)}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class bm extends J8{constructor(g){super(),this.moduleType=g,null!==ge(g)&&function e1(f){const g=new Set;!function m(_){const b=ge(_,!0),D=b.id;null!==D&&(function e6(f,g,m){if(g&&g!==m)throw new Error(`Duplicate module registered for ${f} - ${nt(g)} vs ${nt(g.name)}`)}(D,bh.get(D),_),bh.set(D,_));const R=Ia(b.imports);for(const V of R)g.has(V)||(g.add(V),m(V))}(f)}(g)}create(g){return new n6(this.moduleType,g)}}function Em(f,g,m){const _=nn()+f,b=ie();return b[_]===li?rl(b,_,m?g.call(m):g()):function Eo(f,g){return f[g]}(b,_)}function r6(f,g,m,_){return Sp(ie(),nn(),f,g,m,_)}function i6(f,g,m,_,b){return a6(ie(),nn(),f,g,m,_,b)}function o6(f,g,m,_,b,D){return function s6(f,g,m,_,b,D,R,V){const Y=g+m;return function oh(f,g,m,_,b){const D=ps(f,g,m,_);return Lo(f,g+2,b)||D}(f,Y,b,D,R)?rl(f,Y+3,V?_.call(V,b,D,R):_(b,D,R)):n4(f,Y+3)}(ie(),nn(),f,g,m,_,b,D)}function d3(f,g,m,_,b,D,R){return function n1(f,g,m,_,b,D,R,V,Y){const le=g+m;return Rs(f,le,b,D,R,V)?rl(f,le+4,Y?_.call(Y,b,D,R,V):_(b,D,R,V)):n4(f,le+4)}(ie(),nn(),f,g,m,_,b,D,R)}function n4(f,g){const m=f[g];return m===li?void 0:m}function Sp(f,g,m,_,b,D){const R=g+m;return Lo(f,R,b)?rl(f,R+1,D?_.call(D,b):_(b)):n4(f,R+1)}function a6(f,g,m,_,b,D,R){const V=g+m;return ps(f,V,b,D)?rl(f,V+2,R?_.call(R,b,D):_(b,D)):n4(f,V+2)}function c6(f,g){const m=Kt();let _;const b=f+20;m.firstCreatePass?(_=function Dm(f,g){if(g)for(let m=g.length-1;m>=0;m--){const _=g[m];if(f===_.name)return _}}(g,m.pipeRegistry),m.data[b]=_,_.onDestroy&&(m.destroyHooks||(m.destroyHooks=[])).push(b,_.onDestroy)):_=m.data[b];const D=_.factory||(_.factory=aa(_.type)),R=Ht(Io);try{const V=Bu(!1),Y=D();return Bu(V),function xg(f,g,m,_){m>=f.data.length&&(f.data[m]=null,f.blueprint[m]=null),g[m]=_}(m,ie(),b,Y),Y}finally{Ht(R)}}function Eh(f,g,m){const _=f+20,b=ie(),D=ni(b,_);return r4(b,_)?Sp(b,nn(),g,D.transform,m,D):D.transform(m)}function u6(f,g,m,_){const b=f+20,D=ie(),R=ni(D,b);return r4(D,b)?a6(D,nn(),g,R.transform,m,_,R):R.transform(m,_)}function r4(f,g){return f[1].data[g].pure}function o4(f){return g=>{setTimeout(f,void 0,g)}}const _d=class d6 extends M.x{constructor(g=!1){super(),this.__isAsync=g}emit(g){super.next(g)}subscribe(g,m,_){var b,D,R;let V=g,Y=m||(()=>null),le=_;if(g&&"object"==typeof g){const Ke=g;V=null===(b=Ke.next)||void 0===b?void 0:b.bind(Ke),Y=null===(D=Ke.error)||void 0===D?void 0:D.bind(Ke),le=null===(R=Ke.complete)||void 0===R?void 0:R.bind(Ke)}this.__isAsync&&(Y=o4(Y),V&&(V=o4(V)),le&&(le=o4(le)));const Ce=super.subscribe({next:V,error:Y,complete:le});return g instanceof G.w0&&g.add(Ce),Ce}};function Yy(){return this._results[ih()]()}class bl{constructor(g=!1){this._emitDistinctChangesOnly=g,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const m=ih(),_=bl.prototype;_[m]||(_[m]=Yy)}get changes(){return this._changes||(this._changes=new _d)}get(g){return this._results[g]}map(g){return this._results.map(g)}filter(g){return this._results.filter(g)}find(g){return this._results.find(g)}reduce(g,m){return this._results.reduce(g,m)}forEach(g){this._results.forEach(g)}some(g){return this._results.some(g)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(g,m){const _=this;_.dirty=!1;const b=vl(g);(this._changesDetected=!function v1(f,g,m){if(f.length!==g.length)return!1;for(let _=0;_<f.length;_++){let b=f[_],D=g[_];if(m&&(b=m(b),D=m(D)),D!==b)return!1}return!0}(_._results,b,m))&&(_._results=b,_.length=b.length,_.last=b[this.length-1],_.first=b[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Dh=(()=>{class f{}return f.__NG_ELEMENT_ID__=$y,f})();const Om=Dh,Ky=class extends Om{constructor(g,m,_){super(),this._declarationLView=g,this._declarationTContainer=m,this.elementRef=_}createEmbeddedView(g){const m=this._declarationTContainer.tViews,_=fc(this._declarationLView,m,g,16,null,m.declTNode,null,null,null,null);_[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(_[19]=D.createEmbeddedView(m)),td(m,_,g),new e4(_)}};function $y(){return h3(Rr(),ie())}function h3(f,g){return 4&f.type?new Ky(g,f,Qc(f,g)):null}let a4=(()=>{class f{}return f.__NG_ELEMENT_ID__=qy,f})();function qy(){return xm(Rr(),ie())}const Xy=a4,h6=class extends Xy{constructor(g,m,_){super(),this._lContainer=g,this._hostTNode=m,this._hostLView=_}get element(){return Qc(this._hostTNode,this._hostLView)}get injector(){return new Mc(this._hostTNode,this._hostLView)}get parentInjector(){const g=Oe(this._hostTNode,this._hostLView);if(Fh(g)){const m=Ss(g,this._hostLView),_=Ks(g);return new Mc(m[1].data[_+8],m)}return new Mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(g){const m=p6(this._lContainer);return null!==m&&m[g]||null}get length(){return this._lContainer.length-10}createEmbeddedView(g,m,_){const b=g.createEmbeddedView(m||{});return this.insert(b,_),b}createComponent(g,m,_,b,D){const R=g&&!function Td(f){return"function"==typeof f}(g);let V;if(R)V=m;else{const Ke=m||{};V=Ke.index,_=Ke.injector,b=Ke.projectableNodes,D=Ke.ngModuleRef}const Y=R?g:new wm(bt(g)),le=_||this.parentInjector;if(!D&&null==Y.ngModule){const At=(R?le:this.parentInjector).get(Jc,null);At&&(D=At)}const Ce=Y.create(le,b,void 0,D);return this.insert(Ce.hostView,V),Ce}insert(g,m){const _=g._lView,b=_[1];if(function Ei(f){return bi(f[3])}(_)){const Ce=this.indexOf(g);if(-1!==Ce)this.detach(Ce);else{const Ke=_[3],At=new h6(Ke,Ke[6],Ke[3]);At.detach(At.indexOf(g))}}const D=this._adjustIndex(m),R=this._lContainer;!function q4(f,g,m,_){const b=10+_,D=m.length;_>0&&(m[b-1][4]=g),_<D-10?(g[4]=m[b],m1(m,10+_,g)):(m.push(g),g[4]=null),g[3]=m;const R=g[17];null!==R&&m!==R&&function Hv(f,g){const m=f[9];g[16]!==g[3][3][16]&&(f[2]=!0),null===m?f[9]=[g]:m.push(g)}(R,g);const V=g[19];null!==V&&V.insertView(f),g[2]|=128}(b,_,R,D);const V=ep(D,R),Y=_[11],le=kc(Y,R[7]);return null!==le&&function vu(f,g,m,_,b,D){_[0]=b,_[6]=g,cc(f,_,m,1,b,D)}(b,R[6],Y,_,le,V),g.attachToViewContainerRef(),m1(Tm(R),D,g),g}move(g,m){return this.insert(g,m)}indexOf(g){const m=p6(this._lContainer);return null!==m?m.indexOf(g):-1}remove(g){const m=this._adjustIndex(g,-1),_=nf(this._lContainer,m);_&&(Nh(Tm(this._lContainer),m),rf(_[1],_))}detach(g){const m=this._adjustIndex(g,-1),_=nf(this._lContainer,m);return _&&null!=Nh(Tm(this._lContainer),m)?new e4(_):null}_adjustIndex(g,m=0){return null==g?this.length+m:g}};function p6(f){return f[8]}function Tm(f){return f[8]||(f[8]=[])}function xm(f,g){let m;const _=g[f.index];if(bi(_))m=_;else{let b;if(8&f.type)b=ee(_);else{const D=g[11];b=D.createComment("");const R=mn(f,g);mu(D,kc(D,R),b,function ds(f,g){return Mi(f)?f.nextSibling(g):g.nextSibling}(D,R),!1)}g[f.index]=m=rp(_,g,b,f),ca(g,m)}return new h6(m,f,g)}class Mm{constructor(g){this.queryList=g,this.matches=null}clone(){return new Mm(this.queryList)}setDirty(){this.queryList.setDirty()}}class p3{constructor(g=[]){this.queries=g}createEmbeddedView(g){const m=g.queries;if(null!==m){const _=null!==g.contentQueries?g.contentQueries[0]:m.length,b=[];for(let D=0;D<_;D++){const R=m.getByIndex(D);b.push(this.queries[R.indexInDeclarationView].clone())}return new p3(b)}return null}insertView(g){this.dirtyQueriesWithMatches(g)}detachView(g){this.dirtyQueriesWithMatches(g)}dirtyQueriesWithMatches(g){for(let m=0;m<this.queries.length;m++)null!==Lm(g,m).matches&&this.queries[m].setDirty()}}class f6{constructor(g,m,_=null){this.predicate=g,this.flags=m,this.read=_}}class Pm{constructor(g=[]){this.queries=g}elementStart(g,m){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(g,m)}elementEnd(g){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(g)}embeddedTView(g){let m=null;for(let _=0;_<this.length;_++){const b=null!==m?m.length:0,D=this.getByIndex(_).embeddedTView(g,b);D&&(D.indexInDeclarationView=_,null!==m?m.push(D):m=[D])}return null!==m?new Pm(m):null}template(g,m){for(let _=0;_<this.queries.length;_++)this.queries[_].template(g,m)}getByIndex(g){return this.queries[g]}get length(){return this.queries.length}track(g){this.queries.push(g)}}class Am{constructor(g,m=-1){this.metadata=g,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(g,m){this.isApplyingToNode(m)&&this.matchTNode(g,m)}elementEnd(g){this._declarationNodeIndex===g.index&&(this._appliesToNextNode=!1)}template(g,m){this.elementStart(g,m)}embeddedTView(g,m){return this.isApplyingToNode(g)?(this.crossesNgTemplate=!0,this.addMatch(-g.index,m),new Am(this.metadata)):null}isApplyingToNode(g){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const m=this._declarationNodeIndex;let _=g.parent;for(;null!==_&&8&_.type&&_.index!==m;)_=_.parent;return m===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(g,m){const _=this.metadata.predicate;if(Array.isArray(_))for(let b=0;b<_.length;b++){const D=_[b];this.matchTNodeWithReadOption(g,m,Jy(m,D)),this.matchTNodeWithReadOption(g,m,$a(m,g,D,!1,!1))}else _===Dh?4&m.type&&this.matchTNodeWithReadOption(g,m,-1):this.matchTNodeWithReadOption(g,m,$a(m,g,_,!1,!1))}matchTNodeWithReadOption(g,m,_){if(null!==_){const b=this.metadata.read;if(null!==b)if(b===wh||b===a4||b===Dh&&4&m.type)this.addMatch(m.index,-2);else{const D=$a(m,g,b,!1,!1);null!==D&&this.addMatch(m.index,D)}else this.addMatch(m.index,_)}}addMatch(g,m){null===this.matches?this.matches=[g,m]:this.matches.push(g,m)}}function Jy(f,g){const m=f.localNames;if(null!==m)for(let _=0;_<m.length;_+=2)if(m[_]===g)return m[_+1];return null}function t5(f,g,m,_){return-1===m?function e5(f,g){return 11&f.type?Qc(f,g):4&f.type?h3(f,g):null}(g,f):-2===m?function n5(f,g,m){return m===wh?Qc(g,f):m===Dh?h3(g,f):m===a4?xm(g,f):void 0}(f,g,_):$s(f,f[1],m,g)}function g6(f,g,m,_){const b=g[19].queries[_];if(null===b.matches){const D=f.data,R=m.matches,V=[];for(let Y=0;Y<R.length;Y+=2){const le=R[Y];V.push(le<0?null:t5(g,D[le],R[Y+1],m.metadata.read))}b.matches=V}return b.matches}function Rm(f,g,m,_){const b=f.queries.getByIndex(m),D=b.matches;if(null!==D){const R=g6(f,g,b,m);for(let V=0;V<D.length;V+=2){const Y=D[V];if(Y>0)_.push(R[V/2]);else{const le=D[V+1],Ce=g[-Y];for(let Ke=10;Ke<Ce.length;Ke++){const At=Ce[Ke];At[17]===At[3]&&Rm(At[1],At,le,_)}if(null!==Ce[9]){const Ke=Ce[9];for(let At=0;At<Ke.length;At++){const $t=Ke[At];Rm($t[1],$t,le,_)}}}}}return _}function v6(f){const g=ie(),m=Kt(),_=Bt();tn(_+1);const b=Lm(m,_);if(f.dirty&&di(g)===(2==(2&b.metadata.flags))){if(null===b.matches)f.reset([]);else{const D=b.crossesNgTemplate?Rm(m,g,_,[]):g6(m,g,b,_);f.reset(D,Ny),f.notifyOnChanges()}return!0}return!1}function m6(f,g,m){const _=Kt();_.firstCreatePass&&(w6(_,new f6(f,g,m),-1),2==(2&g)&&(_.staticViewQueries=!0)),_6(_,ie(),g)}function y6(f,g,m,_){const b=Kt();if(b.firstCreatePass){const D=Rr();w6(b,new f6(g,m,_),D.index),function r5(f,g){const m=f.contentQueries||(f.contentQueries=[]);g!==(m.length?m[m.length-1]:-1)&&m.push(f.queries.length-1,g)}(b,f),2==(2&m)&&(b.staticContentQueries=!0)}_6(b,ie(),m)}function C6(){return function Fm(f,g){return f[19].queries[g].queryList}(ie(),Bt())}function _6(f,g,m){const _=new bl(4==(4&m));yf(f,g,_,_.destroy),null===g[19]&&(g[19]=new p3),g[19].queries.push(new Mm(_))}function w6(f,g,m){null===f.queries&&(f.queries=new Pm),f.queries.track(new Am(g,m))}function Lm(f,g){return f.queries.getByIndex(g)}function S6(f,g){return h3(f,g)}const m5=ls("Input",f=>({bindingPropertyName:f})),y5=ls("Output",f=>({bindingPropertyName:f}));function bc(...f){}const R6=new Uo("Application Initializer");let y3=(()=>{class f{constructor(m){this.appInits=m,this.resolve=bc,this.reject=bc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,b)=>{this.resolve=_,this.reject=b})}runInitializers(){if(this.initialized)return;const m=[],_=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let b=0;b<this.appInits.length;b++){const D=this.appInits[b]();if(kg(D))m.push(D);else if(zg(D)){const R=new Promise((V,Y)=>{D.subscribe({complete:V,error:Y})});m.push(R)}}Promise.all(m).then(()=>{_()}).catch(b=>{this.reject(b)}),0===m.length&&_(),this.initialized=!0}}return f.\u0275fac=function(m){return new(m||f)(_a(R6,8))},f.\u0275prov=_r({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const F6=new Uo("AppId",{providedIn:"root",factory:function cv(){return`${Bm()}${Bm()}${Bm()}`}});function Bm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bp=new Uo("Platform Initializer"),L6=new Uo("Platform ID"),I6=new Uo("appBootstrapListener");let N6=(()=>{class f{log(m){console.log(m)}warn(m){console.warn(m)}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275prov=_r({token:f,factory:f.\u0275fac}),f})();const Wm=new Uo("LocaleId",{providedIn:"root",factory:()=>bv(Wm,Zn.Optional|Zn.SkipSelf)||function k6(){return"undefined"!=typeof $localize&&$localize.locale||Ar}()}),C5=new Uo("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _5{constructor(g,m){this.ngModuleFactory=g,this.componentFactories=m}}let z6=(()=>{class f{compileModuleSync(m){return new bm(m)}compileModuleAsync(m){return Promise.resolve(this.compileModuleSync(m))}compileModuleAndAllComponentsSync(m){const _=this.compileModuleSync(m),D=Ia(ge(m).declarations).reduce((R,V)=>{const Y=bt(V);return Y&&R.push(new wm(Y)),R},[]);return new _5(_,D)}compileModuleAndAllComponentsAsync(m){return Promise.resolve(this.compileModuleAndAllComponentsSync(m))}clearCache(){}clearCacheFor(m){}getModuleId(m){}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275prov=_r({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Ec=(()=>Promise.resolve(0))();function jm(f){"undefined"==typeof Zone?Ec.then(()=>{f&&f.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",f)}class na{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _d(!1),this.onMicrotaskEmpty=new _d(!1),this.onStable=new _d(!1),this.onError=new _d(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const b=this;b._nesting=0,b._outer=b._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(b._inner=b._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(b._inner=b._inner.fork(Zone.longStackTraceZoneSpec)),b.shouldCoalesceEventChangeDetection=!_&&m,b.shouldCoalesceRunChangeDetection=_,b.lastRequestAnimationFrameId=-1,b.nativeRequestAnimationFrame=function S5(){let f=Nn.requestAnimationFrame,g=Nn.cancelAnimationFrame;if("undefined"!=typeof Zone&&f&&g){const m=f[Zone.__symbol__("OriginalDelegate")];m&&(f=m);const _=g[Zone.__symbol__("OriginalDelegate")];_&&(g=_)}return{nativeRequestAnimationFrame:f,nativeCancelAnimationFrame:g}}().nativeRequestAnimationFrame,function E5(f){const g=()=>{!function b5(f){f.isCheckStableRunning||-1!==f.lastRequestAnimationFrameId||(f.lastRequestAnimationFrameId=f.nativeRequestAnimationFrame.call(Nn,()=>{f.fakeTopEventTask||(f.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{f.lastRequestAnimationFrameId=-1,Um(f),f.isCheckStableRunning=!0,C3(f),f.isCheckStableRunning=!1},void 0,()=>{},()=>{})),f.fakeTopEventTask.invoke()}),Um(f))}(f)};f._inner=f._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,_,b,D,R,V)=>{try{return u4(f),m.invokeTask(b,D,R,V)}finally{(f.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||f.shouldCoalesceRunChangeDetection)&&g(),uv(f)}},onInvoke:(m,_,b,D,R,V,Y)=>{try{return u4(f),m.invoke(b,D,R,V,Y)}finally{f.shouldCoalesceRunChangeDetection&&g(),uv(f)}},onHasTask:(m,_,b,D)=>{m.hasTask(b,D),_===b&&("microTask"==D.change?(f._hasPendingMicrotasks=D.microTask,Um(f),C3(f)):"macroTask"==D.change&&(f.hasPendingMacrotasks=D.macroTask))},onHandleError:(m,_,b,D)=>(m.handleError(b,D),f.runOutsideAngular(()=>f.onError.emit(D)),!1)})}(b)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!na.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(na.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(g,m,_){return this._inner.run(g,m,_)}runTask(g,m,_,b){const D=this._inner,R=D.scheduleEventTask("NgZoneEvent: "+b,g,V6,bc,bc);try{return D.runTask(R,m,_)}finally{D.cancelTask(R)}}runGuarded(g,m,_){return this._inner.runGuarded(g,m,_)}runOutsideAngular(g){return this._outer.run(g)}}const V6={};function C3(f){if(0==f._nesting&&!f.hasPendingMicrotasks&&!f.isStable)try{f._nesting++,f.onMicrotaskEmpty.emit(null)}finally{if(f._nesting--,!f.hasPendingMicrotasks)try{f.runOutsideAngular(()=>f.onStable.emit(null))}finally{f.isStable=!0}}}function Um(f){f.hasPendingMicrotasks=!!(f._hasPendingMicrotasks||(f.shouldCoalesceEventChangeDetection||f.shouldCoalesceRunChangeDetection)&&-1!==f.lastRequestAnimationFrameId)}function u4(f){f._nesting++,f.isStable&&(f.isStable=!1,f.onUnstable.emit(null))}function uv(f){f._nesting--,C3(f)}class D5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _d,this.onMicrotaskEmpty=new _d,this.onStable=new _d,this.onError=new _d}run(g,m,_){return g.apply(m,_)}runGuarded(g,m,_){return g.apply(m,_)}runOutsideAngular(g){return g()}runTask(g,m,_,b){return g.apply(m,_)}}let H6=(()=>{class f{constructor(m){this._ngZone=m,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{na.assertNotInAngularZone(),jm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jm(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb(this._didWork)}this._didWork=!1});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(m)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,_,b){let D=-1;_&&_>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==D),m(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:m,timeoutId:D,updateCb:b})}whenStable(m,_,b){if(b&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,_,b),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(m,_,b){return[]}}return f.\u0275fac=function(m){return new(m||f)(_a(na))},f.\u0275prov=_r({token:f,factory:f.\u0275fac}),f})(),G6=(()=>{class f{constructor(){this._applications=new Map,d4.addToWindow(this)}registerApplication(m,_){this._applications.set(m,_)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,_=!0){return d4.findTestabilityInTree(this,m,_)}}return f.\u0275fac=function(m){return new(m||f)},f.\u0275prov=_r({token:f,factory:f.\u0275fac}),f})();class O5{addToWindow(g){}findTestabilityInTree(g,m,_){return null}}function T5(f){d4=f}let ku,d4=new O5;const dv=new Uo("AllowMultipleToken");class h4{constructor(g,m){this.name=g,this.token=m}}function B6(f,g,m=[]){const _=`Platform: ${g}`,b=new Uo(_);return(D=[])=>{let R=W6();if(!R||R.injector.get(dv,!1))if(f)f(m.concat(D).concat({provide:b,useValue:!0}));else{const V=m.concat(D).concat({provide:b,useValue:!0},{provide:As,useValue:"platform"});!function Ym(f){if(ku&&!ku.destroyed&&!ku.injector.get(dv,!1))throw new mt(400,"");ku=f.get(Oh);const g=f.get(bp,null);g&&g.forEach(m=>m())}(qo.create({providers:V,name:_}))}return function hv(f){const g=W6();if(!g)throw new mt(401,"");return g}()}}function W6(){return ku&&!ku.destroyed?ku:null}let Oh=(()=>{class f{constructor(m){this._injector=m,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(m,_){const V=function _3(f,g){let m;return m="noop"===f?new D5:("zone.js"===f?void 0:f)||new na({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==g?void 0:g.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==g?void 0:g.ngZoneRunCoalescing)}),m}(_?_.ngZone:void 0,{ngZoneEventCoalescing:_&&_.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:_&&_.ngZoneRunCoalescing||!1}),Y=[{provide:na,useValue:V}];return V.run(()=>{const le=qo.create({providers:Y,parent:this.injector,name:m.moduleType.name}),Ce=m.create(le),Ke=Ce.injector.get($h,null);if(!Ke)throw new mt(402,"");return V.runOutsideAngular(()=>{const At=V.onError.subscribe({next:$t=>{Ke.handleError($t)}});Ce.onDestroy(()=>{Km(this._modules,Ce),At.unsubscribe()})}),function M5(f,g,m){try{const _=m();return kg(_)?_.catch(b=>{throw g.runOutsideAngular(()=>f.handleError(b)),b}):_}catch(_){throw g.runOutsideAngular(()=>f.handleError(_)),_}}(Ke,V,()=>{const At=Ce.injector.get(y3);return At.runInitializers(),At.donePromise.then(()=>(function da(f){wt(f,"Expected localeId to be defined"),"string"==typeof f&&(za=f.toLowerCase().replace(/_/g,"-"))}(Ce.injector.get(Wm,Ar)||Ar),this._moduleDoBootstrap(Ce),Ce))})})}bootstrapModule(m,_=[]){const b=Sd({},_);return function x5(f,g,m){const _=new bm(m);return Promise.resolve(_)}(0,0,m).then(D=>this.bootstrapModuleFactory(D,b))}_moduleDoBootstrap(m){const _=m.injector.get(w3);if(m._bootstrapComponents.length>0)m._bootstrapComponents.forEach(b=>_.bootstrap(b));else{if(!m.instance.ngDoBootstrap)throw new mt(403,"");m.instance.ngDoBootstrap(_)}this._modules.push(m)}onDestroy(m){this._destroyListeners.push(m)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new mt(404,"");this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m()),this._destroyed=!0}get destroyed(){return this._destroyed}}return f.\u0275fac=function(m){return new(m||f)(_a(qo))},f.\u0275prov=_r({token:f,factory:f.\u0275fac}),f})();function Sd(f,g){return Array.isArray(g)?g.reduce(Sd,f):Object.assign(Object.assign({},f),g)}let w3=(()=>{class f{constructor(m,_,b,D,R){this._zone=m,this._injector=_,this._exceptionHandler=b,this._componentFactoryResolver=D,this._initStatus=R,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const V=new B.y(le=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{le.next(this._stable),le.complete()})}),Y=new B.y(le=>{let Ce;this._zone.runOutsideAngular(()=>{Ce=this._zone.onStable.subscribe(()=>{na.assertNotInAngularZone(),jm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,le.next(!0))})})});const Ke=this._zone.onUnstable.subscribe(()=>{na.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{le.next(!1)}))});return()=>{Ce.unsubscribe(),Ke.unsubscribe()}});this.isStable=(0,Le.T)(V,Y.pipe((0,Ne.B)()))}bootstrap(m,_){if(!this._initStatus.done)throw new mt(405,"");let b;b=m instanceof K8?m:this._componentFactoryResolver.resolveComponentFactory(m),this.componentTypes.push(b.componentType);const D=function s1(f){return f.isBoundToModule}(b)?void 0:this._injector.get(Jc),V=b.create(qo.NULL,[],_||b.selector,D),Y=V.location.nativeElement,le=V.injector.get(H6,null),Ce=le&&V.injector.get(G6);return le&&Ce&&Ce.registerApplication(Y,le),V.onDestroy(()=>{this.detachView(V.hostView),Km(this.components,V),Ce&&Ce.unregisterApplication(Y)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new mt(101,"");try{this._runningTick=!0;for(let m of this._views)m.detectChanges()}catch(m){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(m))}finally{this._runningTick=!1}}attachView(m){const _=m;this._views.push(_),_.attachToAppRef(this)}detachView(m){const _=m;Km(this._views,_),_.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m),this._injector.get(I6,[]).concat(this._bootstrapListeners).forEach(b=>b(m))}ngOnDestroy(){this._views.slice().forEach(m=>m.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return f.\u0275fac=function(m){return new(m||f)(_a(na),_a(qo),_a($h),_a(Zf),_a(y3))},f.\u0275prov=_r({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function Km(f,g){const m=f.indexOf(g);m>-1&&f.splice(m,1)}let S3=!0,U6=!1;function Y6(){return U6=!0,S3}function A5(){if(U6)throw new Error("Cannot enable prod mode after platform setup.");S3=!1}let pv=(()=>{class f{}return f.__NG_ELEMENT_ID__=q6,f})();function q6(f){return function Dp(f,g,m){if(Vo(f)&&!m){const _=Yr(f.index,g);return new e4(_,_)}return 47&f.type?new e4(g[16],g):null}(Rr(),ie(),16==(16&f))}class Z6{constructor(){}supports(g){return ap(g)}create(g){return new N5(g)}}const I5=(f,g)=>g;class N5{constructor(g){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=g||I5}forEachItem(g){let m;for(m=this._itHead;null!==m;m=m._next)g(m)}forEachOperation(g){let m=this._itHead,_=this._removalsHead,b=0,D=null;for(;m||_;){const R=!_||m&&m.currentIndex<D3(_,b,D)?m:_,V=D3(R,b,D),Y=R.currentIndex;if(R===_)b--,_=_._nextRemoved;else if(m=m._next,null==R.previousIndex)b++;else{D||(D=[]);const le=V-b,Ce=Y-b;if(le!=Ce){for(let At=0;At<le;At++){const $t=At<D.length?D[At]:D[At]=0,On=$t+At;Ce<=On&&On<le&&(D[At]=$t+1)}D[R.previousIndex]=Ce-le}}V!==Y&&g(R,V,Y)}}forEachPreviousItem(g){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)g(m)}forEachAddedItem(g){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)g(m)}forEachMovedItem(g){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)g(m)}forEachRemovedItem(g){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)g(m)}forEachIdentityChange(g){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)g(m)}diff(g){if(null==g&&(g=[]),!ap(g))throw new mt(900,"");return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let b,D,R,m=this._itHead,_=!1;if(Array.isArray(g)){this.length=g.length;for(let V=0;V<this.length;V++)D=g[V],R=this._trackByFn(V,D),null!==m&&Object.is(m.trackById,R)?(_&&(m=this._verifyReinsertion(m,D,R,V)),Object.is(m.item,D)||this._addIdentityChange(m,D)):(m=this._mismatch(m,D,R,V),_=!0),m=m._next}else b=0,function Dg(f,g){if(Array.isArray(f))for(let m=0;m<f.length;m++)g(f[m]);else{const m=f[ih()]();let _;for(;!(_=m.next()).done;)g(_.value)}}(g,V=>{R=this._trackByFn(b,V),null!==m&&Object.is(m.trackById,R)?(_&&(m=this._verifyReinsertion(m,V,R,b)),Object.is(m.item,V)||this._addIdentityChange(m,V)):(m=this._mismatch(m,V,R,b),_=!0),m=m._next,b++}),this.length=b;return this._truncate(m),this.collection=g,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let g;for(g=this._previousItHead=this._itHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._additionsHead;null!==g;g=g._nextAdded)g.previousIndex=g.currentIndex;for(this._additionsHead=this._additionsTail=null,g=this._movesHead;null!==g;g=g._nextMoved)g.previousIndex=g.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(g,m,_,b){let D;return null===g?D=this._itTail:(D=g._prev,this._remove(g)),null!==(g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(g.item,m)||this._addIdentityChange(g,m),this._reinsertAfter(g,D,b)):null!==(g=null===this._linkedRecords?null:this._linkedRecords.get(_,b))?(Object.is(g.item,m)||this._addIdentityChange(g,m),this._moveAfter(g,D,b)):g=this._addAfter(new Q6(m,_),D,b),g}_verifyReinsertion(g,m,_,b){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==D?g=this._reinsertAfter(D,g._prev,b):g.currentIndex!=b&&(g.currentIndex=b,this._addToMoves(g,b)),g}_truncate(g){for(;null!==g;){const m=g._next;this._addToRemovals(this._unlink(g)),g=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(g,m,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(g);const b=g._prevRemoved,D=g._nextRemoved;return null===b?this._removalsHead=D:b._nextRemoved=D,null===D?this._removalsTail=b:D._prevRemoved=b,this._insertAfter(g,m,_),this._addToMoves(g,_),g}_moveAfter(g,m,_){return this._unlink(g),this._insertAfter(g,m,_),this._addToMoves(g,_),g}_addAfter(g,m,_){return this._insertAfter(g,m,_),this._additionsTail=null===this._additionsTail?this._additionsHead=g:this._additionsTail._nextAdded=g,g}_insertAfter(g,m,_){const b=null===m?this._itHead:m._next;return g._next=b,g._prev=m,null===b?this._itTail=g:b._prev=g,null===m?this._itHead=g:m._next=g,null===this._linkedRecords&&(this._linkedRecords=new Qm),this._linkedRecords.put(g),g.currentIndex=_,g}_remove(g){return this._addToRemovals(this._unlink(g))}_unlink(g){null!==this._linkedRecords&&this._linkedRecords.remove(g);const m=g._prev,_=g._next;return null===m?this._itHead=_:m._next=_,null===_?this._itTail=m:_._prev=m,g}_addToMoves(g,m){return g.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=g:this._movesTail._nextMoved=g),g}_addToRemovals(g){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qm),this._unlinkedRecords.put(g),g.currentIndex=null,g._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=g,g._prevRemoved=null):(g._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=g),g}_addIdentityChange(g,m){return g.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=g:this._identityChangesTail._nextIdentityChange=g,g}}class Q6{constructor(g,m){this.item=g,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Th{constructor(){this._head=null,this._tail=null}add(g){null===this._head?(this._head=this._tail=g,g._nextDup=null,g._prevDup=null):(this._tail._nextDup=g,g._prevDup=this._tail,g._nextDup=null,this._tail=g)}get(g,m){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===m||m<=_.currentIndex)&&Object.is(_.trackById,g))return _;return null}remove(g){const m=g._prevDup,_=g._nextDup;return null===m?this._head=_:m._nextDup=_,null===_?this._tail=m:_._prevDup=m,null===this._head}}class Qm{constructor(){this.map=new Map}put(g){const m=g.trackById;let _=this.map.get(m);_||(_=new Th,this.map.set(m,_)),_.add(g)}get(g,m){const b=this.map.get(g);return b?b.get(g,m):null}remove(g){const m=g.trackById;return this.map.get(m).remove(g)&&this.map.delete(m),g}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function D3(f,g,m){const _=f.previousIndex;if(null===_)return _;let b=0;return m&&_<m.length&&(b=m[_]),_+g+b}class J6{constructor(){}supports(g){return g instanceof Map||Du(g)}create(){return new k5}}class k5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(g){let m;for(m=this._mapHead;null!==m;m=m._next)g(m)}forEachPreviousItem(g){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)g(m)}forEachChangedItem(g){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)g(m)}forEachAddedItem(g){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)g(m)}forEachRemovedItem(g){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)g(m)}diff(g){if(g){if(!(g instanceof Map||Du(g)))throw new mt(900,"")}else g=new Map;return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(g,(_,b)=>{if(m&&m.key===b)this._maybeAddToChanges(m,_),this._appendAfter=m,m=m._next;else{const D=this._getOrCreateRecordForKey(b,_);m=this._insertBeforeOrAppend(m,D)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let _=m;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(g,m){if(g){const _=g._prev;return m._next=g,m._prev=_,g._prev=m,_&&(_._next=m),g===this._mapHead&&(this._mapHead=m),this._appendAfter=g,g}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(g,m){if(this._records.has(g)){const b=this._records.get(g);this._maybeAddToChanges(b,m);const D=b._prev,R=b._next;return D&&(D._next=R),R&&(R._prev=D),b._next=null,b._prev=null,b}const _=new vv(g);return this._records.set(g,_),_.currentValue=m,this._addToAdditions(_),_}_reset(){if(this.isDirty){let g;for(this._previousMapHead=this._mapHead,g=this._previousMapHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._changesHead;null!==g;g=g._nextChanged)g.previousValue=g.currentValue;for(g=this._additionsHead;null!=g;g=g._nextAdded)g.previousValue=g.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(g,m){Object.is(m,g.currentValue)||(g.previousValue=g.currentValue,g.currentValue=m,this._addToChanges(g))}_addToAdditions(g){null===this._additionsHead?this._additionsHead=this._additionsTail=g:(this._additionsTail._nextAdded=g,this._additionsTail=g)}_addToChanges(g){null===this._changesHead?this._changesHead=this._changesTail=g:(this._changesTail._nextChanged=g,this._changesTail=g)}_forEach(g,m){g instanceof Map?g.forEach(m):Object.keys(g).forEach(_=>m(g[_],_))}}class vv{constructor(g){this.key=g,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jm(){return new e8([new Z6])}let e8=(()=>{class f{constructor(m){this.factories=m}static create(m,_){if(null!=_){const b=_.factories.slice();m=m.concat(b)}return new f(m)}static extend(m){return{provide:f,useFactory:_=>f.create(m,_||Jm()),deps:[[f,new Zs,new du]]}}find(m){const _=this.factories.find(b=>b.supports(m));if(null!=_)return _;throw new mt(901,"")}}return f.\u0275prov=_r({token:f,providedIn:"root",factory:Jm}),f})();function ey(){return new t8([new J6])}let t8=(()=>{class f{constructor(m){this.factories=m}static create(m,_){if(_){const b=_.factories.slice();m=m.concat(b)}return new f(m)}static extend(m){return{provide:f,useFactory:_=>f.create(m,_||ey()),deps:[[f,new Zs,new du]]}}find(m){const _=this.factories.find(D=>D.supports(m));if(_)return _;throw new mt(901,"")}}return f.\u0275prov=_r({token:f,providedIn:"root",factory:ey}),f})();const V5=B6(null,"core",[{provide:L6,useValue:"unknown"},{provide:Oh,deps:[qo]},{provide:G6,deps:[]},{provide:N6,deps:[]}]);let H5=(()=>{class f{constructor(m){}}return f.\u0275fac=function(m){return new(m||f)(_a(w3))},f.\u0275mod=pi({type:f}),f.\u0275inj=ri({}),f})()},2382:(An,Dt,H)=>{H.d(Dt,{TO:()=>mo,Wl:()=>gt,Fj:()=>Yt,qu:()=>ss,oH:()=>_s,u:()=>is,sg:()=>Wa,u5:()=>mr,JU:()=>mt,a5:()=>Qn,JJ:()=>xe,JL:()=>oe,On:()=>ms,wV:()=>Co,UX:()=>jo,Q7:()=>Pe,kI:()=>je,_Y:()=>oa});var M=H(5e3),G=H(9808),B=H(8306),Le=H(4742),Ne=H(8421),Ue=H(3269),Ze=H(5403),nt=H(3268),Je=H(1810),we=H(188),Ae=H(4004);let ot=(()=>{class ne{constructor(K,ie){this._renderer=K,this._elementRef=ie,this.onChange=Kt=>{},this.onTouched=()=>{}}setProperty(K,ie){this._renderer.setProperty(this._elementRef.nativeElement,K,ie)}registerOnTouched(K){this.onTouched=K}registerOnChange(K){this.onChange=K}setDisabledState(K){this.setProperty("disabled",K)}}return ne.\u0275fac=function(K){return new(K||ne)(M.Y36(M.Qsj),M.Y36(M.SBq))},ne.\u0275dir=M.lG2({type:ne}),ne})(),lt=(()=>{class ne extends ot{}return ne.\u0275fac=function(){let q;return function(ie){return(q||(q=M.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=M.lG2({type:ne,features:[M.qOj]}),ne})();const mt=new M.OlP("NgValueAccessor"),zt={provide:mt,useExisting:(0,M.Gpc)(()=>gt),multi:!0};let gt=(()=>{class ne extends lt{writeValue(K){this.setProperty("checked",K)}}return ne.\u0275fac=function(){let q;return function(ie){return(q||(q=M.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=M.lG2({type:ne,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(K,ie){1&K&&M.NdJ("change",function(Jn){return ie.onChange(Jn.target.checked)})("blur",function(){return ie.onTouched()})},features:[M._Bn([zt]),M.qOj]}),ne})();const fn={provide:mt,useExisting:(0,M.Gpc)(()=>Yt),multi:!0},Vn=new M.OlP("CompositionEventMode");let Yt=(()=>{class ne extends ot{constructor(K,ie,Kt){super(K,ie),this._compositionMode=Kt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w(){const ne=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(ne.toLowerCase())}())}writeValue(K){this.setProperty("value",null==K?"":K)}_handleInput(K){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(K)}_compositionStart(){this._composing=!0}_compositionEnd(K){this._composing=!1,this._compositionMode&&this.onChange(K)}}return ne.\u0275fac=function(K){return new(K||ne)(M.Y36(M.Qsj),M.Y36(M.SBq),M.Y36(Vn,8))},ne.\u0275dir=M.lG2({type:ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(K,ie){1&K&&M.NdJ("input",function(Jn){return ie._handleInput(Jn.target.value)})("blur",function(){return ie.onTouched()})("compositionstart",function(){return ie._compositionStart()})("compositionend",function(Jn){return ie._compositionEnd(Jn.target.value)})},features:[M._Bn([fn]),M.qOj]}),ne})();function ue(ne){return null==ne||0===ne.length}function at(ne){return null!=ne&&"number"==typeof ne.length}const De=new M.OlP("NgValidators"),Qe=new M.OlP("NgAsyncValidators"),Ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class je{static min(q){return function yt(ne){return q=>{if(ue(q.value)||ue(ne))return null;const K=parseFloat(q.value);return!isNaN(K)&&K<ne?{min:{min:ne,actual:q.value}}:null}}(q)}static max(q){return function It(ne){return q=>{if(ue(q.value)||ue(ne))return null;const K=parseFloat(q.value);return!isNaN(K)&&K>ne?{max:{max:ne,actual:q.value}}:null}}(q)}static required(q){return Et(q)}static requiredTrue(q){return function ln(ne){return!0===ne.value?null:{required:!0}}(q)}static email(q){return function ht(ne){return ue(ne.value)||Ct.test(ne.value)?null:{email:!0}}(q)}static minLength(q){return function Sn(ne){return q=>ue(q.value)||!at(q.value)?null:q.value.length<ne?{minlength:{requiredLength:ne,actualLength:q.value.length}}:null}(q)}static maxLength(q){return function qe(ne){return q=>at(q.value)&&q.value.length>ne?{maxlength:{requiredLength:ne,actualLength:q.value.length}}:null}(q)}static pattern(q){return function Zt(ne){if(!ne)return wt;let q,K;return"string"==typeof ne?(K="","^"!==ne.charAt(0)&&(K+="^"),K+=ne,"$"!==ne.charAt(ne.length-1)&&(K+="$"),q=new RegExp(K)):(K=ne.toString(),q=ne),ie=>{if(ue(ie.value))return null;const Kt=ie.value;return q.test(Kt)?null:{pattern:{requiredPattern:K,actualValue:Kt}}}}(q)}static nullValidator(q){return null}static compose(q){return ri(q)}static composeAsync(q){return Gi(q)}}function Et(ne){return ue(ne.value)?{required:!0}:null}function wt(ne){return null}function Xt(ne){return null!=ne}function Kn(ne){const q=(0,M.QGY)(ne)?(0,we.D)(ne):ne;return(0,M.CqO)(q),q}function or(ne){let q={};return ne.forEach(K=>{q=null!=K?Object.assign(Object.assign({},q),K):q}),0===Object.keys(q).length?null:q}function gr(ne,q){return q.map(K=>K(ne))}function mi(ne){return ne.map(q=>function _r(ne){return!ne.validate}(q)?q:K=>q.validate(K))}function ri(ne){if(!ne)return null;const q=ne.filter(Xt);return 0==q.length?null:function(K){return or(gr(K,q))}}function Dr(ne){return null!=ne?ri(mi(ne)):null}function Gi(ne){if(!ne)return null;const q=ne.filter(Xt);return 0==q.length?null:function(K){return function Fe(...ne){const q=(0,Ue.jO)(ne),{args:K,keys:ie}=(0,Le.D)(ne),Kt=new B.y(Jn=>{const{length:Rr}=K;if(!Rr)return void Jn.complete();const bo=new Array(Rr);let Ao=Rr,wo=Rr;for(let Ra=0;Ra<Rr;Ra++){let j=!1;(0,Ne.Xf)(K[Ra]).subscribe((0,Ze.x)(Jn,ae=>{j||(j=!0,wo--),bo[Ra]=ae},()=>Ao--,void 0,()=>{(!Ao||!j)&&(wo||Jn.next(ie?(0,Je.n)(ie,bo):bo),Jn.complete())}))}});return q?Kt.pipe((0,nt.Z)(q)):Kt}(gr(K,q).map(Kn)).pipe((0,Ae.U)(or))}}function Ii(ne){return null!=ne?Gi(mi(ne)):null}function Ni(ne,q){return null===ne?[q]:Array.isArray(ne)?[...ne,q]:[ne,q]}function Er(ne){return ne._rawValidators}function Kr(ne){return ne._rawAsyncValidators}function Ti(ne){return ne?Array.isArray(ne)?ne:[ne]:[]}function ci(ne,q){return Array.isArray(ne)?ne.includes(q):ne===q}function no(ne,q){const K=Ti(q);return Ti(ne).forEach(Kt=>{ci(K,Kt)||K.push(Kt)}),K}function Zn(ne,q){return Ti(q).filter(K=>!ci(ne,K))}class Ur{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=Dr(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=Ii(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q){this.control&&this.control.reset(q)}hasError(q,K){return!!this.control&&this.control.hasError(q,K)}getError(q,K){return this.control?this.control.getError(q,K):null}}class Qn extends Ur{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ht extends Ur{get formDirective(){return null}get path(){return null}}class Se{constructor(q){this._cd=q}is(q){var K,ie,Kt;return"submitted"===q?!!(null===(K=this._cd)||void 0===K?void 0:K.submitted):!!(null===(Kt=null===(ie=this._cd)||void 0===ie?void 0:ie.control)||void 0===Kt?void 0:Kt[q])}}let xe=(()=>{class ne extends Se{constructor(K){super(K)}}return ne.\u0275fac=function(K){return new(K||ne)(M.Y36(Qn,2))},ne.\u0275dir=M.lG2({type:ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(K,ie){2&K&&M.ekj("ng-untouched",ie.is("untouched"))("ng-touched",ie.is("touched"))("ng-pristine",ie.is("pristine"))("ng-dirty",ie.is("dirty"))("ng-valid",ie.is("valid"))("ng-invalid",ie.is("invalid"))("ng-pending",ie.is("pending"))},features:[M.qOj]}),ne})(),oe=(()=>{class ne extends Se{constructor(K){super(K)}}return ne.\u0275fac=function(K){return new(K||ne)(M.Y36(Ht,10))},ne.\u0275dir=M.lG2({type:ne,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(K,ie){2&K&&M.ekj("ng-untouched",ie.is("untouched"))("ng-touched",ie.is("touched"))("ng-pristine",ie.is("pristine"))("ng-dirty",ie.is("dirty"))("ng-valid",ie.is("valid"))("ng-invalid",ie.is("invalid"))("ng-pending",ie.is("pending"))("ng-submitted",ie.is("submitted"))},features:[M.qOj]}),ne})();function kt(ne,q){return[...q.path,ne]}function Qt(ne,q){_n(ne,q),q.valueAccessor.writeValue(ne.value),function pi(ne,q){q.valueAccessor.registerOnChange(K=>{ne._pendingValue=K,ne._pendingChange=!0,ne._pendingDirty=!0,"change"===ne.updateOn&&Rt(ne,q)})}(ne,q),function vt(ne,q){const K=(ie,Kt)=>{q.valueAccessor.writeValue(ie),Kt&&q.viewToModelUpdate(ie)};ne.registerOnChange(K),q._registerOnDestroy(()=>{ne._unregisterOnChange(K)})}(ne,q),function $r(ne,q){q.valueAccessor.registerOnTouched(()=>{ne._pendingTouched=!0,"blur"===ne.updateOn&&ne._pendingChange&&Rt(ne,q),"submit"!==ne.updateOn&&ne.markAsTouched()})}(ne,q),function St(ne,q){if(q.valueAccessor.setDisabledState){const K=ie=>{q.valueAccessor.setDisabledState(ie)};ne.registerOnDisabledChange(K),q._registerOnDestroy(()=>{ne._unregisterOnDisabledChange(K)})}}(ne,q)}function Hn(ne,q,K=!0){const ie=()=>{};q.valueAccessor&&(q.valueAccessor.registerOnChange(ie),q.valueAccessor.registerOnTouched(ie)),jn(ne,q),ne&&(q._invokeOnDestroyCallbacks(),ne._registerOnCollectionChange(()=>{}))}function ar(ne,q){ne.forEach(K=>{K.registerOnValidatorChange&&K.registerOnValidatorChange(q)})}function _n(ne,q){const K=Er(ne);null!==q.validator?ne.setValidators(Ni(K,q.validator)):"function"==typeof K&&ne.setValidators([K]);const ie=Kr(ne);null!==q.asyncValidator?ne.setAsyncValidators(Ni(ie,q.asyncValidator)):"function"==typeof ie&&ne.setAsyncValidators([ie]);const Kt=()=>ne.updateValueAndValidity();ar(q._rawValidators,Kt),ar(q._rawAsyncValidators,Kt)}function jn(ne,q){let K=!1;if(null!==ne){if(null!==q.validator){const Kt=Er(ne);if(Array.isArray(Kt)&&Kt.length>0){const Jn=Kt.filter(Rr=>Rr!==q.validator);Jn.length!==Kt.length&&(K=!0,ne.setValidators(Jn))}}if(null!==q.asyncValidator){const Kt=Kr(ne);if(Array.isArray(Kt)&&Kt.length>0){const Jn=Kt.filter(Rr=>Rr!==q.asyncValidator);Jn.length!==Kt.length&&(K=!0,ne.setAsyncValidators(Jn))}}}const ie=()=>{};return ar(q._rawValidators,ie),ar(q._rawAsyncValidators,ie),K}function Rt(ne,q){ne._pendingDirty&&ne.markAsDirty(),ne.setValue(ne._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1}function Tn(ne,q){if(!ne.hasOwnProperty("model"))return!1;const K=ne.model;return!!K.isFirstChange()||!Object.is(q,K.currentValue)}function Mr(ne,q){if(!q)return null;let K,ie,Kt;return Array.isArray(q),q.forEach(Jn=>{Jn.constructor===Yt?K=Jn:function zn(ne){return Object.getPrototypeOf(ne.constructor)===lt}(Jn)?ie=Jn:Kt=Jn}),Kt||ie||K||null}function Pr(ne,q){const K=ne.indexOf(q);K>-1&&ne.splice(K,1)}const kn="VALID",Sr="INVALID",ui="PENDING",Zi="DISABLED";function Or(ne){return(Qr(ne)?ne.validators:ne)||null}function fr(ne){return Array.isArray(ne)?Dr(ne):ne||null}function Zr(ne,q){return(Qr(q)?q.asyncValidators:ne)||null}function lo(ne){return Array.isArray(ne)?Ii(ne):ne||null}function Qr(ne){return null!=ne&&!Array.isArray(ne)&&"object"==typeof ne}const dr=ne=>ne instanceof zo,Wi=ne=>ne instanceof qi,$i=ne=>ne instanceof rn;function ko(ne){return dr(ne)?ne.value:ne.getRawValue()}function Oo(ne,q){const K=Wi(ne),ie=ne.controls;if(!(K?Object.keys(ie):ie).length)throw new M.vHH(1e3,"");if(!ie[q])throw new M.vHH(1001,"")}function ti(ne,q){Wi(ne),ne._forEachChild((ie,Kt)=>{if(void 0===q[Kt])throw new M.vHH(1002,"")})}class mo{constructor(q,K){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=q,this._rawAsyncValidators=K,this._composedValidatorFn=fr(this._rawValidators),this._composedAsyncValidatorFn=lo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get valid(){return this.status===kn}get invalid(){return this.status===Sr}get pending(){return this.status==ui}get disabled(){return this.status===Zi}get enabled(){return this.status!==Zi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._rawValidators=q,this._composedValidatorFn=fr(q)}setAsyncValidators(q){this._rawAsyncValidators=q,this._composedAsyncValidatorFn=lo(q)}addValidators(q){this.setValidators(no(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(no(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(Zn(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(Zn(q,this._rawAsyncValidators))}hasValidator(q){return ci(this._rawValidators,q)}hasAsyncValidator(q){return ci(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){this.touched=!0,this._parent&&!q.onlySelf&&this._parent.markAsTouched(q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(q=>q.markAllAsTouched())}markAsUntouched(q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(K=>{K.markAsUntouched({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}markAsDirty(q={}){this.pristine=!1,this._parent&&!q.onlySelf&&this._parent.markAsDirty(q)}markAsPristine(q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(K=>{K.markAsPristine({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}markAsPending(q={}){this.status=ui,!1!==q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!q.onlySelf&&this._parent.markAsPending(q)}disable(q={}){const K=this._parentMarkedDirty(q.onlySelf);this.status=Zi,this.errors=null,this._forEachChild(ie=>{ie.disable(Object.assign(Object.assign({},q),{onlySelf:!0}))}),this._updateValue(),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},q),{skipPristineCheck:K})),this._onDisabledChange.forEach(ie=>ie(!0))}enable(q={}){const K=this._parentMarkedDirty(q.onlySelf);this.status=kn,this._forEachChild(ie=>{ie.enable(Object.assign(Object.assign({},q),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},q),{skipPristineCheck:K})),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(q){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(q){this._parent=q}updateValueAndValidity(q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kn||this.status===ui)&&this._runAsyncValidator(q.emitEvent)),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity(q)}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(K=>K._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zi:kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q){if(this.asyncValidator){this.status=ui,this._hasOwnPendingAsyncValidator=!0;const K=Kn(this.asyncValidator(this));this._asyncValidationSubscription=K.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(q,K={}){this.errors=q,this._updateControlsErrors(!1!==K.emitEvent)}get(q){return function ii(ne,q,K){if(null==q||(Array.isArray(q)||(q=q.split(K)),Array.isArray(q)&&0===q.length))return null;let ie=ne;return q.forEach(Kt=>{ie=Wi(ie)?ie.controls.hasOwnProperty(Kt)?ie.controls[Kt]:null:$i(ie)&&ie.at(Kt)||null}),ie}(this,q,".")}getError(q,K){const ie=K?this.get(K):this;return ie&&ie.errors?ie.errors[q]:null}hasError(q,K){return!!this.getError(q,K)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(q)}_initObservables(){this.valueChanges=new M.vpe,this.statusChanges=new M.vpe}_calculateStatus(){return this._allControlsDisabled()?Zi:this.errors?Sr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ui)?ui:this._anyControlsHaveStatus(Sr)?Sr:kn}_anyControlsHaveStatus(q){return this._anyControls(K=>K.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}_updateTouched(q={}){this.touched=this._anyControlsTouched(),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}_isBoxedValue(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){Qr(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zo extends mo{constructor(q=null,K,ie){super(Or(K),Zr(ie,K)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(q),this._setUpdateStrategy(K),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qr(K)&&K.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(q)?q.value:q)}setValue(q,K={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==K.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==K.emitViewToModelChange)),this.updateValueAndValidity(K)}patchValue(q,K={}){this.setValue(q,K)}reset(q=this.defaultValue,K={}){this._applyFormState(q),this.markAsPristine(K),this.markAsUntouched(K),this.setValue(this.value,K),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){Pr(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){Pr(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){this._isBoxedValue(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}}class qi extends mo{constructor(q,K,ie){super(Or(K),Zr(ie,K)),this.controls=q,this._initObservables(),this._setUpdateStrategy(K),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,K){return this.controls[q]?this.controls[q]:(this.controls[q]=K,K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange),K)}addControl(q,K,ie={}){this.registerControl(q,K),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(q,K={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}setControl(q,K,ie={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],K&&this.registerControl(q,K),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,K={}){ti(this,q),Object.keys(q).forEach(ie=>{Oo(this,ie),this.controls[ie].setValue(q[ie],{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K)}patchValue(q,K={}){null!=q&&(Object.keys(q).forEach(ie=>{this.controls[ie]&&this.controls[ie].patchValue(q[ie],{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K))}reset(q={},K={}){this._forEachChild((ie,Kt)=>{ie.reset(q[Kt],{onlySelf:!0,emitEvent:K.emitEvent})}),this._updatePristine(K),this._updateTouched(K),this.updateValueAndValidity(K)}getRawValue(){return this._reduceChildren({},(q,K,ie)=>(q[ie]=ko(K),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(K,ie)=>!!ie._syncPendingControls()||K);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){Object.keys(this.controls).forEach(K=>{const ie=this.controls[K];ie&&q(ie,K)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const K of Object.keys(this.controls)){const ie=this.controls[K];if(this.contains(K)&&q(ie))return!0}return!1}_reduceValue(){return this._reduceChildren({},(q,K,ie)=>((K.enabled||this.disabled)&&(q[ie]=K.value),q))}_reduceChildren(q,K){let ie=q;return this._forEachChild((Kt,Jn)=>{ie=K(ie,Kt,Jn)}),ie}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class rn extends mo{constructor(q,K,ie){super(Or(K),Zr(ie,K)),this.controls=q,this._initObservables(),this._setUpdateStrategy(K),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(q){return this.controls[q]}push(q,K={}){this.controls.push(q),this._registerControl(q),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}insert(q,K,ie={}){this.controls.splice(q,0,K),this._registerControl(K),this.updateValueAndValidity({emitEvent:ie.emitEvent})}removeAt(q,K={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:K.emitEvent})}setControl(q,K,ie={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),K&&(this.controls.splice(q,0,K),this._registerControl(K)),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(q,K={}){ti(this,q),q.forEach((ie,Kt)=>{Oo(this,Kt),this.at(Kt).setValue(ie,{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K)}patchValue(q,K={}){null!=q&&(q.forEach((ie,Kt)=>{this.at(Kt)&&this.at(Kt).patchValue(ie,{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K))}reset(q=[],K={}){this._forEachChild((ie,Kt)=>{ie.reset(q[Kt],{onlySelf:!0,emitEvent:K.emitEvent})}),this._updatePristine(K),this._updateTouched(K),this.updateValueAndValidity(K)}getRawValue(){return this.controls.map(q=>ko(q))}clear(q={}){this.controls.length<1||(this._forEachChild(K=>K._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:q.emitEvent}))}_syncPendingControls(){let q=this.controls.reduce((K,ie)=>!!ie._syncPendingControls()||K,!1);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){this.controls.forEach((K,ie)=>{q(K,ie)})}_updateValue(){this.value=this.controls.filter(q=>q.enabled||this.disabled).map(q=>q.value)}_anyControls(q){return this.controls.some(K=>K.enabled&&q(K))}_setUpControls(){this._forEachChild(q=>this._registerControl(q))}_allControlsDisabled(){for(const q of this.controls)if(q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(q){q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)}}const vs={provide:Qn,useExisting:(0,M.Gpc)(()=>ms)},co=(()=>Promise.resolve(null))();let ms=(()=>{class ne extends Qn{constructor(K,ie,Kt,Jn,Rr){super(),this._changeDetectorRef=Rr,this.control=new zo,this._registered=!1,this.update=new M.vpe,this._parent=K,this._setValidators(ie),this._setAsyncValidators(Kt),this.valueAccessor=Mr(0,Jn)}ngOnChanges(K){if(this._checkForErrors(),!this._registered||"name"in K){if(this._registered&&(this._checkName(),this.formDirective)){const ie=K.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in K&&this._updateDisabled(K),Tn(K,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(K){co.then(()=>{var ie;this.control.setValue(K,{emitViewToModelChange:!1}),null===(ie=this._changeDetectorRef)||void 0===ie||ie.markForCheck()})}_updateDisabled(K){const ie=K.isDisabled.currentValue,Kt=""===ie||ie&&"false"!==ie;co.then(()=>{var Jn;Kt&&!this.control.disabled?this.control.disable():!Kt&&this.control.disabled&&this.control.enable(),null===(Jn=this._changeDetectorRef)||void 0===Jn||Jn.markForCheck()})}_getPath(K){return this._parent?kt(K,this._parent):[K]}}return ne.\u0275fac=function(K){return new(K||ne)(M.Y36(Ht,9),M.Y36(De,10),M.Y36(Qe,10),M.Y36(mt,10),M.Y36(M.sBO,8))},ne.\u0275dir=M.lG2({type:ne,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[M._Bn([vs]),M.qOj,M.TTD]}),ne})(),oa=(()=>{class ne{}return ne.\u0275fac=function(K){return new(K||ne)},ne.\u0275dir=M.lG2({type:ne,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ne})();const ys={provide:mt,useExisting:(0,M.Gpc)(()=>Co),multi:!0};let Co=(()=>{class ne extends lt{writeValue(K){this.setProperty("value",null==K?"":K)}registerOnChange(K){this.onChange=ie=>{K(""==ie?null:parseFloat(ie))}}}return ne.\u0275fac=function(){let q;return function(ie){return(q||(q=M.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=M.lG2({type:ne,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(K,ie){1&K&&M.NdJ("input",function(Jn){return ie.onChange(Jn.target.value)})("blur",function(){return ie.onTouched()})},features:[M._Bn([ys]),M.qOj]}),ne})(),Pl=(()=>{class ne{}return ne.\u0275fac=function(K){return new(K||ne)},ne.\u0275mod=M.oAB({type:ne}),ne.\u0275inj=M.cJS({}),ne})();const dl=new M.OlP("NgModelWithFormControlWarning"),nc={provide:Qn,useExisting:(0,M.Gpc)(()=>_s)};let _s=(()=>{class ne extends Qn{constructor(K,ie,Kt,Jn){super(),this._ngModelWarningConfig=Jn,this.update=new M.vpe,this._ngModelWarningSent=!1,this._setValidators(K),this._setAsyncValidators(ie),this.valueAccessor=Mr(0,Kt)}set isDisabled(K){}ngOnChanges(K){if(this._isControlChanged(K)){const ie=K.form.previousValue;ie&&Hn(ie,this,!1),Qt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Tn(K,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Hn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}_isControlChanged(K){return K.hasOwnProperty("form")}}return ne._ngModelWarningSentOnce=!1,ne.\u0275fac=function(K){return new(K||ne)(M.Y36(De,10),M.Y36(Qe,10),M.Y36(mt,10),M.Y36(dl,8))},ne.\u0275dir=M.lG2({type:ne,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[M._Bn([nc]),M.qOj,M.TTD]}),ne})();const Gs={provide:Ht,useExisting:(0,M.Gpc)(()=>Wa)};let Wa=(()=>{class ne extends Ht{constructor(K,ie){super(),this.validators=K,this.asyncValidators=ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new M.vpe,this._setValidators(K),this._setAsyncValidators(ie)}ngOnChanges(K){this._checkFormPresent(),K.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(K){const ie=this.form.get(K.path);return Qt(ie,K),ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(K),ie}getControl(K){return this.form.get(K.path)}removeControl(K){Hn(K.control||null,K,!1),Pr(this.directives,K)}addFormGroup(K){this._setUpFormContainer(K)}removeFormGroup(K){this._cleanUpFormContainer(K)}getFormGroup(K){return this.form.get(K.path)}addFormArray(K){this._setUpFormContainer(K)}removeFormArray(K){this._cleanUpFormContainer(K)}getFormArray(K){return this.form.get(K.path)}updateModel(K,ie){this.form.get(K.path).setValue(ie)}onSubmit(K){return this.submitted=!0,function pr(ne,q){ne._syncPendingControls(),q.forEach(K=>{const ie=K.control;"submit"===ie.updateOn&&ie._pendingChange&&(K.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(K),!1}onReset(){this.resetForm()}resetForm(K){this.form.reset(K),this.submitted=!1}_updateDomValue(){this.directives.forEach(K=>{const ie=K.control,Kt=this.form.get(K.path);ie!==Kt&&(Hn(ie||null,K),dr(Kt)&&(Qt(Kt,K),K.control=Kt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(K){const ie=this.form.get(K.path);(function $e(ne,q){_n(ne,q)})(ie,K),ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(K){if(this.form){const ie=this.form.get(K.path);ie&&function bt(ne,q){return jn(ne,q)}(ie,K)&&ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_n(this.form,this),this._oldForm&&jn(this._oldForm,this)}_checkFormPresent(){}}return ne.\u0275fac=function(K){return new(K||ne)(M.Y36(De,10),M.Y36(Qe,10))},ne.\u0275dir=M.lG2({type:ne,selectors:[["","formGroup",""]],hostBindings:function(K,ie){1&K&&M.NdJ("submit",function(Jn){return ie.onSubmit(Jn)})("reset",function(){return ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[M._Bn([Gs]),M.qOj,M.TTD]}),ne})();const rs={provide:Qn,useExisting:(0,M.Gpc)(()=>is)};let is=(()=>{class ne extends Qn{constructor(K,ie,Kt,Jn,Rr){super(),this._ngModelWarningConfig=Rr,this._added=!1,this.update=new M.vpe,this._ngModelWarningSent=!1,this._parent=K,this._setValidators(ie),this._setAsyncValidators(Kt),this.valueAccessor=Mr(0,Jn)}set isDisabled(K){}ngOnChanges(K){this._added||this._setUpControl(),Tn(K,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}get path(){return kt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return ne._ngModelWarningSentOnce=!1,ne.\u0275fac=function(K){return new(K||ne)(M.Y36(Ht,13),M.Y36(De,10),M.Y36(Qe,10),M.Y36(mt,10),M.Y36(dl,8))},ne.\u0275dir=M.lG2({type:ne,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[M._Bn([rs]),M.qOj,M.TTD]}),ne})(),Zo=(()=>{class ne{constructor(){this._validator=wt}ngOnChanges(K){if(this.inputName in K){const ie=this.normalizeInput(K[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):wt,this._onChange&&this._onChange()}}validate(K){return this._validator(K)}registerOnValidatorChange(K){this._onChange=K}enabled(K){return null!=K}}return ne.\u0275fac=function(K){return new(K||ne)},ne.\u0275dir=M.lG2({type:ne,features:[M.TTD]}),ne})();const Ee={provide:De,useExisting:(0,M.Gpc)(()=>Pe),multi:!0};let Pe=(()=>{class ne extends Zo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=K=>function Wo(ne){return null!=ne&&!1!==ne&&"false"!=`${ne}`}(K),this.createValidator=K=>Et}enabled(K){return K}}return ne.\u0275fac=function(){let q;return function(ie){return(q||(q=M.n5z(ne)))(ie||ne)}}(),ne.\u0275dir=M.lG2({type:ne,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(K,ie){2&K&&M.uIk("required",ie._enabled?"":null)},inputs:{required:"required"},features:[M._Bn([Ee]),M.qOj]}),ne})(),io=(()=>{class ne{}return ne.\u0275fac=function(K){return new(K||ne)},ne.\u0275mod=M.oAB({type:ne}),ne.\u0275inj=M.cJS({imports:[[Pl]]}),ne})(),mr=(()=>{class ne{}return ne.\u0275fac=function(K){return new(K||ne)},ne.\u0275mod=M.oAB({type:ne}),ne.\u0275inj=M.cJS({imports:[io]}),ne})(),jo=(()=>{class ne{static withConfig(K){return{ngModule:ne,providers:[{provide:dl,useValue:K.warnOnNgModelWithFormControl}]}}}return ne.\u0275fac=function(K){return new(K||ne)},ne.\u0275mod=M.oAB({type:ne}),ne.\u0275inj=M.cJS({imports:[io]}),ne})(),ss=(()=>{class ne{group(K,ie=null){const Kt=this._reduceControls(K);let bo,Jn=null,Rr=null;return null!=ie&&(function Aa(ne){return void 0!==ne.asyncValidators||void 0!==ne.validators||void 0!==ne.updateOn}(ie)?(Jn=null!=ie.validators?ie.validators:null,Rr=null!=ie.asyncValidators?ie.asyncValidators:null,bo=null!=ie.updateOn?ie.updateOn:void 0):(Jn=null!=ie.validator?ie.validator:null,Rr=null!=ie.asyncValidator?ie.asyncValidator:null)),new qi(Kt,{asyncValidators:Rr,updateOn:bo,validators:Jn})}control(K,ie,Kt){return new zo(K,ie,Kt)}array(K,ie,Kt){const Jn=K.map(Rr=>this._createControl(Rr));return new rn(Jn,ie,Kt)}_reduceControls(K){const ie={};return Object.keys(K).forEach(Kt=>{ie[Kt]=this._createControl(K[Kt])}),ie}_createControl(K){return dr(K)||Wi(K)||$i(K)?K:Array.isArray(K)?this.control(K[0],K.length>1?K[1]:null,K.length>2?K[2]:null):this.control(K)}}return ne.\u0275fac=function(K){return new(K||ne)},ne.\u0275prov=M.Yz7({token:ne,factory:ne.\u0275fac,providedIn:jo}),ne})()},6360:(An,Dt,H)=>{H.d(Dt,{Qb:()=>X,PW:()=>ir});var M=H(5e3),G=H(2313),B=H(1777);const Le=!1;function Ue(se){return new M.vHH(3e3,Le)}function mi(){return"undefined"!=typeof window&&void 0!==window.document}function ri(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Dr(se){switch(se.length){case 0:return new B.ZN;case 1:return se[0];default:return new B.ZE(se)}}function Gi(se,P,L,$,me={},He={}){const dt=[],ft=[];let Bt=-1,tn=null;if($.forEach(Gn=>{const Bn=Gn.offset,br=Bn==Bt,Wr=br&&tn||{};Object.keys(Gn).forEach(wr=>{let Fr=wr,wi=Gn[wr];if("offset"!==wr)switch(Fr=P.normalizePropertyName(Fr,dt),wi){case B.k1:wi=me[wr];break;case B.l3:wi=He[wr];break;default:wi=P.normalizeStyleValue(wr,Fr,wi,dt)}Wr[Fr]=wi}),br||ft.push(Wr),tn=Wr,Bt=Bn}),dt.length)throw function Et(se){return new M.vHH(3502,Le)}();return ft}function Ii(se,P,L,$){switch(P){case"start":se.onStart(()=>$(L&&Ni(L,"start",se)));break;case"done":se.onDone(()=>$(L&&Ni(L,"done",se)));break;case"destroy":se.onDestroy(()=>$(L&&Ni(L,"destroy",se)))}}function Ni(se,P,L){const $=L.totalTime,He=Er(se.element,se.triggerName,se.fromState,se.toState,P||se.phaseName,null==$?se.totalTime:$,!!L.disabled),dt=se._data;return null!=dt&&(He._data=dt),He}function Er(se,P,L,$,me="",He=0,dt){return{element:se,triggerName:P,fromState:L,toState:$,phaseName:me,totalTime:He,disabled:!!dt}}function Kr(se,P,L){let $;return se instanceof Map?($=se.get(P),$||se.set(P,$=L)):($=se[P],$||($=se[P]=L)),$}function Ti(se){const P=se.indexOf(":");return[se.substring(1,P),se.substr(P+1)]}let ci=(se,P)=>!1,no=(se,P,L)=>[],Zn=null;function Ur(se){const P=se.parentNode||se.host;return P===Zn?null:P}(ri()||"undefined"!=typeof Element)&&(mi()?(Zn=(()=>document.documentElement)(),ci=(se,P)=>{for(;P;){if(P===se)return!0;P=Ur(P)}return!1}):ci=(se,P)=>se.contains(P),no=(se,P,L)=>{if(L)return Array.from(se.querySelectorAll(P));const $=se.querySelector(P);return $?[$]:[]});let Se=null,rt=!1;function Re(se){Se||(Se=function xe(){return"undefined"!=typeof document?document.body:null}()||{},rt=!!Se.style&&"WebkitAppearance"in Se.style);let P=!0;return Se.style&&!function Ht(se){return"ebkit"==se.substring(1,6)}(se)&&(P=se in Se.style,!P&&rt&&(P="Webkit"+se.charAt(0).toUpperCase()+se.substr(1)in Se.style)),P}const oe=ci,Me=no;let ze=(()=>{class se{validateStyleProperty(L){return Re(L)}matchesElement(L,$){return!1}containsElement(L,$){return oe(L,$)}getParentElement(L){return Ur(L)}query(L,$,me){return Me(L,$,me)}computeStyle(L,$,me){return me||""}animate(L,$,me,He,dt,ft=[],Bt){return new B.ZN(me,He)}}return se.\u0275fac=function(L){return new(L||se)},se.\u0275prov=M.Yz7({token:se,factory:se.\u0275fac}),se})(),ut=(()=>{class se{}return se.NOOP=new ze,se})();const ur="ng-enter",qn="ng-leave",Gt="ng-trigger",vn=".ng-trigger",bn="ng-animating",ce=".ng-animating";function Lt(se){if("number"==typeof se)return se;const P=se.match(/^(-?[\.\d]+)(m?s)/);return!P||P.length<2?0:pt(parseFloat(P[1]),P[2])}function pt(se,P){return"s"===P?1e3*se:se}function We(se,P,L){return se.hasOwnProperty("duration")?se:function kt(se,P,L){let me,He=0,dt="";if("string"==typeof se){const ft=se.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ft)return P.push(Ue()),{duration:0,delay:0,easing:""};me=pt(parseFloat(ft[1]),ft[2]);const Bt=ft[3];null!=Bt&&(He=pt(parseFloat(Bt),ft[4]));const tn=ft[5];tn&&(dt=tn)}else me=se;if(!L){let ft=!1,Bt=P.length;me<0&&(P.push(function Ze(){return new M.vHH(3100,Le)}()),ft=!0),He<0&&(P.push(function nt(){return new M.vHH(3101,Le)}()),ft=!0),ft&&P.splice(Bt,0,Ue())}return{duration:me,delay:He,easing:dt}}(se,P,L)}function Qt(se,P={}){return Object.keys(se).forEach(L=>{P[L]=se[L]}),P}function ar(se,P,L={}){if(P)for(let $ in se)L[$]=se[$];else Qt(se,L);return L}function St(se,P,L){return L?P+":"+L+";":""}function _n(se){let P="";for(let L=0;L<se.style.length;L++){const $=se.style.item(L);P+=St(0,$,se.style.getPropertyValue($))}for(const L in se.style)se.style.hasOwnProperty(L)&&!L.startsWith("_")&&(P+=St(0,Mt(L),se.style[L]));se.setAttribute("style",P)}function jn(se,P,L){se.style&&(Object.keys(P).forEach($=>{const me=ge($);L&&!L.hasOwnProperty($)&&(L[$]=se.style[me]),se.style[me]=P[$]}),ri()&&_n(se))}function pi(se,P){se.style&&(Object.keys(P).forEach(L=>{const $=ge(L);se.style[$]=""}),ri()&&_n(se))}function $r(se){return Array.isArray(se)?1==se.length?se[0]:(0,B.vP)(se):se}const vt=new RegExp("{{\\s*(.+?)\\s*}}","g");function $e(se){let P=[];if("string"==typeof se){let L;for(;L=vt.exec(se);)P.push(L[1]);vt.lastIndex=0}return P}function bt(se,P,L){const $=se.toString(),me=$.replace(vt,(He,dt)=>{let ft=P[dt];return P.hasOwnProperty(dt)||(L.push(function Fe(se){return new M.vHH(3003,Le)}()),ft=""),ft.toString()});return me==$?se:me}function Ge(se){const P=[];let L=se.next();for(;!L.done;)P.push(L.value),L=se.next();return P}const Wt=/-+([a-z0-9])/g;function ge(se){return se.replace(Wt,(...P)=>P[1].toUpperCase())}function Mt(se){return se.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pr(se,P,L){switch(P.type){case 7:return se.visitTrigger(P,L);case 0:return se.visitState(P,L);case 1:return se.visitTransition(P,L);case 2:return se.visitSequence(P,L);case 3:return se.visitGroup(P,L);case 4:return se.visitAnimate(P,L);case 5:return se.visitKeyframes(P,L);case 6:return se.visitStyle(P,L);case 8:return se.visitReference(P,L);case 9:return se.visitAnimateChild(P,L);case 10:return se.visitAnimateRef(P,L);case 11:return se.visitQuery(P,L);case 12:return se.visitStagger(P,L);default:throw function we(se){return new M.vHH(3004,Le)}()}}function Mr(se,P){return window.getComputedStyle(se)[P]}function Or(se,P){const L=[];return"string"==typeof se?se.split(/\s*,\s*/).forEach($=>function fr(se,P,L){if(":"==se[0]){const Bt=function Zr(se,P){switch(se){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(L,$)=>parseFloat($)>parseFloat(L);case":decrement":return(L,$)=>parseFloat($)<parseFloat(L);default:return P.push(function Ct(se){return new M.vHH(3016,Le)}()),"* => *"}}(se,L);if("function"==typeof Bt)return void P.push(Bt);se=Bt}const $=se.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==$||$.length<4)return L.push(function Qe(se){return new M.vHH(3015,Le)}()),P;const me=$[1],He=$[2],dt=$[3];P.push(dr(me,dt));"<"==He[0]&&!("*"==me&&"*"==dt)&&P.push(dr(dt,me))}($,L,P)):L.push(se),L}const lo=new Set(["true","1"]),Qr=new Set(["false","0"]);function dr(se,P){const L=lo.has(se)||Qr.has(se),$=lo.has(P)||Qr.has(P);return(me,He)=>{let dt="*"==se||se==me,ft="*"==P||P==He;return!dt&&L&&"boolean"==typeof me&&(dt=me?lo.has(se):Qr.has(se)),!ft&&$&&"boolean"==typeof He&&(ft=He?lo.has(P):Qr.has(P)),dt&&ft}}const $i=new RegExp("s*:selfs*,?","g");function ko(se,P,L,$){return new ti(se).build(P,L,$)}class ti{constructor(P){this._driver=P}build(P,L,$){const me=new qi(L);this._resetContextStyleTimingState(me);const He=pr(this,$r(P),me);return me.unsupportedCSSPropertiesFound.size&&me.unsupportedCSSPropertiesFound.keys(),He}_resetContextStyleTimingState(P){P.currentQuerySelector="",P.collectedStyles={},P.collectedStyles[""]={},P.currentTime=0}visitTrigger(P,L){let $=L.queryCount=0,me=L.depCount=0;const He=[],dt=[];return"@"==P.name.charAt(0)&&L.errors.push(function ot(){return new M.vHH(3006,Le)}()),P.definitions.forEach(ft=>{if(this._resetContextStyleTimingState(L),0==ft.type){const Bt=ft,tn=Bt.name;tn.toString().split(/\s*,\s*/).forEach(Gn=>{Bt.name=Gn,He.push(this.visitState(Bt,L))}),Bt.name=tn}else if(1==ft.type){const Bt=this.visitTransition(ft,L);$+=Bt.queryCount,me+=Bt.depCount,dt.push(Bt)}else L.errors.push(function lt(){return new M.vHH(3007,Le)}())}),{type:7,name:P.name,states:He,transitions:dt,queryCount:$,depCount:me,options:null}}visitState(P,L){const $=this.visitStyle(P.styles,L),me=P.options&&P.options.params||null;if($.containsDynamicStyles){const He=new Set,dt=me||{};$.styles.forEach(ft=>{if(Po(ft)){const Bt=ft;Object.keys(Bt).forEach(tn=>{$e(Bt[tn]).forEach(Gn=>{dt.hasOwnProperty(Gn)||He.add(Gn)})})}}),He.size&&(Ge(He.values()),L.errors.push(function mt(se,P){return new M.vHH(3008,Le)}()))}return{type:0,name:P.name,style:$,options:me?{params:me}:null}}visitTransition(P,L){L.queryCount=0,L.depCount=0;const $=pr(this,$r(P.animation),L);return{type:1,matchers:Or(P.expr,L.errors),animation:$,queryCount:L.queryCount,depCount:L.depCount,options:yn(P.options)}}visitSequence(P,L){return{type:2,steps:P.steps.map($=>pr(this,$,L)),options:yn(P.options)}}visitGroup(P,L){const $=L.currentTime;let me=0;const He=P.steps.map(dt=>{L.currentTime=$;const ft=pr(this,dt,L);return me=Math.max(me,L.currentTime),ft});return L.currentTime=me,{type:3,steps:He,options:yn(P.options)}}visitAnimate(P,L){const $=function yo(se,P){let L=null;if(se.hasOwnProperty("duration"))L=se;else if("number"==typeof se)return bi(We(se,P).duration,0,"");const $=se;if($.split(/\s+/).some(He=>"{"==He.charAt(0)&&"{"==He.charAt(1))){const He=bi(0,0,"");return He.dynamic=!0,He.strValue=$,He}return L=L||We($,P),bi(L.duration,L.delay,L.easing)}(P.timings,L.errors);L.currentAnimateTimings=$;let me,He=P.styles?P.styles:(0,B.oB)({});if(5==He.type)me=this.visitKeyframes(He,L);else{let dt=P.styles,ft=!1;if(!dt){ft=!0;const tn={};$.easing&&(tn.easing=$.easing),dt=(0,B.oB)(tn)}L.currentTime+=$.duration+$.delay;const Bt=this.visitStyle(dt,L);Bt.isEmptyStep=ft,me=Bt}return L.currentAnimateTimings=null,{type:4,timings:$,style:me,options:null}}visitStyle(P,L){const $=this._makeStyleAst(P,L);return this._validateStyleAst($,L),$}_makeStyleAst(P,L){const $=[];Array.isArray(P.styles)?P.styles.forEach(dt=>{"string"==typeof dt?dt==B.l3?$.push(dt):L.errors.push(function zt(se){return new M.vHH(3002,Le)}()):$.push(dt)}):$.push(P.styles);let me=!1,He=null;return $.forEach(dt=>{if(Po(dt)){const ft=dt,Bt=ft.easing;if(Bt&&(He=Bt,delete ft.easing),!me)for(let tn in ft)if(ft[tn].toString().indexOf("{{")>=0){me=!0;break}}}),{type:6,styles:$,easing:He,offset:P.offset,containsDynamicStyles:me,options:null}}_validateStyleAst(P,L){const $=L.currentAnimateTimings;let me=L.currentTime,He=L.currentTime;$&&He>0&&(He-=$.duration+$.delay),P.styles.forEach(dt=>{"string"!=typeof dt&&Object.keys(dt).forEach(ft=>{if(!this._driver.validateStyleProperty(ft))return delete dt[ft],void L.unsupportedCSSPropertiesFound.add(ft);const Bt=L.collectedStyles[L.currentQuerySelector],tn=Bt[ft];let Gn=!0;tn&&(He!=me&&He>=tn.startTime&&me<=tn.endTime&&(L.errors.push(function fn(se,P,L,$,me){return new M.vHH(3010,Le)}()),Gn=!1),He=tn.startTime),Gn&&(Bt[ft]={startTime:He,endTime:me}),L.options&&function Rt(se,P,L){const $=P.params||{},me=$e(se);me.length&&me.forEach(He=>{$.hasOwnProperty(He)||L.push(function Je(se){return new M.vHH(3001,Le)}())})}(dt[ft],L.options,L.errors)})})}visitKeyframes(P,L){const $={type:5,styles:[],options:null};if(!L.currentAnimateTimings)return L.errors.push(function w(){return new M.vHH(3011,Le)}()),$;let He=0;const dt=[];let ft=!1,Bt=!1,tn=0;const Gn=P.steps.map(Qi=>{const oo=this._makeStyleAst(Qi,L);let po=null!=oo.offset?oo.offset:function rn(se){if("string"==typeof se)return null;let P=null;if(Array.isArray(se))se.forEach(L=>{if(Po(L)&&L.hasOwnProperty("offset")){const $=L;P=parseFloat($.offset),delete $.offset}});else if(Po(se)&&se.hasOwnProperty("offset")){const L=se;P=parseFloat(L.offset),delete L.offset}return P}(oo.styles),yi=0;return null!=po&&(He++,yi=oo.offset=po),Bt=Bt||yi<0||yi>1,ft=ft||yi<tn,tn=yi,dt.push(yi),oo});Bt&&L.errors.push(function Vn(){return new M.vHH(3012,Le)}()),ft&&L.errors.push(function Yt(){return new M.vHH(3200,Le)}());const Bn=P.steps.length;let br=0;He>0&&He<Bn?L.errors.push(function ue(){return new M.vHH(3202,Le)}()):0==He&&(br=1/(Bn-1));const Wr=Bn-1,wr=L.currentTime,Fr=L.currentAnimateTimings,wi=Fr.duration;return Gn.forEach((Qi,oo)=>{const po=br>0?oo==Wr?1:br*oo:dt[oo],yi=po*wi;L.currentTime=wr+Fr.delay+yi,Fr.duration=yi,this._validateStyleAst(Qi,L),Qi.offset=po,$.styles.push(Qi)}),$}visitReference(P,L){return{type:8,animation:pr(this,$r(P.animation),L),options:yn(P.options)}}visitAnimateChild(P,L){return L.depCount++,{type:9,options:yn(P.options)}}visitAnimateRef(P,L){return{type:10,animation:this.visitReference(P.animation,L),options:yn(P.options)}}visitQuery(P,L){const $=L.currentQuerySelector,me=P.options||{};L.queryCount++,L.currentQuery=P;const[He,dt]=function mo(se){const P=!!se.split(/\s*,\s*/).find(L=>":self"==L);return P&&(se=se.replace($i,"")),se=se.replace(/@\*/g,vn).replace(/@\w+/g,L=>vn+"-"+L.substr(1)).replace(/:animating/g,ce),[se,P]}(P.selector);L.currentQuerySelector=$.length?$+" "+He:He,Kr(L.collectedStyles,L.currentQuerySelector,{});const ft=pr(this,$r(P.animation),L);return L.currentQuery=null,L.currentQuerySelector=$,{type:11,selector:He,limit:me.limit||0,optional:!!me.optional,includeSelf:dt,animation:ft,originalSelector:P.selector,options:yn(P.options)}}visitStagger(P,L){L.currentQuery||L.errors.push(function at(){return new M.vHH(3013,Le)}());const $="full"===P.timings?{duration:0,delay:0,easing:"full"}:We(P.timings,L.errors,!0);return{type:12,animation:pr(this,$r(P.animation),L),timings:$,options:null}}}class qi{constructor(P){this.errors=P,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Po(se){return!Array.isArray(se)&&"object"==typeof se}function yn(se){return se?(se=Qt(se)).params&&(se.params=function zo(se){return se?Qt(se):null}(se.params)):se={},se}function bi(se,P,L){return{duration:se,delay:P,easing:L}}function ia(se,P,L,$,me,He,dt=null,ft=!1){return{type:1,element:se,keyframes:P,preStyleProps:L,postStyleProps:$,duration:me,delay:He,totalTime:me+He,easing:dt,subTimeline:ft}}class Vo{constructor(){this._map=new Map}get(P){return this._map.get(P)||[]}append(P,L){let $=this._map.get(P);$||this._map.set(P,$=[]),$.push(...L)}has(P){return this._map.has(P)}clear(){this._map.clear()}}const ns=new RegExp(":enter","g"),vs=new RegExp(":leave","g");function co(se,P,L,$,me,He={},dt={},ft,Bt,tn=[]){return(new ms).buildKeyframes(se,P,L,$,me,He,dt,ft,Bt,tn)}class ms{buildKeyframes(P,L,$,me,He,dt,ft,Bt,tn,Gn=[]){tn=tn||new Vo;const Bn=new ys(P,L,tn,me,He,Gn,[]);Bn.options=Bt,Bn.currentTimeline.setStyles([dt],null,Bn.errors,Bt),pr(this,$,Bn);const br=Bn.timelines.filter(Wr=>Wr.containsAnimation());if(Object.keys(ft).length){let Wr;for(let wr=br.length-1;wr>=0;wr--){const Fr=br[wr];if(Fr.element===L){Wr=Fr;break}}Wr&&!Wr.allowOnlyTimelineStyles()&&Wr.setStyles([ft],null,Bn.errors,Bt)}return br.length?br.map(Wr=>Wr.buildKeyframes()):[ia(L,[],[],[],0,0,"",!1)]}visitTrigger(P,L){}visitState(P,L){}visitTransition(P,L){}visitAnimateChild(P,L){const $=L.subInstructions.get(L.element);if($){const me=L.createSubContext(P.options),He=L.currentTimeline.currentTime,dt=this._visitSubInstructions($,me,me.options);He!=dt&&L.transformIntoNewTimeline(dt)}L.previousNode=P}visitAnimateRef(P,L){const $=L.createSubContext(P.options);$.transformIntoNewTimeline(),this.visitReference(P.animation,$),L.transformIntoNewTimeline($.currentTimeline.currentTime),L.previousNode=P}_visitSubInstructions(P,L,$){let He=L.currentTimeline.currentTime;const dt=null!=$.duration?Lt($.duration):null,ft=null!=$.delay?Lt($.delay):null;return 0!==dt&&P.forEach(Bt=>{const tn=L.appendInstructionToTimeline(Bt,dt,ft);He=Math.max(He,tn.duration+tn.delay)}),He}visitReference(P,L){L.updateOptions(P.options,!0),pr(this,P.animation,L),L.previousNode=P}visitSequence(P,L){const $=L.subContextCount;let me=L;const He=P.options;if(He&&(He.params||He.delay)&&(me=L.createSubContext(He),me.transformIntoNewTimeline(),null!=He.delay)){6==me.previousNode.type&&(me.currentTimeline.snapshotCurrentStyles(),me.previousNode=oa);const dt=Lt(He.delay);me.delayNextStep(dt)}P.steps.length&&(P.steps.forEach(dt=>pr(this,dt,me)),me.currentTimeline.applyStylesToKeyframe(),me.subContextCount>$&&me.transformIntoNewTimeline()),L.previousNode=P}visitGroup(P,L){const $=[];let me=L.currentTimeline.currentTime;const He=P.options&&P.options.delay?Lt(P.options.delay):0;P.steps.forEach(dt=>{const ft=L.createSubContext(P.options);He&&ft.delayNextStep(He),pr(this,dt,ft),me=Math.max(me,ft.currentTimeline.currentTime),$.push(ft.currentTimeline)}),$.forEach(dt=>L.currentTimeline.mergeTimelineCollectedStyles(dt)),L.transformIntoNewTimeline(me),L.previousNode=P}_visitTiming(P,L){if(P.dynamic){const $=P.strValue;return We(L.params?bt($,L.params,L.errors):$,L.errors)}return{duration:P.duration,delay:P.delay,easing:P.easing}}visitAnimate(P,L){const $=L.currentAnimateTimings=this._visitTiming(P.timings,L),me=L.currentTimeline;$.delay&&(L.incrementTime($.delay),me.snapshotCurrentStyles());const He=P.style;5==He.type?this.visitKeyframes(He,L):(L.incrementTime($.duration),this.visitStyle(He,L),me.applyStylesToKeyframe()),L.currentAnimateTimings=null,L.previousNode=P}visitStyle(P,L){const $=L.currentTimeline,me=L.currentAnimateTimings;!me&&$.getCurrentStyleProperties().length&&$.forwardFrame();const He=me&&me.easing||P.easing;P.isEmptyStep?$.applyEmptyStep(He):$.setStyles(P.styles,He,L.errors,L.options),L.previousNode=P}visitKeyframes(P,L){const $=L.currentAnimateTimings,me=L.currentTimeline.duration,He=$.duration,ft=L.createSubContext().currentTimeline;ft.easing=$.easing,P.styles.forEach(Bt=>{ft.forwardTime((Bt.offset||0)*He),ft.setStyles(Bt.styles,Bt.easing,L.errors,L.options),ft.applyStylesToKeyframe()}),L.currentTimeline.mergeTimelineCollectedStyles(ft),L.transformIntoNewTimeline(me+He),L.previousNode=P}visitQuery(P,L){const $=L.currentTimeline.currentTime,me=P.options||{},He=me.delay?Lt(me.delay):0;He&&(6===L.previousNode.type||0==$&&L.currentTimeline.getCurrentStyleProperties().length)&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=oa);let dt=$;const ft=L.invokeQuery(P.selector,P.originalSelector,P.limit,P.includeSelf,!!me.optional,L.errors);L.currentQueryTotal=ft.length;let Bt=null;ft.forEach((tn,Gn)=>{L.currentQueryIndex=Gn;const Bn=L.createSubContext(P.options,tn);He&&Bn.delayNextStep(He),tn===L.element&&(Bt=Bn.currentTimeline),pr(this,P.animation,Bn),Bn.currentTimeline.applyStylesToKeyframe(),dt=Math.max(dt,Bn.currentTimeline.currentTime)}),L.currentQueryIndex=0,L.currentQueryTotal=0,L.transformIntoNewTimeline(dt),Bt&&(L.currentTimeline.mergeTimelineCollectedStyles(Bt),L.currentTimeline.snapshotCurrentStyles()),L.previousNode=P}visitStagger(P,L){const $=L.parentContext,me=L.currentTimeline,He=P.timings,dt=Math.abs(He.duration),ft=dt*(L.currentQueryTotal-1);let Bt=dt*L.currentQueryIndex;switch(He.duration<0?"reverse":He.easing){case"reverse":Bt=ft-Bt;break;case"full":Bt=$.currentStaggerTime}const Gn=L.currentTimeline;Bt&&Gn.delayNextStep(Bt);const Bn=Gn.currentTime;pr(this,P.animation,L),L.previousNode=P,$.currentStaggerTime=me.currentTime-Bn+(me.startTime-$.currentTimeline.startTime)}}const oa={};class ys{constructor(P,L,$,me,He,dt,ft,Bt){this._driver=P,this.element=L,this.subInstructions=$,this._enterClassName=me,this._leaveClassName=He,this.errors=dt,this.timelines=ft,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Bt||new Co(this._driver,L,0),ft.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(P,L){if(!P)return;const $=P;let me=this.options;null!=$.duration&&(me.duration=Lt($.duration)),null!=$.delay&&(me.delay=Lt($.delay));const He=$.params;if(He){let dt=me.params;dt||(dt=this.options.params={}),Object.keys(He).forEach(ft=>{(!L||!dt.hasOwnProperty(ft))&&(dt[ft]=bt(He[ft],dt,this.errors))})}}_copyOptions(){const P={};if(this.options){const L=this.options.params;if(L){const $=P.params={};Object.keys(L).forEach(me=>{$[me]=L[me]})}}return P}createSubContext(P=null,L,$){const me=L||this.element,He=new ys(this._driver,me,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(me,$||0));return He.previousNode=this.previousNode,He.currentAnimateTimings=this.currentAnimateTimings,He.options=this._copyOptions(),He.updateOptions(P),He.currentQueryIndex=this.currentQueryIndex,He.currentQueryTotal=this.currentQueryTotal,He.parentContext=this,this.subContextCount++,He}transformIntoNewTimeline(P){return this.previousNode=oa,this.currentTimeline=this.currentTimeline.fork(this.element,P),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(P,L,$){const me={duration:null!=L?L:P.duration,delay:this.currentTimeline.currentTime+(null!=$?$:0)+P.delay,easing:""},He=new Hs(this._driver,P.element,P.keyframes,P.preStyleProps,P.postStyleProps,me,P.stretchStartingKeyframe);return this.timelines.push(He),me}incrementTime(P){this.currentTimeline.forwardTime(this.currentTimeline.duration+P)}delayNextStep(P){P>0&&this.currentTimeline.delayNextStep(P)}invokeQuery(P,L,$,me,He,dt){let ft=[];if(me&&ft.push(this.element),P.length>0){P=(P=P.replace(ns,"."+this._enterClassName)).replace(vs,"."+this._leaveClassName);let tn=this._driver.query(this.element,P,1!=$);0!==$&&(tn=$<0?tn.slice(tn.length+$,tn.length):tn.slice(0,$)),ft.push(...tn)}return!He&&0==ft.length&&dt.push(function De(se){return new M.vHH(3014,Le)}()),ft}}class Co{constructor(P,L,$,me){this._driver=P,this.element=L,this.startTime=$,this._elementTimelineStylesLookup=me,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(L),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(L,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(P){const L=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||L?(this.forwardTime(this.currentTime+P),L&&this.snapshotCurrentStyles()):this.startTime+=P}fork(P,L){return this.applyStylesToKeyframe(),new Co(this._driver,P,L||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(P){this.applyStylesToKeyframe(),this.duration=P,this._loadKeyframe()}_updateStyle(P,L){this._localTimelineStyles[P]=L,this._globalTimelineStyles[P]=L,this._styleSummary[P]={time:this.currentTime,value:L}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(P){P&&(this._previousKeyframe.easing=P),Object.keys(this._globalTimelineStyles).forEach(L=>{this._backFill[L]=this._globalTimelineStyles[L]||B.l3,this._currentKeyframe[L]=B.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(P,L,$,me){L&&(this._previousKeyframe.easing=L);const He=me&&me.params||{},dt=function Pl(se,P){const L={};let $;return se.forEach(me=>{"*"===me?($=$||Object.keys(P),$.forEach(He=>{L[He]=B.l3})):ar(me,!1,L)}),L}(P,this._globalTimelineStyles);Object.keys(dt).forEach(ft=>{const Bt=bt(dt[ft],He,$);this._pendingStyles[ft]=Bt,this._localTimelineStyles.hasOwnProperty(ft)||(this._backFill[ft]=this._globalTimelineStyles.hasOwnProperty(ft)?this._globalTimelineStyles[ft]:B.l3),this._updateStyle(ft,Bt)})}applyStylesToKeyframe(){const P=this._pendingStyles,L=Object.keys(P);0!=L.length&&(this._pendingStyles={},L.forEach($=>{this._currentKeyframe[$]=P[$]}),Object.keys(this._localTimelineStyles).forEach($=>{this._currentKeyframe.hasOwnProperty($)||(this._currentKeyframe[$]=this._localTimelineStyles[$])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(P=>{const L=this._localTimelineStyles[P];this._pendingStyles[P]=L,this._updateStyle(P,L)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const P=[];for(let L in this._currentKeyframe)P.push(L);return P}mergeTimelineCollectedStyles(P){Object.keys(P._styleSummary).forEach(L=>{const $=this._styleSummary[L],me=P._styleSummary[L];(!$||me.time>$.time)&&this._updateStyle(L,me.value)})}buildKeyframes(){this.applyStylesToKeyframe();const P=new Set,L=new Set,$=1===this._keyframes.size&&0===this.duration;let me=[];this._keyframes.forEach((ft,Bt)=>{const tn=ar(ft,!0);Object.keys(tn).forEach(Gn=>{const Bn=tn[Gn];Bn==B.k1?P.add(Gn):Bn==B.l3&&L.add(Gn)}),$||(tn.offset=Bt/this.duration),me.push(tn)});const He=P.size?Ge(P.values()):[],dt=L.size?Ge(L.values()):[];if($){const ft=me[0],Bt=Qt(ft);ft.offset=0,Bt.offset=1,me=[ft,Bt]}return ia(this.element,me,He,dt,this.duration,this.startTime,this.easing,!1)}}class Hs extends Co{constructor(P,L,$,me,He,dt,ft=!1){super(P,L,dt.delay),this.keyframes=$,this.preStyleProps=me,this.postStyleProps=He,this._stretchStartingKeyframe=ft,this.timings={duration:dt.duration,delay:dt.delay,easing:dt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let P=this.keyframes,{delay:L,duration:$,easing:me}=this.timings;if(this._stretchStartingKeyframe&&L){const He=[],dt=$+L,ft=L/dt,Bt=ar(P[0],!1);Bt.offset=0,He.push(Bt);const tn=ar(P[0],!1);tn.offset=Ta(ft),He.push(tn);const Gn=P.length-1;for(let Bn=1;Bn<=Gn;Bn++){let br=ar(P[Bn],!1);br.offset=Ta((L+br.offset*$)/dt),He.push(br)}$=dt,L=0,me="",P=He}return ia(this.element,P,this.preStyleProps,this.postStyleProps,$,L,me,!0)}}function Ta(se,P=3){const L=Math.pow(10,P-1);return Math.round(se*L)/L}class fa{}class Cs extends fa{normalizePropertyName(P,L){return ge(P)}normalizeStyleValue(P,L,$,me){let He="";const dt=$.toString().trim();if(dl[L]&&0!==$&&"0"!==$)if("number"==typeof $)He="px";else{const ft=$.match(/^[+-]?[\d\.]+([a-z]*)$/);ft&&0==ft[1].length&&me.push(function Ae(se,P){return new M.vHH(3005,Le)}())}return dt+He}}const dl=(()=>function nc(se){const P={};return se.forEach(L=>P[L]=!0),P}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _s(se,P,L,$,me,He,dt,ft,Bt,tn,Gn,Bn,br){return{type:0,element:se,triggerName:P,isRemovalTransition:me,fromState:L,fromStyles:He,toState:$,toStyles:dt,timelines:ft,queriedElements:Bt,preStyleProps:tn,postStyleProps:Gn,totalTime:Bn,errors:br}}const Gs={};class Wa{constructor(P,L,$){this._triggerName=P,this.ast=L,this._stateStyles=$}match(P,L,$,me){return function Dc(se,P,L,$,me){return se.some(He=>He(P,L,$,me))}(this.ast.matchers,P,L,$,me)}buildStyles(P,L,$){const me=this._stateStyles["*"],He=this._stateStyles[P],dt=me?me.buildStyles(L,$):{};return He?He.buildStyles(L,$):dt}build(P,L,$,me,He,dt,ft,Bt,tn,Gn){const Bn=[],br=this.ast.options&&this.ast.options.params||Gs,wr=this.buildStyles($,ft&&ft.params||Gs,Bn),Fr=Bt&&Bt.params||Gs,wi=this.buildStyles(me,Fr,Bn),Qi=new Set,oo=new Map,po=new Map,yi="void"===me,Ro={params:Object.assign(Object.assign({},br),Fr)},Oi=Gn?[]:co(P,L,this.ast.animation,He,dt,wr,wi,Ro,tn,Bn);let So=0;if(Oi.forEach(ao=>{So=Math.max(ao.duration+ao.delay,So)}),Bn.length)return _s(L,this._triggerName,$,me,yi,wr,wi,[],[],oo,po,So,Bn);Oi.forEach(ao=>{const Ci=ao.element,Ji=Kr(oo,Ci,{});ao.preStyleProps.forEach(ro=>Ji[ro]=!0);const Al=Kr(po,Ci,{});ao.postStyleProps.forEach(ro=>Al[ro]=!0),Ci!==L&&Qi.add(Ci)});const sa=Ge(Qi.values());return _s(L,this._triggerName,$,me,yi,wr,wi,Oi,sa,oo,po,So)}}class ws{constructor(P,L,$){this.styles=P,this.defaultParams=L,this.normalizer=$}buildStyles(P,L){const $={},me=Qt(this.defaultParams);return Object.keys(P).forEach(He=>{const dt=P[He];null!=dt&&(me[He]=dt)}),this.styles.styles.forEach(He=>{if("string"!=typeof He){const dt=He;Object.keys(dt).forEach(ft=>{let Bt=dt[ft];Bt.length>1&&(Bt=bt(Bt,me,L));const tn=this.normalizer.normalizePropertyName(ft,L);Bt=this.normalizer.normalizeStyleValue(ft,tn,Bt,L),$[tn]=Bt})}}),$}}class aa{constructor(P,L,$){this.name=P,this.ast=L,this._normalizer=$,this.transitionFactories=[],this.states={},L.states.forEach(me=>{this.states[me.name]=new ws(me.style,me.options&&me.options.params||{},$)}),rs(this.states,"true","1"),rs(this.states,"false","0"),L.transitions.forEach(me=>{this.transitionFactories.push(new Wa(P,me,this.states))}),this.fallbackTransition=function Ma(se,P,L){return new Wa(se,{type:1,animation:{type:2,steps:[],options:null},matchers:[(dt,ft)=>!0],options:null,queryCount:0,depCount:0},P)}(P,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(P,L,$,me){return this.transitionFactories.find(dt=>dt.match(P,L,$,me))||null}matchStyles(P,L,$){return this.fallbackTransition.buildStyles(P,L,$)}}function rs(se,P,L){se.hasOwnProperty(P)?se.hasOwnProperty(L)||(se[L]=se[P]):se.hasOwnProperty(L)&&(se[P]=se[L])}const is=new Vo;class ga{constructor(P,L,$){this.bodyNode=P,this._driver=L,this._normalizer=$,this._animations={},this._playersById={},this.players=[]}register(P,L){const $=[],He=ko(this._driver,L,$,[]);if($.length)throw function ln(se){return new M.vHH(3503,Le)}();this._animations[P]=He}_buildPlayer(P,L,$){const me=P.element,He=Gi(0,this._normalizer,0,P.keyframes,L,$);return this._driver.animate(me,He,P.duration,P.delay,P.easing,[],!0)}create(P,L,$={}){const me=[],He=this._animations[P];let dt;const ft=new Map;if(He?(dt=co(this._driver,L,He,ur,qn,{},{},$,is,me),dt.forEach(Gn=>{const Bn=Kr(ft,Gn.element,{});Gn.postStyleProps.forEach(br=>Bn[br]=null)})):(me.push(function ht(){return new M.vHH(3300,Le)}()),dt=[]),me.length)throw function Sn(se){return new M.vHH(3504,Le)}();ft.forEach((Gn,Bn)=>{Object.keys(Gn).forEach(br=>{Gn[br]=this._driver.computeStyle(Bn,br,B.l3)})});const tn=Dr(dt.map(Gn=>{const Bn=ft.get(Gn.element);return this._buildPlayer(Gn,{},Bn)}));return this._playersById[P]=tn,tn.onDestroy(()=>this.destroy(P)),this.players.push(tn),tn}destroy(P){const L=this._getPlayer(P);L.destroy(),delete this._playersById[P];const $=this.players.indexOf(L);$>=0&&this.players.splice($,1)}_getPlayer(P){const L=this._playersById[P];if(!L)throw function qe(se){return new M.vHH(3301,Le)}();return L}listen(P,L,$,me){const He=Er(L,"","","");return Ii(this._getPlayer(P),$,He,me),()=>{}}command(P,L,$,me){if("register"==$)return void this.register(P,me[0]);if("create"==$)return void this.create(P,L,me[0]||{});const He=this._getPlayer(P);switch($){case"play":He.play();break;case"pause":He.pause();break;case"reset":He.reset();break;case"restart":He.restart();break;case"finish":He.finish();break;case"init":He.init();break;case"setPosition":He.setPosition(parseFloat(me[0]));break;case"destroy":this.destroy(P)}}}const Bs="ng-animate-queued",Bo="ng-animate-disabled",To=[],hl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class Ws{constructor(P,L=""){this.namespaceId=L;const $=P&&P.hasOwnProperty("value");if(this.value=function te(se){return null!=se?se:null}($?P.value:P),$){const He=Qt(P);delete He.value,this.options=He}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(P){const L=P.params;if(L){const $=this.options.params;Object.keys(L).forEach(me=>{null==$[me]&&($[me]=L[me])})}}}const Wo="void",_o=new Ws(Wo);class Zo{constructor(P,L,$){this.id=P,this.hostElement=L,this._engine=$,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+P,mn(L,this._hostClassName)}listen(P,L,$,me){if(!this._triggers.hasOwnProperty(L))throw function Zt(se,P){return new M.vHH(3302,Le)}();if(null==$||0==$.length)throw function wt(se){return new M.vHH(3303,Le)}();if(!function ee(se){return"start"==se||"done"==se}($))throw function Xt(se,P){return new M.vHH(3400,Le)}();const He=Kr(this._elementListeners,P,[]),dt={name:L,phase:$,callback:me};He.push(dt);const ft=Kr(this._engine.statesByElement,P,{});return ft.hasOwnProperty(L)||(mn(P,Gt),mn(P,Gt+"-"+L),ft[L]=_o),()=>{this._engine.afterFlush(()=>{const Bt=He.indexOf(dt);Bt>=0&&He.splice(Bt,1),this._triggers[L]||delete ft[L]})}}register(P,L){return!this._triggers[P]&&(this._triggers[P]=L,!0)}_getTrigger(P){const L=this._triggers[P];if(!L)throw function Kn(se){return new M.vHH(3401,Le)}();return L}trigger(P,L,$,me=!0){const He=this._getTrigger(L),dt=new Ua(this.id,L,P);let ft=this._engine.statesByElement.get(P);ft||(mn(P,Gt),mn(P,Gt+"-"+L),this._engine.statesByElement.set(P,ft={}));let Bt=ft[L];const tn=new Ws($,this.id);if(!($&&$.hasOwnProperty("value"))&&Bt&&tn.absorbOptions(Bt.options),ft[L]=tn,Bt||(Bt=_o),tn.value!==Wo&&Bt.value===tn.value){if(!function di(se,P){const L=Object.keys(se),$=Object.keys(P);if(L.length!=$.length)return!1;for(let me=0;me<L.length;me++){const He=L[me];if(!P.hasOwnProperty(He)||se[He]!==P[He])return!1}return!0}(Bt.params,tn.params)){const Fr=[],wi=He.matchStyles(Bt.value,Bt.params,Fr),Qi=He.matchStyles(tn.value,tn.params,Fr);Fr.length?this._engine.reportError(Fr):this._engine.afterFlush(()=>{pi(P,wi),jn(P,Qi)})}return}const br=Kr(this._engine.playersByElement,P,[]);br.forEach(Fr=>{Fr.namespaceId==this.id&&Fr.triggerName==L&&Fr.queued&&Fr.destroy()});let Wr=He.matchTransition(Bt.value,tn.value,P,tn.params),wr=!1;if(!Wr){if(!me)return;Wr=He.fallbackTransition,wr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:P,triggerName:L,transition:Wr,fromState:Bt,toState:tn,player:dt,isFallbackTransition:wr}),wr||(mn(P,Bs),dt.onStart(()=>{tr(P,Bs)})),dt.onDone(()=>{let Fr=this.players.indexOf(dt);Fr>=0&&this.players.splice(Fr,1);const wi=this._engine.playersByElement.get(P);if(wi){let Qi=wi.indexOf(dt);Qi>=0&&wi.splice(Qi,1)}}),this.players.push(dt),br.push(dt),dt}deregister(P){delete this._triggers[P],this._engine.statesByElement.forEach((L,$)=>{delete L[P]}),this._elementListeners.forEach((L,$)=>{this._elementListeners.set($,L.filter(me=>me.name!=P))})}clearElementCache(P){this._engine.statesByElement.delete(P),this._elementListeners.delete(P);const L=this._engine.playersByElement.get(P);L&&(L.forEach($=>$.destroy()),this._engine.playersByElement.delete(P))}_signalRemovalForInnerTriggers(P,L){const $=this._engine.driver.query(P,vn,!0);$.forEach(me=>{if(me[ho])return;const He=this._engine.fetchNamespacesByElement(me);He.size?He.forEach(dt=>dt.triggerLeaveAnimation(me,L,!1,!0)):this.clearElementCache(me)}),this._engine.afterFlushAnimationsDone(()=>$.forEach(me=>this.clearElementCache(me)))}triggerLeaveAnimation(P,L,$,me){const He=this._engine.statesByElement.get(P),dt=new Map;if(He){const ft=[];if(Object.keys(He).forEach(Bt=>{if(dt.set(Bt,He[Bt].value),this._triggers[Bt]){const tn=this.trigger(P,Bt,Wo,me);tn&&ft.push(tn)}}),ft.length)return this._engine.markElementAsRemoved(this.id,P,!0,L,dt),$&&Dr(ft).onDone(()=>this._engine.processLeaveNode(P)),!0}return!1}prepareLeaveAnimationListeners(P){const L=this._elementListeners.get(P),$=this._engine.statesByElement.get(P);if(L&&$){const me=new Set;L.forEach(He=>{const dt=He.name;if(me.has(dt))return;me.add(dt);const Bt=this._triggers[dt].fallbackTransition,tn=$[dt]||_o,Gn=new Ws(Wo),Bn=new Ua(this.id,dt,P);this._engine.totalQueuedPlayers++,this._queue.push({element:P,triggerName:dt,transition:Bt,fromState:tn,toState:Gn,player:Bn,isFallbackTransition:!0})})}}removeNode(P,L){const $=this._engine;if(P.childElementCount&&this._signalRemovalForInnerTriggers(P,L),this.triggerLeaveAnimation(P,L,!0))return;let me=!1;if($.totalAnimations){const He=$.players.length?$.playersByQueriedElement.get(P):[];if(He&&He.length)me=!0;else{let dt=P;for(;dt=dt.parentNode;)if($.statesByElement.get(dt)){me=!0;break}}}if(this.prepareLeaveAnimationListeners(P),me)$.markElementAsRemoved(this.id,P,!1,L);else{const He=P[ho];(!He||He===hl)&&($.afterFlush(()=>this.clearElementCache(P)),$.destroyInnerAnimations(P),$._onRemovalComplete(P,L))}}insertNode(P,L){mn(P,this._hostClassName)}drainQueuedTransitions(P){const L=[];return this._queue.forEach($=>{const me=$.player;if(me.destroyed)return;const He=$.element,dt=this._elementListeners.get(He);dt&&dt.forEach(ft=>{if(ft.name==$.triggerName){const Bt=Er(He,$.triggerName,$.fromState.value,$.toState.value);Bt._data=P,Ii($.player,ft.phase,Bt,ft.callback)}}),me.markedForDestroy?this._engine.afterFlush(()=>{me.destroy()}):L.push($)}),this._queue=[],L.sort(($,me)=>{const He=$.transition.ast.depCount,dt=me.transition.ast.depCount;return 0==He||0==dt?He-dt:this._engine.driver.containsElement($.element,me.element)?1:-1})}destroy(P){this.players.forEach(L=>L.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,P)}elementContainsData(P){let L=!1;return this._elementListeners.has(P)&&(L=!0),L=!!this._queue.find($=>$.element===P)||L,L}}class as{constructor(P,L,$){this.bodyNode=P,this.driver=L,this._normalizer=$,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(me,He)=>{}}_onRemovalComplete(P,L){this.onRemovalComplete(P,L)}get queuedPlayers(){const P=[];return this._namespaceList.forEach(L=>{L.players.forEach($=>{$.queued&&P.push($)})}),P}createNamespace(P,L){const $=new Zo(P,L,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,L)?this._balanceNamespaceList($,L):(this.newHostElements.set(L,$),this.collectEnterElement(L)),this._namespaceLookup[P]=$}_balanceNamespaceList(P,L){const $=this._namespaceList,me=this.namespacesByHostElement,He=$.length-1;if(He>=0){let dt=!1;if(void 0!==this.driver.getParentElement){let ft=this.driver.getParentElement(L);for(;ft;){const Bt=me.get(ft);if(Bt){const tn=$.indexOf(Bt);$.splice(tn+1,0,P),dt=!0;break}ft=this.driver.getParentElement(ft)}}else for(let ft=He;ft>=0;ft--)if(this.driver.containsElement($[ft].hostElement,L)){$.splice(ft+1,0,P),dt=!0;break}dt||$.unshift(P)}else $.push(P);return me.set(L,P),P}register(P,L){let $=this._namespaceLookup[P];return $||($=this.createNamespace(P,L)),$}registerTrigger(P,L,$){let me=this._namespaceLookup[P];me&&me.register(L,$)&&this.totalAnimations++}destroy(P,L){if(!P)return;const $=this._fetchNamespace(P);this.afterFlush(()=>{this.namespacesByHostElement.delete($.hostElement),delete this._namespaceLookup[P];const me=this._namespaceList.indexOf($);me>=0&&this._namespaceList.splice(me,1)}),this.afterFlushAnimationsDone(()=>$.destroy(L))}_fetchNamespace(P){return this._namespaceLookup[P]}fetchNamespacesByElement(P){const L=new Set,$=this.statesByElement.get(P);if($){const me=Object.keys($);for(let He=0;He<me.length;He++){const dt=$[me[He]].namespaceId;if(dt){const ft=this._fetchNamespace(dt);ft&&L.add(ft)}}}return L}trigger(P,L,$,me){if(Ee(L)){const He=this._fetchNamespace(P);if(He)return He.trigger(L,$,me),!0}return!1}insertNode(P,L,$,me){if(!Ee(L))return;const He=L[ho];if(He&&He.setForRemoval){He.setForRemoval=!1,He.setForMove=!0;const dt=this.collectedLeaveElements.indexOf(L);dt>=0&&this.collectedLeaveElements.splice(dt,1)}if(P){const dt=this._fetchNamespace(P);dt&&dt.insertNode(L,$)}me&&this.collectEnterElement(L)}collectEnterElement(P){this.collectedEnterElements.push(P)}markElementAsDisabled(P,L){L?this.disabledNodes.has(P)||(this.disabledNodes.add(P),mn(P,Bo)):this.disabledNodes.has(P)&&(this.disabledNodes.delete(P),tr(P,Bo))}removeNode(P,L,$,me){if(Ee(L)){const He=P?this._fetchNamespace(P):null;if(He?He.removeNode(L,me):this.markElementAsRemoved(P,L,!1,me),$){const dt=this.namespacesByHostElement.get(L);dt&&dt.id!==P&&dt.removeNode(L,me)}}else this._onRemovalComplete(L,me)}markElementAsRemoved(P,L,$,me,He){this.collectedLeaveElements.push(L),L[ho]={namespaceId:P,setForRemoval:me,hasAnimation:$,removedBeforeQueried:!1,previousTriggersValues:He}}listen(P,L,$,me,He){return Ee(L)?this._fetchNamespace(P).listen(L,$,me,He):()=>{}}_buildInstruction(P,L,$,me,He){return P.transition.build(this.driver,P.element,P.fromState.value,P.toState.value,$,me,P.fromState.options,P.toState.options,L,He)}destroyInnerAnimations(P){let L=this.driver.query(P,vn,!0);L.forEach($=>this.destroyActiveAnimationsForElement($)),0!=this.playersByQueriedElement.size&&(L=this.driver.query(P,ce,!0),L.forEach($=>this.finishActiveQueriedAnimationOnElement($)))}destroyActiveAnimationsForElement(P){const L=this.playersByElement.get(P);L&&L.forEach($=>{$.queued?$.markedForDestroy=!0:$.destroy()})}finishActiveQueriedAnimationOnElement(P){const L=this.playersByQueriedElement.get(P);L&&L.forEach($=>$.finish())}whenRenderingDone(){return new Promise(P=>{if(this.players.length)return Dr(this.players).onDone(()=>P());P()})}processLeaveNode(P){var L;const $=P[ho];if($&&$.setForRemoval){if(P[ho]=hl,$.namespaceId){this.destroyInnerAnimations(P);const me=this._fetchNamespace($.namespaceId);me&&me.clearElementCache(P)}this._onRemovalComplete(P,$.setForRemoval)}(null===(L=P.classList)||void 0===L?void 0:L.contains(Bo))&&this.markElementAsDisabled(P,!1),this.driver.query(P,".ng-animate-disabled",!0).forEach(me=>{this.markElementAsDisabled(me,!1)})}flush(P=-1){let L=[];if(this.newHostElements.size&&(this.newHostElements.forEach(($,me)=>this._balanceNamespaceList($,me)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let $=0;$<this.collectedEnterElements.length;$++)mn(this.collectedEnterElements[$],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const $=[];try{L=this._flushAnimations($,P)}finally{for(let me=0;me<$.length;me++)$[me]()}}else for(let $=0;$<this.collectedLeaveElements.length;$++)this.processLeaveNode(this.collectedLeaveElements[$]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach($=>$()),this._flushFns=[],this._whenQuietFns.length){const $=this._whenQuietFns;this._whenQuietFns=[],L.length?Dr(L).onDone(()=>{$.forEach(me=>me())}):$.forEach(me=>me())}}reportError(P){throw function or(se){return new M.vHH(3402,Le)}()}_flushAnimations(P,L){const $=new Vo,me=[],He=new Map,dt=[],ft=new Map,Bt=new Map,tn=new Map,Gn=new Set;this.disabledNodes.forEach(nr=>{Gn.add(nr);const Tr=this.driver.query(nr,".ng-animate-queued",!0);for(let xr=0;xr<Tr.length;xr++)Gn.add(Tr[xr])});const Bn=this.bodyNode,br=Array.from(this.statesByElement.keys()),Wr=an(br,this.collectedEnterElements),wr=new Map;let Fr=0;Wr.forEach((nr,Tr)=>{const xr=ur+Fr++;wr.set(Tr,xr),nr.forEach(sr=>mn(sr,xr))});const wi=[],Qi=new Set,oo=new Set;for(let nr=0;nr<this.collectedLeaveElements.length;nr++){const Tr=this.collectedLeaveElements[nr],xr=Tr[ho];xr&&xr.setForRemoval&&(wi.push(Tr),Qi.add(Tr),xr.hasAnimation?this.driver.query(Tr,".ng-star-inserted",!0).forEach(sr=>Qi.add(sr)):oo.add(Tr))}const po=new Map,yi=an(br,Array.from(Qi));yi.forEach((nr,Tr)=>{const xr=qn+Fr++;po.set(Tr,xr),nr.forEach(sr=>mn(sr,xr))}),P.push(()=>{Wr.forEach((nr,Tr)=>{const xr=wr.get(Tr);nr.forEach(sr=>tr(sr,xr))}),yi.forEach((nr,Tr)=>{const xr=po.get(Tr);nr.forEach(sr=>tr(sr,xr))}),wi.forEach(nr=>{this.processLeaveNode(nr)})});const Ro=[],Oi=[];for(let nr=this._namespaceList.length-1;nr>=0;nr--)this._namespaceList[nr].drainQueuedTransitions(L).forEach(xr=>{const sr=xr.player,eo=xr.element;if(Ro.push(sr),this.collectedEnterElements.length){const la=eo[ho];if(la&&la.setForMove){if(la.previousTriggersValues&&la.previousTriggersValues.has(xr.triggerName)){const Rl=la.previousTriggersValues.get(xr.triggerName),Fa=this.statesByElement.get(xr.element);Fa&&Fa[xr.triggerName]&&(Fa[xr.triggerName].value=Rl)}return void sr.destroy()}}const Ya=!Bn||!this.driver.containsElement(Bn,eo),Fo=po.get(eo),Ui=wr.get(eo),Fi=this._buildInstruction(xr,$,Ui,Fo,Ya);if(Fi.errors&&Fi.errors.length)return void Oi.push(Fi);if(Ya)return sr.onStart(()=>pi(eo,Fi.fromStyles)),sr.onDestroy(()=>jn(eo,Fi.toStyles)),void me.push(sr);if(xr.isFallbackTransition)return sr.onStart(()=>pi(eo,Fi.fromStyles)),sr.onDestroy(()=>jn(eo,Fi.toStyles)),void me.push(sr);const Ka=[];Fi.timelines.forEach(la=>{la.stretchStartingKeyframe=!0,this.disabledNodes.has(la.element)||Ka.push(la)}),Fi.timelines=Ka,$.append(eo,Fi.timelines),dt.push({instruction:Fi,player:sr,element:eo}),Fi.queriedElements.forEach(la=>Kr(ft,la,[]).push(sr)),Fi.preStyleProps.forEach((la,Rl)=>{const Fa=Object.keys(la);if(Fa.length){let Ys=Bt.get(Rl);Ys||Bt.set(Rl,Ys=new Set),Fa.forEach(fo=>Ys.add(fo))}}),Fi.postStyleProps.forEach((la,Rl)=>{const Fa=Object.keys(la);let Ys=tn.get(Rl);Ys||tn.set(Rl,Ys=new Set),Fa.forEach(fo=>Ys.add(fo))})});if(Oi.length){const nr=[];Oi.forEach(Tr=>{nr.push(function _r(se,P){return new M.vHH(3505,Le)}())}),Ro.forEach(Tr=>Tr.destroy()),this.reportError(nr)}const So=new Map,sa=new Map;dt.forEach(nr=>{const Tr=nr.element;$.has(Tr)&&(sa.set(Tr,Tr),this._beforeAnimationBuild(nr.player.namespaceId,nr.instruction,So))}),me.forEach(nr=>{const Tr=nr.element;this._getPreviousPlayers(Tr,!1,nr.namespaceId,nr.triggerName,null).forEach(sr=>{Kr(So,Tr,[]).push(sr),sr.destroy()})});const ao=wi.filter(nr=>ji(nr,Bt,tn)),Ci=new Map;Ot(Ci,this.driver,oo,tn,B.l3).forEach(nr=>{ji(nr,Bt,tn)&&ao.push(nr)});const Al=new Map;Wr.forEach((nr,Tr)=>{Ot(Al,this.driver,new Set(nr),Bt,B.k1)}),ao.forEach(nr=>{const Tr=Ci.get(nr),xr=Al.get(nr);Ci.set(nr,Object.assign(Object.assign({},Tr),xr))});const ro=[],js=[],Us={};dt.forEach(nr=>{const{element:Tr,player:xr,instruction:sr}=nr;if($.has(Tr)){if(Gn.has(Tr))return xr.onDestroy(()=>jn(Tr,sr.toStyles)),xr.disabled=!0,xr.overrideTotalTime(sr.totalTime),void me.push(xr);let eo=Us;if(sa.size>1){let Fo=Tr;const Ui=[];for(;Fo=Fo.parentNode;){const Fi=sa.get(Fo);if(Fi){eo=Fi;break}Ui.push(Fo)}Ui.forEach(Fi=>sa.set(Fi,eo))}const Ya=this._buildAnimation(xr.namespaceId,sr,So,He,Al,Ci);if(xr.setRealPlayer(Ya),eo===Us)ro.push(xr);else{const Fo=this.playersByElement.get(eo);Fo&&Fo.length&&(xr.parentPlayer=Dr(Fo)),me.push(xr)}}else pi(Tr,sr.fromStyles),xr.onDestroy(()=>jn(Tr,sr.toStyles)),js.push(xr),Gn.has(Tr)&&me.push(xr)}),js.forEach(nr=>{const Tr=He.get(nr.element);if(Tr&&Tr.length){const xr=Dr(Tr);nr.setRealPlayer(xr)}}),me.forEach(nr=>{nr.parentPlayer?nr.syncPlayerEvents(nr.parentPlayer):nr.destroy()});for(let nr=0;nr<wi.length;nr++){const Tr=wi[nr],xr=Tr[ho];if(tr(Tr,qn),xr&&xr.hasAnimation)continue;let sr=[];if(ft.size){let Ya=ft.get(Tr);Ya&&Ya.length&&sr.push(...Ya);let Fo=this.driver.query(Tr,ce,!0);for(let Ui=0;Ui<Fo.length;Ui++){let Fi=ft.get(Fo[Ui]);Fi&&Fi.length&&sr.push(...Fi)}}const eo=sr.filter(Ya=>!Ya.destroyed);eo.length?Si(this,Tr,eo):this.processLeaveNode(Tr)}return wi.length=0,ro.forEach(nr=>{this.players.push(nr),nr.onDone(()=>{nr.destroy();const Tr=this.players.indexOf(nr);this.players.splice(Tr,1)}),nr.play()}),ro}elementContainsData(P,L){let $=!1;const me=L[ho];return me&&me.setForRemoval&&($=!0),this.playersByElement.has(L)&&($=!0),this.playersByQueriedElement.has(L)&&($=!0),this.statesByElement.has(L)&&($=!0),this._fetchNamespace(P).elementContainsData(L)||$}afterFlush(P){this._flushFns.push(P)}afterFlushAnimationsDone(P){this._whenQuietFns.push(P)}_getPreviousPlayers(P,L,$,me,He){let dt=[];if(L){const ft=this.playersByQueriedElement.get(P);ft&&(dt=ft)}else{const ft=this.playersByElement.get(P);if(ft){const Bt=!He||He==Wo;ft.forEach(tn=>{tn.queued||!Bt&&tn.triggerName!=me||dt.push(tn)})}}return($||me)&&(dt=dt.filter(ft=>!($&&$!=ft.namespaceId||me&&me!=ft.triggerName))),dt}_beforeAnimationBuild(P,L,$){const He=L.element,dt=L.isRemovalTransition?void 0:P,ft=L.isRemovalTransition?void 0:L.triggerName;for(const Bt of L.timelines){const tn=Bt.element,Gn=tn!==He,Bn=Kr($,tn,[]);this._getPreviousPlayers(tn,Gn,dt,ft,L.toState).forEach(Wr=>{const wr=Wr.getRealPlayer();wr.beforeDestroy&&wr.beforeDestroy(),Wr.destroy(),Bn.push(Wr)})}pi(He,L.fromStyles)}_buildAnimation(P,L,$,me,He,dt){const ft=L.triggerName,Bt=L.element,tn=[],Gn=new Set,Bn=new Set,br=L.timelines.map(wr=>{const Fr=wr.element;Gn.add(Fr);const wi=Fr[ho];if(wi&&wi.removedBeforeQueried)return new B.ZN(wr.duration,wr.delay);const Qi=Fr!==Bt,oo=function ni(se){const P=[];return Yr(se,P),P}(($.get(Fr)||To).map(So=>So.getRealPlayer())).filter(So=>!!So.element&&So.element===Fr),po=He.get(Fr),yi=dt.get(Fr),Ro=Gi(0,this._normalizer,0,wr.keyframes,po,yi),Oi=this._buildPlayer(wr,Ro,oo);if(wr.subTimeline&&me&&Bn.add(Fr),Qi){const So=new Ua(P,ft,Fr);So.setRealPlayer(Oi),tn.push(So)}return Oi});tn.forEach(wr=>{Kr(this.playersByQueriedElement,wr.element,[]).push(wr),wr.onDone(()=>function Mi(se,P,L){let $;if(se instanceof Map){if($=se.get(P),$){if($.length){const me=$.indexOf(L);$.splice(me,1)}0==$.length&&se.delete(P)}}else if($=se[P],$){if($.length){const me=$.indexOf(L);$.splice(me,1)}0==$.length&&delete se[P]}return $}(this.playersByQueriedElement,wr.element,wr))}),Gn.forEach(wr=>mn(wr,bn));const Wr=Dr(br);return Wr.onDestroy(()=>{Gn.forEach(wr=>tr(wr,bn)),jn(Bt,L.toStyles)}),Bn.forEach(wr=>{Kr(me,wr,[]).push(Wr)}),Wr}_buildPlayer(P,L,$){return L.length>0?this.driver.animate(P.element,L,P.duration,P.delay,P.easing,$):new B.ZN(P.duration,P.delay)}}class Ua{constructor(P,L,$){this.namespaceId=P,this.triggerName=L,this.element=$,this._player=new B.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(P){this._containsRealPlayer||(this._player=P,Object.keys(this._queuedCallbacks).forEach(L=>{this._queuedCallbacks[L].forEach($=>Ii(P,L,void 0,$))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(P.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(P){this.totalTime=P}syncPlayerEvents(P){const L=this._player;L.triggerCallback&&P.onStart(()=>L.triggerCallback("start")),P.onDone(()=>this.finish()),P.onDestroy(()=>this.destroy())}_queueEvent(P,L){Kr(this._queuedCallbacks,P,[]).push(L)}onDone(P){this.queued&&this._queueEvent("done",P),this._player.onDone(P)}onStart(P){this.queued&&this._queueEvent("start",P),this._player.onStart(P)}onDestroy(P){this.queued&&this._queueEvent("destroy",P),this._player.onDestroy(P)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(P){this.queued||this._player.setPosition(P)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(P){const L=this._player;L.triggerCallback&&L.triggerCallback(P)}}function Ee(se){return se&&1===se.nodeType}function Pe(se,P){const L=se.style.display;return se.style.display=null!=P?P:"none",L}function Ot(se,P,L,$,me){const He=[];L.forEach(Bt=>He.push(Pe(Bt)));const dt=[];$.forEach((Bt,tn)=>{const Gn={};Bt.forEach(Bn=>{const br=Gn[Bn]=P.computeStyle(tn,Bn,me);(!br||0==br.length)&&(tn[ho]=pl,dt.push(tn))}),se.set(tn,Gn)});let ft=0;return L.forEach(Bt=>Pe(Bt,He[ft++])),dt}function an(se,P){const L=new Map;if(se.forEach(ft=>L.set(ft,[])),0==P.length)return L;const me=new Set(P),He=new Map;function dt(ft){if(!ft)return 1;let Bt=He.get(ft);if(Bt)return Bt;const tn=ft.parentNode;return Bt=L.has(tn)?tn:me.has(tn)?1:dt(tn),He.set(ft,Bt),Bt}return P.forEach(ft=>{const Bt=dt(ft);1!==Bt&&L.get(Bt).push(ft)}),L}function mn(se,P){var L;null===(L=se.classList)||void 0===L||L.add(P)}function tr(se,P){var L;null===(L=se.classList)||void 0===L||L.remove(P)}function Si(se,P,L){Dr(L).onDone(()=>se.processLeaveNode(P))}function Yr(se,P){for(let L=0;L<se.length;L++){const $=se[L];$ instanceof B.ZE?Yr($.players,P):P.push($)}}function ji(se,P,L){const $=L.get(se);if(!$)return!1;let me=P.get(se);return me?$.forEach(He=>me.add(He)):P.set(se,$),L.delete(se),!0}class Ei{constructor(P,L,$){this.bodyNode=P,this._driver=L,this._normalizer=$,this._triggerCache={},this.onRemovalComplete=(me,He)=>{},this._transitionEngine=new as(P,L,$),this._timelineEngine=new ga(P,L,$),this._transitionEngine.onRemovalComplete=(me,He)=>this.onRemovalComplete(me,He)}registerTrigger(P,L,$,me,He){const dt=P+"-"+me;let ft=this._triggerCache[dt];if(!ft){const Bt=[],Gn=ko(this._driver,He,Bt,[]);if(Bt.length)throw function It(se,P){return new M.vHH(3404,Le)}();ft=function xa(se,P,L){return new aa(se,P,L)}(me,Gn,this._normalizer),this._triggerCache[dt]=ft}this._transitionEngine.registerTrigger(L,me,ft)}register(P,L){this._transitionEngine.register(P,L)}destroy(P,L){this._transitionEngine.destroy(P,L)}onInsert(P,L,$,me){this._transitionEngine.insertNode(P,L,$,me)}onRemove(P,L,$,me){this._transitionEngine.removeNode(P,L,me||!1,$)}disableAnimations(P,L){this._transitionEngine.markElementAsDisabled(P,L)}process(P,L,$,me){if("@"==$.charAt(0)){const[He,dt]=Ti($);this._timelineEngine.command(He,L,dt,me)}else this._transitionEngine.trigger(P,L,$,me)}listen(P,L,$,me,He){if("@"==$.charAt(0)){const[dt,ft]=Ti($);return this._timelineEngine.listen(dt,L,ft,He)}return this._transitionEngine.listen(P,L,$,me,He)}flush(P=-1){this._transitionEngine.flush(P)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let va=(()=>{class se{constructor(L,$,me){this._element=L,this._startStyles=$,this._endStyles=me,this._state=0;let He=se.initialStylesByElement.get(L);He||se.initialStylesByElement.set(L,He={}),this._initialStyles=He}start(){this._state<1&&(this._startStyles&&jn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jn(this._element,this._initialStyles),this._endStyles&&(jn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(se.initialStylesByElement.delete(this._element),this._startStyles&&(pi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pi(this._element,this._endStyles),this._endStyles=null),jn(this._element,this._initialStyles),this._state=3)}}return se.initialStylesByElement=new WeakMap,se})();function io(se){let P=null;const L=Object.keys(se);for(let $=0;$<L.length;$++){const me=L[$];mr(me)&&(P=P||{},P[me]=se[me])}return P}function mr(se){return"display"===se||"position"===se}class jo{constructor(P,L,$,me){this.element=P,this.keyframes=L,this.options=$,this._specialStyles=me,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=$.duration,this._delay=$.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(P=>P()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const P=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,P,this.options),this._finalKeyframe=P.length?P[P.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(P,L,$){return P.animate(L,$)}onStart(P){this._onStartFns.push(P)}onDone(P){this._onDoneFns.push(P)}onDestroy(P){this._onDestroyFns.push(P)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(P=>P()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(P=>P()),this._onDestroyFns=[])}setPosition(P){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=P*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const P={};if(this.hasStarted()){const L=this._finalKeyframe;Object.keys(L).forEach($=>{"offset"!=$&&(P[$]=this._finished?L[$]:Mr(this.element,$))})}this.currentSnapshot=P}triggerCallback(P){const L="start"==P?this._onStartFns:this._onDoneFns;L.forEach($=>$()),L.length=0}}class Aa{validateStyleProperty(P){return Re(P)}matchesElement(P,L){return!1}containsElement(P,L){return oe(P,L)}getParentElement(P){return Ur(P)}query(P,L,$){return Me(P,L,$)}computeStyle(P,L,$){return window.getComputedStyle(P)[L]}animate(P,L,$,me,He,dt=[]){const Bt={duration:$,delay:me,fill:0==me?"both":"forwards"};He&&(Bt.easing=He);const tn={},Gn=dt.filter(br=>br instanceof jo);(function Tn(se,P){return 0===se||0===P})($,me)&&Gn.forEach(br=>{let Wr=br.currentSnapshot;Object.keys(Wr).forEach(wr=>tn[wr]=Wr[wr])}),L=function zn(se,P,L){const $=Object.keys(L);if($.length&&P.length){let He=P[0],dt=[];if($.forEach(ft=>{He.hasOwnProperty(ft)||dt.push(ft),He[ft]=L[ft]}),dt.length)for(var me=1;me<P.length;me++){let ft=P[me];dt.forEach(function(Bt){ft[Bt]=Mr(se,Bt)})}}return P}(P,L=L.map(br=>ar(br,!1)),tn);const Bn=function Pi(se,P){let L=null,$=null;return Array.isArray(P)&&P.length?(L=io(P[0]),P.length>1&&($=io(P[P.length-1]))):P&&(L=io(P)),L||$?new va(se,L,$):null}(P,L);return new jo(P,L,Bt,Bn)}}var ss=H(9808);let Di=(()=>{class se extends B._j{constructor(L,$){super(),this._nextAnimationId=0,this._renderer=L.createRenderer($.body,{id:"0",encapsulation:M.ifc.None,styles:[],data:{animation:[]}})}build(L){const $=this._nextAnimationId.toString();this._nextAnimationId++;const me=Array.isArray(L)?(0,B.vP)(L):L;return K(this._renderer,null,$,"register",[me]),new ne($,this._renderer)}}return se.\u0275fac=function(L){return new(L||se)(M.LFG(M.FYo),M.LFG(ss.K0))},se.\u0275prov=M.Yz7({token:se,factory:se.\u0275fac}),se})();class ne extends B.LC{constructor(P,L){super(),this._id=P,this._renderer=L}create(P,L){return new q(this._id,P,L||{},this._renderer)}}class q{constructor(P,L,$,me){this.id=P,this.element=L,this._renderer=me,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",$)}_listen(P,L){return this._renderer.listen(this.element,`@@${this.id}:${P}`,L)}_command(P,...L){return K(this._renderer,this.element,this.id,P,L)}onDone(P){this._listen("done",P)}onStart(P){this._listen("start",P)}onDestroy(P){this._listen("destroy",P)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(P){this._command("setPosition",P)}getPosition(){var P,L;return null!==(L=null===(P=this._renderer.engine.players[+this.id])||void 0===P?void 0:P.getPosition())&&void 0!==L?L:0}}function K(se,P,L,$,me){return se.setProperty(P,`@@${L}:${$}`,me)}const Kt="@.disabled";let Jn=(()=>{class se{constructor(L,$,me){this.delegate=L,this.engine=$,this._zone=me,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),$.onRemovalComplete=(He,dt)=>{const ft=null==dt?void 0:dt.parentNode(He);ft&&dt.removeChild(ft,He)}}createRenderer(L,$){const He=this.delegate.createRenderer(L,$);if(!(L&&$&&$.data&&$.data.animation)){let Gn=this._rendererCache.get(He);return Gn||(Gn=new Rr("",He,this.engine),this._rendererCache.set(He,Gn)),Gn}const dt=$.id,ft=$.id+"-"+this._currentId;this._currentId++,this.engine.register(ft,L);const Bt=Gn=>{Array.isArray(Gn)?Gn.forEach(Bt):this.engine.registerTrigger(dt,ft,L,Gn.name,Gn)};return $.data.animation.forEach(Bt),new bo(this,ft,He,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(L,$,me){L>=0&&L<this._microtaskId?this._zone.run(()=>$(me)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(He=>{const[dt,ft]=He;dt(ft)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([$,me]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return se.\u0275fac=function(L){return new(L||se)(M.LFG(M.FYo),M.LFG(Ei),M.LFG(M.R0b))},se.\u0275prov=M.Yz7({token:se,factory:se.\u0275fac}),se})();class Rr{constructor(P,L,$){this.namespaceId=P,this.delegate=L,this.engine=$,this.destroyNode=this.delegate.destroyNode?me=>L.destroyNode(me):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(P,L){return this.delegate.createElement(P,L)}createComment(P){return this.delegate.createComment(P)}createText(P){return this.delegate.createText(P)}appendChild(P,L){this.delegate.appendChild(P,L),this.engine.onInsert(this.namespaceId,L,P,!1)}insertBefore(P,L,$,me=!0){this.delegate.insertBefore(P,L,$),this.engine.onInsert(this.namespaceId,L,P,me)}removeChild(P,L,$){this.engine.onRemove(this.namespaceId,L,this.delegate,$)}selectRootElement(P,L){return this.delegate.selectRootElement(P,L)}parentNode(P){return this.delegate.parentNode(P)}nextSibling(P){return this.delegate.nextSibling(P)}setAttribute(P,L,$,me){this.delegate.setAttribute(P,L,$,me)}removeAttribute(P,L,$){this.delegate.removeAttribute(P,L,$)}addClass(P,L){this.delegate.addClass(P,L)}removeClass(P,L){this.delegate.removeClass(P,L)}setStyle(P,L,$,me){this.delegate.setStyle(P,L,$,me)}removeStyle(P,L,$){this.delegate.removeStyle(P,L,$)}setProperty(P,L,$){"@"==L.charAt(0)&&L==Kt?this.disableAnimations(P,!!$):this.delegate.setProperty(P,L,$)}setValue(P,L){this.delegate.setValue(P,L)}listen(P,L,$){return this.delegate.listen(P,L,$)}disableAnimations(P,L){this.engine.disableAnimations(P,L)}}class bo extends Rr{constructor(P,L,$,me){super(L,$,me),this.factory=P,this.namespaceId=L}setProperty(P,L,$){"@"==L.charAt(0)?"."==L.charAt(1)&&L==Kt?this.disableAnimations(P,$=void 0===$||!!$):this.engine.process(this.namespaceId,P,L.substr(1),$):this.delegate.setProperty(P,L,$)}listen(P,L,$){if("@"==L.charAt(0)){const me=function Ao(se){switch(se){case"body":return document.body;case"document":return document;case"window":return window;default:return se}}(P);let He=L.substr(1),dt="";return"@"!=He.charAt(0)&&([He,dt]=function wo(se){const P=se.indexOf(".");return[se.substring(0,P),se.substr(P+1)]}(He)),this.engine.listen(this.namespaceId,me,He,dt,ft=>{this.factory.scheduleListenerCallback(ft._data||-1,$,ft)})}return this.delegate.listen(P,L,$)}}let Ra=(()=>{class se extends Ei{constructor(L,$,me){super(L.body,$,me)}ngOnDestroy(){this.flush()}}return se.\u0275fac=function(L){return new(L||se)(M.LFG(ss.K0),M.LFG(ut),M.LFG(fa))},se.\u0275prov=M.Yz7({token:se,factory:se.\u0275fac}),se})();const X=new M.OlP("AnimationModuleType"),Ve=[{provide:B._j,useClass:Di},{provide:fa,useFactory:function j(){return new Cs}},{provide:Ei,useClass:Ra},{provide:M.FYo,useFactory:function ae(se,P,L){return new Jn(se,P,L)},deps:[G.se,Ei,M.R0b]}],_t=[{provide:ut,useFactory:()=>new Aa},{provide:X,useValue:"BrowserAnimations"},...Ve],nn=[{provide:ut,useClass:ze},{provide:X,useValue:"NoopAnimations"},...Ve];let ir=(()=>{class se{static withConfig(L){return{ngModule:se,providers:L.disableAnimations?nn:_t}}}return se.\u0275fac=function(L){return new(L||se)},se.\u0275mod=M.oAB({type:se}),se.\u0275inj=M.cJS({providers:_t,imports:[G.b2]}),se})()},2313:(An,Dt,H)=>{H.d(Dt,{H7:()=>_n,b2:()=>ci,q6:()=>Kr,se:()=>ln});var M=H(9808),G=H(5e3);class B extends M.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Le extends B{static makeCurrent(){(0,M.HT)(new Le)}onAndCancel(vt,$e,bt){return vt.addEventListener($e,bt,!1),()=>{vt.removeEventListener($e,bt,!1)}}dispatchEvent(vt,$e){vt.dispatchEvent($e)}remove(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}createElement(vt,$e){return($e=$e||this.getDefaultDocument()).createElement(vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(vt){return vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(vt){return vt instanceof DocumentFragment}getGlobalEventTarget(vt,$e){return"window"===$e?window:"document"===$e?vt:"body"===$e?vt.body:null}getBaseHref(vt){const $e=function Ue(){return Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null}();return null==$e?null:function nt(Rt){Ze=Ze||document.createElement("a"),Ze.setAttribute("href",Rt);const vt=Ze.pathname;return"/"===vt.charAt(0)?vt:`/${vt}`}($e)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(vt){return(0,M.Mx)(document.cookie,vt)}}let Ze,Ne=null;const Je=new G.OlP("TRANSITION_ID"),we=[{provide:G.ip1,useFactory:function Fe(Rt,vt,$e){return()=>{$e.get(G.CZH).donePromise.then(()=>{const bt=(0,M.q)(),Ge=vt.querySelectorAll(`style[ng-transition="${Rt}"]`);for(let Wt=0;Wt<Ge.length;Wt++)bt.remove(Ge[Wt])})}},deps:[Je,M.K0,G.zs3],multi:!0}];class Ae{static init(){(0,G.VLi)(new Ae)}addToWindow(vt){G.dqk.getAngularTestability=(bt,Ge=!0)=>{const Wt=vt.findTestabilityInTree(bt,Ge);if(null==Wt)throw new Error("Could not find testability for element.");return Wt},G.dqk.getAllAngularTestabilities=()=>vt.getAllTestabilities(),G.dqk.getAllAngularRootElements=()=>vt.getAllRootElements(),G.dqk.frameworkStabilizers||(G.dqk.frameworkStabilizers=[]),G.dqk.frameworkStabilizers.push(bt=>{const Ge=G.dqk.getAllAngularTestabilities();let Wt=Ge.length,ge=!1;const Mt=function(Tn){ge=ge||Tn,Wt--,0==Wt&&bt(ge)};Ge.forEach(function(Tn){Tn.whenStable(Mt)})})}findTestabilityInTree(vt,$e,bt){if(null==$e)return null;const Ge=vt.getTestability($e);return null!=Ge?Ge:bt?(0,M.q)().isShadowRoot($e)?this.findTestabilityInTree(vt,$e.host,!0):this.findTestabilityInTree(vt,$e.parentElement,!0):null}}let ot=(()=>{class Rt{build(){return new XMLHttpRequest}}return Rt.\u0275fac=function($e){return new($e||Rt)},Rt.\u0275prov=G.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();const lt=new G.OlP("EventManagerPlugins");let mt=(()=>{class Rt{constructor($e,bt){this._zone=bt,this._eventNameToPlugin=new Map,$e.forEach(Ge=>Ge.manager=this),this._plugins=$e.slice().reverse()}addEventListener($e,bt,Ge){return this._findPluginFor(bt).addEventListener($e,bt,Ge)}addGlobalEventListener($e,bt,Ge){return this._findPluginFor(bt).addGlobalEventListener($e,bt,Ge)}getZone(){return this._zone}_findPluginFor($e){const bt=this._eventNameToPlugin.get($e);if(bt)return bt;const Ge=this._plugins;for(let Wt=0;Wt<Ge.length;Wt++){const ge=Ge[Wt];if(ge.supports($e))return this._eventNameToPlugin.set($e,ge),ge}throw new Error(`No event manager plugin found for event ${$e}`)}}return Rt.\u0275fac=function($e){return new($e||Rt)(G.LFG(lt),G.LFG(G.R0b))},Rt.\u0275prov=G.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();class zt{constructor(vt){this._doc=vt}addGlobalEventListener(vt,$e,bt){const Ge=(0,M.q)().getGlobalEventTarget(this._doc,vt);if(!Ge)throw new Error(`Unsupported event target ${Ge} for event ${$e}`);return this.addEventListener(Ge,$e,bt)}}let gt=(()=>{class Rt{constructor(){this._stylesSet=new Set}addStyles($e){const bt=new Set;$e.forEach(Ge=>{this._stylesSet.has(Ge)||(this._stylesSet.add(Ge),bt.add(Ge))}),this.onStylesAdded(bt)}onStylesAdded($e){}getAllStyles(){return Array.from(this._stylesSet)}}return Rt.\u0275fac=function($e){return new($e||Rt)},Rt.\u0275prov=G.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})(),fn=(()=>{class Rt extends gt{constructor($e){super(),this._doc=$e,this._hostNodes=new Map,this._hostNodes.set($e.head,[])}_addStylesToHost($e,bt,Ge){$e.forEach(Wt=>{const ge=this._doc.createElement("style");ge.textContent=Wt,Ge.push(bt.appendChild(ge))})}addHost($e){const bt=[];this._addStylesToHost(this._stylesSet,$e,bt),this._hostNodes.set($e,bt)}removeHost($e){const bt=this._hostNodes.get($e);bt&&bt.forEach(w),this._hostNodes.delete($e)}onStylesAdded($e){this._hostNodes.forEach((bt,Ge)=>{this._addStylesToHost($e,Ge,bt)})}ngOnDestroy(){this._hostNodes.forEach($e=>$e.forEach(w))}}return Rt.\u0275fac=function($e){return new($e||Rt)(G.LFG(M.K0))},Rt.\u0275prov=G.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();function w(Rt){(0,M.q)().remove(Rt)}const Vn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yt=/%COMP%/g;function yt(Rt,vt,$e){for(let bt=0;bt<vt.length;bt++){let Ge=vt[bt];Array.isArray(Ge)?yt(Rt,Ge,$e):(Ge=Ge.replace(Yt,Rt),$e.push(Ge))}return $e}function It(Rt){return vt=>{if("__ngUnwrap__"===vt)return Rt;!1===Rt(vt)&&(vt.preventDefault(),vt.returnValue=!1)}}let ln=(()=>{class Rt{constructor($e,bt,Ge){this.eventManager=$e,this.sharedStylesHost=bt,this.appId=Ge,this.rendererByCompId=new Map,this.defaultRenderer=new ht($e)}createRenderer($e,bt){if(!$e||!bt)return this.defaultRenderer;switch(bt.encapsulation){case G.ifc.Emulated:{let Ge=this.rendererByCompId.get(bt.id);return Ge||(Ge=new Zt(this.eventManager,this.sharedStylesHost,bt,this.appId),this.rendererByCompId.set(bt.id,Ge)),Ge.applyToHost($e),Ge}case 1:case G.ifc.ShadowDom:return new wt(this.eventManager,this.sharedStylesHost,$e,bt);default:if(!this.rendererByCompId.has(bt.id)){const Ge=yt(bt.id,bt.styles,[]);this.sharedStylesHost.addStyles(Ge),this.rendererByCompId.set(bt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Rt.\u0275fac=function($e){return new($e||Rt)(G.LFG(mt),G.LFG(fn),G.LFG(G.AFp))},Rt.\u0275prov=G.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();class ht{constructor(vt){this.eventManager=vt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(vt,$e){return $e?document.createElementNS(Vn[$e]||$e,vt):document.createElement(vt)}createComment(vt){return document.createComment(vt)}createText(vt){return document.createTextNode(vt)}appendChild(vt,$e){vt.appendChild($e)}insertBefore(vt,$e,bt){vt&&vt.insertBefore($e,bt)}removeChild(vt,$e){vt&&vt.removeChild($e)}selectRootElement(vt,$e){let bt="string"==typeof vt?document.querySelector(vt):vt;if(!bt)throw new Error(`The selector "${vt}" did not match any elements`);return $e||(bt.textContent=""),bt}parentNode(vt){return vt.parentNode}nextSibling(vt){return vt.nextSibling}setAttribute(vt,$e,bt,Ge){if(Ge){$e=Ge+":"+$e;const Wt=Vn[Ge];Wt?vt.setAttributeNS(Wt,$e,bt):vt.setAttribute($e,bt)}else vt.setAttribute($e,bt)}removeAttribute(vt,$e,bt){if(bt){const Ge=Vn[bt];Ge?vt.removeAttributeNS(Ge,$e):vt.removeAttribute(`${bt}:${$e}`)}else vt.removeAttribute($e)}addClass(vt,$e){vt.classList.add($e)}removeClass(vt,$e){vt.classList.remove($e)}setStyle(vt,$e,bt,Ge){Ge&(G.JOm.DashCase|G.JOm.Important)?vt.style.setProperty($e,bt,Ge&G.JOm.Important?"important":""):vt.style[$e]=bt}removeStyle(vt,$e,bt){bt&G.JOm.DashCase?vt.style.removeProperty($e):vt.style[$e]=""}setProperty(vt,$e,bt){vt[$e]=bt}setValue(vt,$e){vt.nodeValue=$e}listen(vt,$e,bt){return"string"==typeof vt?this.eventManager.addGlobalEventListener(vt,$e,It(bt)):this.eventManager.addEventListener(vt,$e,It(bt))}}class Zt extends ht{constructor(vt,$e,bt,Ge){super(vt),this.component=bt;const Wt=yt(Ge+"-"+bt.id,bt.styles,[]);$e.addStyles(Wt),this.contentAttr=function Ct(Rt){return"_ngcontent-%COMP%".replace(Yt,Rt)}(Ge+"-"+bt.id),this.hostAttr=function je(Rt){return"_nghost-%COMP%".replace(Yt,Rt)}(Ge+"-"+bt.id)}applyToHost(vt){super.setAttribute(vt,this.hostAttr,"")}createElement(vt,$e){const bt=super.createElement(vt,$e);return super.setAttribute(bt,this.contentAttr,""),bt}}class wt extends ht{constructor(vt,$e,bt,Ge){super(vt),this.sharedStylesHost=$e,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=yt(Ge.id,Ge.styles,[]);for(let ge=0;ge<Wt.length;ge++){const Mt=document.createElement("style");Mt.textContent=Wt[ge],this.shadowRoot.appendChild(Mt)}}nodeOrShadowRoot(vt){return vt===this.hostEl?this.shadowRoot:vt}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(vt,$e){return super.appendChild(this.nodeOrShadowRoot(vt),$e)}insertBefore(vt,$e,bt){return super.insertBefore(this.nodeOrShadowRoot(vt),$e,bt)}removeChild(vt,$e){return super.removeChild(this.nodeOrShadowRoot(vt),$e)}parentNode(vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(vt)))}}let Xt=(()=>{class Rt extends zt{constructor($e){super($e)}supports($e){return!0}addEventListener($e,bt,Ge){return $e.addEventListener(bt,Ge,!1),()=>this.removeEventListener($e,bt,Ge)}removeEventListener($e,bt,Ge){return $e.removeEventListener(bt,Ge)}}return Rt.\u0275fac=function($e){return new($e||Rt)(G.LFG(M.K0))},Rt.\u0275prov=G.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();const Kn=["alt","control","meta","shift"],gr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_r={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mi={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let ri=(()=>{class Rt extends zt{constructor($e){super($e)}supports($e){return null!=Rt.parseEventName($e)}addEventListener($e,bt,Ge){const Wt=Rt.parseEventName(bt),ge=Rt.eventCallback(Wt.fullKey,Ge,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,M.q)().onAndCancel($e,Wt.domEventName,ge))}static parseEventName($e){const bt=$e.toLowerCase().split("."),Ge=bt.shift();if(0===bt.length||"keydown"!==Ge&&"keyup"!==Ge)return null;const Wt=Rt._normalizeKey(bt.pop());let ge="";if(Kn.forEach(Tn=>{const zn=bt.indexOf(Tn);zn>-1&&(bt.splice(zn,1),ge+=Tn+".")}),ge+=Wt,0!=bt.length||0===Wt.length)return null;const Mt={};return Mt.domEventName=Ge,Mt.fullKey=ge,Mt}static getEventFullKey($e){let bt="",Ge=function Dr(Rt){let vt=Rt.key;if(null==vt){if(vt=Rt.keyIdentifier,null==vt)return"Unidentified";vt.startsWith("U+")&&(vt=String.fromCharCode(parseInt(vt.substring(2),16)),3===Rt.location&&_r.hasOwnProperty(vt)&&(vt=_r[vt]))}return gr[vt]||vt}($e);return Ge=Ge.toLowerCase()," "===Ge?Ge="space":"."===Ge&&(Ge="dot"),Kn.forEach(Wt=>{Wt!=Ge&&mi[Wt]($e)&&(bt+=Wt+".")}),bt+=Ge,bt}static eventCallback($e,bt,Ge){return Wt=>{Rt.getEventFullKey(Wt)===$e&&Ge.runGuarded(()=>bt(Wt))}}static _normalizeKey($e){return"esc"===$e?"escape":$e}}return Rt.\u0275fac=function($e){return new($e||Rt)(G.LFG(M.K0))},Rt.\u0275prov=G.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();const Kr=(0,G.eFA)(G._c5,"browser",[{provide:G.Lbi,useValue:M.bD},{provide:G.g9A,useValue:function Gi(){Le.makeCurrent(),Ae.init()},multi:!0},{provide:M.K0,useFactory:function Ni(){return(0,G.RDi)(document),document},deps:[]}]),Ti=[{provide:G.zSh,useValue:"root"},{provide:G.qLn,useFactory:function Ii(){return new G.qLn},deps:[]},{provide:lt,useClass:Xt,multi:!0,deps:[M.K0,G.R0b,G.Lbi]},{provide:lt,useClass:ri,multi:!0,deps:[M.K0]},{provide:ln,useClass:ln,deps:[mt,fn,G.AFp]},{provide:G.FYo,useExisting:ln},{provide:gt,useExisting:fn},{provide:fn,useClass:fn,deps:[M.K0]},{provide:G.dDg,useClass:G.dDg,deps:[G.R0b]},{provide:mt,useClass:mt,deps:[lt,G.R0b]},{provide:M.JF,useClass:ot,deps:[]}];let ci=(()=>{class Rt{constructor($e){if($e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition($e){return{ngModule:Rt,providers:[{provide:G.AFp,useValue:$e.appId},{provide:Je,useExisting:G.AFp},we]}}}return Rt.\u0275fac=function($e){return new($e||Rt)(G.LFG(Rt,12))},Rt.\u0275mod=G.oAB({type:Rt}),Rt.\u0275inj=G.cJS({providers:Ti,imports:[M.ez,G.hGG]}),Rt})();"undefined"!=typeof window&&window;let _n=(()=>{class Rt{}return Rt.\u0275fac=function($e){return new($e||Rt)},Rt.\u0275prov=G.Yz7({token:Rt,factory:function($e){let bt=null;return bt=$e?new($e||Rt):G.LFG(pi),bt},providedIn:"root"}),Rt})(),pi=(()=>{class Rt extends _n{constructor($e){super(),this._doc=$e}sanitize($e,bt){if(null==bt)return null;switch($e){case G.q3G.NONE:return bt;case G.q3G.HTML:return(0,G.qzn)(bt,"HTML")?(0,G.z3N)(bt):(0,G.EiD)(this._doc,String(bt)).toString();case G.q3G.STYLE:return(0,G.qzn)(bt,"Style")?(0,G.z3N)(bt):bt;case G.q3G.SCRIPT:if((0,G.qzn)(bt,"Script"))return(0,G.z3N)(bt);throw new Error("unsafe value used in a script context");case G.q3G.URL:return(0,G.yhl)(bt),(0,G.qzn)(bt,"URL")?(0,G.z3N)(bt):(0,G.mCW)(String(bt));case G.q3G.RESOURCE_URL:if((0,G.qzn)(bt,"ResourceURL"))return(0,G.z3N)(bt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${$e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml($e){return(0,G.JVY)($e)}bypassSecurityTrustStyle($e){return(0,G.L6k)($e)}bypassSecurityTrustScript($e){return(0,G.eBb)($e)}bypassSecurityTrustUrl($e){return(0,G.LAX)($e)}bypassSecurityTrustResourceUrl($e){return(0,G.pB0)($e)}}return Rt.\u0275fac=function($e){return new($e||Rt)(G.LFG(M.K0))},Rt.\u0275prov=G.Yz7({token:Rt,factory:function($e){let bt=null;return bt=$e?new $e:function jn(Rt){return new pi(Rt.get(M.K0))}(G.LFG(G.zs3)),bt},providedIn:"root"}),Rt})()},1083:(An,Dt,H)=>{H.d(Dt,{gz:()=>ti,m2:()=>mi,wm:()=>eo,F0:()=>Ji,rH:()=>js,yS:()=>Us,Bz:()=>Fa,lC:()=>Xo});var M=H(5e3);const B=(0,H(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"});var Le=H(8306),Ne=H(727),Ue=H(4482),Ze=H(5403);function nt(){return(0,Ue.e)((W,z)=>{let N=null;W._refCount++;const J=(0,Ze.x)(z,void 0,void 0,void 0,()=>{if(!W||W._refCount<=0||0<--W._refCount)return void(N=null);const re=W._connection,Oe=N;N=null,re&&(!Oe||re===Oe)&&re.unsubscribe(),z.unsubscribe()});W.subscribe(J),J.closed||(N=W.connect())})}class Je extends Le.y{constructor(z,N){super(),this.source=z,this.subjectFactory=N,this._subject=null,this._refCount=0,this._connection=null,(0,Ue.A)(z)&&(this.lift=z.lift)}_subscribe(z){return this.getSubject().subscribe(z)}getSubject(){const z=this._subject;return(!z||z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:z}=this;this._subject=this._connection=null,null==z||z.unsubscribe()}connect(){let z=this._connection;if(!z){z=this._connection=new Ne.w0;const N=this.getSubject();z.add(this.source.subscribe((0,Ze.x)(N,void 0,()=>{this._teardown(),N.complete()},J=>{this._teardown(),N.error(J)},()=>this._teardown()))),z.closed&&(this._connection=null,z=Ne.w0.EMPTY)}return z}refCount(){return nt()(this)}}var Fe=H(188),we=H(9646),Ae=H(1135),ot=H(9841),lt=H(2843),mt=H(7272),zt=H(9770),gt=H(515),fn=H(7579);function w(W,z,N,J,re){return(Oe,st)=>{let Tt=N,pn=z,cr=0;Oe.subscribe((0,Ze.x)(st,oi=>{const yr=cr++;pn=Tt?W(pn,oi,yr):(Tt=!0,oi),J&&st.next(pn)},re&&(()=>{Tt&&st.next(pn),st.complete()})))}}function Vn(W,z){return(0,Ue.e)(w(W,z,arguments.length>=2,!0))}var Yt=H(9300);function ue(W){return W<=0?()=>gt.E:(0,Ue.e)((z,N)=>{let J=[];z.subscribe((0,Ze.x)(N,re=>{J.push(re),W<J.length&&J.shift()},()=>{for(const re of J)N.next(re);N.complete()},void 0,()=>{J=null}))})}function at(W=De){return(0,Ue.e)((z,N)=>{let J=!1;z.subscribe((0,Ze.x)(N,re=>{J=!0,N.next(re)},()=>J?N.complete():N.error(W())))})}function De(){return new B}function Qe(W){return(0,Ue.e)((z,N)=>{let J=!1;z.subscribe((0,Ze.x)(N,re=>{J=!0,N.next(re)},()=>{J||N.next(W),N.complete()}))})}var Ct=H(4671),yt=H(5698);function It(W,z){const N=arguments.length>=2;return J=>J.pipe(W?(0,Yt.h)((re,Oe)=>W(re,Oe,J)):Ct.y,(0,yt.q)(1),N?Qe(z):at(()=>new B))}var Et=H(4004),ln=H(3900),ht=H(8675),Sn=H(262),qe=H(4351),Zt=H(5577),wt=H(8505),Xt=H(8746),Kn=H(8189),or=H(9808);class gr{constructor(z,N){this.id=z,this.url=N}}class _r extends gr{constructor(z,N,J="imperative",re=null){super(z,N),this.navigationTrigger=J,this.restoredState=re}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mi extends gr{constructor(z,N,J){super(z,N),this.urlAfterRedirects=J}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ri extends gr{constructor(z,N,J){super(z,N),this.reason=J}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dr extends gr{constructor(z,N,J){super(z,N),this.error=J}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gi extends gr{constructor(z,N,J,re){super(z,N),this.urlAfterRedirects=J,this.state=re}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ii extends gr{constructor(z,N,J,re){super(z,N),this.urlAfterRedirects=J,this.state=re}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends gr{constructor(z,N,J,re,Oe){super(z,N),this.urlAfterRedirects=J,this.state=re,this.shouldActivate=Oe}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Er extends gr{constructor(z,N,J,re){super(z,N),this.urlAfterRedirects=J,this.state=re}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr extends gr{constructor(z,N,J,re){super(z,N),this.urlAfterRedirects=J,this.state=re}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti{constructor(z){this.route=z}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ci{constructor(z){this.route=z}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class no{constructor(z){this.snapshot=z}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zn{constructor(z){this.snapshot=z}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(z){this.snapshot=z}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(z){this.snapshot=z}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ht{constructor(z,N,J){this.routerEvent=z,this.position=N,this.anchor=J}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Se="primary";class rt{constructor(z){this.params=z||{}}has(z){return Object.prototype.hasOwnProperty.call(this.params,z)}get(z){if(this.has(z)){const N=this.params[z];return Array.isArray(N)?N[0]:N}return null}getAll(z){if(this.has(z)){const N=this.params[z];return Array.isArray(N)?N:[N]}return[]}get keys(){return Object.keys(this.params)}}function Re(W){return new rt(W)}const xe="ngNavigationCancelingError";function oe(W){const z=Error("NavigationCancelingError: "+W);return z[xe]=!0,z}function ye(W,z,N){const J=N.path.split("/");if(J.length>W.length||"full"===N.pathMatch&&(z.hasChildren()||J.length<W.length))return null;const re={};for(let Oe=0;Oe<J.length;Oe++){const st=J[Oe],Tt=W[Oe];if(st.startsWith(":"))re[st.substring(1)]=Tt;else if(st!==Tt.path)return null}return{consumed:W.slice(0,J.length),posParams:re}}function ut(W,z){const N=W?Object.keys(W):void 0,J=z?Object.keys(z):void 0;if(!N||!J||N.length!=J.length)return!1;let re;for(let Oe=0;Oe<N.length;Oe++)if(re=N[Oe],!en(W[re],z[re]))return!1;return!0}function en(W,z){if(Array.isArray(W)&&Array.isArray(z)){if(W.length!==z.length)return!1;const N=[...W].sort(),J=[...z].sort();return N.every((re,Oe)=>J[Oe]===re)}return W===z}function gn(W){return Array.prototype.concat.apply([],W)}function Nn(W){return W.length>0?W[W.length-1]:null}function qn(W,z){for(const N in W)W.hasOwnProperty(N)&&z(W[N],N)}function Gt(W){return(0,M.CqO)(W)?W:(0,M.QGY)(W)?(0,Fe.D)(Promise.resolve(W)):(0,we.of)(W)}const bn={exact:function We(W,z,N){if(!$r(W.segments,z.segments)||!ar(W.segments,z.segments,N)||W.numberOfChildren!==z.numberOfChildren)return!1;for(const J in z.children)if(!W.children[J]||!We(W.children[J],z.children[J],N))return!1;return!0},subset:Qt},ce={exact:function pt(W,z){return ut(W,z)},subset:function kt(W,z){return Object.keys(z).length<=Object.keys(W).length&&Object.keys(z).every(N=>en(W[N],z[N]))},ignored:()=>!0};function Lt(W,z,N){return bn[N.paths](W.root,z.root,N.matrixParams)&&ce[N.queryParams](W.queryParams,z.queryParams)&&!("exact"===N.fragment&&W.fragment!==z.fragment)}function Qt(W,z,N){return Hn(W,z,z.segments,N)}function Hn(W,z,N,J){if(W.segments.length>N.length){const re=W.segments.slice(0,N.length);return!(!$r(re,N)||z.hasChildren()||!ar(re,N,J))}if(W.segments.length===N.length){if(!$r(W.segments,N)||!ar(W.segments,N,J))return!1;for(const re in z.children)if(!W.children[re]||!Qt(W.children[re],z.children[re],J))return!1;return!0}{const re=N.slice(0,W.segments.length),Oe=N.slice(W.segments.length);return!!($r(W.segments,re)&&ar(W.segments,re,J)&&W.children[Se])&&Hn(W.children[Se],z,Oe,J)}}function ar(W,z,N){return z.every((J,re)=>ce[N](W[re].parameters,J.parameters))}class St{constructor(z,N,J){this.root=z,this.queryParams=N,this.fragment=J}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Re(this.queryParams)),this._queryParamMap}toString(){return bt.serialize(this)}}class _n{constructor(z,N){this.segments=z,this.children=N,this.parent=null,qn(N,(J,re)=>J.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ge(this)}}class jn{constructor(z,N){this.path=z,this.parameters=N}get parameterMap(){return this._parameterMap||(this._parameterMap=Re(this.parameters)),this._parameterMap}toString(){return Pr(this)}}function $r(W,z){return W.length===z.length&&W.every((N,J)=>N.path===z[J].path)}class vt{}class $e{parse(z){const N=new fr(z);return new St(N.parseRootSegment(),N.parseQueryParams(),N.parseFragment())}serialize(z){const N=`/${Wt(z.root,!0)}`,J=function Xr(W){const z=Object.keys(W).map(N=>{const J=W[N];return Array.isArray(J)?J.map(re=>`${Mt(N)}=${Mt(re)}`).join("&"):`${Mt(N)}=${Mt(J)}`}).filter(N=>!!N);return z.length?`?${z.join("&")}`:""}(z.queryParams);return`${N}${J}${"string"==typeof z.fragment?`#${function Tn(W){return encodeURI(W)}(z.fragment)}`:""}`}}const bt=new $e;function Ge(W){return W.segments.map(z=>Pr(z)).join("/")}function Wt(W,z){if(!W.hasChildren())return Ge(W);if(z){const N=W.children[Se]?Wt(W.children[Se],!1):"",J=[];return qn(W.children,(re,Oe)=>{Oe!==Se&&J.push(`${Oe}:${Wt(re,!1)}`)}),J.length>0?`${N}(${J.join("//")})`:N}{const N=function Rt(W,z){let N=[];return qn(W.children,(J,re)=>{re===Se&&(N=N.concat(z(J,re)))}),qn(W.children,(J,re)=>{re!==Se&&(N=N.concat(z(J,re)))}),N}(W,(J,re)=>re===Se?[Wt(W.children[Se],!1)]:[`${re}:${Wt(J,!1)}`]);return 1===Object.keys(W.children).length&&null!=W.children[Se]?`${Ge(W)}/${N[0]}`:`${Ge(W)}/(${N.join("//")})`}}function ge(W){return encodeURIComponent(W).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mt(W){return ge(W).replace(/%3B/gi,";")}function zn(W){return ge(W).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pr(W){return decodeURIComponent(W)}function Mr(W){return pr(W.replace(/\+/g,"%20"))}function Pr(W){return`${zn(W.path)}${function Bi(W){return Object.keys(W).map(z=>`;${zn(z)}=${zn(W[z])}`).join("")}(W.parameters)}`}const kn=/^[^\/()?;=#]+/;function Sr(W){const z=W.match(kn);return z?z[0]:""}const ui=/^[^=?&#]+/,ii=/^[^&#]+/;class fr{constructor(z){this.url=z,this.remaining=z}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const z={};if(this.consumeOptional("?"))do{this.parseQueryParam(z)}while(this.consumeOptional("&"));return z}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const z=[];for(this.peekStartsWith("(")||z.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),z.push(this.parseSegment());let N={};this.peekStartsWith("/(")&&(this.capture("/"),N=this.parseParens(!0));let J={};return this.peekStartsWith("(")&&(J=this.parseParens(!1)),(z.length>0||Object.keys(N).length>0)&&(J[Se]=new _n(z,N)),J}parseSegment(){const z=Sr(this.remaining);if(""===z&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(z),new jn(pr(z),this.parseMatrixParams())}parseMatrixParams(){const z={};for(;this.consumeOptional(";");)this.parseParam(z);return z}parseParam(z){const N=Sr(this.remaining);if(!N)return;this.capture(N);let J="";if(this.consumeOptional("=")){const re=Sr(this.remaining);re&&(J=re,this.capture(J))}z[pr(N)]=pr(J)}parseQueryParam(z){const N=function Zi(W){const z=W.match(ui);return z?z[0]:""}(this.remaining);if(!N)return;this.capture(N);let J="";if(this.consumeOptional("=")){const st=function Or(W){const z=W.match(ii);return z?z[0]:""}(this.remaining);st&&(J=st,this.capture(J))}const re=Mr(N),Oe=Mr(J);if(z.hasOwnProperty(re)){let st=z[re];Array.isArray(st)||(st=[st],z[re]=st),st.push(Oe)}else z[re]=Oe}parseParens(z){const N={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const J=Sr(this.remaining),re=this.remaining[J.length];if("/"!==re&&")"!==re&&";"!==re)throw new Error(`Cannot parse url '${this.url}'`);let Oe;J.indexOf(":")>-1?(Oe=J.substr(0,J.indexOf(":")),this.capture(Oe),this.capture(":")):z&&(Oe=Se);const st=this.parseChildren();N[Oe]=1===Object.keys(st).length?st[Se]:new _n([],st),this.consumeOptional("//")}return N}peekStartsWith(z){return this.remaining.startsWith(z)}consumeOptional(z){return!!this.peekStartsWith(z)&&(this.remaining=this.remaining.substring(z.length),!0)}capture(z){if(!this.consumeOptional(z))throw new Error(`Expected "${z}".`)}}class Zr{constructor(z){this._root=z}get root(){return this._root.value}parent(z){const N=this.pathFromRoot(z);return N.length>1?N[N.length-2]:null}children(z){const N=lo(z,this._root);return N?N.children.map(J=>J.value):[]}firstChild(z){const N=lo(z,this._root);return N&&N.children.length>0?N.children[0].value:null}siblings(z){const N=Qr(z,this._root);return N.length<2?[]:N[N.length-2].children.map(re=>re.value).filter(re=>re!==z)}pathFromRoot(z){return Qr(z,this._root).map(N=>N.value)}}function lo(W,z){if(W===z.value)return z;for(const N of z.children){const J=lo(W,N);if(J)return J}return null}function Qr(W,z){if(W===z.value)return[z];for(const N of z.children){const J=Qr(W,N);if(J.length)return J.unshift(z),J}return[]}class dr{constructor(z,N){this.value=z,this.children=N}toString(){return`TreeNode(${this.value})`}}function Wi(W){const z={};return W&&W.children.forEach(N=>z[N.value.outlet]=N),z}class $i extends Zr{constructor(z,N){super(z),this.snapshot=N,Po(this,z)}toString(){return this.snapshot.toString()}}function ko(W,z){const N=function Oo(W,z){const st=new qi([],{},{},"",{},Se,z,null,W.root,-1,{});return new rn("",new dr(st,[]))}(W,z),J=new Ae.X([new jn("",{})]),re=new Ae.X({}),Oe=new Ae.X({}),st=new Ae.X({}),Tt=new Ae.X(""),pn=new ti(J,re,st,Tt,Oe,Se,z,N.root);return pn.snapshot=N.root,new $i(new dr(pn,[]),N)}class ti{constructor(z,N,J,re,Oe,st,Tt,pn){this.url=z,this.params=N,this.queryParams=J,this.fragment=re,this.data=Oe,this.outlet=st,this.component=Tt,this._futureSnapshot=pn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(z=>Re(z)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(z=>Re(z)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mo(W,z="emptyOnly"){const N=W.pathFromRoot;let J=0;if("always"!==z)for(J=N.length-1;J>=1;){const re=N[J],Oe=N[J-1];if(re.routeConfig&&""===re.routeConfig.path)J--;else{if(Oe.component)break;J--}}return function zo(W){return W.reduce((z,N)=>({params:Object.assign(Object.assign({},z.params),N.params),data:Object.assign(Object.assign({},z.data),N.data),resolve:Object.assign(Object.assign({},z.resolve),N._resolvedData)}),{params:{},data:{},resolve:{}})}(N.slice(J))}class qi{constructor(z,N,J,re,Oe,st,Tt,pn,cr,oi,yr){this.url=z,this.params=N,this.queryParams=J,this.fragment=re,this.data=Oe,this.outlet=st,this.component=Tt,this.routeConfig=pn,this._urlSegment=cr,this._lastPathIndex=oi,this._resolve=yr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Re(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Re(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(J=>J.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rn extends Zr{constructor(z,N){super(N),this.url=z,Po(this,N)}toString(){return yo(this._root)}}function Po(W,z){z.value._routerState=W,z.children.forEach(N=>Po(W,N))}function yo(W){const z=W.children.length>0?` { ${W.children.map(yo).join(", ")} } `:"";return`${W.value}${z}`}function yn(W){if(W.snapshot){const z=W.snapshot,N=W._futureSnapshot;W.snapshot=N,ut(z.queryParams,N.queryParams)||W.queryParams.next(N.queryParams),z.fragment!==N.fragment&&W.fragment.next(N.fragment),ut(z.params,N.params)||W.params.next(N.params),function ze(W,z){if(W.length!==z.length)return!1;for(let N=0;N<W.length;++N)if(!ut(W[N],z[N]))return!1;return!0}(z.url,N.url)||W.url.next(N.url),ut(z.data,N.data)||W.data.next(N.data)}else W.snapshot=W._futureSnapshot,W.data.next(W._futureSnapshot.data)}function bi(W,z){const N=ut(W.params,z.params)&&function pi(W,z){return $r(W,z)&&W.every((N,J)=>ut(N.parameters,z[J].parameters))}(W.url,z.url);return N&&!(!W.parent!=!z.parent)&&(!W.parent||bi(W.parent,z.parent))}function Vo(W,z,N){if(N&&W.shouldReuseRoute(z.value,N.value.snapshot)){const J=N.value;J._futureSnapshot=z.value;const re=function Ga(W,z,N){return z.children.map(J=>{for(const re of N.children)if(W.shouldReuseRoute(J.value,re.value.snapshot))return Vo(W,J,re);return Vo(W,J)})}(W,z,N);return new dr(J,re)}{if(W.shouldAttach(z.value)){const Oe=W.retrieve(z.value);if(null!==Oe){const st=Oe.route;return st.value._futureSnapshot=z.value,st.children=z.children.map(Tt=>Vo(W,Tt)),st}}const J=function Ye(W){return new ti(new Ae.X(W.url),new Ae.X(W.params),new Ae.X(W.queryParams),new Ae.X(W.fragment),new Ae.X(W.data),W.outlet,W.component,W)}(z.value),re=z.children.map(Oe=>Vo(W,Oe));return new dr(J,re)}}function Ba(W){return"object"==typeof W&&null!=W&&!W.outlets&&!W.segmentPath}function vs(W){return"object"==typeof W&&null!=W&&W.outlets}function co(W,z,N,J,re){let Oe={};if(J&&qn(J,(Tt,pn)=>{Oe[pn]=Array.isArray(Tt)?Tt.map(cr=>`${cr}`):`${Tt}`}),W===z)return new St(N,Oe,re);const st=ms(W,z,N);return new St(st,Oe,re)}function ms(W,z,N){const J={};return qn(W.children,(re,Oe)=>{J[Oe]=re===z?N:ms(re,z,N)}),new _n(W.segments,J)}class oa{constructor(z,N,J){if(this.isAbsolute=z,this.numberOfDoubleDots=N,this.commands=J,z&&J.length>0&&Ba(J[0]))throw new Error("Root segment cannot have matrix parameters");const re=J.find(vs);if(re&&re!==Nn(J))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Co{constructor(z,N,J){this.segmentGroup=z,this.processChildren=N,this.index=J}}function tc(W,z,N){if(W||(W=new _n([],{})),0===W.segments.length&&W.hasChildren())return fa(W,z,N);const J=function uo(W,z,N){let J=0,re=z;const Oe={match:!1,pathIndex:0,commandIndex:0};for(;re<W.segments.length;){if(J>=N.length)return Oe;const st=W.segments[re],Tt=N[J];if(vs(Tt))break;const pn=`${Tt}`,cr=J<N.length-1?N[J+1]:null;if(re>0&&void 0===pn)break;if(pn&&cr&&"object"==typeof cr&&void 0===cr.outlets){if(!_s(pn,cr,st))return Oe;J+=2}else{if(!_s(pn,{},st))return Oe;J++}re++}return{match:!0,pathIndex:re,commandIndex:J}}(W,z,N),re=N.slice(J.commandIndex);if(J.match&&J.pathIndex<W.segments.length){const Oe=new _n(W.segments.slice(0,J.pathIndex),{});return Oe.children[Se]=new _n(W.segments.slice(J.pathIndex),W.children),fa(Oe,0,re)}return J.match&&0===re.length?new _n(W.segments,{}):J.match&&!W.hasChildren()?Cs(W,z,N):J.match?fa(W,0,re):Cs(W,z,N)}function fa(W,z,N){if(0===N.length)return new _n(W.segments,{});{const J=function Pl(W){return vs(W[0])?W[0].outlets:{[Se]:W}}(N),re={};return qn(J,(Oe,st)=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(re[st]=tc(W.children[st],z,Oe))}),qn(W.children,(Oe,st)=>{void 0===J[st]&&(re[st]=Oe)}),new _n(W.segments,re)}}function Cs(W,z,N){const J=W.segments.slice(0,z);let re=0;for(;re<N.length;){const Oe=N[re];if(vs(Oe)){const pn=dl(Oe.outlets);return new _n(J,pn)}if(0===re&&Ba(N[0])){J.push(new jn(W.segments[z].path,nc(N[0]))),re++;continue}const st=vs(Oe)?Oe.outlets[Se]:`${Oe}`,Tt=re<N.length-1?N[re+1]:null;st&&Tt&&Ba(Tt)?(J.push(new jn(st,nc(Tt))),re+=2):(J.push(new jn(st,{})),re++)}return new _n(J,{})}function dl(W){const z={};return qn(W,(N,J)=>{"string"==typeof N&&(N=[N]),null!==N&&(z[J]=Cs(new _n([],{}),0,N))}),z}function nc(W){const z={};return qn(W,(N,J)=>z[J]=`${N}`),z}function _s(W,z,N){return W==N.path&&ut(z,N.parameters)}class Wa{constructor(z,N,J,re){this.routeReuseStrategy=z,this.futureState=N,this.currState=J,this.forwardEvent=re}activate(z){const N=this.futureState._root,J=this.currState?this.currState._root:null;this.deactivateChildRoutes(N,J,z),yn(this.futureState.root),this.activateChildRoutes(N,J,z)}deactivateChildRoutes(z,N,J){const re=Wi(N);z.children.forEach(Oe=>{const st=Oe.value.outlet;this.deactivateRoutes(Oe,re[st],J),delete re[st]}),qn(re,(Oe,st)=>{this.deactivateRouteAndItsChildren(Oe,J)})}deactivateRoutes(z,N,J){const re=z.value,Oe=N?N.value:null;if(re===Oe)if(re.component){const st=J.getContext(re.outlet);st&&this.deactivateChildRoutes(z,N,st.children)}else this.deactivateChildRoutes(z,N,J);else Oe&&this.deactivateRouteAndItsChildren(N,J)}deactivateRouteAndItsChildren(z,N){z.value.component&&this.routeReuseStrategy.shouldDetach(z.value.snapshot)?this.detachAndStoreRouteSubtree(z,N):this.deactivateRouteAndOutlet(z,N)}detachAndStoreRouteSubtree(z,N){const J=N.getContext(z.value.outlet),re=J&&z.value.component?J.children:N,Oe=Wi(z);for(const st of Object.keys(Oe))this.deactivateRouteAndItsChildren(Oe[st],re);if(J&&J.outlet){const st=J.outlet.detach(),Tt=J.children.onOutletDeactivated();this.routeReuseStrategy.store(z.value.snapshot,{componentRef:st,route:z,contexts:Tt})}}deactivateRouteAndOutlet(z,N){const J=N.getContext(z.value.outlet),re=J&&z.value.component?J.children:N,Oe=Wi(z);for(const st of Object.keys(Oe))this.deactivateRouteAndItsChildren(Oe[st],re);J&&J.outlet&&(J.outlet.deactivate(),J.children.onOutletDeactivated(),J.attachRef=null,J.resolver=null,J.route=null)}activateChildRoutes(z,N,J){const re=Wi(N);z.children.forEach(Oe=>{this.activateRoutes(Oe,re[Oe.value.outlet],J),this.forwardEvent(new Qn(Oe.value.snapshot))}),z.children.length&&this.forwardEvent(new Zn(z.value.snapshot))}activateRoutes(z,N,J){const re=z.value,Oe=N?N.value:null;if(yn(re),re===Oe)if(re.component){const st=J.getOrCreateContext(re.outlet);this.activateChildRoutes(z,N,st.children)}else this.activateChildRoutes(z,N,J);else if(re.component){const st=J.getOrCreateContext(re.outlet);if(this.routeReuseStrategy.shouldAttach(re.snapshot)){const Tt=this.routeReuseStrategy.retrieve(re.snapshot);this.routeReuseStrategy.store(re.snapshot,null),st.children.onOutletReAttached(Tt.contexts),st.attachRef=Tt.componentRef,st.route=Tt.route.value,st.outlet&&st.outlet.attach(Tt.componentRef,Tt.route.value),yn(Tt.route.value),this.activateChildRoutes(z,null,st.children)}else{const Tt=function Dc(W){for(let z=W.parent;z;z=z.parent){const N=z.routeConfig;if(N&&N._loadedConfig)return N._loadedConfig;if(N&&N.component)return null}return null}(re.snapshot),pn=Tt?Tt.module.componentFactoryResolver:null;st.attachRef=null,st.route=re,st.resolver=pn,st.outlet&&st.outlet.activateWith(re,pn),this.activateChildRoutes(z,null,st.children)}}else this.activateChildRoutes(z,null,J)}}class ws{constructor(z,N){this.routes=z,this.module=N}}function xa(W){return"function"==typeof W}function Ma(W){return W instanceof St}const os=Symbol("INITIAL_VALUE");function Bo(){return(0,ln.w)(W=>(0,ot.a)(W.map(z=>z.pipe((0,yt.q)(1),(0,ht.O)(os)))).pipe(Vn((z,N)=>{let J=!1;return N.reduce((re,Oe,st)=>re!==os?re:(Oe===os&&(J=!0),J||!1!==Oe&&st!==N.length-1&&!Ma(Oe)?re:Oe),z)},os),(0,Yt.h)(z=>z!==os),(0,Et.U)(z=>Ma(z)?z:!0===z),(0,yt.q)(1)))}class Pa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ja,this.attachRef=null}}class ja{constructor(){this.contexts=new Map}onChildOutletCreated(z,N){const J=this.getOrCreateContext(z);J.outlet=N,this.contexts.set(z,J)}onChildOutletDestroyed(z){const N=this.getContext(z);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const z=this.contexts;return this.contexts=new Map,z}onOutletReAttached(z){this.contexts=z}getOrCreateContext(z){let N=this.getContext(z);return N||(N=new Pa,this.contexts.set(z,N)),N}getContext(z){return this.contexts.get(z)||null}}let Xo=(()=>{class W{constructor(N,J,re,Oe,st){this.parentContexts=N,this.location=J,this.resolver=re,this.changeDetector=st,this.activated=null,this._activatedRoute=null,this.activateEvents=new M.vpe,this.deactivateEvents=new M.vpe,this.attachEvents=new M.vpe,this.detachEvents=new M.vpe,this.name=Oe||Se,N.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const N=this.parentContexts.getContext(this.name);N&&N.route&&(N.attachRef?this.attach(N.attachRef,N.route):this.activateWith(N.route,N.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const N=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(N.instance),N}attach(N,J){this.activated=N,this._activatedRoute=J,this.location.insert(N.hostView),this.attachEvents.emit(N.instance)}deactivate(){if(this.activated){const N=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(N)}}activateWith(N,J){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=N;const st=(J=J||this.resolver).resolveComponentFactory(N._futureSnapshot.routeConfig.component),Tt=this.parentContexts.getOrCreateContext(this.name).children,pn=new To(N,Tt,this.location.injector);this.activated=this.location.createComponent(st,this.location.length,pn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return W.\u0275fac=function(N){return new(N||W)(M.Y36(ja),M.Y36(M.s_b),M.Y36(M._Vd),M.$8M("name"),M.Y36(M.sBO))},W.\u0275dir=M.lG2({type:W,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),W})();class To{constructor(z,N,J){this.route=z,this.childContexts=N,this.parent=J}get(z,N){return z===ti?this.route:z===ja?this.childContexts:this.parent.get(z,N)}}let hl=(()=>{class W{}return W.\u0275fac=function(N){return new(N||W)},W.\u0275cmp=M.Xpm({type:W,selectors:[["ng-component"]],decls:1,vars:0,template:function(N,J){1&N&&M._UZ(0,"router-outlet")},directives:[Xo],encapsulation:2}),W})();function pl(W,z=""){for(let N=0;N<W.length;N++){const J=W[N];ho(J,Ws(z,J))}}function ho(W,z){W.children&&pl(W.children,z)}function Ws(W,z){return z?W||z.path?W&&!z.path?`${W}/`:!W&&z.path?z.path:`${W}/${z.path}`:"":W}function Wo(W){const z=W.children&&W.children.map(Wo),N=z?Object.assign(Object.assign({},W),{children:z}):Object.assign({},W);return!N.component&&(z||N.loadChildren)&&N.outlet&&N.outlet!==Se&&(N.component=hl),N}function _o(W){return W.outlet||Se}function Zo(W,z){const N=W.filter(J=>_o(J)===z);return N.push(...W.filter(J=>_o(J)!==z)),N}const as={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ua(W,z,N){var J;if(""===z.path)return"full"===z.pathMatch&&(W.hasChildren()||N.length>0)?Object.assign({},as):{matched:!0,consumedSegments:[],remainingSegments:N,parameters:{},positionalParamSegments:{}};const Oe=(z.matcher||ye)(N,W,z);if(!Oe)return Object.assign({},as);const st={};qn(Oe.posParams,(pn,cr)=>{st[cr]=pn.path});const Tt=Oe.consumed.length>0?Object.assign(Object.assign({},st),Oe.consumed[Oe.consumed.length-1].parameters):st;return{matched:!0,consumedSegments:Oe.consumed,remainingSegments:N.slice(Oe.consumed.length),parameters:Tt,positionalParamSegments:null!==(J=Oe.posParams)&&void 0!==J?J:{}}}function Mi(W,z,N,J,re="corrected"){if(N.length>0&&function ee(W,z,N){return N.some(J=>Ot(W,z,J)&&_o(J)!==Se)}(W,N,J)){const st=new _n(z,function Ee(W,z,N,J){const re={};re[Se]=J,J._sourceSegment=W,J._segmentIndexShift=z.length;for(const Oe of N)if(""===Oe.path&&_o(Oe)!==Se){const st=new _n([],{});st._sourceSegment=W,st._segmentIndexShift=z.length,re[_o(Oe)]=st}return re}(W,z,J,new _n(N,W.children)));return st._sourceSegment=W,st._segmentIndexShift=z.length,{segmentGroup:st,slicedSegments:[]}}if(0===N.length&&function Pe(W,z,N){return N.some(J=>Ot(W,z,J))}(W,N,J)){const st=new _n(W.segments,function te(W,z,N,J,re,Oe){const st={};for(const Tt of J)if(Ot(W,N,Tt)&&!re[_o(Tt)]){const pn=new _n([],{});pn._sourceSegment=W,pn._segmentIndexShift="legacy"===Oe?W.segments.length:z.length,st[_o(Tt)]=pn}return Object.assign(Object.assign({},re),st)}(W,z,N,J,W.children,re));return st._sourceSegment=W,st._segmentIndexShift=z.length,{segmentGroup:st,slicedSegments:N}}const Oe=new _n(W.segments,W.children);return Oe._sourceSegment=W,Oe._segmentIndexShift=z.length,{segmentGroup:Oe,slicedSegments:N}}function Ot(W,z,N){return(!(W.hasChildren()||z.length>0)||"full"!==N.pathMatch)&&""===N.path}function an(W,z,N,J){return!!(_o(W)===J||J!==Se&&Ot(z,N,W))&&("**"===W.path||Ua(z,W,N).matched)}function mn(W,z,N){return 0===z.length&&!W.children[N]}class tr{constructor(z){this.segmentGroup=z||null}}class Si{constructor(z){this.urlTree=z}}function ni(W){return(0,lt._)(new tr(W))}function Yr(W){return(0,lt._)(new Si(W))}class Pi{constructor(z,N,J,re,Oe){this.configLoader=N,this.urlSerializer=J,this.urlTree=re,this.config=Oe,this.allowRedirects=!0,this.ngModule=z.get(M.h0i)}apply(){const z=Mi(this.urlTree.root,[],[],this.config).segmentGroup,N=new _n(z.segments,z.children);return this.expandSegmentGroup(this.ngModule,this.config,N,Se).pipe((0,Et.U)(Oe=>this.createUrlTree(io(Oe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Sn.K)(Oe=>{if(Oe instanceof Si)return this.allowRedirects=!1,this.match(Oe.urlTree);throw Oe instanceof tr?this.noMatchError(Oe):Oe}))}match(z){return this.expandSegmentGroup(this.ngModule,this.config,z.root,Se).pipe((0,Et.U)(re=>this.createUrlTree(io(re),z.queryParams,z.fragment))).pipe((0,Sn.K)(re=>{throw re instanceof tr?this.noMatchError(re):re}))}noMatchError(z){return new Error(`Cannot match any routes. URL Segment: '${z.segmentGroup}'`)}createUrlTree(z,N,J){const re=z.segments.length>0?new _n([],{[Se]:z}):z;return new St(re,N,J)}expandSegmentGroup(z,N,J,re){return 0===J.segments.length&&J.hasChildren()?this.expandChildren(z,N,J).pipe((0,Et.U)(Oe=>new _n([],Oe))):this.expandSegment(z,J,N,J.segments,re,!0)}expandChildren(z,N,J){const re=[];for(const Oe of Object.keys(J.children))"primary"===Oe?re.unshift(Oe):re.push(Oe);return(0,Fe.D)(re).pipe((0,qe.b)(Oe=>{const st=J.children[Oe],Tt=Zo(N,Oe);return this.expandSegmentGroup(z,Tt,st,Oe).pipe((0,Et.U)(pn=>({segment:pn,outlet:Oe})))}),Vn((Oe,st)=>(Oe[st.outlet]=st.segment,Oe),{}),function je(W,z){const N=arguments.length>=2;return J=>J.pipe(W?(0,Yt.h)((re,Oe)=>W(re,Oe,J)):Ct.y,ue(1),N?Qe(z):at(()=>new B))}())}expandSegment(z,N,J,re,Oe,st){return(0,Fe.D)(J).pipe((0,qe.b)(Tt=>this.expandSegmentAgainstRoute(z,N,J,Tt,re,Oe,st).pipe((0,Sn.K)(cr=>{if(cr instanceof tr)return(0,we.of)(null);throw cr}))),It(Tt=>!!Tt),(0,Sn.K)((Tt,pn)=>{if(Tt instanceof B||"EmptyError"===Tt.name)return mn(N,re,Oe)?(0,we.of)(new _n([],{})):ni(N);throw Tt}))}expandSegmentAgainstRoute(z,N,J,re,Oe,st,Tt){return an(re,N,Oe,st)?void 0===re.redirectTo?this.matchSegmentAgainstRoute(z,N,re,Oe,st):Tt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(z,N,J,re,Oe,st):ni(N):ni(N)}expandSegmentAgainstRouteUsingRedirect(z,N,J,re,Oe,st){return"**"===re.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(z,J,re,st):this.expandRegularSegmentAgainstRouteUsingRedirect(z,N,J,re,Oe,st)}expandWildCardWithParamsAgainstRouteUsingRedirect(z,N,J,re){const Oe=this.applyRedirectCommands([],J.redirectTo,{});return J.redirectTo.startsWith("/")?Yr(Oe):this.lineralizeSegments(J,Oe).pipe((0,Zt.z)(st=>{const Tt=new _n(st,{});return this.expandSegment(z,Tt,N,st,re,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(z,N,J,re,Oe,st){const{matched:Tt,consumedSegments:pn,remainingSegments:cr,positionalParamSegments:oi}=Ua(N,re,Oe);if(!Tt)return ni(N);const yr=this.applyRedirectCommands(pn,re.redirectTo,oi);return re.redirectTo.startsWith("/")?Yr(yr):this.lineralizeSegments(re,yr).pipe((0,Zt.z)(fi=>this.expandSegment(z,N,J,fi.concat(cr),st,!1)))}matchSegmentAgainstRoute(z,N,J,re,Oe){if("**"===J.path)return J.loadChildren?(J._loadedConfig?(0,we.of)(J._loadedConfig):this.configLoader.load(z.injector,J)).pipe((0,Et.U)(yr=>(J._loadedConfig=yr,new _n(re,{})))):(0,we.of)(new _n(re,{}));const{matched:st,consumedSegments:Tt,remainingSegments:pn}=Ua(N,J,re);return st?this.getChildConfig(z,J,re).pipe((0,Zt.z)(oi=>{const yr=oi.module,fi=oi.routes,{segmentGroup:Gr,slicedSegments:$a}=Mi(N,Tt,pn,fi),$s=new _n(Gr.segments,Gr.children);if(0===$a.length&&$s.hasChildren())return this.expandChildren(yr,fi,$s).pipe((0,Et.U)(Mc=>new _n(Tt,Mc)));if(0===fi.length&&0===$a.length)return(0,we.of)(new _n(Tt,{}));const Oc=_o(J)===Oe;return this.expandSegment(yr,$s,fi,$a,Oc?Se:Oe,!0).pipe((0,Et.U)(xc=>new _n(Tt.concat(xc.segments),xc.children)))})):ni(N)}getChildConfig(z,N,J){return N.children?(0,we.of)(new ws(N.children,z)):N.loadChildren?void 0!==N._loadedConfig?(0,we.of)(N._loadedConfig):this.runCanLoadGuards(z.injector,N,J).pipe((0,Zt.z)(re=>re?this.configLoader.load(z.injector,N).pipe((0,Et.U)(Oe=>(N._loadedConfig=Oe,Oe))):function ji(W){return(0,lt._)(oe(`Cannot load children because the guard of the route "path: '${W.path}'" returned false`))}(N))):(0,we.of)(new ws([],z))}runCanLoadGuards(z,N,J){const re=N.canLoad;if(!re||0===re.length)return(0,we.of)(!0);const Oe=re.map(st=>{const Tt=z.get(st);let pn;if(function rs(W){return W&&xa(W.canLoad)}(Tt))pn=Tt.canLoad(N,J);else{if(!xa(Tt))throw new Error("Invalid CanLoad guard");pn=Tt(N,J)}return Gt(pn)});return(0,we.of)(Oe).pipe(Bo(),(0,wt.b)(st=>{if(!Ma(st))return;const Tt=oe(`Redirecting to "${this.urlSerializer.serialize(st)}"`);throw Tt.url=st,Tt}),(0,Et.U)(st=>!0===st))}lineralizeSegments(z,N){let J=[],re=N.root;for(;;){if(J=J.concat(re.segments),0===re.numberOfChildren)return(0,we.of)(J);if(re.numberOfChildren>1||!re.children[Se])return(0,lt._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${z.redirectTo}'`));re=re.children[Se]}}applyRedirectCommands(z,N,J){return this.applyRedirectCreatreUrlTree(N,this.urlSerializer.parse(N),z,J)}applyRedirectCreatreUrlTree(z,N,J,re){const Oe=this.createSegmentGroup(z,N.root,J,re);return new St(Oe,this.createQueryParams(N.queryParams,this.urlTree.queryParams),N.fragment)}createQueryParams(z,N){const J={};return qn(z,(re,Oe)=>{if("string"==typeof re&&re.startsWith(":")){const Tt=re.substring(1);J[Oe]=N[Tt]}else J[Oe]=re}),J}createSegmentGroup(z,N,J,re){const Oe=this.createSegments(z,N.segments,J,re);let st={};return qn(N.children,(Tt,pn)=>{st[pn]=this.createSegmentGroup(z,Tt,J,re)}),new _n(Oe,st)}createSegments(z,N,J,re){return N.map(Oe=>Oe.path.startsWith(":")?this.findPosParam(z,Oe,re):this.findOrReturn(Oe,J))}findPosParam(z,N,J){const re=J[N.path.substring(1)];if(!re)throw new Error(`Cannot redirect to '${z}'. Cannot find '${N.path}'.`);return re}findOrReturn(z,N){let J=0;for(const re of N){if(re.path===z.path)return N.splice(J),re;J++}return z}}function io(W){const z={};for(const J of Object.keys(W.children)){const Oe=io(W.children[J]);(Oe.segments.length>0||Oe.hasChildren())&&(z[J]=Oe)}return function va(W){if(1===W.numberOfChildren&&W.children[Se]){const z=W.children[Se];return new _n(W.segments.concat(z.segments),z.children)}return W}(new _n(W.segments,z))}class jo{constructor(z){this.path=z,this.route=this.path[this.path.length-1]}}class Aa{constructor(z,N){this.component=z,this.route=N}}function ss(W,z,N){const J=W._root;return K(J,z?z._root:null,N,[J.value])}function ne(W,z,N){const J=function q(W){if(!W)return null;for(let z=W.parent;z;z=z.parent){const N=z.routeConfig;if(N&&N._loadedConfig)return N._loadedConfig}return null}(z);return(J?J.module.injector:N).get(W)}function K(W,z,N,J,re={canDeactivateChecks:[],canActivateChecks:[]}){const Oe=Wi(z);return W.children.forEach(st=>{(function ie(W,z,N,J,re={canDeactivateChecks:[],canActivateChecks:[]}){const Oe=W.value,st=z?z.value:null,Tt=N?N.getContext(W.value.outlet):null;if(st&&Oe.routeConfig===st.routeConfig){const pn=function Kt(W,z,N){if("function"==typeof N)return N(W,z);switch(N){case"pathParamsChange":return!$r(W.url,z.url);case"pathParamsOrQueryParamsChange":return!$r(W.url,z.url)||!ut(W.queryParams,z.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bi(W,z)||!ut(W.queryParams,z.queryParams);default:return!bi(W,z)}}(st,Oe,Oe.routeConfig.runGuardsAndResolvers);pn?re.canActivateChecks.push(new jo(J)):(Oe.data=st.data,Oe._resolvedData=st._resolvedData),K(W,z,Oe.component?Tt?Tt.children:null:N,J,re),pn&&Tt&&Tt.outlet&&Tt.outlet.isActivated&&re.canDeactivateChecks.push(new Aa(Tt.outlet.component,st))}else st&&Jn(z,Tt,re),re.canActivateChecks.push(new jo(J)),K(W,null,Oe.component?Tt?Tt.children:null:N,J,re)})(st,Oe[st.value.outlet],N,J.concat([st.value]),re),delete Oe[st.value.outlet]}),qn(Oe,(st,Tt)=>Jn(st,N.getContext(Tt),re)),re}function Jn(W,z,N){const J=Wi(W),re=W.value;qn(J,(Oe,st)=>{Jn(Oe,re.component?z?z.children.getContext(st):null:z,N)}),N.canDeactivateChecks.push(new Aa(re.component&&z&&z.outlet&&z.outlet.isActivated?z.outlet.component:null,re))}class Ve{}function _t(W){return new Le.y(z=>z.error(W))}class ir{constructor(z,N,J,re,Oe,st){this.rootComponentType=z,this.config=N,this.urlTree=J,this.url=re,this.paramsInheritanceStrategy=Oe,this.relativeLinkResolution=st}recognize(){const z=Mi(this.urlTree.root,[],[],this.config.filter(st=>void 0===st.redirectTo),this.relativeLinkResolution).segmentGroup,N=this.processSegmentGroup(this.config,z,Se);if(null===N)return null;const J=new qi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Se,this.rootComponentType,null,this.urlTree.root,-1,{}),re=new dr(J,N),Oe=new rn(this.url,re);return this.inheritParamsAndData(Oe._root),Oe}inheritParamsAndData(z){const N=z.value,J=mo(N,this.paramsInheritanceStrategy);N.params=Object.freeze(J.params),N.data=Object.freeze(J.data),z.children.forEach(re=>this.inheritParamsAndData(re))}processSegmentGroup(z,N,J){return 0===N.segments.length&&N.hasChildren()?this.processChildren(z,N):this.processSegment(z,N,N.segments,J)}processChildren(z,N){const J=[];for(const Oe of Object.keys(N.children)){const st=N.children[Oe],Tt=Zo(z,Oe),pn=this.processSegmentGroup(Tt,st,Oe);if(null===pn)return null;J.push(...pn)}const re=L(J);return function Jr(W){W.sort((z,N)=>z.value.outlet===Se?-1:N.value.outlet===Se?1:z.value.outlet.localeCompare(N.value.outlet))}(re),re}processSegment(z,N,J,re){for(const Oe of z){const st=this.processSegmentAgainstRoute(Oe,N,J,re);if(null!==st)return st}return mn(N,J,re)?[]:null}processSegmentAgainstRoute(z,N,J,re){if(z.redirectTo||!an(z,N,J,re))return null;let Oe,st=[],Tt=[];if("**"===z.path){const Gr=J.length>0?Nn(J).parameters:{};Oe=new qi(J,Gr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dt(z),_o(z),z.component,z,me(N),He(N)+J.length,ft(z))}else{const Gr=Ua(N,z,J);if(!Gr.matched)return null;st=Gr.consumedSegments,Tt=Gr.remainingSegments,Oe=new qi(st,Gr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dt(z),_o(z),z.component,z,me(N),He(N)+st.length,ft(z))}const pn=function se(W){return W.children?W.children:W.loadChildren?W._loadedConfig.routes:[]}(z),{segmentGroup:cr,slicedSegments:oi}=Mi(N,st,Tt,pn.filter(Gr=>void 0===Gr.redirectTo),this.relativeLinkResolution);if(0===oi.length&&cr.hasChildren()){const Gr=this.processChildren(pn,cr);return null===Gr?null:[new dr(Oe,Gr)]}if(0===pn.length&&0===oi.length)return[new dr(Oe,[])];const yr=_o(z)===re,fi=this.processSegment(pn,cr,oi,yr?Se:re);return null===fi?null:[new dr(Oe,fi)]}}function P(W){const z=W.value.routeConfig;return z&&""===z.path&&void 0===z.redirectTo}function L(W){const z=[],N=new Set;for(const J of W){if(!P(J)){z.push(J);continue}const re=z.find(Oe=>J.value.routeConfig===Oe.value.routeConfig);void 0!==re?(re.children.push(...J.children),N.add(re)):z.push(J)}for(const J of N){const re=L(J.children);z.push(new dr(J.value,re))}return z.filter(J=>!N.has(J))}function me(W){let z=W;for(;z._sourceSegment;)z=z._sourceSegment;return z}function He(W){let z=W,N=z._segmentIndexShift?z._segmentIndexShift:0;for(;z._sourceSegment;)z=z._sourceSegment,N+=z._segmentIndexShift?z._segmentIndexShift:0;return N-1}function dt(W){return W.data||{}}function ft(W){return W.resolve||{}}function br(W){return[...Object.keys(W),...Object.getOwnPropertySymbols(W)]}function wr(W){return(0,ln.w)(z=>{const N=W(z);return N?(0,Fe.D)(N).pipe((0,Et.U)(()=>z)):(0,we.of)(z)})}class Qi extends class wi{shouldDetach(z){return!1}store(z,N){}shouldAttach(z){return!1}retrieve(z){return null}shouldReuseRoute(z,N){return z.routeConfig===N.routeConfig}}{}const oo=new M.OlP("ROUTES");class po{constructor(z,N,J,re){this.injector=z,this.compiler=N,this.onLoadStartListener=J,this.onLoadEndListener=re}load(z,N){if(N._loader$)return N._loader$;this.onLoadStartListener&&this.onLoadStartListener(N);const re=this.loadModuleFactory(N.loadChildren).pipe((0,Et.U)(Oe=>{this.onLoadEndListener&&this.onLoadEndListener(N);const st=Oe.create(z);return new ws(gn(st.injector.get(oo,void 0,M.XFs.Self|M.XFs.Optional)).map(Wo),st)}),(0,Sn.K)(Oe=>{throw N._loader$=void 0,Oe}));return N._loader$=new Je(re,()=>new fn.x).pipe(nt()),N._loader$}loadModuleFactory(z){return Gt(z()).pipe((0,Zt.z)(N=>N instanceof M.YKP?(0,we.of)(N):(0,Fe.D)(this.compiler.compileModuleAsync(N))))}}class Ro{shouldProcessUrl(z){return!0}extract(z){return z}merge(z,N){return z}}function Oi(W){throw W}function So(W,z,N){return z.parse("/")}function sa(W,z){return(0,we.of)(null)}const ao={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ci={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ji=(()=>{class W{constructor(N,J,re,Oe,st,Tt,pn){this.rootComponentType=N,this.urlSerializer=J,this.rootContexts=re,this.location=Oe,this.config=pn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fn.x,this.errorHandler=Oi,this.malformedUriErrorHandler=So,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sa,afterPreactivation:sa},this.urlHandlingStrategy=new Ro,this.routeReuseStrategy=new Qi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=st.get(M.h0i),this.console=st.get(M.c2e);const yr=st.get(M.R0b);this.isNgZoneEnabled=yr instanceof M.R0b&&M.R0b.isInAngularZone(),this.resetConfig(pn),this.currentUrlTree=function vn(){return new St(new _n([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new po(st,Tt,fi=>this.triggerEvent(new Ti(fi)),fi=>this.triggerEvent(new ci(fi))),this.routerState=ko(this.currentUrlTree,this.rootComponentType),this.transitions=new Ae.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var N;return null===(N=this.location.getState())||void 0===N?void 0:N.\u0275routerPageId}setupNavigations(N){const J=this.events;return N.pipe((0,Yt.h)(re=>0!==re.id),(0,Et.U)(re=>Object.assign(Object.assign({},re),{extractedUrl:this.urlHandlingStrategy.extract(re.rawUrl)})),(0,ln.w)(re=>{let Oe=!1,st=!1;return(0,we.of)(re).pipe((0,wt.b)(Tt=>{this.currentNavigation={id:Tt.id,initialUrl:Tt.currentRawUrl,extractedUrl:Tt.extractedUrl,trigger:Tt.source,extras:Tt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ln.w)(Tt=>{const pn=this.browserUrlTree.toString(),cr=!this.navigated||Tt.extractedUrl.toString()!==pn||pn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||cr)&&this.urlHandlingStrategy.shouldProcessUrl(Tt.rawUrl))return ro(Tt.source)&&(this.browserUrlTree=Tt.extractedUrl),(0,we.of)(Tt).pipe((0,ln.w)(yr=>{const fi=this.transitions.getValue();return J.next(new _r(yr.id,this.serializeUrl(yr.extractedUrl),yr.source,yr.restoredState)),fi!==this.transitions.getValue()?gt.E:Promise.resolve(yr)}),function mr(W,z,N,J){return(0,ln.w)(re=>function Ei(W,z,N,J,re){return new Pi(W,z,N,J,re).apply()}(W,z,N,re.extractedUrl,J).pipe((0,Et.U)(Oe=>Object.assign(Object.assign({},re),{urlAfterRedirects:Oe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,wt.b)(yr=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:yr.urlAfterRedirects})}),function Bt(W,z,N,J,re){return(0,Zt.z)(Oe=>function nn(W,z,N,J,re="emptyOnly",Oe="legacy"){try{const st=new ir(W,z,N,J,re,Oe).recognize();return null===st?_t(new Ve):(0,we.of)(st)}catch(st){return _t(st)}}(W,z,Oe.urlAfterRedirects,N(Oe.urlAfterRedirects),J,re).pipe((0,Et.U)(st=>Object.assign(Object.assign({},Oe),{targetSnapshot:st}))))}(this.rootComponentType,this.config,yr=>this.serializeUrl(yr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wt.b)(yr=>{if("eager"===this.urlUpdateStrategy){if(!yr.extras.skipLocationChange){const Gr=this.urlHandlingStrategy.merge(yr.urlAfterRedirects,yr.rawUrl);this.setBrowserUrl(Gr,yr)}this.browserUrlTree=yr.urlAfterRedirects}const fi=new Gi(yr.id,this.serializeUrl(yr.extractedUrl),this.serializeUrl(yr.urlAfterRedirects),yr.targetSnapshot);J.next(fi)}));if(cr&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:fi,extractedUrl:Gr,source:$a,restoredState:$s,extras:Oc}=Tt,Tc=new _r(fi,this.serializeUrl(Gr),$a,$s);J.next(Tc);const xc=ko(Gr,this.rootComponentType).snapshot;return(0,we.of)(Object.assign(Object.assign({},Tt),{targetSnapshot:xc,urlAfterRedirects:Gr,extras:Object.assign(Object.assign({},Oc),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Tt.rawUrl,Tt.resolve(null),gt.E}),wr(Tt=>{const{targetSnapshot:pn,id:cr,extractedUrl:oi,rawUrl:yr,extras:{skipLocationChange:fi,replaceUrl:Gr}}=Tt;return this.hooks.beforePreactivation(pn,{navigationId:cr,appliedUrlTree:oi,rawUrlTree:yr,skipLocationChange:!!fi,replaceUrl:!!Gr})}),(0,wt.b)(Tt=>{const pn=new Ii(Tt.id,this.serializeUrl(Tt.extractedUrl),this.serializeUrl(Tt.urlAfterRedirects),Tt.targetSnapshot);this.triggerEvent(pn)}),(0,Et.U)(Tt=>Object.assign(Object.assign({},Tt),{guards:ss(Tt.targetSnapshot,Tt.currentSnapshot,this.rootContexts)})),function Rr(W,z){return(0,Zt.z)(N=>{const{targetSnapshot:J,currentSnapshot:re,guards:{canActivateChecks:Oe,canDeactivateChecks:st}}=N;return 0===st.length&&0===Oe.length?(0,we.of)(Object.assign(Object.assign({},N),{guardsResult:!0})):function bo(W,z,N,J){return(0,Fe.D)(W).pipe((0,Zt.z)(re=>function X(W,z,N,J,re){const Oe=z&&z.routeConfig?z.routeConfig.canDeactivate:null;if(!Oe||0===Oe.length)return(0,we.of)(!0);const st=Oe.map(Tt=>{const pn=ne(Tt,z,re);let cr;if(function Bs(W){return W&&xa(W.canDeactivate)}(pn))cr=Gt(pn.canDeactivate(W,z,N,J));else{if(!xa(pn))throw new Error("Invalid CanDeactivate guard");cr=Gt(pn(W,z,N,J))}return cr.pipe(It())});return(0,we.of)(st).pipe(Bo())}(re.component,re.route,N,z,J)),It(re=>!0!==re,!0))}(st,J,re,W).pipe((0,Zt.z)(Tt=>Tt&&function aa(W){return"boolean"==typeof W}(Tt)?function Ao(W,z,N,J){return(0,Fe.D)(z).pipe((0,qe.b)(re=>(0,mt.z)(function Ra(W,z){return null!==W&&z&&z(new no(W)),(0,we.of)(!0)}(re.route.parent,J),function wo(W,z){return null!==W&&z&&z(new Ur(W)),(0,we.of)(!0)}(re.route,J),function ae(W,z,N){const J=z[z.length-1],Oe=z.slice(0,z.length-1).reverse().map(st=>function Di(W){const z=W.routeConfig?W.routeConfig.canActivateChild:null;return z&&0!==z.length?{node:W,guards:z}:null}(st)).filter(st=>null!==st).map(st=>(0,zt.P)(()=>{const Tt=st.guards.map(pn=>{const cr=ne(pn,st.node,N);let oi;if(function ga(W){return W&&xa(W.canActivateChild)}(cr))oi=Gt(cr.canActivateChild(J,W));else{if(!xa(cr))throw new Error("Invalid CanActivateChild guard");oi=Gt(cr(J,W))}return oi.pipe(It())});return(0,we.of)(Tt).pipe(Bo())}));return(0,we.of)(Oe).pipe(Bo())}(W,re.path,N),function j(W,z,N){const J=z.routeConfig?z.routeConfig.canActivate:null;if(!J||0===J.length)return(0,we.of)(!0);const re=J.map(Oe=>(0,zt.P)(()=>{const st=ne(Oe,z,N);let Tt;if(function is(W){return W&&xa(W.canActivate)}(st))Tt=Gt(st.canActivate(z,W));else{if(!xa(st))throw new Error("Invalid CanActivate guard");Tt=Gt(st(z,W))}return Tt.pipe(It())}));return(0,we.of)(re).pipe(Bo())}(W,re.route,N))),It(re=>!0!==re,!0))}(J,Oe,W,z):(0,we.of)(Tt)),(0,Et.U)(Tt=>Object.assign(Object.assign({},N),{guardsResult:Tt})))})}(this.ngModule.injector,Tt=>this.triggerEvent(Tt)),(0,wt.b)(Tt=>{if(Ma(Tt.guardsResult)){const cr=oe(`Redirecting to "${this.serializeUrl(Tt.guardsResult)}"`);throw cr.url=Tt.guardsResult,cr}const pn=new Ni(Tt.id,this.serializeUrl(Tt.extractedUrl),this.serializeUrl(Tt.urlAfterRedirects),Tt.targetSnapshot,!!Tt.guardsResult);this.triggerEvent(pn)}),(0,Yt.h)(Tt=>!!Tt.guardsResult||(this.restoreHistory(Tt),this.cancelNavigationTransition(Tt,""),!1)),wr(Tt=>{if(Tt.guards.canActivateChecks.length)return(0,we.of)(Tt).pipe((0,wt.b)(pn=>{const cr=new Er(pn.id,this.serializeUrl(pn.extractedUrl),this.serializeUrl(pn.urlAfterRedirects),pn.targetSnapshot);this.triggerEvent(cr)}),(0,ln.w)(pn=>{let cr=!1;return(0,we.of)(pn).pipe(function tn(W,z){return(0,Zt.z)(N=>{const{targetSnapshot:J,guards:{canActivateChecks:re}}=N;if(!re.length)return(0,we.of)(N);let Oe=0;return(0,Fe.D)(re).pipe((0,qe.b)(st=>function Gn(W,z,N,J){return function Bn(W,z,N,J){const re=br(W);if(0===re.length)return(0,we.of)({});const Oe={};return(0,Fe.D)(re).pipe((0,Zt.z)(st=>function Wr(W,z,N,J){const re=ne(W,z,J);return Gt(re.resolve?re.resolve(z,N):re(z,N))}(W[st],z,N,J).pipe((0,wt.b)(Tt=>{Oe[st]=Tt}))),ue(1),(0,Zt.z)(()=>br(Oe).length===re.length?(0,we.of)(Oe):gt.E))}(W._resolve,W,z,J).pipe((0,Et.U)(Oe=>(W._resolvedData=Oe,W.data=Object.assign(Object.assign({},W.data),mo(W,N).resolve),null)))}(st.route,J,W,z)),(0,wt.b)(()=>Oe++),ue(1),(0,Zt.z)(st=>Oe===re.length?(0,we.of)(N):gt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,wt.b)({next:()=>cr=!0,complete:()=>{cr||(this.restoreHistory(pn),this.cancelNavigationTransition(pn,"At least one route resolver didn't emit any value."))}}))}),(0,wt.b)(pn=>{const cr=new Kr(pn.id,this.serializeUrl(pn.extractedUrl),this.serializeUrl(pn.urlAfterRedirects),pn.targetSnapshot);this.triggerEvent(cr)}))}),wr(Tt=>{const{targetSnapshot:pn,id:cr,extractedUrl:oi,rawUrl:yr,extras:{skipLocationChange:fi,replaceUrl:Gr}}=Tt;return this.hooks.afterPreactivation(pn,{navigationId:cr,appliedUrlTree:oi,rawUrlTree:yr,skipLocationChange:!!fi,replaceUrl:!!Gr})}),(0,Et.U)(Tt=>{const pn=function ia(W,z,N){const J=Vo(W,z._root,N?N._root:void 0);return new $i(J,z)}(this.routeReuseStrategy,Tt.targetSnapshot,Tt.currentRouterState);return Object.assign(Object.assign({},Tt),{targetRouterState:pn})}),(0,wt.b)(Tt=>{this.currentUrlTree=Tt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Tt.urlAfterRedirects,Tt.rawUrl),this.routerState=Tt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Tt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Tt),this.browserUrlTree=Tt.urlAfterRedirects)}),((W,z,N)=>(0,Et.U)(J=>(new Wa(z,J.targetRouterState,J.currentRouterState,N).activate(W),J)))(this.rootContexts,this.routeReuseStrategy,Tt=>this.triggerEvent(Tt)),(0,wt.b)({next(){Oe=!0},complete(){Oe=!0}}),(0,Xt.x)(()=>{var Tt;Oe||st||this.cancelNavigationTransition(re,`Navigation ID ${re.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Tt=this.currentNavigation)||void 0===Tt?void 0:Tt.id)===re.id&&(this.currentNavigation=null)}),(0,Sn.K)(Tt=>{if(st=!0,function Me(W){return W&&W[xe]}(Tt)){const pn=Ma(Tt.url);pn||(this.navigated=!0,this.restoreHistory(re,!0));const cr=new ri(re.id,this.serializeUrl(re.extractedUrl),Tt.message);J.next(cr),pn?setTimeout(()=>{const oi=this.urlHandlingStrategy.merge(Tt.url,this.rawUrlTree),yr={skipLocationChange:re.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ro(re.source)};this.scheduleNavigation(oi,"imperative",null,yr,{resolve:re.resolve,reject:re.reject,promise:re.promise})},0):re.resolve(!1)}else{this.restoreHistory(re,!0);const pn=new Dr(re.id,this.serializeUrl(re.extractedUrl),Tt);J.next(pn);try{re.resolve(this.errorHandler(Tt))}catch(cr){re.reject(cr)}}return gt.E}))}))}resetRootComponentType(N){this.rootComponentType=N,this.routerState.root.component=this.rootComponentType}setTransition(N){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),N))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(N=>{const J="popstate"===N.type?"popstate":"hashchange";"popstate"===J&&setTimeout(()=>{var re;const Oe={replaceUrl:!0},st=(null===(re=N.state)||void 0===re?void 0:re.navigationId)?N.state:null;if(st){const pn=Object.assign({},st);delete pn.navigationId,delete pn.\u0275routerPageId,0!==Object.keys(pn).length&&(Oe.state=pn)}const Tt=this.parseUrl(N.url);this.scheduleNavigation(Tt,J,st,Oe)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(N){this.events.next(N)}resetConfig(N){pl(N),this.config=N.map(Wo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(N,J={}){const{relativeTo:re,queryParams:Oe,fragment:st,queryParamsHandling:Tt,preserveFragment:pn}=J,cr=re||this.routerState.root,oi=pn?this.currentUrlTree.fragment:st;let yr=null;switch(Tt){case"merge":yr=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Oe);break;case"preserve":yr=this.currentUrlTree.queryParams;break;default:yr=Oe||null}return null!==yr&&(yr=this.removeEmptyProps(yr)),function ns(W,z,N,J,re){if(0===N.length)return co(z.root,z.root,z.root,J,re);const Oe=function ys(W){if("string"==typeof W[0]&&1===W.length&&"/"===W[0])return new oa(!0,0,W);let z=0,N=!1;const J=W.reduce((re,Oe,st)=>{if("object"==typeof Oe&&null!=Oe){if(Oe.outlets){const Tt={};return qn(Oe.outlets,(pn,cr)=>{Tt[cr]="string"==typeof pn?pn.split("/"):pn}),[...re,{outlets:Tt}]}if(Oe.segmentPath)return[...re,Oe.segmentPath]}return"string"!=typeof Oe?[...re,Oe]:0===st?(Oe.split("/").forEach((Tt,pn)=>{0==pn&&"."===Tt||(0==pn&&""===Tt?N=!0:".."===Tt?z++:""!=Tt&&re.push(Tt))}),re):[...re,Oe]},[]);return new oa(N,z,J)}(N);if(Oe.toRoot())return co(z.root,z.root,new _n([],{}),J,re);const st=function Hs(W,z,N){if(W.isAbsolute)return new Co(z.root,!0,0);if(-1===N.snapshot._lastPathIndex){const Oe=N.snapshot._urlSegment;return new Co(Oe,Oe===z.root,0)}const J=Ba(W.commands[0])?0:1;return function Ta(W,z,N){let J=W,re=z,Oe=N;for(;Oe>re;){if(Oe-=re,J=J.parent,!J)throw new Error("Invalid number of '../'");re=J.segments.length}return new Co(J,!1,re-Oe)}(N.snapshot._urlSegment,N.snapshot._lastPathIndex+J,W.numberOfDoubleDots)}(Oe,z,W),Tt=st.processChildren?fa(st.segmentGroup,st.index,Oe.commands):tc(st.segmentGroup,st.index,Oe.commands);return co(z.root,st.segmentGroup,Tt,J,re)}(cr,this.currentUrlTree,N,yr,null!=oi?oi:null)}navigateByUrl(N,J={skipLocationChange:!1}){const re=Ma(N)?N:this.parseUrl(N),Oe=this.urlHandlingStrategy.merge(re,this.rawUrlTree);return this.scheduleNavigation(Oe,"imperative",null,J)}navigate(N,J={skipLocationChange:!1}){return function Al(W){for(let z=0;z<W.length;z++){const N=W[z];if(null==N)throw new Error(`The requested path contains ${N} segment at index ${z}`)}}(N),this.navigateByUrl(this.createUrlTree(N,J),J)}serializeUrl(N){return this.urlSerializer.serialize(N)}parseUrl(N){let J;try{J=this.urlSerializer.parse(N)}catch(re){J=this.malformedUriErrorHandler(re,this.urlSerializer,N)}return J}isActive(N,J){let re;if(re=!0===J?Object.assign({},ao):!1===J?Object.assign({},Ci):J,Ma(N))return Lt(this.currentUrlTree,N,re);const Oe=this.parseUrl(N);return Lt(this.currentUrlTree,Oe,re)}removeEmptyProps(N){return Object.keys(N).reduce((J,re)=>{const Oe=N[re];return null!=Oe&&(J[re]=Oe),J},{})}processNavigations(){this.navigations.subscribe(N=>{this.navigated=!0,this.lastSuccessfulId=N.id,this.currentPageId=N.targetPageId,this.events.next(new mi(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,N.resolve(!0)},N=>{this.console.warn(`Unhandled Navigation Error: ${N}`)})}scheduleNavigation(N,J,re,Oe,st){var Tt,pn;if(this.disposed)return Promise.resolve(!1);let cr,oi,yr;st?(cr=st.resolve,oi=st.reject,yr=st.promise):yr=new Promise(($a,$s)=>{cr=$a,oi=$s});const fi=++this.navigationId;let Gr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(re=this.location.getState()),Gr=re&&re.\u0275routerPageId?re.\u0275routerPageId:Oe.replaceUrl||Oe.skipLocationChange?null!==(Tt=this.browserPageId)&&void 0!==Tt?Tt:0:(null!==(pn=this.browserPageId)&&void 0!==pn?pn:0)+1):Gr=0,this.setTransition({id:fi,targetPageId:Gr,source:J,restoredState:re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:N,extras:Oe,resolve:cr,reject:oi,promise:yr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yr.catch($a=>Promise.reject($a))}setBrowserUrl(N,J){const re=this.urlSerializer.serialize(N),Oe=Object.assign(Object.assign({},J.extras.state),this.generateNgRouterState(J.id,J.targetPageId));this.location.isCurrentPathEqualTo(re)||J.extras.replaceUrl?this.location.replaceState(re,"",Oe):this.location.go(re,"",Oe)}restoreHistory(N,J=!1){var re,Oe;if("computed"===this.canceledNavigationResolution){const st=this.currentPageId-N.targetPageId;"popstate"!==N.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(re=this.currentNavigation)||void 0===re?void 0:re.finalUrl)||0===st?this.currentUrlTree===(null===(Oe=this.currentNavigation)||void 0===Oe?void 0:Oe.finalUrl)&&0===st&&(this.resetState(N),this.browserUrlTree=N.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(st)}else"replace"===this.canceledNavigationResolution&&(J&&this.resetState(N),this.resetUrlToCurrentUrlTree())}resetState(N){this.routerState=N.currentRouterState,this.currentUrlTree=N.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,N.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(N,J){const re=new ri(N.id,this.serializeUrl(N.extractedUrl),J);this.triggerEvent(re),N.resolve(!1)}generateNgRouterState(N,J){return"computed"===this.canceledNavigationResolution?{navigationId:N,\u0275routerPageId:J}:{navigationId:N}}}return W.\u0275fac=function(N){M.$Z()},W.\u0275prov=M.Yz7({token:W,factory:W.\u0275fac}),W})();function ro(W){return"imperative"!==W}let js=(()=>{class W{constructor(N,J,re,Oe,st){this.router=N,this.route=J,this.tabIndexAttribute=re,this.renderer=Oe,this.el=st,this.commands=null,this.onChanges=new fn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(N){if(null!=this.tabIndexAttribute)return;const J=this.renderer,re=this.el.nativeElement;null!==N?J.setAttribute(re,"tabindex",N):J.removeAttribute(re,"tabindex")}ngOnChanges(N){this.onChanges.next(this)}set routerLink(N){null!=N?(this.commands=Array.isArray(N)?N:[N],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const N={skipLocationChange:nr(this.skipLocationChange),replaceUrl:nr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,N),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nr(this.preserveFragment)})}}return W.\u0275fac=function(N){return new(N||W)(M.Y36(Ji),M.Y36(ti),M.$8M("tabindex"),M.Y36(M.Qsj),M.Y36(M.SBq))},W.\u0275dir=M.lG2({type:W,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(N,J){1&N&&M.NdJ("click",function(){return J.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[M.TTD]}),W})(),Us=(()=>{class W{constructor(N,J,re){this.router=N,this.route=J,this.locationStrategy=re,this.commands=null,this.href=null,this.onChanges=new fn.x,this.subscription=N.events.subscribe(Oe=>{Oe instanceof mi&&this.updateTargetUrlAndHref()})}set routerLink(N){this.commands=null!=N?Array.isArray(N)?N:[N]:null}ngOnChanges(N){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(N,J,re,Oe,st){if(0!==N||J||re||Oe||st||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Tt={skipLocationChange:nr(this.skipLocationChange),replaceUrl:nr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Tt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nr(this.preserveFragment)})}}return W.\u0275fac=function(N){return new(N||W)(M.Y36(Ji),M.Y36(ti),M.Y36(or.S$))},W.\u0275dir=M.lG2({type:W,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(N,J){1&N&&M.NdJ("click",function(Oe){return J.onClick(Oe.button,Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey)}),2&N&&M.uIk("target",J.target)("href",J.href,M.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[M.TTD]}),W})();function nr(W){return""===W||!!W}class sr{}class eo{preload(z,N){return N().pipe((0,Sn.K)(()=>(0,we.of)(null)))}}class Ya{preload(z,N){return(0,we.of)(null)}}let Fo=(()=>{class W{constructor(N,J,re,Oe){this.router=N,this.injector=re,this.preloadingStrategy=Oe,this.loader=new po(re,J,pn=>N.triggerEvent(new Ti(pn)),pn=>N.triggerEvent(new ci(pn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Yt.h)(N=>N instanceof mi),(0,qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){const N=this.injector.get(M.h0i);return this.processRoutes(N,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(N,J){const re=[];for(const Oe of J)if(Oe.loadChildren&&!Oe.canLoad&&Oe._loadedConfig){const st=Oe._loadedConfig;re.push(this.processRoutes(st.module,st.routes))}else Oe.loadChildren&&!Oe.canLoad?re.push(this.preloadConfig(N,Oe)):Oe.children&&re.push(this.processRoutes(N,Oe.children));return(0,Fe.D)(re).pipe((0,Kn.J)(),(0,Et.U)(Oe=>{}))}preloadConfig(N,J){return this.preloadingStrategy.preload(J,()=>(J._loadedConfig?(0,we.of)(J._loadedConfig):this.loader.load(N.injector,J)).pipe((0,Zt.z)(Oe=>(J._loadedConfig=Oe,this.processRoutes(Oe.module,Oe.routes)))))}}return W.\u0275fac=function(N){return new(N||W)(M.LFG(Ji),M.LFG(M.Sil),M.LFG(M.zs3),M.LFG(sr))},W.\u0275prov=M.Yz7({token:W,factory:W.\u0275fac}),W})(),Ui=(()=>{class W{constructor(N,J,re={}){this.router=N,this.viewportScroller=J,this.options=re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},re.scrollPositionRestoration=re.scrollPositionRestoration||"disabled",re.anchorScrolling=re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(N=>{N instanceof _r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=N.navigationTrigger,this.restoredId=N.restoredState?N.restoredState.navigationId:0):N instanceof mi&&(this.lastId=N.id,this.scheduleScrollEvent(N,this.router.parseUrl(N.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(N=>{N instanceof Ht&&(N.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(N.position):N.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(N.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(N,J){this.router.triggerEvent(new Ht(N,"popstate"===this.lastSource?this.store[this.restoredId]:null,J))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return W.\u0275fac=function(N){M.$Z()},W.\u0275prov=M.Yz7({token:W,factory:W.\u0275fac}),W})();const Ka=new M.OlP("ROUTER_CONFIGURATION"),iu=new M.OlP("ROUTER_FORROOT_GUARD"),la=[or.Ye,{provide:vt,useClass:$e},{provide:Ji,useFactory:function Fh(W,z,N,J,re,Oe,st={},Tt,pn){const cr=new Ji(null,W,z,N,J,re,gn(Oe));return Tt&&(cr.urlHandlingStrategy=Tt),pn&&(cr.routeReuseStrategy=pn),function Ks(W,z){W.errorHandler&&(z.errorHandler=W.errorHandler),W.malformedUriErrorHandler&&(z.malformedUriErrorHandler=W.malformedUriErrorHandler),W.onSameUrlNavigation&&(z.onSameUrlNavigation=W.onSameUrlNavigation),W.paramsInheritanceStrategy&&(z.paramsInheritanceStrategy=W.paramsInheritanceStrategy),W.relativeLinkResolution&&(z.relativeLinkResolution=W.relativeLinkResolution),W.urlUpdateStrategy&&(z.urlUpdateStrategy=W.urlUpdateStrategy),W.canceledNavigationResolution&&(z.canceledNavigationResolution=W.canceledNavigationResolution)}(st,cr),st.enableTracing&&cr.events.subscribe(oi=>{var yr,fi;null===(yr=console.group)||void 0===yr||yr.call(console,`Router Event: ${oi.constructor.name}`),console.log(oi.toString()),console.log(oi),null===(fi=console.groupEnd)||void 0===fi||fi.call(console)}),cr},deps:[vt,ja,or.Ye,M.zs3,M.Sil,oo,Ka,[class yi{},new M.FiY],[class Fr{},new M.FiY]]},ja,{provide:ti,useFactory:function Mp(W){return W.routerState.root},deps:[Ji]},Fo,Ya,eo,{provide:Ka,useValue:{enableTracing:!1}}];function Rl(){return new M.PXZ("Router",Ji)}let Fa=(()=>{class W{constructor(N,J){}static forRoot(N,J){return{ngModule:W,providers:[la,Ed(N),{provide:iu,useFactory:Gu,deps:[[Ji,new M.FiY,new M.tp0]]},{provide:Ka,useValue:J||{}},{provide:or.S$,useFactory:fo,deps:[or.lw,[new M.tBr(or.mr),new M.FiY],Ka]},{provide:Ui,useFactory:Ys,deps:[Ji,or.EM,Ka]},{provide:sr,useExisting:J&&J.preloadingStrategy?J.preloadingStrategy:Ya},{provide:M.PXZ,multi:!0,useFactory:Rl},[Ss,{provide:M.ip1,multi:!0,useFactory:ma,deps:[Ss]},{provide:Dd,useFactory:Bu,deps:[Ss]},{provide:M.tb,multi:!0,useExisting:Dd}]]}}static forChild(N){return{ngModule:W,providers:[Ed(N)]}}}return W.\u0275fac=function(N){return new(N||W)(M.LFG(iu,8),M.LFG(Ji,8))},W.\u0275mod=M.oAB({type:W}),W.\u0275inj=M.cJS({}),W})();function Ys(W,z,N){return N.scrollOffset&&z.setOffset(N.scrollOffset),new Ui(W,z,N)}function fo(W,z,N={}){return N.useHash?new or.Do(W,z):new or.b0(W,z)}function Gu(W){return"guarded"}function Ed(W){return[{provide:M.deG,multi:!0,useValue:W},{provide:oo,multi:!0,useValue:W}]}let Ss=(()=>{class W{constructor(N){this.injector=N,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fn.x}appInitializer(){return this.injector.get(or.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let J=null;const re=new Promise(Tt=>J=Tt),Oe=this.injector.get(Ji),st=this.injector.get(Ka);return"disabled"===st.initialNavigation?(Oe.setUpLocationChangeListener(),J(!0)):"enabled"===st.initialNavigation||"enabledBlocking"===st.initialNavigation?(Oe.hooks.afterPreactivation=()=>this.initNavigation?(0,we.of)(null):(this.initNavigation=!0,J(!0),this.resultOfPreactivationDone),Oe.initialNavigation()):J(!0),re})}bootstrapListener(N){const J=this.injector.get(Ka),re=this.injector.get(Fo),Oe=this.injector.get(Ui),st=this.injector.get(Ji),Tt=this.injector.get(M.z2F);N===Tt.components[0]&&(("enabledNonBlocking"===J.initialNavigation||void 0===J.initialNavigation)&&st.initialNavigation(),re.setUpPreloading(),Oe.init(),st.resetRootComponentType(Tt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return W.\u0275fac=function(N){return new(N||W)(M.LFG(M.zs3))},W.\u0275prov=M.Yz7({token:W,factory:W.\u0275fac}),W})();function ma(W){return W.appInitializer.bind(W)}function Bu(W){return W.bootstrapListener.bind(W)}const Dd=new M.OlP("Router Initializer")},2359:(An,Dt,H)=>{H.d(Dt,{L:()=>Yt});var M=H(5e3),G=H(226),B=H(9808),Le=H(3087),Ne=H(969);let Yt=(()=>{class ue{}return ue.\u0275fac=function(De){return new(De||ue)},ue.\u0275mod=M.oAB({type:ue}),ue.\u0275inj=M.cJS({imports:[[G.vT,B.ez,Le.PV,Ne.T]]}),ue})()},6042:(An,Dt,H)=>{H.d(Dt,{fY:()=>Vn,ix:()=>w,sL:()=>Yt});var M=H(655),G=H(5e3),B=H(7579),Le=H(4968),Ne=H(2722),Ue=H(8675),Ze=H(9300),nt=H(9439),Je=H(1721),Fe=H(3087),we=H(226),Ae=H(9808),ot=H(2683),lt=H(2643);const mt=["nz-button",""];function zt(ue,at){1&ue&&G._UZ(0,"i",1)}const gt=["*"];let w=(()=>{class ue{constructor(De,Qe,Ct,je,yt,It){this.ngZone=De,this.elementRef=Qe,this.cdr=Ct,this.renderer=je,this.nzConfigService=yt,this.directionality=It,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new B.x,this.loading$=new B.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,Ne.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(De,Qe){De.forEach(Ct=>{if("#text"===Ct.nodeName){const je=Qe.createElement("span"),yt=Qe.parentNode(Ct);Qe.insertBefore(yt,je,Ct),Qe.appendChild(je,Ct)}})}assertIconOnly(De,Qe){const Ct=Array.from(De.childNodes),je=Ct.filter(ln=>"I"===ln.nodeName).length,yt=Ct.every(ln=>"#text"!==ln.nodeName);Ct.every(ln=>"SPAN"!==ln.nodeName)&&yt&&je>=1&&Qe.addClass(De,"ant-btn-icon-only")}ngOnInit(){var De;null===(De=this.directionality.change)||void 0===De||De.pipe((0,Ne.R)(this.destroy$)).subscribe(Qe=>{this.dir=Qe,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,Le.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,Ne.R)(this.destroy$)).subscribe(Qe=>{var Ct;(this.disabled&&"A"===(null===(Ct=Qe.target)||void 0===Ct?void 0:Ct.tagName)||this.nzLoading)&&(Qe.preventDefault(),Qe.stopImmediatePropagation())})})}ngOnChanges(De){const{nzLoading:Qe}=De;Qe&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,Ue.O)(this.nzLoading),(0,Ze.h)(()=>!!this.nzIconDirectiveElement),(0,Ne.R)(this.destroy$)).subscribe(De=>{const Qe=this.nzIconDirectiveElement.nativeElement;De?this.renderer.setStyle(Qe,"display","none"):this.renderer.removeStyle(Qe,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return ue.\u0275fac=function(De){return new(De||ue)(G.Y36(G.R0b),G.Y36(G.SBq),G.Y36(G.sBO),G.Y36(G.Qsj),G.Y36(nt.jY),G.Y36(we.Is,8))},ue.\u0275cmp=G.Xpm({type:ue,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(De,Qe,Ct){if(1&De&&G.Suo(Ct,Fe.Ls,5,G.SBq),2&De){let je;G.iGM(je=G.CRH())&&(Qe.nzIconDirectiveElement=je.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(De,Qe){2&De&&(G.uIk("tabindex",Qe.disabled?-1:null===Qe.tabIndex?null:Qe.tabIndex)("disabled",Qe.disabled||null),G.ekj("ant-btn-primary","primary"===Qe.nzType)("ant-btn-dashed","dashed"===Qe.nzType)("ant-btn-link","link"===Qe.nzType)("ant-btn-text","text"===Qe.nzType)("ant-btn-circle","circle"===Qe.nzShape)("ant-btn-round","round"===Qe.nzShape)("ant-btn-lg","large"===Qe.nzSize)("ant-btn-sm","small"===Qe.nzSize)("ant-btn-dangerous",Qe.nzDanger)("ant-btn-loading",Qe.nzLoading)("ant-btn-background-ghost",Qe.nzGhost)("ant-btn-block",Qe.nzBlock)("ant-input-search-button",Qe.nzSearch)("ant-btn-rtl","rtl"===Qe.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[G.TTD],attrs:mt,ngContentSelectors:gt,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(De,Qe){1&De&&(G.F$t(),G.YNc(0,zt,1,0,"i",0),G.Hsn(1)),2&De&&G.Q6J("ngIf",Qe.nzLoading)},directives:[Ae.O5,Fe.Ls,ot.w],encapsulation:2,changeDetection:0}),(0,M.gn)([(0,Je.yF)()],ue.prototype,"nzBlock",void 0),(0,M.gn)([(0,Je.yF)()],ue.prototype,"nzGhost",void 0),(0,M.gn)([(0,Je.yF)()],ue.prototype,"nzSearch",void 0),(0,M.gn)([(0,Je.yF)()],ue.prototype,"nzLoading",void 0),(0,M.gn)([(0,Je.yF)()],ue.prototype,"nzDanger",void 0),(0,M.gn)([(0,Je.yF)()],ue.prototype,"disabled",void 0),(0,M.gn)([(0,nt.oS)()],ue.prototype,"nzSize",void 0),ue})(),Vn=(()=>{class ue{constructor(De){this.directionality=De,this.nzSize="default",this.dir="ltr",this.destroy$=new B.x}ngOnInit(){var De;this.dir=this.directionality.value,null===(De=this.directionality.change)||void 0===De||De.pipe((0,Ne.R)(this.destroy$)).subscribe(Qe=>{this.dir=Qe})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return ue.\u0275fac=function(De){return new(De||ue)(G.Y36(we.Is,8))},ue.\u0275cmp=G.Xpm({type:ue,selectors:[["nz-button-group"]],hostAttrs:[1,"ant-btn-group"],hostVars:6,hostBindings:function(De,Qe){2&De&&G.ekj("ant-btn-group-lg","large"===Qe.nzSize)("ant-btn-group-sm","small"===Qe.nzSize)("ant-btn-group-rtl","rtl"===Qe.dir)},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],ngContentSelectors:gt,decls:1,vars:0,template:function(De,Qe){1&De&&(G.F$t(),G.Hsn(0))},encapsulation:2,changeDetection:0}),ue})(),Yt=(()=>{class ue{}return ue.\u0275fac=function(De){return new(De||ue)},ue.\u0275mod=G.oAB({type:ue}),ue.\u0275inj=G.cJS({imports:[[we.vT,Ae.ez,lt.vG,Fe.PV,ot.a],ot.a,lt.vG]}),ue})()},8076:(An,Dt,H)=>{H.d(Dt,{$C:()=>lt,J_:()=>Le,YK:()=>nt,c8:()=>Ze,mF:()=>Ae});var M=H(1777);let G=(()=>{class zt{}return zt.SLOW="0.3s",zt.BASE="0.2s",zt.FAST="0.1s",zt})(),B=(()=>{class zt{}return zt.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",zt.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",zt.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",zt.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",zt.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",zt.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",zt.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",zt.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",zt.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",zt.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",zt.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",zt.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",zt.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",zt.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",zt})();const Le=(0,M.X$)("collapseMotion",[(0,M.SB)("expanded",(0,M.oB)({height:"*"})),(0,M.SB)("collapsed",(0,M.oB)({height:0,overflow:"hidden"})),(0,M.SB)("hidden",(0,M.oB)({height:0,overflow:"hidden",borderTopWidth:"0"})),(0,M.eR)("expanded => collapsed",(0,M.jt)(`150ms ${B.EASE_IN_OUT}`)),(0,M.eR)("expanded => hidden",(0,M.jt)(`150ms ${B.EASE_IN_OUT}`)),(0,M.eR)("collapsed => expanded",(0,M.jt)(`150ms ${B.EASE_IN_OUT}`)),(0,M.eR)("hidden => expanded",(0,M.jt)(`150ms ${B.EASE_IN_OUT}`))]),Ze=((0,M.X$)("treeCollapseMotion",[(0,M.eR)("* => *",[(0,M.IO)("nz-tree-node:leave,nz-tree-builtin-node:leave",[(0,M.oB)({overflow:"hidden"}),(0,M.EY)(0,[(0,M.jt)(`150ms ${B.EASE_IN_OUT}`,(0,M.oB)({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),(0,M.IO)("nz-tree-node:enter,nz-tree-builtin-node:enter",[(0,M.oB)({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),(0,M.EY)(0,[(0,M.jt)(`150ms ${B.EASE_IN_OUT}`,(0,M.oB)({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),(0,M.X$)("fadeMotion",[(0,M.eR)(":enter",[(0,M.oB)({opacity:0}),(0,M.jt)(`${G.BASE}`,(0,M.oB)({opacity:1}))]),(0,M.eR)(":leave",[(0,M.oB)({opacity:1}),(0,M.jt)(`${G.BASE}`,(0,M.oB)({opacity:0}))])]),(0,M.X$)("helpMotion",[(0,M.eR)(":enter",[(0,M.oB)({opacity:0,transform:"translateY(-5px)"}),(0,M.jt)(`${G.SLOW} ${B.EASE_IN_OUT}`,(0,M.oB)({opacity:1,transform:"translateY(0)"}))]),(0,M.eR)(":leave",[(0,M.oB)({opacity:1,transform:"translateY(0)"}),(0,M.jt)(`${G.SLOW} ${B.EASE_IN_OUT}`,(0,M.oB)({opacity:0,transform:"translateY(-5px)"}))])])),nt=(0,M.X$)("moveUpMotion",[(0,M.eR)("* => enter",[(0,M.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),(0,M.jt)(`${G.BASE}`,(0,M.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),(0,M.eR)("* => leave",[(0,M.oB)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),(0,M.jt)(`${G.BASE}`,(0,M.oB)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Fe=((0,M.X$)("notificationMotion",[(0,M.SB)("enterRight",(0,M.oB)({opacity:1,transform:"translateX(0)"})),(0,M.eR)("* => enterRight",[(0,M.oB)({opacity:0,transform:"translateX(5%)"}),(0,M.jt)("100ms linear")]),(0,M.SB)("enterLeft",(0,M.oB)({opacity:1,transform:"translateX(0)"})),(0,M.eR)("* => enterLeft",[(0,M.oB)({opacity:0,transform:"translateX(-5%)"}),(0,M.jt)("100ms linear")]),(0,M.SB)("leave",(0,M.oB)({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),(0,M.eR)("* => leave",[(0,M.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,M.jt)("100ms linear")])]),`${G.BASE} ${B.EASE_OUT_QUINT}`),we=`${G.BASE} ${B.EASE_IN_QUINT}`,Ae=(0,M.X$)("slideMotion",[(0,M.SB)("void",(0,M.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,M.SB)("enter",(0,M.oB)({opacity:1,transform:"scaleY(1)"})),(0,M.eR)("void => *",[(0,M.jt)(Fe)]),(0,M.eR)("* => void",[(0,M.jt)(we)])]),lt=((0,M.X$)("slideAlertMotion",[(0,M.eR)(":leave",[(0,M.oB)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,M.jt)(`${G.SLOW} ${B.EASE_IN_OUT_CIRC}`,(0,M.oB)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),(0,M.X$)("zoomBigMotion",[(0,M.eR)("void => active",[(0,M.oB)({opacity:0,transform:"scale(0.8)"}),(0,M.jt)(`${G.BASE} ${B.EASE_OUT_CIRC}`,(0,M.oB)({opacity:1,transform:"scale(1)"}))]),(0,M.eR)("active => void",[(0,M.oB)({opacity:1,transform:"scale(1)"}),(0,M.jt)(`${G.BASE} ${B.EASE_IN_OUT_CIRC}`,(0,M.oB)({opacity:0,transform:"scale(0.8)"}))])]));(0,M.X$)("zoomBadgeMotion",[(0,M.eR)(":enter",[(0,M.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}),(0,M.jt)(`${G.SLOW} ${B.EASE_OUT_BACK}`,(0,M.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),(0,M.eR)(":leave",[(0,M.oB)({opacity:1,transform:"scale(1) translate(50%, -50%)"}),(0,M.jt)(`${G.SLOW} ${B.EASE_IN_BACK}`,(0,M.oB)({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])])},9439:(An,Dt,H)=>{H.d(Dt,{jY:()=>Ze,oS:()=>nt});var M=H(5e3),G=H(7579),B=H(9300),Le=H(9718);const Ne=new M.OlP("nz-config"),Ue=function(Je){return void 0!==Je};let Ze=(()=>{class Je{constructor(we){this.configUpdated$=new G.x,this.config=we||{}}getConfig(){return this.config}getConfigForComponent(we){return this.config[we]}getConfigChangeEventForComponent(we){return this.configUpdated$.pipe((0,B.h)(Ae=>Ae===we),(0,Le.h)(void 0))}set(we,Ae){this.config[we]=Object.assign(Object.assign({},this.config[we]),Ae),this.configUpdated$.next(we)}}return Je.\u0275fac=function(we){return new(we||Je)(M.LFG(Ne,8))},Je.\u0275prov=M.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();function nt(){return function(Fe,we,Ae){const ot=`$$__zorroConfigDecorator__${we}`;return Object.defineProperty(Fe,ot,{configurable:!0,writable:!0,enumerable:!1}),{get(){var lt,mt;const zt=(null==Ae?void 0:Ae.get)?Ae.get.bind(this)():this[ot],gt=((null===(lt=this.propertyAssignCounter)||void 0===lt?void 0:lt[we])||0)>1,fn=null===(mt=this.nzConfigService.getConfigForComponent(this._nzModuleName))||void 0===mt?void 0:mt[we];return gt&&Ue(zt)?zt:Ue(fn)?fn:zt},set(lt){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[we]=(this.propertyAssignCounter[we]||0)+1,(null==Ae?void 0:Ae.set)?Ae.set.bind(this)(lt):this[ot]=lt},configurable:!0,enumerable:!0}}}},585:(An,Dt,H)=>{H.d(Dt,{N:()=>M});const M={isTestMode:!1}},6947:(An,Dt,H)=>{H.d(Dt,{ZK:()=>Ze});var M=H(5e3),G=H(585);const B={};const Ze=(...Fe)=>function Ue(Fe,...we){(G.N.isTestMode||(0,M.X6Q)()&&function Ne(...Fe){const we=Fe.reduce((Ae,ot)=>Ae+ot.toString(),"");return!B[we]&&(B[we]=!0,!0)}(...we))&&Fe(...we)}((...we)=>console.warn("[NG-ZORRO]:",...we),...Fe)},4832:(An,Dt,H)=>{H.d(Dt,{P:()=>nt,g:()=>Je});var M=H(9808),G=H(5e3),B=H(655),Le=H(3191),Ne=H(6360),Ue=H(1721);const Ze="nz-animate-disabled";let nt=(()=>{class Fe{constructor(Ae,ot,lt){this.element=Ae,this.renderer=ot,this.animationType=lt,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const Ae=(0,Le.fI)(this.element);!Ae||(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(Ae,Ze):this.renderer.removeClass(Ae,Ze))}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)(G.Y36(G.SBq),G.Y36(G.Qsj),G.Y36(Ne.Qb,8))},Fe.\u0275dir=G.lG2({type:Fe,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[G.TTD]}),(0,B.gn)([(0,Ue.yF)()],Fe.prototype,"nzNoAnimation",void 0),Fe})(),Je=(()=>{class Fe{}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)},Fe.\u0275mod=G.oAB({type:Fe}),Fe.\u0275inj=G.cJS({imports:[[M.ez]]}),Fe})()},969:(An,Dt,H)=>{H.d(Dt,{T:()=>Ne,f:()=>B});var M=H(9808),G=H(5e3);let B=(()=>{class Ue{constructor(nt,Je){this.viewContainer=nt,this.templateRef=Je,this.embeddedViewRef=null,this.context=new Le,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(nt,Je){return!0}recreateView(){this.viewContainer.clear();const nt=this.nzStringTemplateOutlet instanceof G.Rgc;this.embeddedViewRef=this.viewContainer.createEmbeddedView(nt?this.nzStringTemplateOutlet:this.templateRef,nt?this.nzStringTemplateOutletContext:this.context)}updateContext(){const Je=this.nzStringTemplateOutlet instanceof G.Rgc?this.nzStringTemplateOutletContext:this.context,Fe=this.embeddedViewRef.context;if(Je)for(const we of Object.keys(Je))Fe[we]=Je[we]}ngOnChanges(nt){const{nzStringTemplateOutletContext:Je,nzStringTemplateOutlet:Fe}=nt;Fe&&(this.context.$implicit=Fe.currentValue),(()=>{let ot=!1;if(Fe)if(Fe.firstChange)ot=!0;else{const gt=Fe.currentValue instanceof G.Rgc;ot=Fe.previousValue instanceof G.Rgc||gt}return Je&&(zt=>{const gt=Object.keys(zt.previousValue||{}),fn=Object.keys(zt.currentValue||{});if(gt.length===fn.length){for(const w of fn)if(-1===gt.indexOf(w))return!0;return!1}return!0})(Je)||ot})()?this.recreateView():this.updateContext()}}return Ue.\u0275fac=function(nt){return new(nt||Ue)(G.Y36(G.s_b),G.Y36(G.Rgc))},Ue.\u0275dir=G.lG2({type:Ue,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[G.TTD]}),Ue})();class Le{}let Ne=(()=>{class Ue{}return Ue.\u0275fac=function(nt){return new(nt||Ue)},Ue.\u0275mod=G.oAB({type:Ue}),Ue.\u0275inj=G.cJS({imports:[[M.ez]]}),Ue})()},4090:(An,Dt,H)=>{H.d(Dt,{KV:()=>lt,WV:()=>Vn,kn:()=>at,r3:()=>ue,rI:()=>Ae});var M=H(5e3),G=H(7579),B=H(3601),Le=H(8746),Ne=H(2722),Ue=H(4004),Ze=H(8675),nt=H(1884),Je=H(585),Fe=H(5113);const we=()=>{};let Ae=(()=>{class Qe{constructor(je,yt){this.ngZone=je,this.rendererFactory2=yt,this.resizeSource$=new G.x,this.listeners=0,this.disposeHandle=we,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=we}subscribe(){return this.registerListener(),this.resizeSource$.pipe((0,B.e)(16),(0,Le.x)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=we)}}return Qe.\u0275fac=function(je){return new(je||Qe)(M.LFG(M.R0b),M.LFG(M.FYo))},Qe.\u0275prov=M.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();const ot=new Map;let lt=(()=>{class Qe{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return Je.N.isTestMode?ot:this._singletonRegistry}registerSingletonWithKey(je,yt){const It=this.singletonRegistry.has(je),Et=It?this.singletonRegistry.get(je):this.withNewTarget(yt);It||this.singletonRegistry.set(je,Et)}getSingletonWithKey(je){return this.singletonRegistry.has(je)?this.singletonRegistry.get(je).target:null}withNewTarget(je){return{target:je}}}return Qe.\u0275fac=function(je){return new(je||Qe)},Qe.\u0275prov=M.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})();var w=(()=>{return(Qe=w||(w={})).xxl="xxl",Qe.xl="xl",Qe.lg="lg",Qe.md="md",Qe.sm="sm",Qe.xs="xs",w;var Qe})();const Vn={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let ue=(()=>{class Qe{constructor(je,yt){this.resizeService=je,this.mediaMatcher=yt,this.destroy$=new G.x,this.resizeService.subscribe().pipe((0,Ne.R)(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(je,yt){if(yt){const It=()=>this.matchMedia(je,!0);return this.resizeService.subscribe().pipe((0,Ue.U)(It),(0,Ze.O)(It()),(0,nt.x)((Et,ln)=>Et[0]===ln[0]),(0,Ue.U)(Et=>Et[1]))}{const It=()=>this.matchMedia(je);return this.resizeService.subscribe().pipe((0,Ue.U)(It),(0,Ze.O)(It()),(0,nt.x)())}}matchMedia(je,yt){let It=w.md;const Et={};return Object.keys(je).map(ln=>{const ht=ln,Sn=this.mediaMatcher.matchMedia(Vn[ht]).matches;Et[ln]=Sn,Sn&&(It=ht)}),yt?[It,Et]:It}}return Qe.\u0275fac=function(je){return new(je||Qe)(M.LFG(Ae),M.LFG(Fe.vx))},Qe.\u0275prov=M.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})(),at=(()=>{class Qe extends G.x{ngOnDestroy(){this.next(),this.complete()}}return Qe.\u0275fac=function(){let Ct;return function(yt){return(Ct||(Ct=M.n5z(Qe)))(yt||Qe)}}(),Qe.\u0275prov=M.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})()},315:(An,Dt,H)=>{H.d(Dt,{Yp:()=>Re,ky:()=>rt,_p:()=>Se,Et:()=>Ht,xR:()=>oe});var M=H(953),G=H(833),Le=H(1998);function Ue(Me,ye){(0,G.Z)(2,arguments);var ze=(0,M.Z)(Me),ut=(0,Le.Z)(ye);if(isNaN(ut))return new Date(NaN);if(!ut)return ze;var en=ze.getDate(),gn=new Date(ze.getTime());gn.setMonth(ze.getMonth()+ut+1,0);var Nn=gn.getDate();return en>=Nn?gn:(ze.setFullYear(gn.getFullYear(),gn.getMonth(),en),ze)}function nt(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me),ze=ye.getFullYear(),ut=ye.getMonth(),en=new Date(0);return en.setFullYear(ze,ut+1,0),en.setHours(0,0,0,0),en.getDate()}function Fe(Me,ye){(0,G.Z)(2,arguments);var ze=(0,M.Z)(Me),ut=(0,Le.Z)(ye);return isNaN(ut)?new Date(NaN):(ut&&ze.setDate(ze.getDate()+ut),ze)}function Ae(Me,ye){(0,G.Z)(2,arguments);var ze=(0,M.Z)(Me),ut=(0,M.Z)(ye);return ze.getFullYear()===ut.getFullYear()}function ot(Me,ye){(0,G.Z)(2,arguments);var ze=(0,M.Z)(Me),ut=(0,M.Z)(ye);return ze.getFullYear()===ut.getFullYear()&&ze.getMonth()===ut.getMonth()}function lt(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me);return ye.setHours(0,0,0,0),ye}function mt(Me,ye){(0,G.Z)(2,arguments);var ze=lt(Me),ut=lt(ye);return ze.getTime()===ut.getTime()}function zt(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me);return ye.setMinutes(0,0,0),ye}function gt(Me,ye){(0,G.Z)(2,arguments);var ze=zt(Me),ut=zt(ye);return ze.getTime()===ut.getTime()}function fn(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me);return ye.setSeconds(0,0),ye}function w(Me,ye){(0,G.Z)(2,arguments);var ze=fn(Me),ut=fn(ye);return ze.getTime()===ut.getTime()}function Vn(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me);return ye.setMilliseconds(0),ye}function Yt(Me,ye){(0,G.Z)(2,arguments);var ze=Vn(Me),ut=Vn(ye);return ze.getTime()===ut.getTime()}function ue(Me,ye){(0,G.Z)(2,arguments);var ze=(0,M.Z)(Me),ut=(0,M.Z)(ye);return ze.getFullYear()-ut.getFullYear()}function at(Me,ye){(0,G.Z)(2,arguments);var ze=(0,M.Z)(Me),ut=(0,M.Z)(ye),en=ze.getFullYear()-ut.getFullYear(),gn=ze.getMonth()-ut.getMonth();return 12*en+gn}var De=H(9868);function Ct(Me,ye){(0,G.Z)(2,arguments);var ze=lt(Me),ut=lt(ye),en=ze.getTime()-(0,De.Z)(ze),gn=ut.getTime()-(0,De.Z)(ut);return Math.round((en-gn)/864e5)}function or(Me,ye){return(0,G.Z)(2,arguments),(0,M.Z)(Me).getTime()-(0,M.Z)(ye).getTime()}Math.pow(10,8);var gr={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(Me){return Me<0?Math.ceil(Me):Math.floor(Me)}};function mi(Me){return Me?gr[Me]:gr.trunc}function ri(Me,ye,ze){(0,G.Z)(2,arguments);var ut=or(Me,ye)/36e5;return mi(null==ze?void 0:ze.roundingMethod)(ut)}function Dr(Me,ye,ze){(0,G.Z)(2,arguments);var ut=or(Me,ye)/6e4;return mi(null==ze?void 0:ze.roundingMethod)(ut)}function Gi(Me,ye,ze){(0,G.Z)(2,arguments);var ut=or(Me,ye)/1e3;return mi(null==ze?void 0:ze.roundingMethod)(ut)}function Er(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me);return ye.setHours(23,59,59,999),ye}function Kr(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me),ze=ye.getMonth();return ye.setFullYear(ye.getFullYear(),ze+1,0),ye.setHours(23,59,59,999),ye}var ci=H(895),no=H(900),Zn=H(6947),Ur=H(9808),Qn=H(1721);function Ht(Me){const[ye,ze]=Me;return!!ye&&!!ze&&ze.isBeforeDay(ye)}function Se(Me,ye,ze="month",ut="left"){const[en,gn]=Me;let Nn=en||new Re,ur=gn||(ye?Nn:Nn.add(1,ze));return en&&!gn?(Nn=en,ur=ye?en:en.add(1,ze)):!en&&gn?(Nn=ye?gn:gn.add(-1,ze),ur=gn):en&&gn&&!ye&&(en.isSame(gn,ze)||"left"===ut?ur=Nn.add(1,ze):Nn=ur.add(-1,ze)),[Nn,ur]}function rt(Me){return Array.isArray(Me)?Me.map(ye=>ye instanceof Re?ye.clone():null):Me instanceof Re?Me.clone():null}class Re{constructor(ye){if(ye)if(ye instanceof Date)this.nativeDate=ye;else{if("string"!=typeof ye&&"number"!=typeof ye)throw new Error('The input date type is not supported ("Date" is now recommended)');(0,Zn.ZK)('The string type is not recommended for date-picker, use "Date" type'),this.nativeDate=new Date(ye)}else this.nativeDate=new Date}calendarStart(ye){return new Re((0,ci.Z)(function B(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me);return ye.setDate(1),ye.setHours(0,0,0,0),ye}(this.nativeDate),ye))}getYear(){return this.nativeDate.getFullYear()}getMonth(){return this.nativeDate.getMonth()}getDay(){return this.nativeDate.getDay()}getTime(){return this.nativeDate.getTime()}getDate(){return this.nativeDate.getDate()}getHours(){return this.nativeDate.getHours()}getMinutes(){return this.nativeDate.getMinutes()}getSeconds(){return this.nativeDate.getSeconds()}getMilliseconds(){return this.nativeDate.getMilliseconds()}clone(){return new Re(new Date(this.nativeDate))}setHms(ye,ze,ut){const en=new Date(this.nativeDate.setHours(ye,ze,ut));return new Re(en)}setYear(ye){return new Re(function Ne(Me,ye){(0,G.Z)(2,arguments);var ze=(0,M.Z)(Me),ut=(0,Le.Z)(ye);return isNaN(ze.getTime())?new Date(NaN):(ze.setFullYear(ut),ze)}(this.nativeDate,ye))}addYears(ye){return new Re(function Ze(Me,ye){(0,G.Z)(2,arguments);var ze=(0,Le.Z)(ye);return Ue(Me,12*ze)}(this.nativeDate,ye))}setMonth(ye){return new Re(function Je(Me,ye){(0,G.Z)(2,arguments);var ze=(0,M.Z)(Me),ut=(0,Le.Z)(ye),en=ze.getFullYear(),gn=ze.getDate(),Nn=new Date(0);Nn.setFullYear(en,ut,15),Nn.setHours(0,0,0,0);var ur=nt(Nn);return ze.setMonth(ut,Math.min(gn,ur)),ze}(this.nativeDate,ye))}addMonths(ye){return new Re(Ue(this.nativeDate,ye))}setDay(ye,ze){return new Re(function we(Me,ye,ze){(0,G.Z)(2,arguments);var ut=ze||{},en=ut.locale,gn=en&&en.options&&en.options.weekStartsOn,Nn=null==gn?0:(0,Le.Z)(gn),ur=null==ut.weekStartsOn?Nn:(0,Le.Z)(ut.weekStartsOn);if(!(ur>=0&&ur<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var qn=(0,M.Z)(Me),Gt=(0,Le.Z)(ye),vn=qn.getDay(),ce=(Gt%7+7)%7,Lt=7-ur;return Fe(qn,Gt<0||Gt>6?Gt-(vn+Lt)%7:(ce+Lt)%7-(vn+Lt)%7)}(this.nativeDate,ye,ze))}setDate(ye){const ze=new Date(this.nativeDate);return ze.setDate(ye),new Re(ze)}addDays(ye){return this.setDate(this.getDate()+ye)}add(ye,ze){switch(ze){case"decade":return this.addYears(10*ye);case"year":return this.addYears(ye);default:return this.addMonths(ye)}}isSame(ye,ze="day"){let ut;switch(ze){case"decade":ut=(en,gn)=>Math.abs(en.getFullYear()-gn.getFullYear())<11;break;case"year":ut=Ae;break;case"month":ut=ot;break;case"day":default:ut=mt;break;case"hour":ut=gt;break;case"minute":ut=w;break;case"second":ut=Yt}return ut(this.nativeDate,this.toNativeDate(ye))}isSameYear(ye){return this.isSame(ye,"year")}isSameMonth(ye){return this.isSame(ye,"month")}isSameDay(ye){return this.isSame(ye,"day")}isSameHour(ye){return this.isSame(ye,"hour")}isSameMinute(ye){return this.isSame(ye,"minute")}isSameSecond(ye){return this.isSame(ye,"second")}isBefore(ye,ze="day"){if(null===ye)return!1;let ut;switch(ze){case"year":ut=ue;break;case"month":ut=at;break;case"day":default:ut=Ct;break;case"hour":ut=ri;break;case"minute":ut=Dr;break;case"second":ut=Gi}return ut(this.nativeDate,this.toNativeDate(ye))<0}isBeforeYear(ye){return this.isBefore(ye,"year")}isBeforeMonth(ye){return this.isBefore(ye,"month")}isBeforeDay(ye){return this.isBefore(ye,"day")}isToday(){return function Ii(Me){return(0,G.Z)(1,arguments),mt(Me,Date.now())}(this.nativeDate)}isValid(){return(0,no.Z)(this.nativeDate)}isFirstDayOfMonth(){return function Ni(Me){return(0,G.Z)(1,arguments),1===(0,M.Z)(Me).getDate()}(this.nativeDate)}isLastDayOfMonth(){return function Ti(Me){(0,G.Z)(1,arguments);var ye=(0,M.Z)(Me);return Er(ye).getTime()===Kr(ye).getTime()}(this.nativeDate)}toNativeDate(ye){return ye instanceof Re?ye.nativeDate:ye}}class oe{constructor(ye,ze){this.format=ye,this.localeId=ze,this.regex=null,this.matchMap={hour:null,minute:null,second:null,periodNarrow:null,periodWide:null,periodAbbreviated:null},this.genRegexp()}toDate(ye){const ze=this.getTimeResult(ye),ut=new Date;return(0,Qn.DX)(null==ze?void 0:ze.hour)&&ut.setHours(ze.hour),(0,Qn.DX)(null==ze?void 0:ze.minute)&&ut.setMinutes(ze.minute),(0,Qn.DX)(null==ze?void 0:ze.second)&&ut.setSeconds(ze.second),1===(null==ze?void 0:ze.period)&&ut.getHours()<12&&ut.setHours(ut.getHours()+12),ut}getTimeResult(ye){const ze=this.regex.exec(ye);let ut=null;return ze?((0,Qn.DX)(this.matchMap.periodNarrow)&&(ut=(0,Ur.ol)(this.localeId,Ur.x.Format,Ur.Tn.Narrow).indexOf(ze[this.matchMap.periodNarrow+1])),(0,Qn.DX)(this.matchMap.periodWide)&&(ut=(0,Ur.ol)(this.localeId,Ur.x.Format,Ur.Tn.Wide).indexOf(ze[this.matchMap.periodWide+1])),(0,Qn.DX)(this.matchMap.periodAbbreviated)&&(ut=(0,Ur.ol)(this.localeId,Ur.x.Format,Ur.Tn.Abbreviated).indexOf(ze[this.matchMap.periodAbbreviated+1])),{hour:(0,Qn.DX)(this.matchMap.hour)?Number.parseInt(ze[this.matchMap.hour+1],10):null,minute:(0,Qn.DX)(this.matchMap.minute)?Number.parseInt(ze[this.matchMap.minute+1],10):null,second:(0,Qn.DX)(this.matchMap.second)?Number.parseInt(ze[this.matchMap.second+1],10):null,period:ut}):null}genRegexp(){let ye=this.format.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&");const ze=/h{1,2}/i,ut=/m{1,2}/,en=/s{1,2}/,gn=/aaaaa/,Nn=/aaaa/,ur=/a{1,3}/,qn=ze.exec(this.format),Gt=ut.exec(this.format),vn=en.exec(this.format),bn=gn.exec(this.format);let ce=null,Lt=null;bn||(ce=Nn.exec(this.format)),!ce&&!bn&&(Lt=ur.exec(this.format)),[qn,Gt,vn,bn,ce,Lt].filter(We=>!!We).sort((We,kt)=>We.index-kt.index).forEach((We,kt)=>{switch(We){case qn:this.matchMap.hour=kt,ye=ye.replace(ze,"(\\d{1,2})");break;case Gt:this.matchMap.minute=kt,ye=ye.replace(ut,"(\\d{1,2})");break;case vn:this.matchMap.second=kt,ye=ye.replace(en,"(\\d{1,2})");break;case bn:this.matchMap.periodNarrow=kt;const Qt=(0,Ur.ol)(this.localeId,Ur.x.Format,Ur.Tn.Narrow).join("|");ye=ye.replace(gn,`(${Qt})`);break;case ce:this.matchMap.periodWide=kt;const Hn=(0,Ur.ol)(this.localeId,Ur.x.Format,Ur.Tn.Wide).join("|");ye=ye.replace(Nn,`(${Hn})`);break;case Lt:this.matchMap.periodAbbreviated=kt;const ar=(0,Ur.ol)(this.localeId,Ur.x.Format,Ur.Tn.Abbreviated).join("|");ye=ye.replace(ur,`(${ar})`)}}),this.regex=new RegExp(ye)}}},2683:(An,Dt,H)=>{H.d(Dt,{a:()=>Le,w:()=>B});var M=H(925),G=H(5e3);let B=(()=>{class Ne{constructor(Ze,nt){this.elementRef=Ze,this.renderer=nt,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return Ne.\u0275fac=function(Ze){return new(Ze||Ne)(G.Y36(G.SBq),G.Y36(G.Qsj))},Ne.\u0275dir=G.lG2({type:Ne,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[G.TTD]}),Ne})(),Le=(()=>{class Ne{}return Ne.\u0275fac=function(Ze){return new(Ze||Ne)},Ne.\u0275mod=G.oAB({type:Ne}),Ne.\u0275inj=G.cJS({imports:[[M.ud]]}),Ne})()},1721:(An,Dt,H)=>{H.d(Dt,{DX:()=>Ze,HH:()=>Fe,Rn:()=>w,Sm:()=>Zt,WX:()=>lt,YM:()=>qe,de:()=>we,kK:()=>nt,pW:()=>Yt,rw:()=>mt,sw:()=>Ae,tI:()=>It,ui:()=>Sn,yF:()=>gt});var M=H(5e3),G=H(3191),B=H(6947);function Ze(oe){return null!=oe}function nt(oe){return null==oe}function Fe(oe){return"string"==typeof oe&&""!==oe}function we(oe){return oe instanceof M.Rgc}function Ae(oe){return(0,G.Ig)(oe)}function lt(oe){return(0,G.HM)(oe)}function mt(oe,...Me){return"function"==typeof oe?oe(...Me):oe}function zt(oe,Me){return function ye(ze,ut,en){const gn=`$$__zorroPropDecorator__${ut}`;return Object.prototype.hasOwnProperty.call(ze,gn)&&(0,B.ZK)(`The prop "${gn}" is already exist, it will be overrided by ${oe} decorator.`),Object.defineProperty(ze,gn,{configurable:!0,writable:!0}),{get(){return en&&en.get?en.get.bind(this)():this[gn]},set(Nn){en&&en.set&&en.set.bind(this)(Me(Nn)),this[gn]=Me(Nn)}}}}function gt(){return zt("InputBoolean",Ae)}function w(oe){return zt("InputNumber",Me=>function ot(oe,Me=0){return(0,G.t6)(oe)?Number(oe):Me}(Me,oe))}function Yt(oe){if(!oe.getClientRects().length)return{top:0,left:0};const Me=oe.getBoundingClientRect(),ye=oe.ownerDocument.defaultView;return{top:Me.top+ye.pageYOffset,left:Me.left+ye.pageXOffset}}function It(oe){return!!oe&&"function"==typeof oe.then&&"function"==typeof oe.catch}function Sn(oe){return"number"==typeof oe&&isFinite(oe)}function qe(oe,Me){return Math.round(oe*Math.pow(10,Me))/Math.pow(10,Me)}function Zt(oe,Me=0){return oe.reduce((ye,ze)=>ye+ze,Me)}"undefined"!=typeof window&&window},2643:(An,Dt,H)=>{H.d(Dt,{dQ:()=>nt,vG:()=>Je});var M=H(925),G=H(5e3),B=H(6360);class Le{constructor(we,Ae,ot,lt){this.triggerElement=we,this.ngZone=Ae,this.insertExtraNode=ot,this.platformId=lt,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=mt=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===mt.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new M.t4(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const we=this.triggerElement,Ae=this.getWaveColor(we);we.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(Ae)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${Ae};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",we.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{we.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(we){return!!we&&"#ffffff"!==we&&"rgb(255, 255, 255)"!==we&&this.isNotGrey(we)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(we)&&"transparent"!==we}isNotGrey(we){const Ae=we.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(Ae&&Ae[1]&&Ae[2]&&Ae[3]&&Ae[1]===Ae[2]&&Ae[2]===Ae[3])}getWaveColor(we){const Ae=getComputedStyle(we);return Ae.getPropertyValue("border-top-color")||Ae.getPropertyValue("border-color")||Ae.getPropertyValue("background-color")}runTimeoutOutsideZone(we,Ae){this.ngZone.runOutsideAngular(()=>setTimeout(we,Ae))}}const Ne={disabled:!1},Ue=new G.OlP("nz-wave-global-options",{providedIn:"root",factory:function Ze(){return Ne}});let nt=(()=>{class Fe{constructor(Ae,ot,lt,mt,zt){this.ngZone=Ae,this.elementRef=ot,this.config=lt,this.animationType=mt,this.platformId=zt,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let Ae=!1;return this.config&&"boolean"==typeof this.config.disabled&&(Ae=this.config.disabled),"NoopAnimations"===this.animationType&&(Ae=!0),Ae}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new Le(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)(G.Y36(G.R0b),G.Y36(G.SBq),G.Y36(Ue,8),G.Y36(B.Qb,8),G.Y36(G.Lbi))},Fe.\u0275dir=G.lG2({type:Fe,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),Fe})(),Je=(()=>{class Fe{}return Fe.\u0275fac=function(Ae){return new(Ae||Fe)},Fe.\u0275mod=G.oAB({type:Fe}),Fe.\u0275inj=G.cJS({imports:[[M.ud]]}),Fe})()},7904:(An,Dt,H)=>{H.d(Dt,{mx:()=>fa,u7:()=>co,YI:()=>Co,o9:()=>ys,wi:()=>oa,iF:()=>Ba});var M=H(5e3),G=H(1135),B=H(6947),Le=H(9808),Ne=H(953),Ue=H(895),Ze=H(833);function nt(j){return(0,Ze.Z)(1,arguments),(0,Ue.Z)(j,{weekStartsOn:1})}function Je(j){(0,Ze.Z)(1,arguments);var ae=(0,Ne.Z)(j),X=ae.getFullYear(),Ve=new Date(0);Ve.setFullYear(X+1,0,4),Ve.setHours(0,0,0,0);var _t=nt(Ve),nn=new Date(0);nn.setFullYear(X,0,4),nn.setHours(0,0,0,0);var ir=nt(nn);return ae.getTime()>=_t.getTime()?X+1:ae.getTime()>=ir.getTime()?X:X-1}function Fe(j){(0,Ze.Z)(1,arguments);var ae=Je(j),X=new Date(0);X.setFullYear(ae,0,4),X.setHours(0,0,0,0);var Ve=nt(X);return Ve}var we=6048e5,ot=H(900),lt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function gt(j){return function(){var ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},X=ae.width?String(ae.width):j.defaultWidth,Ve=j.formats[X]||j.formats[j.defaultWidth];return Ve}}var Yt={date:gt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:gt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:gt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},at={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Ct(j){return function(ae,X){var nn,Ve=X||{};if("formatting"===(Ve.context?String(Ve.context):"standalone")&&j.formattingValues){var ir=j.defaultFormattingWidth||j.defaultWidth,Jr=Ve.width?String(Ve.width):ir;nn=j.formattingValues[Jr]||j.formattingValues[ir]}else{var se=j.defaultWidth,P=Ve.width?String(Ve.width):j.defaultWidth;nn=j.values[P]||j.values[se]}return nn[j.argumentCallback?j.argumentCallback(ae):ae]}}function wt(j){return function(ae){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ve=X.width,_t=Ve&&j.matchPatterns[Ve]||j.matchPatterns[j.defaultMatchWidth],nn=ae.match(_t);if(!nn)return null;var P,ir=nn[0],Jr=Ve&&j.parsePatterns[Ve]||j.parsePatterns[j.defaultParseWidth],se=Array.isArray(Jr)?Kn(Jr,function($){return $.test(ir)}):Xt(Jr,function($){return $.test(ir)});P=j.valueCallback?j.valueCallback(se):se,P=X.valueCallback?X.valueCallback(P):P;var L=ae.slice(ir.length);return{value:P,rest:L}}}function Xt(j,ae){for(var X in j)if(j.hasOwnProperty(X)&&ae(j[X]))return X}function Kn(j,ae){for(var X=0;X<j.length;X++)if(ae(j[X]))return X}const Qn={code:"en-US",formatDistance:function(j,ae,X){var Ve,_t=lt[j];return Ve="string"==typeof _t?_t:1===ae?_t.one:_t.other.replace("{{count}}",ae.toString()),null!=X&&X.addSuffix?X.comparison&&X.comparison>0?"in "+Ve:Ve+" ago":Ve},formatLong:Yt,formatRelative:function(j,ae,X,Ve){return at[j]},localize:{ordinalNumber:function(j,ae){var X=Number(j),Ve=X%100;if(Ve>20||Ve<10)switch(Ve%10){case 1:return X+"st";case 2:return X+"nd";case 3:return X+"rd"}return X+"th"},era:Ct({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Ct({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(j){return j-1}}),month:Ct({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Ct({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Ct({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function or(j){return function(ae){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ve=ae.match(j.matchPattern);if(!Ve)return null;var _t=Ve[0],nn=ae.match(j.parsePattern);if(!nn)return null;var ir=j.valueCallback?j.valueCallback(nn[0]):nn[0];ir=X.valueCallback?X.valueCallback(ir):ir;var Jr=ae.slice(_t.length);return{value:ir,rest:Jr}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(j){return parseInt(j,10)}}),era:wt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:wt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(j){return j+1}}),month:wt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:wt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:wt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ht=H(1998);function Se(j,ae){(0,Ze.Z)(2,arguments);var X=(0,Ne.Z)(j).getTime(),Ve=(0,Ht.Z)(ae);return new Date(X+Ve)}function rt(j,ae){(0,Ze.Z)(2,arguments);var X=(0,Ht.Z)(ae);return Se(j,-X)}function oe(j){(0,Ze.Z)(1,arguments);var ae=1,X=(0,Ne.Z)(j),Ve=X.getUTCDay(),_t=(Ve<ae?7:0)+Ve-ae;return X.setUTCDate(X.getUTCDate()-_t),X.setUTCHours(0,0,0,0),X}function Me(j){(0,Ze.Z)(1,arguments);var ae=(0,Ne.Z)(j),X=ae.getUTCFullYear(),Ve=new Date(0);Ve.setUTCFullYear(X+1,0,4),Ve.setUTCHours(0,0,0,0);var _t=oe(Ve),nn=new Date(0);nn.setUTCFullYear(X,0,4),nn.setUTCHours(0,0,0,0);var ir=oe(nn);return ae.getTime()>=_t.getTime()?X+1:ae.getTime()>=ir.getTime()?X:X-1}function ye(j){(0,Ze.Z)(1,arguments);var ae=Me(j),X=new Date(0);X.setUTCFullYear(ae,0,4),X.setUTCHours(0,0,0,0);var Ve=oe(X);return Ve}var ze=6048e5;function ut(j){(0,Ze.Z)(1,arguments);var ae=(0,Ne.Z)(j),X=oe(ae).getTime()-ye(ae).getTime();return Math.round(X/ze)+1}function en(j,ae){(0,Ze.Z)(1,arguments);var X=ae||{},Ve=X.locale,_t=Ve&&Ve.options&&Ve.options.weekStartsOn,nn=null==_t?0:(0,Ht.Z)(_t),ir=null==X.weekStartsOn?nn:(0,Ht.Z)(X.weekStartsOn);if(!(ir>=0&&ir<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Jr=(0,Ne.Z)(j),se=Jr.getUTCDay(),P=(se<ir?7:0)+se-ir;return Jr.setUTCDate(Jr.getUTCDate()-P),Jr.setUTCHours(0,0,0,0),Jr}function gn(j,ae){(0,Ze.Z)(1,arguments);var X=(0,Ne.Z)(j),Ve=X.getUTCFullYear(),_t=ae||{},nn=_t.locale,ir=nn&&nn.options&&nn.options.firstWeekContainsDate,Jr=null==ir?1:(0,Ht.Z)(ir),se=null==_t.firstWeekContainsDate?Jr:(0,Ht.Z)(_t.firstWeekContainsDate);if(!(se>=1&&se<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=new Date(0);P.setUTCFullYear(Ve+1,0,se),P.setUTCHours(0,0,0,0);var L=en(P,ae),$=new Date(0);$.setUTCFullYear(Ve,0,se),$.setUTCHours(0,0,0,0);var me=en($,ae);return X.getTime()>=L.getTime()?Ve+1:X.getTime()>=me.getTime()?Ve:Ve-1}function Nn(j,ae){(0,Ze.Z)(1,arguments);var X=ae||{},Ve=X.locale,_t=Ve&&Ve.options&&Ve.options.firstWeekContainsDate,nn=null==_t?1:(0,Ht.Z)(_t),ir=null==X.firstWeekContainsDate?nn:(0,Ht.Z)(X.firstWeekContainsDate),Jr=gn(j,ae),se=new Date(0);se.setUTCFullYear(Jr,0,ir),se.setUTCHours(0,0,0,0);var P=en(se,ae);return P}var ur=6048e5;function qn(j,ae){(0,Ze.Z)(1,arguments);var X=(0,Ne.Z)(j),Ve=en(X,ae).getTime()-Nn(X,ae).getTime();return Math.round(Ve/ur)+1}function Gt(j,ae){for(var X=j<0?"-":"",Ve=Math.abs(j).toString();Ve.length<ae;)Ve="0"+Ve;return X+Ve}const bn_y=function(j,ae){var X=j.getUTCFullYear(),Ve=X>0?X:1-X;return Gt("yy"===ae?Ve%100:Ve,ae.length)},bn_M=function(j,ae){var X=j.getUTCMonth();return"M"===ae?String(X+1):Gt(X+1,2)},bn_d=function(j,ae){return Gt(j.getUTCDate(),ae.length)},bn_h=function(j,ae){return Gt(j.getUTCHours()%12||12,ae.length)},bn_H=function(j,ae){return Gt(j.getUTCHours(),ae.length)},bn_m=function(j,ae){return Gt(j.getUTCMinutes(),ae.length)},bn_s=function(j,ae){return Gt(j.getUTCSeconds(),ae.length)},bn_S=function(j,ae){var X=ae.length,Ve=j.getUTCMilliseconds();return Gt(Math.floor(Ve*Math.pow(10,X-3)),ae.length)};function pt(j,ae){var X=j>0?"-":"+",Ve=Math.abs(j),_t=Math.floor(Ve/60),nn=Ve%60;if(0===nn)return X+String(_t);var ir=ae||"";return X+String(_t)+ir+Gt(nn,2)}function We(j,ae){return j%60==0?(j>0?"-":"+")+Gt(Math.abs(j)/60,2):kt(j,ae)}function kt(j,ae){var X=ae||"",Ve=j>0?"-":"+",_t=Math.abs(j);return Ve+Gt(Math.floor(_t/60),2)+X+Gt(_t%60,2)}const Qt={G:function(j,ae,X){var Ve=j.getUTCFullYear()>0?1:0;switch(ae){case"G":case"GG":case"GGG":return X.era(Ve,{width:"abbreviated"});case"GGGGG":return X.era(Ve,{width:"narrow"});default:return X.era(Ve,{width:"wide"})}},y:function(j,ae,X){if("yo"===ae){var Ve=j.getUTCFullYear();return X.ordinalNumber(Ve>0?Ve:1-Ve,{unit:"year"})}return bn_y(j,ae)},Y:function(j,ae,X,Ve){var _t=gn(j,Ve),nn=_t>0?_t:1-_t;return"YY"===ae?Gt(nn%100,2):"Yo"===ae?X.ordinalNumber(nn,{unit:"year"}):Gt(nn,ae.length)},R:function(j,ae){return Gt(Me(j),ae.length)},u:function(j,ae){return Gt(j.getUTCFullYear(),ae.length)},Q:function(j,ae,X){var Ve=Math.ceil((j.getUTCMonth()+1)/3);switch(ae){case"Q":return String(Ve);case"QQ":return Gt(Ve,2);case"Qo":return X.ordinalNumber(Ve,{unit:"quarter"});case"QQQ":return X.quarter(Ve,{width:"abbreviated",context:"formatting"});case"QQQQQ":return X.quarter(Ve,{width:"narrow",context:"formatting"});default:return X.quarter(Ve,{width:"wide",context:"formatting"})}},q:function(j,ae,X){var Ve=Math.ceil((j.getUTCMonth()+1)/3);switch(ae){case"q":return String(Ve);case"qq":return Gt(Ve,2);case"qo":return X.ordinalNumber(Ve,{unit:"quarter"});case"qqq":return X.quarter(Ve,{width:"abbreviated",context:"standalone"});case"qqqqq":return X.quarter(Ve,{width:"narrow",context:"standalone"});default:return X.quarter(Ve,{width:"wide",context:"standalone"})}},M:function(j,ae,X){var Ve=j.getUTCMonth();switch(ae){case"M":case"MM":return bn_M(j,ae);case"Mo":return X.ordinalNumber(Ve+1,{unit:"month"});case"MMM":return X.month(Ve,{width:"abbreviated",context:"formatting"});case"MMMMM":return X.month(Ve,{width:"narrow",context:"formatting"});default:return X.month(Ve,{width:"wide",context:"formatting"})}},L:function(j,ae,X){var Ve=j.getUTCMonth();switch(ae){case"L":return String(Ve+1);case"LL":return Gt(Ve+1,2);case"Lo":return X.ordinalNumber(Ve+1,{unit:"month"});case"LLL":return X.month(Ve,{width:"abbreviated",context:"standalone"});case"LLLLL":return X.month(Ve,{width:"narrow",context:"standalone"});default:return X.month(Ve,{width:"wide",context:"standalone"})}},w:function(j,ae,X,Ve){var _t=qn(j,Ve);return"wo"===ae?X.ordinalNumber(_t,{unit:"week"}):Gt(_t,ae.length)},I:function(j,ae,X){var Ve=ut(j);return"Io"===ae?X.ordinalNumber(Ve,{unit:"week"}):Gt(Ve,ae.length)},d:function(j,ae,X){return"do"===ae?X.ordinalNumber(j.getUTCDate(),{unit:"date"}):bn_d(j,ae)},D:function(j,ae,X){var Ve=function xe(j){(0,Ze.Z)(1,arguments);var ae=(0,Ne.Z)(j),X=ae.getTime();ae.setUTCMonth(0,1),ae.setUTCHours(0,0,0,0);var Ve=ae.getTime();return Math.floor((X-Ve)/864e5)+1}(j);return"Do"===ae?X.ordinalNumber(Ve,{unit:"dayOfYear"}):Gt(Ve,ae.length)},E:function(j,ae,X){var Ve=j.getUTCDay();switch(ae){case"E":case"EE":case"EEE":return X.day(Ve,{width:"abbreviated",context:"formatting"});case"EEEEE":return X.day(Ve,{width:"narrow",context:"formatting"});case"EEEEEE":return X.day(Ve,{width:"short",context:"formatting"});default:return X.day(Ve,{width:"wide",context:"formatting"})}},e:function(j,ae,X,Ve){var _t=j.getUTCDay(),nn=(_t-Ve.weekStartsOn+8)%7||7;switch(ae){case"e":return String(nn);case"ee":return Gt(nn,2);case"eo":return X.ordinalNumber(nn,{unit:"day"});case"eee":return X.day(_t,{width:"abbreviated",context:"formatting"});case"eeeee":return X.day(_t,{width:"narrow",context:"formatting"});case"eeeeee":return X.day(_t,{width:"short",context:"formatting"});default:return X.day(_t,{width:"wide",context:"formatting"})}},c:function(j,ae,X,Ve){var _t=j.getUTCDay(),nn=(_t-Ve.weekStartsOn+8)%7||7;switch(ae){case"c":return String(nn);case"cc":return Gt(nn,ae.length);case"co":return X.ordinalNumber(nn,{unit:"day"});case"ccc":return X.day(_t,{width:"abbreviated",context:"standalone"});case"ccccc":return X.day(_t,{width:"narrow",context:"standalone"});case"cccccc":return X.day(_t,{width:"short",context:"standalone"});default:return X.day(_t,{width:"wide",context:"standalone"})}},i:function(j,ae,X){var Ve=j.getUTCDay(),_t=0===Ve?7:Ve;switch(ae){case"i":return String(_t);case"ii":return Gt(_t,ae.length);case"io":return X.ordinalNumber(_t,{unit:"day"});case"iii":return X.day(Ve,{width:"abbreviated",context:"formatting"});case"iiiii":return X.day(Ve,{width:"narrow",context:"formatting"});case"iiiiii":return X.day(Ve,{width:"short",context:"formatting"});default:return X.day(Ve,{width:"wide",context:"formatting"})}},a:function(j,ae,X){var _t=j.getUTCHours()/12>=1?"pm":"am";switch(ae){case"a":case"aa":return X.dayPeriod(_t,{width:"abbreviated",context:"formatting"});case"aaa":return X.dayPeriod(_t,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return X.dayPeriod(_t,{width:"narrow",context:"formatting"});default:return X.dayPeriod(_t,{width:"wide",context:"formatting"})}},b:function(j,ae,X){var _t,Ve=j.getUTCHours();switch(_t=12===Ve?"noon":0===Ve?"midnight":Ve/12>=1?"pm":"am",ae){case"b":case"bb":return X.dayPeriod(_t,{width:"abbreviated",context:"formatting"});case"bbb":return X.dayPeriod(_t,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return X.dayPeriod(_t,{width:"narrow",context:"formatting"});default:return X.dayPeriod(_t,{width:"wide",context:"formatting"})}},B:function(j,ae,X){var _t,Ve=j.getUTCHours();switch(_t=Ve>=17?"evening":Ve>=12?"afternoon":Ve>=4?"morning":"night",ae){case"B":case"BB":case"BBB":return X.dayPeriod(_t,{width:"abbreviated",context:"formatting"});case"BBBBB":return X.dayPeriod(_t,{width:"narrow",context:"formatting"});default:return X.dayPeriod(_t,{width:"wide",context:"formatting"})}},h:function(j,ae,X){if("ho"===ae){var Ve=j.getUTCHours()%12;return 0===Ve&&(Ve=12),X.ordinalNumber(Ve,{unit:"hour"})}return bn_h(j,ae)},H:function(j,ae,X){return"Ho"===ae?X.ordinalNumber(j.getUTCHours(),{unit:"hour"}):bn_H(j,ae)},K:function(j,ae,X){var Ve=j.getUTCHours()%12;return"Ko"===ae?X.ordinalNumber(Ve,{unit:"hour"}):Gt(Ve,ae.length)},k:function(j,ae,X){var Ve=j.getUTCHours();return 0===Ve&&(Ve=24),"ko"===ae?X.ordinalNumber(Ve,{unit:"hour"}):Gt(Ve,ae.length)},m:function(j,ae,X){return"mo"===ae?X.ordinalNumber(j.getUTCMinutes(),{unit:"minute"}):bn_m(j,ae)},s:function(j,ae,X){return"so"===ae?X.ordinalNumber(j.getUTCSeconds(),{unit:"second"}):bn_s(j,ae)},S:function(j,ae){return bn_S(j,ae)},X:function(j,ae,X,Ve){var nn=(Ve._originalDate||j).getTimezoneOffset();if(0===nn)return"Z";switch(ae){case"X":return We(nn);case"XXXX":case"XX":return kt(nn);default:return kt(nn,":")}},x:function(j,ae,X,Ve){var nn=(Ve._originalDate||j).getTimezoneOffset();switch(ae){case"x":return We(nn);case"xxxx":case"xx":return kt(nn);default:return kt(nn,":")}},O:function(j,ae,X,Ve){var nn=(Ve._originalDate||j).getTimezoneOffset();switch(ae){case"O":case"OO":case"OOO":return"GMT"+pt(nn,":");default:return"GMT"+kt(nn,":")}},z:function(j,ae,X,Ve){var nn=(Ve._originalDate||j).getTimezoneOffset();switch(ae){case"z":case"zz":case"zzz":return"GMT"+pt(nn,":");default:return"GMT"+kt(nn,":")}},t:function(j,ae,X,Ve){return Gt(Math.floor((Ve._originalDate||j).getTime()/1e3),ae.length)},T:function(j,ae,X,Ve){return Gt((Ve._originalDate||j).getTime(),ae.length)}};function Hn(j,ae){switch(j){case"P":return ae.date({width:"short"});case"PP":return ae.date({width:"medium"});case"PPP":return ae.date({width:"long"});default:return ae.date({width:"full"})}}function ar(j,ae){switch(j){case"p":return ae.time({width:"short"});case"pp":return ae.time({width:"medium"});case"ppp":return ae.time({width:"long"});default:return ae.time({width:"full"})}}const jn={p:ar,P:function St(j,ae){var nn,X=j.match(/(P+)(p+)?/)||[],Ve=X[1],_t=X[2];if(!_t)return Hn(j,ae);switch(Ve){case"P":nn=ae.dateTime({width:"short"});break;case"PP":nn=ae.dateTime({width:"medium"});break;case"PPP":nn=ae.dateTime({width:"long"});break;default:nn=ae.dateTime({width:"full"})}return nn.replace("{{date}}",Hn(Ve,ae)).replace("{{time}}",ar(_t,ae))}};var pi=H(9868),$r=["D","DD"],Rt=["YY","YYYY"];function vt(j){return-1!==$r.indexOf(j)}function $e(j){return-1!==Rt.indexOf(j)}function bt(j,ae,X){if("YYYY"===j)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(ae,"`) for formatting years to the input `").concat(X,"`; see: https://git.io/fxCyr"));if("YY"===j)throw new RangeError("Use `yy` instead of `YY` (in `".concat(ae,"`) for formatting years to the input `").concat(X,"`; see: https://git.io/fxCyr"));if("D"===j)throw new RangeError("Use `d` instead of `D` (in `".concat(ae,"`) for formatting days of the month to the input `").concat(X,"`; see: https://git.io/fxCyr"));if("DD"===j)throw new RangeError("Use `dd` instead of `DD` (in `".concat(ae,"`) for formatting days of the month to the input `").concat(X,"`; see: https://git.io/fxCyr"))}var Ge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ge=/^'([^]*?)'?$/,Mt=/''/g,Tn=/[a-zA-Z]/;function pr(j){return j.match(ge)[1].replace(Mt,"'")}function Mr(j,ae){if(null==j)throw new TypeError("assign requires that input parameter not be null or undefined");for(var X in ae=ae||{})Object.prototype.hasOwnProperty.call(ae,X)&&(j[X]=ae[X]);return j}function Pr(j,ae,X){(0,Ze.Z)(2,arguments);var Ve=X||{},_t=Ve.locale,nn=_t&&_t.options&&_t.options.weekStartsOn,ir=null==nn?0:(0,Ht.Z)(nn),Jr=null==Ve.weekStartsOn?ir:(0,Ht.Z)(Ve.weekStartsOn);if(!(Jr>=0&&Jr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var se=(0,Ne.Z)(j),P=(0,Ht.Z)(ae),L=se.getUTCDay(),$=P%7,me=($+7)%7,He=(me<Jr?7:0)+P-L;return se.setUTCDate(se.getUTCDate()+He),se}var ii_month=/^(1[0-2]|0?\d)/,ii_date=/^(3[0-1]|[0-2]?\d)/,ii_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,ii_week=/^(5[0-3]|[0-4]?\d)/,ii_hour23h=/^(2[0-3]|[0-1]?\d)/,ii_hour24h=/^(2[0-4]|[0-1]?\d)/,ii_hour11h=/^(1[0-1]|0?\d)/,ii_hour12h=/^(1[0-2]|0?\d)/,ii_minute=/^[0-5]?\d/,ii_second=/^[0-5]?\d/,ii_singleDigit=/^\d/,ii_twoDigits=/^\d{1,2}/,ii_threeDigits=/^\d{1,3}/,ii_fourDigits=/^\d{1,4}/,ii_anyDigitsSigned=/^-?\d+/,ii_singleDigitSigned=/^-?\d/,ii_twoDigitsSigned=/^-?\d{1,2}/,ii_threeDigitsSigned=/^-?\d{1,3}/,ii_fourDigitsSigned=/^-?\d{1,4}/,Or_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,Or_basic=/^([+-])(\d{2})(\d{2})|Z/,Or_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Or_extended=/^([+-])(\d{2}):(\d{2})|Z/,Or_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function fr(j,ae,X){var Ve=ae.match(j);if(!Ve)return null;var _t=parseInt(Ve[0],10);return{value:X?X(_t):_t,rest:ae.slice(Ve[0].length)}}function Zr(j,ae){var X=ae.match(j);return X?"Z"===X[0]?{value:0,rest:ae.slice(1)}:{value:("+"===X[1]?1:-1)*(36e5*(X[2]?parseInt(X[2],10):0)+6e4*(X[3]?parseInt(X[3],10):0)+1e3*(X[5]?parseInt(X[5],10):0)),rest:ae.slice(X[0].length)}:null}function lo(j,ae){return fr(ii_anyDigitsSigned,j,ae)}function Qr(j,ae,X){switch(j){case 1:return fr(ii_singleDigit,ae,X);case 2:return fr(ii_twoDigits,ae,X);case 3:return fr(ii_threeDigits,ae,X);case 4:return fr(ii_fourDigits,ae,X);default:return fr(new RegExp("^\\d{1,"+j+"}"),ae,X)}}function dr(j,ae,X){switch(j){case 1:return fr(ii_singleDigitSigned,ae,X);case 2:return fr(ii_twoDigitsSigned,ae,X);case 3:return fr(ii_threeDigitsSigned,ae,X);case 4:return fr(ii_fourDigitsSigned,ae,X);default:return fr(new RegExp("^-?\\d{1,"+j+"}"),ae,X)}}function Wi(j){switch(j){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function $i(j,ae){var _t,X=ae>0,Ve=X?ae:1-ae;if(Ve<=50)_t=j||100;else{var nn=Ve+50;_t=j+100*Math.floor(nn/100)-(j>=nn%100?100:0)}return X?_t:1-_t}var ko=[31,28,31,30,31,30,31,31,30,31,30,31],Oo=[31,29,31,30,31,30,31,31,30,31,30,31];function ti(j){return j%400==0||j%4==0&&j%100!=0}const zo={G:{priority:140,parse:function(j,ae,X,Ve){switch(ae){case"G":case"GG":case"GGG":return X.era(j,{width:"abbreviated"})||X.era(j,{width:"narrow"});case"GGGGG":return X.era(j,{width:"narrow"});default:return X.era(j,{width:"wide"})||X.era(j,{width:"abbreviated"})||X.era(j,{width:"narrow"})}},set:function(j,ae,X,Ve){return ae.era=X,j.setUTCFullYear(X,0,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(j,ae,X,Ve){var _t=function(nn){return{year:nn,isTwoDigitYear:"yy"===ae}};switch(ae){case"y":return Qr(4,j,_t);case"yo":return X.ordinalNumber(j,{unit:"year",valueCallback:_t});default:return Qr(ae.length,j,_t)}},validate:function(j,ae,X){return ae.isTwoDigitYear||ae.year>0},set:function(j,ae,X,Ve){var _t=j.getUTCFullYear();if(X.isTwoDigitYear){var nn=$i(X.year,_t);return j.setUTCFullYear(nn,0,1),j.setUTCHours(0,0,0,0),j}return j.setUTCFullYear("era"in ae&&1!==ae.era?1-X.year:X.year,0,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(j,ae,X,Ve){var _t=function(nn){return{year:nn,isTwoDigitYear:"YY"===ae}};switch(ae){case"Y":return Qr(4,j,_t);case"Yo":return X.ordinalNumber(j,{unit:"year",valueCallback:_t});default:return Qr(ae.length,j,_t)}},validate:function(j,ae,X){return ae.isTwoDigitYear||ae.year>0},set:function(j,ae,X,Ve){var _t=gn(j,Ve);if(X.isTwoDigitYear){var nn=$i(X.year,_t);return j.setUTCFullYear(nn,0,Ve.firstWeekContainsDate),j.setUTCHours(0,0,0,0),en(j,Ve)}return j.setUTCFullYear("era"in ae&&1!==ae.era?1-X.year:X.year,0,Ve.firstWeekContainsDate),j.setUTCHours(0,0,0,0),en(j,Ve)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(j,ae,X,Ve){return dr("R"===ae?4:ae.length,j)},set:function(j,ae,X,Ve){var _t=new Date(0);return _t.setUTCFullYear(X,0,4),_t.setUTCHours(0,0,0,0),oe(_t)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(j,ae,X,Ve){return dr("u"===ae?4:ae.length,j)},set:function(j,ae,X,Ve){return j.setUTCFullYear(X,0,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(j,ae,X,Ve){switch(ae){case"Q":case"QQ":return Qr(ae.length,j);case"Qo":return X.ordinalNumber(j,{unit:"quarter"});case"QQQ":return X.quarter(j,{width:"abbreviated",context:"formatting"})||X.quarter(j,{width:"narrow",context:"formatting"});case"QQQQQ":return X.quarter(j,{width:"narrow",context:"formatting"});default:return X.quarter(j,{width:"wide",context:"formatting"})||X.quarter(j,{width:"abbreviated",context:"formatting"})||X.quarter(j,{width:"narrow",context:"formatting"})}},validate:function(j,ae,X){return ae>=1&&ae<=4},set:function(j,ae,X,Ve){return j.setUTCMonth(3*(X-1),1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(j,ae,X,Ve){switch(ae){case"q":case"qq":return Qr(ae.length,j);case"qo":return X.ordinalNumber(j,{unit:"quarter"});case"qqq":return X.quarter(j,{width:"abbreviated",context:"standalone"})||X.quarter(j,{width:"narrow",context:"standalone"});case"qqqqq":return X.quarter(j,{width:"narrow",context:"standalone"});default:return X.quarter(j,{width:"wide",context:"standalone"})||X.quarter(j,{width:"abbreviated",context:"standalone"})||X.quarter(j,{width:"narrow",context:"standalone"})}},validate:function(j,ae,X){return ae>=1&&ae<=4},set:function(j,ae,X,Ve){return j.setUTCMonth(3*(X-1),1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(j,ae,X,Ve){var _t=function(nn){return nn-1};switch(ae){case"M":return fr(ii_month,j,_t);case"MM":return Qr(2,j,_t);case"Mo":return X.ordinalNumber(j,{unit:"month",valueCallback:_t});case"MMM":return X.month(j,{width:"abbreviated",context:"formatting"})||X.month(j,{width:"narrow",context:"formatting"});case"MMMMM":return X.month(j,{width:"narrow",context:"formatting"});default:return X.month(j,{width:"wide",context:"formatting"})||X.month(j,{width:"abbreviated",context:"formatting"})||X.month(j,{width:"narrow",context:"formatting"})}},validate:function(j,ae,X){return ae>=0&&ae<=11},set:function(j,ae,X,Ve){return j.setUTCMonth(X,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(j,ae,X,Ve){var _t=function(nn){return nn-1};switch(ae){case"L":return fr(ii_month,j,_t);case"LL":return Qr(2,j,_t);case"Lo":return X.ordinalNumber(j,{unit:"month",valueCallback:_t});case"LLL":return X.month(j,{width:"abbreviated",context:"standalone"})||X.month(j,{width:"narrow",context:"standalone"});case"LLLLL":return X.month(j,{width:"narrow",context:"standalone"});default:return X.month(j,{width:"wide",context:"standalone"})||X.month(j,{width:"abbreviated",context:"standalone"})||X.month(j,{width:"narrow",context:"standalone"})}},validate:function(j,ae,X){return ae>=0&&ae<=11},set:function(j,ae,X,Ve){return j.setUTCMonth(X,1),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(j,ae,X,Ve){switch(ae){case"w":return fr(ii_week,j);case"wo":return X.ordinalNumber(j,{unit:"week"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ae>=1&&ae<=53},set:function(j,ae,X,Ve){return en(function kn(j,ae,X){(0,Ze.Z)(2,arguments);var Ve=(0,Ne.Z)(j),_t=(0,Ht.Z)(ae),nn=qn(Ve,X)-_t;return Ve.setUTCDate(Ve.getUTCDate()-7*nn),Ve}(j,X,Ve),Ve)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(j,ae,X,Ve){switch(ae){case"I":return fr(ii_week,j);case"Io":return X.ordinalNumber(j,{unit:"week"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ae>=1&&ae<=53},set:function(j,ae,X,Ve){return oe(function Xr(j,ae){(0,Ze.Z)(2,arguments);var X=(0,Ne.Z)(j),Ve=(0,Ht.Z)(ae),_t=ut(X)-Ve;return X.setUTCDate(X.getUTCDate()-7*_t),X}(j,X,Ve),Ve)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(j,ae,X,Ve){switch(ae){case"d":return fr(ii_date,j);case"do":return X.ordinalNumber(j,{unit:"date"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){var _t=ti(j.getUTCFullYear()),nn=j.getUTCMonth();return _t?ae>=1&&ae<=Oo[nn]:ae>=1&&ae<=ko[nn]},set:function(j,ae,X,Ve){return j.setUTCDate(X),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(j,ae,X,Ve){switch(ae){case"D":case"DD":return fr(ii_dayOfYear,j);case"Do":return X.ordinalNumber(j,{unit:"date"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ti(j.getUTCFullYear())?ae>=1&&ae<=366:ae>=1&&ae<=365},set:function(j,ae,X,Ve){return j.setUTCMonth(0,X),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(j,ae,X,Ve){switch(ae){case"E":case"EE":case"EEE":return X.day(j,{width:"abbreviated",context:"formatting"})||X.day(j,{width:"short",context:"formatting"})||X.day(j,{width:"narrow",context:"formatting"});case"EEEEE":return X.day(j,{width:"narrow",context:"formatting"});case"EEEEEE":return X.day(j,{width:"short",context:"formatting"})||X.day(j,{width:"narrow",context:"formatting"});default:return X.day(j,{width:"wide",context:"formatting"})||X.day(j,{width:"abbreviated",context:"formatting"})||X.day(j,{width:"short",context:"formatting"})||X.day(j,{width:"narrow",context:"formatting"})}},validate:function(j,ae,X){return ae>=0&&ae<=6},set:function(j,ae,X,Ve){return(j=Pr(j,X,Ve)).setUTCHours(0,0,0,0),j},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(j,ae,X,Ve){var _t=function(nn){var ir=7*Math.floor((nn-1)/7);return(nn+Ve.weekStartsOn+6)%7+ir};switch(ae){case"e":case"ee":return Qr(ae.length,j,_t);case"eo":return X.ordinalNumber(j,{unit:"day",valueCallback:_t});case"eee":return X.day(j,{width:"abbreviated",context:"formatting"})||X.day(j,{width:"short",context:"formatting"})||X.day(j,{width:"narrow",context:"formatting"});case"eeeee":return X.day(j,{width:"narrow",context:"formatting"});case"eeeeee":return X.day(j,{width:"short",context:"formatting"})||X.day(j,{width:"narrow",context:"formatting"});default:return X.day(j,{width:"wide",context:"formatting"})||X.day(j,{width:"abbreviated",context:"formatting"})||X.day(j,{width:"short",context:"formatting"})||X.day(j,{width:"narrow",context:"formatting"})}},validate:function(j,ae,X){return ae>=0&&ae<=6},set:function(j,ae,X,Ve){return(j=Pr(j,X,Ve)).setUTCHours(0,0,0,0),j},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(j,ae,X,Ve){var _t=function(nn){var ir=7*Math.floor((nn-1)/7);return(nn+Ve.weekStartsOn+6)%7+ir};switch(ae){case"c":case"cc":return Qr(ae.length,j,_t);case"co":return X.ordinalNumber(j,{unit:"day",valueCallback:_t});case"ccc":return X.day(j,{width:"abbreviated",context:"standalone"})||X.day(j,{width:"short",context:"standalone"})||X.day(j,{width:"narrow",context:"standalone"});case"ccccc":return X.day(j,{width:"narrow",context:"standalone"});case"cccccc":return X.day(j,{width:"short",context:"standalone"})||X.day(j,{width:"narrow",context:"standalone"});default:return X.day(j,{width:"wide",context:"standalone"})||X.day(j,{width:"abbreviated",context:"standalone"})||X.day(j,{width:"short",context:"standalone"})||X.day(j,{width:"narrow",context:"standalone"})}},validate:function(j,ae,X){return ae>=0&&ae<=6},set:function(j,ae,X,Ve){return(j=Pr(j,X,Ve)).setUTCHours(0,0,0,0),j},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(j,ae,X,Ve){var _t=function(nn){return 0===nn?7:nn};switch(ae){case"i":case"ii":return Qr(ae.length,j);case"io":return X.ordinalNumber(j,{unit:"day"});case"iii":return X.day(j,{width:"abbreviated",context:"formatting",valueCallback:_t})||X.day(j,{width:"short",context:"formatting",valueCallback:_t})||X.day(j,{width:"narrow",context:"formatting",valueCallback:_t});case"iiiii":return X.day(j,{width:"narrow",context:"formatting",valueCallback:_t});case"iiiiii":return X.day(j,{width:"short",context:"formatting",valueCallback:_t})||X.day(j,{width:"narrow",context:"formatting",valueCallback:_t});default:return X.day(j,{width:"wide",context:"formatting",valueCallback:_t})||X.day(j,{width:"abbreviated",context:"formatting",valueCallback:_t})||X.day(j,{width:"short",context:"formatting",valueCallback:_t})||X.day(j,{width:"narrow",context:"formatting",valueCallback:_t})}},validate:function(j,ae,X){return ae>=1&&ae<=7},set:function(j,ae,X,Ve){return j=function Bi(j,ae){(0,Ze.Z)(2,arguments);var X=(0,Ht.Z)(ae);X%7==0&&(X-=7);var Ve=1,_t=(0,Ne.Z)(j),nn=_t.getUTCDay(),se=((X%7+7)%7<Ve?7:0)+X-nn;return _t.setUTCDate(_t.getUTCDate()+se),_t}(j,X,Ve),j.setUTCHours(0,0,0,0),j},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(j,ae,X,Ve){switch(ae){case"a":case"aa":case"aaa":return X.dayPeriod(j,{width:"abbreviated",context:"formatting"})||X.dayPeriod(j,{width:"narrow",context:"formatting"});case"aaaaa":return X.dayPeriod(j,{width:"narrow",context:"formatting"});default:return X.dayPeriod(j,{width:"wide",context:"formatting"})||X.dayPeriod(j,{width:"abbreviated",context:"formatting"})||X.dayPeriod(j,{width:"narrow",context:"formatting"})}},set:function(j,ae,X,Ve){return j.setUTCHours(Wi(X),0,0,0),j},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(j,ae,X,Ve){switch(ae){case"b":case"bb":case"bbb":return X.dayPeriod(j,{width:"abbreviated",context:"formatting"})||X.dayPeriod(j,{width:"narrow",context:"formatting"});case"bbbbb":return X.dayPeriod(j,{width:"narrow",context:"formatting"});default:return X.dayPeriod(j,{width:"wide",context:"formatting"})||X.dayPeriod(j,{width:"abbreviated",context:"formatting"})||X.dayPeriod(j,{width:"narrow",context:"formatting"})}},set:function(j,ae,X,Ve){return j.setUTCHours(Wi(X),0,0,0),j},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(j,ae,X,Ve){switch(ae){case"B":case"BB":case"BBB":return X.dayPeriod(j,{width:"abbreviated",context:"formatting"})||X.dayPeriod(j,{width:"narrow",context:"formatting"});case"BBBBB":return X.dayPeriod(j,{width:"narrow",context:"formatting"});default:return X.dayPeriod(j,{width:"wide",context:"formatting"})||X.dayPeriod(j,{width:"abbreviated",context:"formatting"})||X.dayPeriod(j,{width:"narrow",context:"formatting"})}},set:function(j,ae,X,Ve){return j.setUTCHours(Wi(X),0,0,0),j},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(j,ae,X,Ve){switch(ae){case"h":return fr(ii_hour12h,j);case"ho":return X.ordinalNumber(j,{unit:"hour"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ae>=1&&ae<=12},set:function(j,ae,X,Ve){var _t=j.getUTCHours()>=12;return j.setUTCHours(_t&&X<12?X+12:_t||12!==X?X:0,0,0,0),j},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(j,ae,X,Ve){switch(ae){case"H":return fr(ii_hour23h,j);case"Ho":return X.ordinalNumber(j,{unit:"hour"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ae>=0&&ae<=23},set:function(j,ae,X,Ve){return j.setUTCHours(X,0,0,0),j},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(j,ae,X,Ve){switch(ae){case"K":return fr(ii_hour11h,j);case"Ko":return X.ordinalNumber(j,{unit:"hour"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ae>=0&&ae<=11},set:function(j,ae,X,Ve){var _t=j.getUTCHours()>=12;return j.setUTCHours(_t&&X<12?X+12:X,0,0,0),j},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(j,ae,X,Ve){switch(ae){case"k":return fr(ii_hour24h,j);case"ko":return X.ordinalNumber(j,{unit:"hour"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ae>=1&&ae<=24},set:function(j,ae,X,Ve){return j.setUTCHours(X<=24?X%24:X,0,0,0),j},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(j,ae,X,Ve){switch(ae){case"m":return fr(ii_minute,j);case"mo":return X.ordinalNumber(j,{unit:"minute"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ae>=0&&ae<=59},set:function(j,ae,X,Ve){return j.setUTCMinutes(X,0,0),j},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(j,ae,X,Ve){switch(ae){case"s":return fr(ii_second,j);case"so":return X.ordinalNumber(j,{unit:"second"});default:return Qr(ae.length,j)}},validate:function(j,ae,X){return ae>=0&&ae<=59},set:function(j,ae,X,Ve){return j.setUTCSeconds(X,0),j},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(j,ae,X,Ve){return Qr(ae.length,j,function(nn){return Math.floor(nn*Math.pow(10,3-ae.length))})},set:function(j,ae,X,Ve){return j.setUTCMilliseconds(X),j},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(j,ae,X,Ve){switch(ae){case"X":return Zr(Or_basicOptionalMinutes,j);case"XX":return Zr(Or_basic,j);case"XXXX":return Zr(Or_basicOptionalSeconds,j);case"XXXXX":return Zr(Or_extendedOptionalSeconds,j);default:return Zr(Or_extended,j)}},set:function(j,ae,X,Ve){return ae.timestampIsSet?j:new Date(j.getTime()-X)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(j,ae,X,Ve){switch(ae){case"x":return Zr(Or_basicOptionalMinutes,j);case"xx":return Zr(Or_basic,j);case"xxxx":return Zr(Or_basicOptionalSeconds,j);case"xxxxx":return Zr(Or_extendedOptionalSeconds,j);default:return Zr(Or_extended,j)}},set:function(j,ae,X,Ve){return ae.timestampIsSet?j:new Date(j.getTime()-X)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(j,ae,X,Ve){return lo(j)},set:function(j,ae,X,Ve){return[new Date(1e3*X),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(j,ae,X,Ve){return lo(j)},set:function(j,ae,X,Ve){return[new Date(X),{timestampIsSet:!0}]},incompatibleTokens:"*"}};var rn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Po=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yo=/^'([^]*?)'?$/,yn=/''/g,bi=/\S/,ia=/[a-zA-Z]/;function Ga(j,ae){if(ae.timestampIsSet)return j;var X=new Date(0);return X.setFullYear(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate()),X.setHours(j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds()),X}function Ye(j){return j.match(yo)[1].replace(yn,"'")}var ns=H(315),Ba={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"}},vs={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7b5b\u9009\u9879\u4e2d\u641c\u7d22",selectNone:"\u6e05\u7a7a\u6240\u6709"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"},Image:{preview:"\u9884\u89c8"}};const co=new M.OlP("nz-i18n"),ms=new M.OlP("nz-date-locale");let oa=(()=>{class j{constructor(X,Ve){this._change=new G.X(this._locale),this.setLocale(X||vs),this.setDateLocale(Ve||null)}get localeChange(){return this._change.asObservable()}translate(X,Ve){let _t=this._getObjectPath(this._locale,X);return"string"==typeof _t?(Ve&&Object.keys(Ve).forEach(nn=>_t=_t.replace(new RegExp(`%${nn}%`,"g"),Ve[nn])),_t):X}setLocale(X){this._locale&&this._locale.locale===X.locale||(this._locale=X,this._change.next(X))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(X){this.dateLocale=X}getDateLocale(){return this.dateLocale}getLocaleData(X,Ve){const _t=X?this._getObjectPath(this._locale,X):this._locale;return!_t&&!Ve&&(0,B.ZK)(`Missing translations for "${X}" in language "${this._locale.locale}".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),_t||Ve||this._getObjectPath(Ba,X)||{}}_getObjectPath(X,Ve){let _t=X;const nn=Ve.split("."),ir=nn.length;let Jr=0;for(;_t&&Jr<ir;)_t=_t[nn[Jr++]];return Jr===ir?_t:null}}return j.\u0275fac=function(X){return new(X||j)(M.LFG(co,8),M.LFG(ms,8))},j.\u0275prov=M.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})(),ys=(()=>{class j{constructor(X){this._locale=X}transform(X,Ve){return this._locale.translate(X,Ve)}}return j.\u0275fac=function(X){return new(X||j)(M.Y36(oa,16))},j.\u0275pipe=M.Yjl({name:"nzI18n",type:j,pure:!0}),j})(),Co=(()=>{class j{}return j.\u0275fac=function(X){return new(X||j)},j.\u0275mod=M.oAB({type:j}),j.\u0275inj=M.cJS({}),j})();const Hs=new M.OlP("date-config"),Ta={firstDayOfWeek:void 0};let fa=(()=>{class j{constructor(X,Ve){this.i18n=X,this.config=Ve,this.config=function Pl(j){return Object.assign(Object.assign({},Ta),j)}(this.config)}}return j.\u0275fac=function(X){return new(X||j)(M.LFG(oa),M.LFG(Hs,8))},j.\u0275prov=M.Yz7({token:j,factory:function(X){let Ve=null;return Ve=X?new X:function tc(j,ae){const X=j.get(oa);return X.getDateLocale()?new uo(X,ae):new Cs(X,ae)}(M.LFG(M.zs3),M.LFG(Hs,8)),Ve},providedIn:"root"}),j})();class uo extends fa{getISOWeek(ae){return function Ae(j){(0,Ze.Z)(1,arguments);var ae=(0,Ne.Z)(j),X=nt(ae).getTime()-Fe(ae).getTime();return Math.round(X/we)+1}(ae)}getFirstDayOfWeek(){let ae;try{ae=this.i18n.getDateLocale().options.weekStartsOn}catch(X){ae=1}return null==this.config.firstDayOfWeek?ae:this.config.firstDayOfWeek}format(ae,X){return ae?function zn(j,ae,X){(0,Ze.Z)(2,arguments);var Ve=String(ae),_t=X||{},nn=_t.locale||Qn,ir=nn.options&&nn.options.firstWeekContainsDate,Jr=null==ir?1:(0,Ht.Z)(ir),se=null==_t.firstWeekContainsDate?Jr:(0,Ht.Z)(_t.firstWeekContainsDate);if(!(se>=1&&se<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=nn.options&&nn.options.weekStartsOn,L=null==P?0:(0,Ht.Z)(P),$=null==_t.weekStartsOn?L:(0,Ht.Z)(_t.weekStartsOn);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!nn.localize)throw new RangeError("locale must contain localize property");if(!nn.formatLong)throw new RangeError("locale must contain formatLong property");var me=(0,Ne.Z)(j);if(!(0,ot.Z)(me))throw new RangeError("Invalid time value");var He=(0,pi.Z)(me),dt=rt(me,He),ft={firstWeekContainsDate:se,weekStartsOn:$,locale:nn,_originalDate:me};return Ve.match(Wt).map(function(tn){var Gn=tn[0];return"p"===Gn||"P"===Gn?(0,jn[Gn])(tn,nn.formatLong,ft):tn}).join("").match(Ge).map(function(tn){if("''"===tn)return"'";var Gn=tn[0];if("'"===Gn)return pr(tn);var Bn=Qt[Gn];if(Bn)return!_t.useAdditionalWeekYearTokens&&$e(tn)&&bt(tn,ae,j),!_t.useAdditionalDayOfYearTokens&&vt(tn)&&bt(tn,ae,j),Bn(dt,tn,nn.localize,ft);if(Gn.match(Tn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Gn+"`");return tn}).join("")}(ae,X,{locale:this.i18n.getDateLocale()}):""}parseDate(ae,X){return function Vo(j,ae,X,Ve){(0,Ze.Z)(3,arguments);var _t=String(j),nn=String(ae),ir=Ve||{},Jr=ir.locale||Qn;if(!Jr.match)throw new RangeError("locale must contain match property");var se=Jr.options&&Jr.options.firstWeekContainsDate,P=null==se?1:(0,Ht.Z)(se),L=null==ir.firstWeekContainsDate?P:(0,Ht.Z)(ir.firstWeekContainsDate);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=Jr.options&&Jr.options.weekStartsOn,me=null==$?0:(0,Ht.Z)($),He=null==ir.weekStartsOn?me:(0,Ht.Z)(ir.weekStartsOn);if(!(He>=0&&He<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===nn)return""===_t?(0,Ne.Z)(X):new Date(NaN);var Bt,dt={firstWeekContainsDate:L,weekStartsOn:He,locale:Jr},ft=[{priority:10,subPriority:-1,set:Ga,index:0}],tn=nn.match(Po).map(function(ao){var Ci=ao[0];return"p"===Ci||"P"===Ci?(0,jn[Ci])(ao,Jr.formatLong,dt):ao}).join("").match(rn),Gn=[];for(Bt=0;Bt<tn.length;Bt++){var Bn=tn[Bt];!ir.useAdditionalWeekYearTokens&&$e(Bn)&&bt(Bn,nn,j),!ir.useAdditionalDayOfYearTokens&&vt(Bn)&&bt(Bn,nn,j);var br=Bn[0],Wr=zo[br];if(Wr){var wr=Wr.incompatibleTokens;if(Array.isArray(wr)){for(var Fr=void 0,wi=0;wi<Gn.length;wi++){var Qi=Gn[wi].token;if(-1!==wr.indexOf(Qi)||Qi===br){Fr=Gn[wi];break}}if(Fr)throw new RangeError("The format string mustn't contain `".concat(Fr.fullToken,"` and `").concat(Bn,"` at the same time"))}else if("*"===Wr.incompatibleTokens&&Gn.length)throw new RangeError("The format string mustn't contain `".concat(Bn,"` and any other token at the same time"));Gn.push({token:br,fullToken:Bn});var oo=Wr.parse(_t,Bn,Jr.match,dt);if(!oo)return new Date(NaN);ft.push({priority:Wr.priority,subPriority:Wr.subPriority||0,set:Wr.set,validate:Wr.validate,value:oo.value,index:ft.length}),_t=oo.rest}else{if(br.match(ia))throw new RangeError("Format string contains an unescaped latin alphabet character `"+br+"`");if("''"===Bn?Bn="'":"'"===br&&(Bn=Ye(Bn)),0!==_t.indexOf(Bn))return new Date(NaN);_t=_t.slice(Bn.length)}}if(_t.length>0&&bi.test(_t))return new Date(NaN);var po=ft.map(function(ao){return ao.priority}).sort(function(ao,Ci){return Ci-ao}).filter(function(ao,Ci,Ji){return Ji.indexOf(ao)===Ci}).map(function(ao){return ft.filter(function(Ci){return Ci.priority===ao}).sort(function(Ci,Ji){return Ji.subPriority-Ci.subPriority})}).map(function(ao){return ao[0]}),yi=(0,Ne.Z)(X);if(isNaN(yi))return new Date(NaN);var Ro=rt(yi,(0,pi.Z)(yi)),Oi={};for(Bt=0;Bt<po.length;Bt++){var So=po[Bt];if(So.validate&&!So.validate(Ro,So.value,dt))return new Date(NaN);var sa=So.set(Ro,Oi,So.value,dt);sa[0]?(Ro=sa[0],Mr(Oi,sa[1])):Ro=sa}return Ro}(ae,X,new Date,{locale:this.i18n.getDateLocale(),weekStartsOn:this.getFirstDayOfWeek()})}parseTime(ae,X){return this.parseDate(ae,X)}}class Cs extends fa{getISOWeek(ae){return+this.format(ae,"w")}getFirstDayOfWeek(){if(void 0===this.config.firstDayOfWeek){const ae=this.i18n.getLocaleId();return ae&&["zh-cn","zh-tw"].indexOf(ae.toLowerCase())>-1?1:0}return this.config.firstDayOfWeek}format(ae,X){return ae?(0,Le.p6)(ae,X,this.i18n.getLocaleId()):""}parseDate(ae){return new Date(ae)}parseTime(ae,X){return new ns.xR(X,this.i18n.getLocaleId()).toDate(ae)}}},3087:(An,Dt,H)=>{H.d(Dt,{Ls:()=>V2,PV:()=>Wf});var M=H(925),G=H(5e3),B=H(655),Le=H(7579),Ne=H(188),Ue=H(2722),Ze=H(9808);function nt(Ie,et){(function Fe(Ie){return"string"==typeof Ie&&-1!==Ie.indexOf(".")&&1===parseFloat(Ie)})(Ie)&&(Ie="100%");var be=function we(Ie){return"string"==typeof Ie&&-1!==Ie.indexOf("%")}(Ie);return Ie=360===et?Ie:Math.min(et,Math.max(0,parseFloat(Ie))),be&&(Ie=parseInt(String(Ie*et),10)/100),Math.abs(Ie-et)<1e-6?1:Ie=360===et?(Ie<0?Ie%et+et:Ie%et)/parseFloat(String(et)):Ie%et/parseFloat(String(et))}function Je(Ie){return Math.min(1,Math.max(0,Ie))}function Ae(Ie){return Ie=parseFloat(Ie),(isNaN(Ie)||Ie<0||Ie>1)&&(Ie=1),Ie}function ot(Ie){return Ie<=1?100*Number(Ie)+"%":Ie}function lt(Ie){return 1===Ie.length?"0"+Ie:String(Ie)}function zt(Ie,et,be){Ie=nt(Ie,255),et=nt(et,255),be=nt(be,255);var Vt=Math.max(Ie,et,be),hn=Math.min(Ie,et,be),Fn=0,Yn=0,Ir=(Vt+hn)/2;if(Vt===hn)Yn=0,Fn=0;else{var Vi=Vt-hn;switch(Yn=Ir>.5?Vi/(2-Vt-hn):Vi/(Vt+hn),Vt){case Ie:Fn=(et-be)/Vi+(et<be?6:0);break;case et:Fn=(be-Ie)/Vi+2;break;case be:Fn=(Ie-et)/Vi+4}Fn/=6}return{h:Fn,s:Yn,l:Ir}}function gt(Ie,et,be){return be<0&&(be+=1),be>1&&(be-=1),be<1/6?Ie+6*be*(et-Ie):be<.5?et:be<2/3?Ie+(et-Ie)*(2/3-be)*6:Ie}function w(Ie,et,be){Ie=nt(Ie,255),et=nt(et,255),be=nt(be,255);var Vt=Math.max(Ie,et,be),hn=Math.min(Ie,et,be),Fn=0,Yn=Vt,Ir=Vt-hn,Vi=0===Vt?0:Ir/Vt;if(Vt===hn)Fn=0;else{switch(Vt){case Ie:Fn=(et-be)/Ir+(et<be?6:0);break;case et:Fn=(be-Ie)/Ir+2;break;case be:Fn=(Ie-et)/Ir+4}Fn/=6}return{h:Fn,s:Vi,v:Yn}}function Yt(Ie,et,be,Vt){var hn=[lt(Math.round(Ie).toString(16)),lt(Math.round(et).toString(16)),lt(Math.round(be).toString(16))];return Vt&&hn[0].startsWith(hn[0].charAt(1))&&hn[1].startsWith(hn[1].charAt(1))&&hn[2].startsWith(hn[2].charAt(1))?hn[0].charAt(0)+hn[1].charAt(0)+hn[2].charAt(0):hn.join("")}function De(Ie){return Math.round(255*parseFloat(Ie)).toString(16)}function Qe(Ie){return Ct(Ie)/255}function Ct(Ie){return parseInt(Ie,16)}var yt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var ht="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Sn="[\\s|\\(]+("+ht+")[,|\\s]+("+ht+")[,|\\s]+("+ht+")\\s*\\)?",qe="[\\s|\\(]+("+ht+")[,|\\s]+("+ht+")[,|\\s]+("+ht+")[,|\\s]+("+ht+")\\s*\\)?",Zt={CSS_UNIT:new RegExp(ht),rgb:new RegExp("rgb"+Sn),rgba:new RegExp("rgba"+qe),hsl:new RegExp("hsl"+Sn),hsla:new RegExp("hsla"+qe),hsv:new RegExp("hsv"+Sn),hsva:new RegExp("hsva"+qe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Xt(Ie){return Boolean(Zt.CSS_UNIT.exec(String(Ie)))}var Kn=function(){function Ie(et,be){var Vt;if(void 0===et&&(et=""),void 0===be&&(be={}),et instanceof Ie)return et;"number"==typeof et&&(et=function je(Ie){return{r:Ie>>16,g:(65280&Ie)>>8,b:255&Ie}}(et)),this.originalInput=et;var hn=function It(Ie){var et={r:0,g:0,b:0},be=1,Vt=null,hn=null,Fn=null,Yn=!1,Ir=!1;return"string"==typeof Ie&&(Ie=function wt(Ie){if(0===(Ie=Ie.trim().toLowerCase()).length)return!1;var et=!1;if(yt[Ie])Ie=yt[Ie],et=!0;else if("transparent"===Ie)return{r:0,g:0,b:0,a:0,format:"name"};var be=Zt.rgb.exec(Ie);return be?{r:be[1],g:be[2],b:be[3]}:(be=Zt.rgba.exec(Ie))?{r:be[1],g:be[2],b:be[3],a:be[4]}:(be=Zt.hsl.exec(Ie))?{h:be[1],s:be[2],l:be[3]}:(be=Zt.hsla.exec(Ie))?{h:be[1],s:be[2],l:be[3],a:be[4]}:(be=Zt.hsv.exec(Ie))?{h:be[1],s:be[2],v:be[3]}:(be=Zt.hsva.exec(Ie))?{h:be[1],s:be[2],v:be[3],a:be[4]}:(be=Zt.hex8.exec(Ie))?{r:Ct(be[1]),g:Ct(be[2]),b:Ct(be[3]),a:Qe(be[4]),format:et?"name":"hex8"}:(be=Zt.hex6.exec(Ie))?{r:Ct(be[1]),g:Ct(be[2]),b:Ct(be[3]),format:et?"name":"hex"}:(be=Zt.hex4.exec(Ie))?{r:Ct(be[1]+be[1]),g:Ct(be[2]+be[2]),b:Ct(be[3]+be[3]),a:Qe(be[4]+be[4]),format:et?"name":"hex8"}:!!(be=Zt.hex3.exec(Ie))&&{r:Ct(be[1]+be[1]),g:Ct(be[2]+be[2]),b:Ct(be[3]+be[3]),format:et?"name":"hex"}}(Ie)),"object"==typeof Ie&&(Xt(Ie.r)&&Xt(Ie.g)&&Xt(Ie.b)?(et=function mt(Ie,et,be){return{r:255*nt(Ie,255),g:255*nt(et,255),b:255*nt(be,255)}}(Ie.r,Ie.g,Ie.b),Yn=!0,Ir="%"===String(Ie.r).substr(-1)?"prgb":"rgb"):Xt(Ie.h)&&Xt(Ie.s)&&Xt(Ie.v)?(Vt=ot(Ie.s),hn=ot(Ie.v),et=function Vn(Ie,et,be){Ie=6*nt(Ie,360),et=nt(et,100),be=nt(be,100);var Vt=Math.floor(Ie),hn=Ie-Vt,Fn=be*(1-et),Yn=be*(1-hn*et),Ir=be*(1-(1-hn)*et),Vi=Vt%6;return{r:255*[be,Yn,Fn,Fn,Ir,be][Vi],g:255*[Ir,be,be,Yn,Fn,Fn][Vi],b:255*[Fn,Fn,Ir,be,be,Yn][Vi]}}(Ie.h,Vt,hn),Yn=!0,Ir="hsv"):Xt(Ie.h)&&Xt(Ie.s)&&Xt(Ie.l)&&(Vt=ot(Ie.s),Fn=ot(Ie.l),et=function fn(Ie,et,be){var Vt,hn,Fn;if(Ie=nt(Ie,360),et=nt(et,100),be=nt(be,100),0===et)hn=be,Fn=be,Vt=be;else{var Yn=be<.5?be*(1+et):be+et-be*et,Ir=2*be-Yn;Vt=gt(Ir,Yn,Ie+1/3),hn=gt(Ir,Yn,Ie),Fn=gt(Ir,Yn,Ie-1/3)}return{r:255*Vt,g:255*hn,b:255*Fn}}(Ie.h,Vt,Fn),Yn=!0,Ir="hsl"),Object.prototype.hasOwnProperty.call(Ie,"a")&&(be=Ie.a)),be=Ae(be),{ok:Yn,format:Ie.format||Ir,r:Math.min(255,Math.max(et.r,0)),g:Math.min(255,Math.max(et.g,0)),b:Math.min(255,Math.max(et.b,0)),a:be}}(et);this.originalInput=et,this.r=hn.r,this.g=hn.g,this.b=hn.b,this.a=hn.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(Vt=be.format)&&void 0!==Vt?Vt:hn.format,this.gradientType=be.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=hn.ok}return Ie.prototype.isDark=function(){return this.getBrightness()<128},Ie.prototype.isLight=function(){return!this.isDark()},Ie.prototype.getBrightness=function(){var et=this.toRgb();return(299*et.r+587*et.g+114*et.b)/1e3},Ie.prototype.getLuminance=function(){var et=this.toRgb(),Fn=et.r/255,Yn=et.g/255,Ir=et.b/255;return.2126*(Fn<=.03928?Fn/12.92:Math.pow((Fn+.055)/1.055,2.4))+.7152*(Yn<=.03928?Yn/12.92:Math.pow((Yn+.055)/1.055,2.4))+.0722*(Ir<=.03928?Ir/12.92:Math.pow((Ir+.055)/1.055,2.4))},Ie.prototype.getAlpha=function(){return this.a},Ie.prototype.setAlpha=function(et){return this.a=Ae(et),this.roundA=Math.round(100*this.a)/100,this},Ie.prototype.toHsv=function(){var et=w(this.r,this.g,this.b);return{h:360*et.h,s:et.s,v:et.v,a:this.a}},Ie.prototype.toHsvString=function(){var et=w(this.r,this.g,this.b),be=Math.round(360*et.h),Vt=Math.round(100*et.s),hn=Math.round(100*et.v);return 1===this.a?"hsv("+be+", "+Vt+"%, "+hn+"%)":"hsva("+be+", "+Vt+"%, "+hn+"%, "+this.roundA+")"},Ie.prototype.toHsl=function(){var et=zt(this.r,this.g,this.b);return{h:360*et.h,s:et.s,l:et.l,a:this.a}},Ie.prototype.toHslString=function(){var et=zt(this.r,this.g,this.b),be=Math.round(360*et.h),Vt=Math.round(100*et.s),hn=Math.round(100*et.l);return 1===this.a?"hsl("+be+", "+Vt+"%, "+hn+"%)":"hsla("+be+", "+Vt+"%, "+hn+"%, "+this.roundA+")"},Ie.prototype.toHex=function(et){return void 0===et&&(et=!1),Yt(this.r,this.g,this.b,et)},Ie.prototype.toHexString=function(et){return void 0===et&&(et=!1),"#"+this.toHex(et)},Ie.prototype.toHex8=function(et){return void 0===et&&(et=!1),function ue(Ie,et,be,Vt,hn){var Fn=[lt(Math.round(Ie).toString(16)),lt(Math.round(et).toString(16)),lt(Math.round(be).toString(16)),lt(De(Vt))];return hn&&Fn[0].startsWith(Fn[0].charAt(1))&&Fn[1].startsWith(Fn[1].charAt(1))&&Fn[2].startsWith(Fn[2].charAt(1))&&Fn[3].startsWith(Fn[3].charAt(1))?Fn[0].charAt(0)+Fn[1].charAt(0)+Fn[2].charAt(0)+Fn[3].charAt(0):Fn.join("")}(this.r,this.g,this.b,this.a,et)},Ie.prototype.toHex8String=function(et){return void 0===et&&(et=!1),"#"+this.toHex8(et)},Ie.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},Ie.prototype.toRgbString=function(){var et=Math.round(this.r),be=Math.round(this.g),Vt=Math.round(this.b);return 1===this.a?"rgb("+et+", "+be+", "+Vt+")":"rgba("+et+", "+be+", "+Vt+", "+this.roundA+")"},Ie.prototype.toPercentageRgb=function(){var et=function(be){return Math.round(100*nt(be,255))+"%"};return{r:et(this.r),g:et(this.g),b:et(this.b),a:this.a}},Ie.prototype.toPercentageRgbString=function(){var et=function(be){return Math.round(100*nt(be,255))};return 1===this.a?"rgb("+et(this.r)+"%, "+et(this.g)+"%, "+et(this.b)+"%)":"rgba("+et(this.r)+"%, "+et(this.g)+"%, "+et(this.b)+"%, "+this.roundA+")"},Ie.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var et="#"+Yt(this.r,this.g,this.b,!1),be=0,Vt=Object.entries(yt);be<Vt.length;be++){var hn=Vt[be];if(et===hn[1])return hn[0]}return!1},Ie.prototype.toString=function(et){var be=Boolean(et);et=null!=et?et:this.format;var Vt=!1;return!be&&this.a<1&&this.a>=0&&(et.startsWith("hex")||"name"===et)?"name"===et&&0===this.a?this.toName():this.toRgbString():("rgb"===et&&(Vt=this.toRgbString()),"prgb"===et&&(Vt=this.toPercentageRgbString()),("hex"===et||"hex6"===et)&&(Vt=this.toHexString()),"hex3"===et&&(Vt=this.toHexString(!0)),"hex4"===et&&(Vt=this.toHex8String(!0)),"hex8"===et&&(Vt=this.toHex8String()),"name"===et&&(Vt=this.toName()),"hsl"===et&&(Vt=this.toHslString()),"hsv"===et&&(Vt=this.toHsvString()),Vt||this.toHexString())},Ie.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},Ie.prototype.clone=function(){return new Ie(this.toString())},Ie.prototype.lighten=function(et){void 0===et&&(et=10);var be=this.toHsl();return be.l+=et/100,be.l=Je(be.l),new Ie(be)},Ie.prototype.brighten=function(et){void 0===et&&(et=10);var be=this.toRgb();return be.r=Math.max(0,Math.min(255,be.r-Math.round(-et/100*255))),be.g=Math.max(0,Math.min(255,be.g-Math.round(-et/100*255))),be.b=Math.max(0,Math.min(255,be.b-Math.round(-et/100*255))),new Ie(be)},Ie.prototype.darken=function(et){void 0===et&&(et=10);var be=this.toHsl();return be.l-=et/100,be.l=Je(be.l),new Ie(be)},Ie.prototype.tint=function(et){return void 0===et&&(et=10),this.mix("white",et)},Ie.prototype.shade=function(et){return void 0===et&&(et=10),this.mix("black",et)},Ie.prototype.desaturate=function(et){void 0===et&&(et=10);var be=this.toHsl();return be.s-=et/100,be.s=Je(be.s),new Ie(be)},Ie.prototype.saturate=function(et){void 0===et&&(et=10);var be=this.toHsl();return be.s+=et/100,be.s=Je(be.s),new Ie(be)},Ie.prototype.greyscale=function(){return this.desaturate(100)},Ie.prototype.spin=function(et){var be=this.toHsl(),Vt=(be.h+et)%360;return be.h=Vt<0?360+Vt:Vt,new Ie(be)},Ie.prototype.mix=function(et,be){void 0===be&&(be=50);var Vt=this.toRgb(),hn=new Ie(et).toRgb(),Fn=be/100;return new Ie({r:(hn.r-Vt.r)*Fn+Vt.r,g:(hn.g-Vt.g)*Fn+Vt.g,b:(hn.b-Vt.b)*Fn+Vt.b,a:(hn.a-Vt.a)*Fn+Vt.a})},Ie.prototype.analogous=function(et,be){void 0===et&&(et=6),void 0===be&&(be=30);var Vt=this.toHsl(),hn=360/be,Fn=[this];for(Vt.h=(Vt.h-(hn*et>>1)+720)%360;--et;)Vt.h=(Vt.h+hn)%360,Fn.push(new Ie(Vt));return Fn},Ie.prototype.complement=function(){var et=this.toHsl();return et.h=(et.h+180)%360,new Ie(et)},Ie.prototype.monochromatic=function(et){void 0===et&&(et=6);for(var be=this.toHsv(),Vt=be.h,hn=be.s,Fn=be.v,Yn=[],Ir=1/et;et--;)Yn.push(new Ie({h:Vt,s:hn,v:Fn})),Fn=(Fn+Ir)%1;return Yn},Ie.prototype.splitcomplement=function(){var et=this.toHsl(),be=et.h;return[this,new Ie({h:(be+72)%360,s:et.s,l:et.l}),new Ie({h:(be+216)%360,s:et.s,l:et.l})]},Ie.prototype.onBackground=function(et){var be=this.toRgb(),Vt=new Ie(et).toRgb();return new Ie({r:Vt.r+(be.r-Vt.r)*be.a,g:Vt.g+(be.g-Vt.g)*be.a,b:Vt.b+(be.b-Vt.b)*be.a})},Ie.prototype.triad=function(){return this.polyad(3)},Ie.prototype.tetrad=function(){return this.polyad(4)},Ie.prototype.polyad=function(et){for(var be=this.toHsl(),Vt=be.h,hn=[this],Fn=360/et,Yn=1;Yn<et;Yn++)hn.push(new Ie({h:(Vt+Yn*Fn)%360,s:be.s,l:be.l}));return hn},Ie.prototype.equals=function(et){return this.toRgbString()===new Ie(et).toRgbString()},Ie}(),Ni=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Er(Ie,et,be){var Vt;return(Vt=Math.round(Ie.h)>=60&&Math.round(Ie.h)<=240?be?Math.round(Ie.h)-2*et:Math.round(Ie.h)+2*et:be?Math.round(Ie.h)+2*et:Math.round(Ie.h)-2*et)<0?Vt+=360:Vt>=360&&(Vt-=360),Vt}function Kr(Ie,et,be){return 0===Ie.h&&0===Ie.s?Ie.s:((Vt=be?Ie.s-.16*et:4===et?Ie.s+.16:Ie.s+.05*et)>1&&(Vt=1),be&&5===et&&Vt>.1&&(Vt=.1),Vt<.06&&(Vt=.06),Number(Vt.toFixed(2)));var Vt}function Ti(Ie,et,be){var Vt;return(Vt=be?Ie.v+.05*et:Ie.v-.15*et)>1&&(Vt=1),Number(Vt.toFixed(2))}function ci(Ie){for(var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},be=[],Vt=new Kn(Ie),hn=5;hn>0;hn-=1){var Fn=Vt.toHsv(),Yn=new Kn({h:Er(Fn,hn,!0),s:Kr(Fn,hn,!0),v:Ti(Fn,hn,!0)}).toHexString();be.push(Yn)}be.push(Vt.toHexString());for(var Ir=1;Ir<=4;Ir+=1){var Vi=Vt.toHsv(),gs=new Kn({h:Er(Vi,Ir),s:Kr(Vi,Ir),v:Ti(Vi,Ir)}).toHexString();be.push(gs)}return"dark"===et.theme?Ni.map(function(Jl){var Ki=Jl.index,U0=Jl.opacity;return new Kn(et.backgroundColor||"#141414").mix(be[Ki],100*U0).toHexString()}):be}var no={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Zn={},Ur={};Object.keys(no).forEach(function(Ie){Zn[Ie]=ci(no[Ie]),Zn[Ie].primary=Zn[Ie][5],Ur[Ie]=ci(no[Ie],{theme:"dark",backgroundColor:"#141414"}),Ur[Ie].primary=Ur[Ie][5]});var Nn=H(520),ur=H(9646),qn=H(8306),Gt=H(4004),vn=H(8505),bn=H(8746),ce=H(262),Lt=H(3099),pt=H(9300),We=H(5698),kt=H(2313);const Qt="[@ant-design/icons-angular]:";function ar(Ie){(0,G.X6Q)()&&console.warn(`${Qt} ${Ie}.`)}function St(Ie){return ci(Ie)[0]}function _n(Ie,et){switch(et){case"fill":return`${Ie}-fill`;case"outline":return`${Ie}-o`;case"twotone":return`${Ie}-twotone`;case void 0:return Ie;default:throw new Error(`${Qt}Theme "${et}" is not a recognized theme!`)}}function Rt(Ie){return"object"==typeof Ie&&"string"==typeof Ie.name&&("string"==typeof Ie.theme||void 0===Ie.theme)&&"string"==typeof Ie.icon}function Ge(Ie){const et=Ie.split(":");switch(et.length){case 1:return[Ie,""];case 2:return[et[1],et[0]];default:throw new Error(`${Qt}The icon type ${Ie} is not valid!`)}}function Mt(Ie){return new Error(`${Qt}the icon ${Ie} does not exist or is not registered.`)}function pr(){return new Error(`${Qt}<svg> tag not found.`)}const Bi=new G.OlP("ant_icons");let Xr=(()=>{class Ie{constructor(be,Vt,hn,Fn,Yn){this._rendererFactory=be,this._handler=Vt,this._document=hn,this.sanitizer=Fn,this._antIcons=Yn,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new Le.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Nn.eN(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:be,secondaryColor:Vt}){this._twoToneColorPalette.primaryColor=be,this._twoToneColorPalette.secondaryColor=Vt||St(be)}get twoToneColor(){return Object.assign({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?ar("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=be=>{this._jsonpIconLoad$.next(be)})}changeAssetsSource(be){this._assetsUrlRoot=be.endsWith("/")?be:be+"/"}addIcon(...be){be.forEach(Vt=>{this._svgDefinitions.set(_n(Vt.name,Vt.theme),Vt)})}addIconLiteral(be,Vt){const[hn,Fn]=Ge(be);if(!Fn)throw function ge(){return new Error(`${Qt}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:be,icon:Vt})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(be,Vt){const hn=Rt(be)?be:this._svgDefinitions.get(be)||null;if(!hn&&this._disableDynamicLoading)throw Mt(be);return(hn?(0,ur.of)(hn):this._loadIconDynamically(be)).pipe((0,Gt.U)(Yn=>{if(!Yn)throw Mt(be);return this._loadSVGFromCacheOrCreateNew(Yn,Vt)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(be){if(!this._http&&!this._enableJsonpLoading)return(0,ur.of)(function Tn(){return function Hn(Ie){console.error(`${Qt} ${Ie}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let Vt=this._inProgressFetches.get(be);if(!Vt){const[hn,Fn]=Ge(be),Yn=Fn?{name:be,icon:""}:function vt(Ie){const et=Ie.split("-"),be=function pi(Ie){return"o"===Ie?"outline":Ie}(et.splice(et.length-1,1)[0]);return{name:et.join("-"),theme:be,icon:""}}(hn),Vi=(Fn?`${this._assetsUrlRoot}assets/${Fn}/${hn}`:`${this._assetsUrlRoot}assets/${Yn.theme}/${Yn.name}`)+(this._enableJsonpLoading?".js":".svg"),gs=this.sanitizer.sanitize(G.q3G.URL,Vi);if(!gs)throw function zn(Ie){return new Error(`${Qt}The url "${Ie}" is unsafe.`)}(Vi);Vt=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(Yn,gs):this._http.get(gs,{responseType:"text"}).pipe((0,Gt.U)(Ki=>Object.assign(Object.assign({},Yn),{icon:Ki})))).pipe((0,vn.b)(Ki=>this.addIcon(Ki)),(0,bn.x)(()=>this._inProgressFetches.delete(be)),(0,ce.K)(()=>(0,ur.of)(null)),(0,Lt.B)()),this._inProgressFetches.set(be,Vt)}return Vt}_loadIconDynamicallyWithJsonp(be,Vt){return new qn.y(hn=>{const Fn=this._document.createElement("script"),Yn=setTimeout(()=>{Ir(),hn.error(function Mr(){return new Error(`${Qt}Importing timeout error.`)}())},6e3);function Ir(){Fn.parentNode.removeChild(Fn),clearTimeout(Yn)}Fn.src=Vt,this._document.body.appendChild(Fn),this._jsonpIconLoad$.pipe((0,pt.h)(Vi=>Vi.name===be.name&&Vi.theme===be.theme),(0,We.q)(1)).subscribe(Vi=>{hn.next(Vi),Ir()})})}_loadSVGFromCacheOrCreateNew(be,Vt){let hn;const Fn=Vt||this._twoToneColorPalette.primaryColor,Yn=St(Fn)||this._twoToneColorPalette.secondaryColor,Ir="twotone"===be.theme?function jn(Ie,et,be,Vt){return`${_n(Ie,et)}-${be}-${Vt}`}(be.name,be.theme,Fn,Yn):void 0===be.theme?be.name:_n(be.name,be.theme),Vi=this._svgRenderedDefinitions.get(Ir);return Vi?hn=Vi.icon:(hn=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function Wt(Ie){return""!==Ge(Ie)[1]}(be.name)?be.icon:function bt(Ie){return Ie.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(be.icon)),"twotone"===be.theme,Fn,Yn)),this._svgRenderedDefinitions.set(Ir,Object.assign(Object.assign({},be),{icon:hn}))),function $e(Ie){return Ie.cloneNode(!0)}(hn)}_createSVGElementFromString(be){const Vt=this._document.createElement("div");Vt.innerHTML=be;const hn=Vt.querySelector("svg");if(!hn)throw pr;return hn}_setSVGAttribute(be){return this._renderer.setAttribute(be,"width","1em"),this._renderer.setAttribute(be,"height","1em"),be}_colorizeSVGIcon(be,Vt,hn,Fn){if(Vt){const Yn=be.childNodes,Ir=Yn.length;for(let Vi=0;Vi<Ir;Vi++){const gs=Yn[Vi];"secondaryColor"===gs.getAttribute("fill")?this._renderer.setAttribute(gs,"fill",Fn):this._renderer.setAttribute(gs,"fill",hn)}}return this._renderer.setAttribute(be,"fill","currentColor"),be}}return Ie.\u0275fac=function(be){return new(be||Ie)(G.LFG(G.FYo),G.LFG(Nn.jN,8),G.LFG(Ze.K0,8),G.LFG(kt.H7),G.LFG(Bi,8))},Ie.\u0275prov=G.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})(),Sr=(()=>{class Ie{constructor(be,Vt,hn){this._iconService=be,this._elementRef=Vt,this._renderer=hn}ngOnChanges(be){(be.type||be.theme||be.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(be=>{if(!this.type)return this._clearSVGElement(),void be(null);const Vt=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(hn=>{const Fn=this._getSelfRenderMeta();!function kn(Ie,et){return Ie.type===et.type&&Ie.theme===et.theme&&Ie.twoToneColor===et.twoToneColor}(Vt,Fn)?be(null):(this._setSVGElement(hn),be(hn))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(be,Vt){if(Rt(be))return be;{const[hn,Fn]=Ge(be);return Fn?be:function $r(Ie){return Ie.endsWith("-fill")||Ie.endsWith("-o")||Ie.endsWith("-twotone")}(hn)?(Vt&&ar(`'type' ${hn} already gets a theme inside so 'theme' ${Vt} would be ignored`),hn):_n(hn,Vt||this._iconService.defaultTheme)}}_setSVGElement(be){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,be)}_clearSVGElement(){var be;const Vt=this._elementRef.nativeElement,hn=Vt.childNodes;for(let Yn=hn.length-1;Yn>=0;Yn--){const Ir=hn[Yn];"svg"===(null===(be=Ir.tagName)||void 0===be?void 0:be.toLowerCase())&&this._renderer.removeChild(Vt,Ir)}}}return Ie.\u0275fac=function(be){return new(be||Ie)(G.Y36(Xr),G.Y36(G.SBq),G.Y36(G.Qsj))},Ie.\u0275dir=G.lG2({type:Ie,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[G.TTD]}),Ie})();var ii=H(6947),Or=H(1721);const Rs={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var Kg=H(9439);const pp=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},Rs,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},Rs,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],Ru=new G.OlP("nz_icons"),gh=(new G.OlP("nz_icon_default_twotone_color"),"#1890ff");let Gf=(()=>{class Ie extends Xr{constructor(be,Vt,hn,Fn,Yn,Ir,Vi){super(be,Yn,Ir,Vt,[...pp,...Vi||[]]),this.nzConfigService=hn,this.platform=Fn,this.configUpdated$=new Le.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(be){be.getAttribute("viewBox")||this._renderer.setAttribute(be,"viewBox","0 0 1024 1024"),(!be.getAttribute("width")||!be.getAttribute("height"))&&(this._renderer.setAttribute(be,"width","1em"),this._renderer.setAttribute(be,"height","1em")),be.getAttribute("fill")||this._renderer.setAttribute(be,"fill","currentColor")}fetchFromIconfont(be){const{scriptUrl:Vt}=be;if(this._document&&!this.iconfontCache.has(Vt)){const hn=this._renderer.createElement("script");this._renderer.setAttribute(hn,"src",Vt),this._renderer.setAttribute(hn,"data-namespace",Vt.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,hn),this.iconfontCache.add(Vt)}}createIconfontIcon(be){return this._createSVGElementFromString(`<svg><use xlink:href="${be}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const be=this.getConfig();this.defaultTheme=be.nzTheme||"outline"}configDefaultTwotoneColor(){const Vt=this.getConfig().nzTwotoneColor||gh;let hn=gh;Vt&&(Vt.startsWith("#")?hn=Vt:(0,ii.ZK)("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:hn}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return Ie.\u0275fac=function(be){return new(be||Ie)(G.LFG(G.FYo),G.LFG(kt.H7),G.LFG(Kg.jY),G.LFG(M.t4),G.LFG(Nn.jN,8),G.LFG(Ze.K0,8),G.LFG(Ru,8))},Ie.\u0275prov=G.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const Bf=new G.OlP("nz_icons_patch");let fp=(()=>{class Ie{constructor(be,Vt){this.extraIcons=be,this.rootIconService=Vt,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(be=>this.rootIconService.addIcon(be)),this.patched=!0)}}return Ie.\u0275fac=function(be){return new(be||Ie)(G.LFG(Bf,2),G.LFG(Gf))},Ie.\u0275prov=G.Yz7({token:Ie,factory:Ie.\u0275fac}),Ie})(),V2=(()=>{class Ie extends Sr{constructor(be,Vt,hn,Fn,Yn,Ir){super(Fn,hn,Yn),this.ngZone=be,this.changeDetectorRef=Vt,this.iconService=Fn,this.renderer=Yn,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new Le.x,Ir&&Ir.doPatch(),this.el=hn.nativeElement}set nzSpin(be){this.spin=be}set nzType(be){this.type=be}set nzTheme(be){this.theme=be}set nzTwotoneColor(be){this.twoToneColor=be}set nzIconfont(be){this.iconfont=be}ngOnChanges(be){const{nzType:Vt,nzTwotoneColor:hn,nzSpin:Fn,nzTheme:Yn,nzRotate:Ir}=be;Vt||hn||Fn||Yn?this.changeIcon2():Ir?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const be=this.el.children;let Vt=be.length;if(!this.type&&be.length)for(;Vt--;){const hn=be[Vt];"svg"===hn.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(hn)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{(0,Ne.D)(this._changeIcon()).pipe((0,Ue.R)(this.destroy$)).subscribe({next:be=>{this.changeDetectorRef.detectChanges(),be&&(this.setSVGData(be),this.handleSpin(be),this.handleRotate(be))},error:ii.ZK})})}handleSpin(be){this.spin||"loading"===this.type?this.renderer.addClass(be,"anticon-spin"):this.renderer.removeClass(be,"anticon-spin")}handleRotate(be){this.nzRotate?this.renderer.setAttribute(be,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(be,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(be){this.renderer.setAttribute(be,"data-icon",this.type),this.renderer.setAttribute(be,"aria-hidden","true")}}return Ie.\u0275fac=function(be){return new(be||Ie)(G.Y36(G.R0b),G.Y36(G.sBO),G.Y36(G.SBq),G.Y36(Gf),G.Y36(G.Qsj),G.Y36(fp,8))},Ie.\u0275dir=G.lG2({type:Ie,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(be,Vt){2&be&&G.ekj("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[G.qOj,G.TTD]}),(0,B.gn)([(0,Or.yF)()],Ie.prototype,"nzSpin",null),Ie})(),Wf=(()=>{class Ie{static forRoot(be){return{ngModule:Ie,providers:[{provide:Ru,useValue:be}]}}static forChild(be){return{ngModule:Ie,providers:[fp,{provide:Bf,useValue:be}]}}}return Ie.\u0275fac=function(be){return new(be||Ie)},Ie.\u0275mod=G.oAB({type:Ie}),Ie.\u0275inj=G.cJS({imports:[[M.ud]]}),Ie})()},9727:(An,Dt,H)=>{H.d(Dt,{dD:()=>ht,gR:()=>Sn});var M=H(7429),G=H(5e3),B=H(7579),Le=H(9300),Ne=H(5698),Ue=H(2722),Ze=H(9439),nt=H(1721),Je=H(8076),Fe=H(9808),we=H(3087),Ae=H(969),ot=H(4090),lt=H(9776),mt=H(226);function zt(qe,Zt){1&qe&&G._UZ(0,"i",10)}function gt(qe,Zt){1&qe&&G._UZ(0,"i",11)}function fn(qe,Zt){1&qe&&G._UZ(0,"i",12)}function w(qe,Zt){1&qe&&G._UZ(0,"i",13)}function Vn(qe,Zt){1&qe&&G._UZ(0,"i",14)}function Yt(qe,Zt){if(1&qe&&(G.ynx(0),G._UZ(1,"span",15),G.BQk()),2&qe){const wt=G.oxw();G.xp6(1),G.Q6J("innerHTML",wt.instance.content,G.oJD)}}function ue(qe,Zt){if(1&qe){const wt=G.EpF();G.TgZ(0,"nz-message",2),G.NdJ("destroyed",function(Kn){return G.CHM(wt),G.oxw().remove(Kn.id,Kn.userAction)}),G.qZA()}2&qe&&G.Q6J("instance",Zt.$implicit)}let at=0,Qe=(()=>{class qe{constructor(wt,Xt){this.cdr=wt,this.nzConfigService=Xt,this.instances=[],this.destroy$=new B.x,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(wt){const Xt=this.onCreate(wt);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,Xt],this.readyInstances(),Xt}remove(wt,Xt=!1){this.instances.some((Kn,or)=>Kn.messageId===wt&&(this.instances.splice(or,1),this.instances=[...this.instances],this.onRemove(Kn,Xt),this.readyInstances(),!0))}removeAll(){this.instances.forEach(wt=>this.onRemove(wt,!1)),this.instances=[],this.readyInstances()}onCreate(wt){return wt.options=this.mergeOptions(wt.options),wt.onClose=new B.x,wt}onRemove(wt,Xt){wt.onClose.next(Xt),wt.onClose.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(wt){const{nzDuration:Xt,nzAnimate:Kn,nzPauseOnHover:or}=this.config;return Object.assign({nzDuration:Xt,nzAnimate:Kn,nzPauseOnHover:or},wt)}}return qe.\u0275fac=function(wt){return new(wt||qe)(G.Y36(G.sBO),G.Y36(Ze.jY))},qe.\u0275dir=G.lG2({type:qe}),qe})(),Ct=(()=>{class qe{constructor(wt){this.cdr=wt,this.destroyed=new G.vpe,this.animationStateChanged=new B.x,this.userAction=!1,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,Le.h)(wt=>"done"===wt.phaseName&&"leave"===wt.toState),(0,Ne.q)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(wt=!1){this.userAction=wt,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:wt})},200)):this.destroyed.next({id:this.instance.messageId,userAction:wt})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}return qe.\u0275fac=function(wt){return new(wt||qe)(G.Y36(G.sBO))},qe.\u0275dir=G.lG2({type:qe}),qe})(),je=(()=>{class qe extends Ct{constructor(wt){super(wt),this.destroyed=new G.vpe}}return qe.\u0275fac=function(wt){return new(wt||qe)(G.Y36(G.sBO))},qe.\u0275cmp=G.Xpm({type:qe,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[G.qOj],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(wt,Xt){1&wt&&(G.TgZ(0,"div",0),G.NdJ("@moveUpMotion.done",function(or){return Xt.animationStateChanged.next(or)})("mouseenter",function(){return Xt.onEnter()})("mouseleave",function(){return Xt.onLeave()}),G.TgZ(1,"div",1)(2,"div",2),G.ynx(3,3),G.YNc(4,zt,1,0,"i",4),G.YNc(5,gt,1,0,"i",5),G.YNc(6,fn,1,0,"i",6),G.YNc(7,w,1,0,"i",7),G.YNc(8,Vn,1,0,"i",8),G.BQk(),G.YNc(9,Yt,2,1,"ng-container",9),G.qZA()()()),2&wt&&(G.Q6J("@moveUpMotion",Xt.instance.state),G.xp6(2),G.Q6J("ngClass","ant-message-"+Xt.instance.type),G.xp6(1),G.Q6J("ngSwitch",Xt.instance.type),G.xp6(1),G.Q6J("ngSwitchCase","success"),G.xp6(1),G.Q6J("ngSwitchCase","info"),G.xp6(1),G.Q6J("ngSwitchCase","warning"),G.xp6(1),G.Q6J("ngSwitchCase","error"),G.xp6(1),G.Q6J("ngSwitchCase","loading"),G.xp6(1),G.Q6J("nzStringTemplateOutlet",Xt.instance.content))},directives:[Fe.mk,Fe.RF,Fe.n9,we.Ls,Ae.f],encapsulation:2,data:{animation:[Je.YK]},changeDetection:0}),qe})();const yt="message",It={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let Et=(()=>{class qe extends Qe{constructor(wt,Xt){super(wt,Xt),this.dir="ltr";const Kn=this.nzConfigService.getConfigForComponent(yt);this.dir=(null==Kn?void 0:Kn.nzDirection)||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(yt).pipe((0,Ue.R)(this.destroy$)).subscribe(()=>{this.updateConfig();const wt=this.nzConfigService.getConfigForComponent(yt);if(wt){const{nzDirection:Xt}=wt;this.dir=Xt||this.dir}})}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},It),this.config),this.nzConfigService.getConfigForComponent(yt)),this.top=(0,nt.WX)(this.config.nzTop),this.cdr.markForCheck()}}return qe.\u0275fac=function(wt){return new(wt||qe)(G.Y36(G.sBO),G.Y36(Ze.jY))},qe.\u0275cmp=G.Xpm({type:qe,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[G.qOj],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(wt,Xt){1&wt&&(G.TgZ(0,"div",0),G.YNc(1,ue,1,1,"nz-message",1),G.qZA()),2&wt&&(G.Udp("top",Xt.top),G.ekj("ant-message-rtl","rtl"===Xt.dir),G.xp6(1),G.Q6J("ngForOf",Xt.instances))},directives:[je,Fe.sg],encapsulation:2,changeDetection:0}),qe})(),ln=(()=>{class qe{}return qe.\u0275fac=function(wt){return new(wt||qe)},qe.\u0275mod=G.oAB({type:qe}),qe.\u0275inj=G.cJS({}),qe})(),ht=(()=>{class qe extends class De{constructor(Zt,wt,Xt){this.nzSingletonService=Zt,this.overlay=wt,this.injector=Xt}remove(Zt){this.container&&(Zt?this.container.remove(Zt):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${at++}`}withContainer(Zt){let wt=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(wt)return wt;const Xt=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),Kn=new M.C5(Zt,null,this.injector),or=Xt.attach(Kn);return Xt.overlayElement.style.zIndex="1010",wt||(this.container=wt=or.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,wt)),wt}}{constructor(wt,Xt,Kn){super(wt,Xt,Kn),this.componentPrefix="message-"}success(wt,Xt){return this.createInstance({type:"success",content:wt},Xt)}error(wt,Xt){return this.createInstance({type:"error",content:wt},Xt)}info(wt,Xt){return this.createInstance({type:"info",content:wt},Xt)}warning(wt,Xt){return this.createInstance({type:"warning",content:wt},Xt)}loading(wt,Xt){return this.createInstance({type:"loading",content:wt},Xt)}create(wt,Xt,Kn){return this.createInstance({type:wt,content:Xt},Kn)}createInstance(wt,Xt){return this.container=this.withContainer(Et),this.container.create(Object.assign(Object.assign({},wt),{createdAt:new Date,messageId:this.getInstanceId(),options:Xt}))}}return qe.\u0275fac=function(wt){return new(wt||qe)(G.LFG(ot.KV),G.LFG(lt.aV),G.LFG(G.zs3))},qe.\u0275prov=G.Yz7({token:qe,factory:qe.\u0275fac,providedIn:ln}),qe})(),Sn=(()=>{class qe{}return qe.\u0275fac=function(wt){return new(wt||qe)},qe.\u0275mod=G.oAB({type:qe}),qe.\u0275inj=G.cJS({imports:[[mt.vT,Fe.ez,lt.U8,we.PV,Ae.T,ln]]}),qe})()},7957:(An,Dt,H)=>{H.d(Dt,{Qp:()=>$e,Lf:()=>_n,Sf:()=>jn});var M=H(9776),G=H(7429),B=H(5e3),Le=H(7579),Ne=H(4968),Ue=H(9770),Ze=H(2722),nt=H(9300),Je=H(5698),Fe=H(8675),we=H(6947),Ae=H(1721),ot=H(9808),lt=H(6360),mt=H(1777),zt=H(5911),gt=H(9439),fn=H(7904),w=H(969),Vn=H(2683),Yt=H(3087),ue=H(6042),at=H(2643);H(2313);class Ct{transform(Wt,ge=0,Mt="B",Tn){if(!((0,Ae.ui)(Wt)&&(0,Ae.ui)(ge)&&ge%1==0&&ge>=0))return Wt;let zn=Wt,pr=Mt;for(;"B"!==pr;)zn*=1024,pr=Ct.formats[pr].prev;if(Tn){const Pr=(0,Ae.YM)(Ct.calculateResult(Ct.formats[Tn],zn),ge);return Ct.formatResult(Pr,Tn)}for(const Mr in Ct.formats)if(Ct.formats.hasOwnProperty(Mr)){const Pr=Ct.formats[Mr];if(zn<Pr.max){const Bi=(0,Ae.YM)(Ct.calculateResult(Pr,zn),ge);return Ct.formatResult(Bi,Mr)}}}static formatResult(Wt,ge){return`${Wt} ${ge}`}static calculateResult(Wt,ge){const Mt=Wt.prev?Ct.formats[Wt.prev]:void 0;return Mt?ge/Mt.max:ge}}Ct.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}},Ct.\u0275fac=function(Wt){return new(Wt||Ct)},Ct.\u0275pipe=B.Yjl({name:"nzBytes",type:Ct,pure:!0});let je=(()=>{class Ge{transform(ge,Mt="px"){let Pr="px";return["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","1h","vw","vh","vmin","vmax","%"].some(Bi=>Bi===Mt)&&(Pr=Mt),"number"==typeof ge?`${ge}${Pr}`:`${ge}`}}return Ge.\u0275fac=function(ge){return new(ge||Ge)},Ge.\u0275pipe=B.Yjl({name:"nzToCssUnit",type:Ge,pure:!0}),Ge})(),Sn=(()=>{class Ge{}return Ge.\u0275fac=function(ge){return new(ge||Ge)},Ge.\u0275mod=B.oAB({type:Ge}),Ge.\u0275inj=B.cJS({imports:[[ot.ez]]}),Ge})();var qe=H(655),Zt=H(1159),wt=H(226),Xt=H(4832);const Kn=["nz-modal-close",""];function or(Ge,Wt){if(1&Ge&&(B.ynx(0),B._UZ(1,"i",2),B.BQk()),2&Ge){const ge=Wt.$implicit;B.xp6(1),B.Q6J("nzType",ge)}}const gr=["modalElement"];function _r(Ge,Wt){if(1&Ge){const ge=B.EpF();B.TgZ(0,"button",16),B.NdJ("click",function(){return B.CHM(ge),B.oxw().onCloseClick()}),B.qZA()}}function mi(Ge,Wt){if(1&Ge&&(B.ynx(0),B._UZ(1,"span",17),B.BQk()),2&Ge){const ge=B.oxw();B.xp6(1),B.Q6J("innerHTML",ge.config.nzTitle,B.oJD)}}function ri(Ge,Wt){}function Dr(Ge,Wt){if(1&Ge&&B._UZ(0,"div",17),2&Ge){const ge=B.oxw();B.Q6J("innerHTML",ge.config.nzContent,B.oJD)}}function Gi(Ge,Wt){if(1&Ge){const ge=B.EpF();B.TgZ(0,"button",18),B.NdJ("click",function(){return B.CHM(ge),B.oxw().onCancel()}),B._uU(1),B.qZA()}if(2&Ge){const ge=B.oxw();B.Q6J("nzLoading",!!ge.config.nzCancelLoading)("disabled",ge.config.nzCancelDisabled),B.uIk("cdkFocusInitial","cancel"===ge.config.nzAutofocus||null),B.xp6(1),B.hij(" ",ge.config.nzCancelText||ge.locale.cancelText," ")}}function Ii(Ge,Wt){if(1&Ge){const ge=B.EpF();B.TgZ(0,"button",19),B.NdJ("click",function(){return B.CHM(ge),B.oxw().onOk()}),B._uU(1),B.qZA()}if(2&Ge){const ge=B.oxw();B.Q6J("nzType",ge.config.nzOkType)("nzLoading",!!ge.config.nzOkLoading)("disabled",ge.config.nzOkDisabled)("nzDanger",ge.config.nzOkDanger),B.uIk("cdkFocusInitial","ok"===ge.config.nzAutofocus||null),B.xp6(1),B.hij(" ",ge.config.nzOkText||ge.locale.okText," ")}}const Ni=["nz-modal-title",""];function Er(Ge,Wt){if(1&Ge&&(B.ynx(0),B._UZ(1,"div",2),B.BQk()),2&Ge){const ge=B.oxw();B.xp6(1),B.Q6J("innerHTML",ge.config.nzTitle,B.oJD)}}const Kr=["nz-modal-footer",""];function Ti(Ge,Wt){if(1&Ge&&B._UZ(0,"div",5),2&Ge){const ge=B.oxw(3);B.Q6J("innerHTML",ge.config.nzFooter,B.oJD)}}function ci(Ge,Wt){if(1&Ge){const ge=B.EpF();B.TgZ(0,"button",7),B.NdJ("click",function(){const zn=B.CHM(ge).$implicit;return B.oxw(4).onButtonClick(zn)}),B._uU(1),B.qZA()}if(2&Ge){const ge=Wt.$implicit,Mt=B.oxw(4);B.Q6J("hidden",!Mt.getButtonCallableProp(ge,"show"))("nzLoading",Mt.getButtonCallableProp(ge,"loading"))("disabled",Mt.getButtonCallableProp(ge,"disabled"))("nzType",ge.type)("nzDanger",ge.danger)("nzShape",ge.shape)("nzSize",ge.size)("nzGhost",ge.ghost),B.xp6(1),B.hij(" ",ge.label," ")}}function no(Ge,Wt){if(1&Ge&&(B.ynx(0),B.YNc(1,ci,2,9,"button",6),B.BQk()),2&Ge){const ge=B.oxw(3);B.xp6(1),B.Q6J("ngForOf",ge.buttons)}}function Zn(Ge,Wt){if(1&Ge&&(B.ynx(0),B.YNc(1,Ti,1,1,"div",3),B.YNc(2,no,2,1,"ng-container",4),B.BQk()),2&Ge){const ge=B.oxw(2);B.xp6(1),B.Q6J("ngIf",!ge.buttonsFooter),B.xp6(1),B.Q6J("ngIf",ge.buttonsFooter)}}const Ur=function(Ge,Wt){return{$implicit:Ge,modalRef:Wt}};function Qn(Ge,Wt){if(1&Ge&&(B.ynx(0),B.YNc(1,Zn,3,2,"ng-container",2),B.BQk()),2&Ge){const ge=B.oxw();B.xp6(1),B.Q6J("nzStringTemplateOutlet",ge.config.nzFooter)("nzStringTemplateOutletContext",B.WLB(2,Ur,ge.config.nzComponentParams,ge.modalRef))}}function Ht(Ge,Wt){if(1&Ge){const ge=B.EpF();B.TgZ(0,"button",10),B.NdJ("click",function(){return B.CHM(ge),B.oxw(2).onCancel()}),B._uU(1),B.qZA()}if(2&Ge){const ge=B.oxw(2);B.Q6J("nzLoading",!!ge.config.nzCancelLoading)("disabled",ge.config.nzCancelDisabled),B.uIk("cdkFocusInitial","cancel"===ge.config.nzAutofocus||null),B.xp6(1),B.hij(" ",ge.config.nzCancelText||ge.locale.cancelText," ")}}function Se(Ge,Wt){if(1&Ge){const ge=B.EpF();B.TgZ(0,"button",11),B.NdJ("click",function(){return B.CHM(ge),B.oxw(2).onOk()}),B._uU(1),B.qZA()}if(2&Ge){const ge=B.oxw(2);B.Q6J("nzType",ge.config.nzOkType)("nzDanger",ge.config.nzOkDanger)("nzLoading",!!ge.config.nzOkLoading)("disabled",ge.config.nzOkDisabled),B.uIk("cdkFocusInitial","ok"===ge.config.nzAutofocus||null),B.xp6(1),B.hij(" ",ge.config.nzOkText||ge.locale.okText," ")}}function rt(Ge,Wt){if(1&Ge&&(B.YNc(0,Ht,2,4,"button",8),B.YNc(1,Se,2,6,"button",9)),2&Ge){const ge=B.oxw();B.Q6J("ngIf",null!==ge.config.nzCancelText),B.xp6(1),B.Q6J("ngIf",null!==ge.config.nzOkText)}}function Re(Ge,Wt){if(1&Ge){const ge=B.EpF();B.TgZ(0,"button",9),B.NdJ("click",function(){return B.CHM(ge),B.oxw().onCloseClick()}),B.qZA()}}function xe(Ge,Wt){1&Ge&&B._UZ(0,"div",10)}function oe(Ge,Wt){}function Me(Ge,Wt){if(1&Ge&&B._UZ(0,"div",11),2&Ge){const ge=B.oxw();B.Q6J("innerHTML",ge.config.nzContent,B.oJD)}}function ye(Ge,Wt){if(1&Ge){const ge=B.EpF();B.TgZ(0,"div",12),B.NdJ("cancelTriggered",function(){return B.CHM(ge),B.oxw().onCloseClick()})("okTriggered",function(){return B.CHM(ge),B.oxw().onOkClick()}),B.qZA()}if(2&Ge){const ge=B.oxw();B.Q6J("modalRef",ge.modalRef)}}const ze=()=>{};class ut{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=ze,this.nzOnOk=ze,this.nzIconType="question-circle"}}const Nn="ant-modal-mask",ur="modal",qn={modalContainer:(0,mt.X$)("modalContainer",[(0,mt.SB)("void, exit",(0,mt.oB)({})),(0,mt.SB)("enter",(0,mt.oB)({})),(0,mt.eR)("* => enter",(0,mt.jt)(".24s",(0,mt.oB)({}))),(0,mt.eR)("* => void, * => exit",(0,mt.jt)(".2s",(0,mt.oB)({})))])};function vn(Ge,Wt,ge){return void 0===Ge?void 0===Wt?ge:Wt:Ge}function Lt(){throw Error("Attempting to attach modal content after content is already attached")}let pt=(()=>{class Ge extends G.en{constructor(ge,Mt,Tn,zn,pr,Mr,Pr,Bi,Xr,kn){super(),this.ngZone=ge,this.host=Mt,this.focusTrapFactory=Tn,this.cdr=zn,this.render=pr,this.overlayRef=Mr,this.nzConfigService=Pr,this.config=Bi,this.animationType=kn,this.animationStateChanged=new B.vpe,this.containerClick=new B.vpe,this.cancelTriggered=new B.vpe,this.okTriggered=new B.vpe,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new Le.x,this.document=Xr,this.dir=Mr.getDirection(),this.isStringContent="string"==typeof Bi.nzContent,this.nzConfigService.getConfigChangeEventForComponent(ur).pipe((0,Ze.R)(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}get showMask(){const ge=this.nzConfigService.getConfigForComponent(ur)||{};return!!vn(this.config.nzMask,ge.nzMask,!0)}get maskClosable(){const ge=this.nzConfigService.getConfigForComponent(ur)||{};return!!vn(this.config.nzMaskClosable,ge.nzMaskClosable,!0)}onContainerClick(ge){ge.target===ge.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(ge){return this.portalOutlet.hasAttached()&&Lt(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(ge)}attachTemplatePortal(ge){return this.portalOutlet.hasAttached()&&Lt(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(ge)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const ge=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const Mt=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),Tn=(0,Ae.pW)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(ge,"transform-origin",`${Tn.left+Mt.width/2-ge.offsetLeft}px ${Tn.top+Mt.height/2-ge.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.host.nativeElement.focus())))}trapFocus(){const ge=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const Mt=this.document.activeElement;Mt!==ge&&!ge.contains(Mt)&&ge.focus()}}restoreFocus(){const ge=this.elementFocusedBeforeModalWasOpened;if(ge&&"function"==typeof ge.focus){const Mt=this.document.activeElement,Tn=this.host.nativeElement;(!Mt||Mt===this.document.body||Mt===Tn||Tn.contains(Mt))&&ge.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const ge=this.modalElementRef.nativeElement,Mt=this.overlayRef.backdropElement;ge.classList.add("ant-zoom-enter"),ge.classList.add("ant-zoom-enter-active"),Mt&&(Mt.classList.add("ant-fade-enter"),Mt.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const ge=this.modalElementRef.nativeElement;ge.classList.add("ant-zoom-leave"),ge.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(ge=!1){const Mt=this.overlayRef.backdropElement;if(Mt){if(this.animationDisabled()||ge)return void Mt.classList.remove(Nn);Mt.classList.add("ant-fade-leave"),Mt.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const ge=this.overlayRef.backdropElement,Mt=this.modalElementRef.nativeElement;ge&&(ge.classList.remove("ant-fade-enter"),ge.classList.remove("ant-fade-enter-active")),Mt.classList.remove("ant-zoom-enter"),Mt.classList.remove("ant-zoom-enter-active"),Mt.classList.remove("ant-zoom-leave"),Mt.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const ge=this.overlayRef.backdropElement;ge&&(0,Ae.DX)(this.config.nzZIndex)&&this.render.setStyle(ge,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const ge=this.overlayRef.backdropElement;if(ge&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(Tn=>{this.render.removeStyle(ge,Tn)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const Mt=Object.assign({},this.config.nzMaskStyle);Object.keys(Mt).forEach(Tn=>{this.render.setStyle(ge,Tn,Mt[Tn])}),this.oldMaskStyle=Mt}}updateMaskClassname(){const ge=this.overlayRef.backdropElement;ge&&(this.showMask?ge.classList.add(Nn):ge.classList.remove(Nn))}onAnimationDone(ge){"enter"===ge.toState?this.trapFocus():"exit"===ge.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(ge)}onAnimationStart(ge){"enter"===ge.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===ge.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(ge)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(),this.destroy$.complete()}setupMouseListeners(ge){this.ngZone.runOutsideAngular(()=>{(0,Ne.R)(this.host.nativeElement,"mouseup").pipe((0,Ze.R)(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),(0,Ne.R)(ge.nativeElement,"mousedown").pipe((0,Ze.R)(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}}return Ge.\u0275fac=function(ge){B.$Z()},Ge.\u0275dir=B.lG2({type:Ge,features:[B.qOj]}),Ge})(),We=(()=>{class Ge{constructor(ge){this.config=ge}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(B.Y36(ut))},Ge.\u0275cmp=B.Xpm({type:Ge,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:Kn,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(ge,Mt){1&ge&&(B.TgZ(0,"span",0),B.YNc(1,or,2,1,"ng-container",1),B.qZA()),2&ge&&(B.xp6(1),B.Q6J("nzStringTemplateOutlet",Mt.config.nzCloseIcon))},directives:[w.f,Vn.w,Yt.Ls],encapsulation:2,changeDetection:0}),Ge})(),kt=(()=>{class Ge extends pt{constructor(ge,Mt,Tn,zn,pr,Mr,Pr,Bi,Xr,kn,Sr){super(ge,Tn,zn,pr,Mr,Pr,Bi,Xr,kn,Sr),this.i18n=Mt,this.config=Xr,this.cancelTriggered=new B.vpe,this.okTriggered=new B.vpe,this.i18n.localeChange.pipe((0,Ze.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(B.Y36(B.R0b),B.Y36(fn.wi),B.Y36(B.SBq),B.Y36(zt.qV),B.Y36(B.sBO),B.Y36(B.Qsj),B.Y36(M.Iu),B.Y36(gt.jY),B.Y36(ut),B.Y36(ot.K0,8),B.Y36(lt.Qb,8))},Ge.\u0275cmp=B.Xpm({type:Ge,selectors:[["nz-modal-confirm-container"]],viewQuery:function(ge,Mt){if(1&ge&&(B.Gf(G.Pl,7),B.Gf(gr,7)),2&ge){let Tn;B.iGM(Tn=B.CRH())&&(Mt.portalOutlet=Tn.first),B.iGM(Tn=B.CRH())&&(Mt.modalElementRef=Tn.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(ge,Mt){1&ge&&(B.WFA("@modalContainer.start",function(zn){return Mt.onAnimationStart(zn)})("@modalContainer.done",function(zn){return Mt.onAnimationDone(zn)}),B.NdJ("click",function(zn){return Mt.onContainerClick(zn)})),2&ge&&(B.d8E("@.disabled",Mt.config.nzNoAnimation)("@modalContainer",Mt.state),B.Tol(Mt.config.nzWrapClassName?"ant-modal-wrap "+Mt.config.nzWrapClassName:"ant-modal-wrap"),B.Udp("z-index",Mt.config.nzZIndex),B.ekj("ant-modal-wrap-rtl","rtl"===Mt.dir)("ant-modal-centered",Mt.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[B.qOj],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click"]],template:function(ge,Mt){1&ge&&(B.TgZ(0,"div",0,1),B.ALo(2,"nzToCssUnit"),B.TgZ(3,"div",2),B.YNc(4,_r,1,0,"button",3),B.TgZ(5,"div",4)(6,"div",5)(7,"div",6),B._UZ(8,"i",7),B.TgZ(9,"span",8),B.YNc(10,mi,2,1,"ng-container",9),B.qZA(),B.TgZ(11,"div",10),B.YNc(12,ri,0,0,"ng-template",11),B.YNc(13,Dr,1,1,"div",12),B.qZA()(),B.TgZ(14,"div",13),B.YNc(15,Gi,2,4,"button",14),B.YNc(16,Ii,2,6,"button",15),B.qZA()()()()()),2&ge&&(B.Udp("width",B.lcZ(2,11,null==Mt.config?null:Mt.config.nzWidth)),B.Q6J("ngClass",Mt.config.nzClassName)("ngStyle",Mt.config.nzStyle),B.xp6(4),B.Q6J("ngIf",Mt.config.nzClosable),B.xp6(1),B.Q6J("ngStyle",Mt.config.nzBodyStyle),B.xp6(3),B.Q6J("nzType",Mt.config.nzIconType),B.xp6(2),B.Q6J("nzStringTemplateOutlet",Mt.config.nzTitle),B.xp6(3),B.Q6J("ngIf",Mt.isStringContent),B.xp6(2),B.Q6J("ngIf",null!==Mt.config.nzCancelText),B.xp6(1),B.Q6J("ngIf",null!==Mt.config.nzOkText))},directives:[We,ue.ix,ot.mk,ot.PC,ot.O5,Vn.w,Yt.Ls,w.f,G.Pl,at.dQ],pipes:[je],encapsulation:2,data:{animation:[qn.modalContainer]}}),Ge})(),Qt=(()=>{class Ge{constructor(ge){this.config=ge}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(B.Y36(ut))},Ge.\u0275cmp=B.Xpm({type:Ge,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:Ni,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(ge,Mt){1&ge&&(B.TgZ(0,"div",0),B.YNc(1,Er,2,1,"ng-container",1),B.qZA()),2&ge&&(B.xp6(1),B.Q6J("nzStringTemplateOutlet",Mt.config.nzTitle))},directives:[w.f],encapsulation:2,changeDetection:0}),Ge})(),Hn=(()=>{class Ge{constructor(ge,Mt){this.i18n=ge,this.config=Mt,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new B.vpe,this.okTriggered=new B.vpe,this.destroy$=new Le.x,Array.isArray(Mt.nzFooter)&&(this.buttonsFooter=!0,this.buttons=Mt.nzFooter.map(ar)),this.i18n.localeChange.pipe((0,Ze.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(ge,Mt){const Tn=ge[Mt],zn=this.modalRef.getContentComponent();return"function"==typeof Tn?Tn.apply(ge,zn&&[zn]):Tn}onButtonClick(ge){if(!this.getButtonCallableProp(ge,"loading")){const Tn=this.getButtonCallableProp(ge,"onClick");ge.autoLoading&&(0,Ae.tI)(Tn)&&(ge.loading=!0,Tn.then(()=>ge.loading=!1).catch(zn=>{throw ge.loading=!1,zn}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(B.Y36(fn.wi),B.Y36(ut))},Ge.\u0275cmp=B.Xpm({type:Ge,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:Kr,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(ge,Mt){if(1&ge&&(B.YNc(0,Qn,2,5,"ng-container",0),B.YNc(1,rt,2,2,"ng-template",null,1,B.W1O)),2&ge){const Tn=B.MAs(2);B.Q6J("ngIf",Mt.config.nzFooter)("ngIfElse",Tn)}},directives:[ue.ix,ot.O5,w.f,ot.sg,at.dQ,Vn.w],encapsulation:2}),Ge})();function ar(Ge){return Object.assign({type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},Ge)}let St=(()=>{class Ge extends pt{constructor(ge,Mt,Tn,zn,pr,Mr,Pr,Bi,Xr,kn){super(ge,Mt,Tn,zn,pr,Mr,Pr,Bi,Xr,kn),this.config=Bi}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(B.Y36(B.R0b),B.Y36(B.SBq),B.Y36(zt.qV),B.Y36(B.sBO),B.Y36(B.Qsj),B.Y36(M.Iu),B.Y36(gt.jY),B.Y36(ut),B.Y36(ot.K0,8),B.Y36(lt.Qb,8))},Ge.\u0275cmp=B.Xpm({type:Ge,selectors:[["nz-modal-container"]],viewQuery:function(ge,Mt){if(1&ge&&(B.Gf(G.Pl,7),B.Gf(gr,7)),2&ge){let Tn;B.iGM(Tn=B.CRH())&&(Mt.portalOutlet=Tn.first),B.iGM(Tn=B.CRH())&&(Mt.modalElementRef=Tn.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(ge,Mt){1&ge&&(B.WFA("@modalContainer.start",function(zn){return Mt.onAnimationStart(zn)})("@modalContainer.done",function(zn){return Mt.onAnimationDone(zn)}),B.NdJ("click",function(zn){return Mt.onContainerClick(zn)})),2&ge&&(B.d8E("@.disabled",Mt.config.nzNoAnimation)("@modalContainer",Mt.state),B.Tol(Mt.config.nzWrapClassName?"ant-modal-wrap "+Mt.config.nzWrapClassName:"ant-modal-wrap"),B.Udp("z-index",Mt.config.nzZIndex),B.ekj("ant-modal-wrap-rtl","rtl"===Mt.dir)("ant-modal-centered",Mt.config.nzCentered))},exportAs:["nzModalContainer"],features:[B.qOj],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(ge,Mt){1&ge&&(B.TgZ(0,"div",0,1),B.ALo(2,"nzToCssUnit"),B.TgZ(3,"div",2),B.YNc(4,Re,1,0,"button",3),B.YNc(5,xe,1,0,"div",4),B.TgZ(6,"div",5),B.YNc(7,oe,0,0,"ng-template",6),B.YNc(8,Me,1,1,"div",7),B.qZA(),B.YNc(9,ye,1,1,"div",8),B.qZA()()),2&ge&&(B.Udp("width",B.lcZ(2,9,null==Mt.config?null:Mt.config.nzWidth)),B.Q6J("ngClass",Mt.config.nzClassName)("ngStyle",Mt.config.nzStyle),B.xp6(4),B.Q6J("ngIf",Mt.config.nzClosable),B.xp6(1),B.Q6J("ngIf",Mt.config.nzTitle),B.xp6(1),B.Q6J("ngStyle",Mt.config.nzBodyStyle),B.xp6(2),B.Q6J("ngIf",Mt.isStringContent),B.xp6(1),B.Q6J("ngIf",null!==Mt.config.nzFooter))},directives:[We,Qt,Hn,ot.mk,ot.PC,ot.O5,G.Pl],pipes:[je],encapsulation:2,data:{animation:[qn.modalContainer]}}),Ge})();class _n{constructor(Wt,ge,Mt){this.overlayRef=Wt,this.config=ge,this.containerInstance=Mt,this.componentInstance=null,this.state=0,this.afterClose=new Le.x,this.afterOpen=new Le.x,this.destroy$=new Le.x,Mt.animationStateChanged.pipe((0,nt.h)(Tn=>"done"===Tn.phaseName&&"enter"===Tn.toState),(0,Je.q)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),ge.nzAfterOpen instanceof B.vpe&&ge.nzAfterOpen.emit()}),Mt.animationStateChanged.pipe((0,nt.h)(Tn=>"done"===Tn.phaseName&&"exit"===Tn.toState),(0,Je.q)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),Mt.containerClick.pipe((0,Je.q)(1),(0,Ze.R)(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),Wt.keydownEvents().pipe((0,nt.h)(Tn=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&Tn.keyCode===Zt.hY&&!(0,Zt.Vb)(Tn))).subscribe(Tn=>{Tn.preventDefault(),this.trigger("cancel")}),Mt.cancelTriggered.pipe((0,Ze.R)(this.destroy$)).subscribe(()=>this.trigger("cancel")),Mt.okTriggered.pipe((0,Ze.R)(this.destroy$)).subscribe(()=>this.trigger("ok")),Wt.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),ge.nzAfterClose instanceof B.vpe&&ge.nzAfterClose.emit(this.result),this.componentInstance=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getElement(){return this.containerInstance.getNativeElement()}destroy(Wt){this.close(Wt)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(Wt){0===this.state&&(this.result=Wt,this.containerInstance.animationStateChanged.pipe((0,nt.h)(ge=>"start"===ge.phaseName),(0,Je.q)(1)).subscribe(ge=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},ge.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(Wt){Object.assign(this.config,Wt),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(Wt){return(0,qe.mG)(this,void 0,void 0,function*(){const ge={ok:this.config.nzOnOk,cancel:this.config.nzOnCancel}[Wt],Mt={ok:"nzOkLoading",cancel:"nzCancelLoading"}[Wt];if(!this.config[Mt])if(ge instanceof B.vpe)ge.emit(this.getContentComponent());else if("function"==typeof ge){const zn=ge(this.getContentComponent());if((0,Ae.tI)(zn)){this.config[Mt]=!0;let pr=!1;try{pr=yield zn}finally{this.config[Mt]=!1,this.closeWhitResult(pr)}}else this.closeWhitResult(zn)}})}closeWhitResult(Wt){!1!==Wt&&this.close(Wt)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let jn=(()=>{class Ge{constructor(ge,Mt,Tn,zn,pr){this.overlay=ge,this.injector=Mt,this.nzConfigService=Tn,this.parentModal=zn,this.directionality=pr,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new Le.x,this.afterAllClose=(0,Ue.P)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,Fe.O)(void 0)))}get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const ge=this.parentModal;return ge?ge._afterAllClosed:this.afterAllClosedAtThisLevel}create(ge){return this.open(ge.nzContent,ge)}closeAll(){this.closeModals(this.openModals)}confirm(ge={},Mt="confirm"){return"nzFooter"in ge&&(0,we.ZK)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in ge||(ge.nzWidth=416),"nzMaskClosable"in ge||(ge.nzMaskClosable=!1),ge.nzModalType="confirm",ge.nzClassName=`ant-modal-confirm ant-modal-confirm-${Mt} ${ge.nzClassName||""}`,this.create(ge)}info(ge={}){return this.confirmFactory(ge,"info")}success(ge={}){return this.confirmFactory(ge,"success")}error(ge={}){return this.confirmFactory(ge,"error")}warning(ge={}){return this.confirmFactory(ge,"warning")}open(ge,Mt){const Tn=function Gt(Ge,Wt){return Object.assign(Object.assign({},Wt),Ge)}(Mt||{},new ut),zn=this.createOverlay(Tn),pr=this.attachModalContainer(zn,Tn),Mr=this.attachModalContent(ge,pr,zn,Tn);return pr.modalRef=Mr,this.openModals.push(Mr),Mr.afterClose.subscribe(()=>this.removeOpenModal(Mr)),Mr}removeOpenModal(ge){const Mt=this.openModals.indexOf(ge);Mt>-1&&(this.openModals.splice(Mt,1),this.openModals.length||this._afterAllClosed.next())}closeModals(ge){let Mt=ge.length;for(;Mt--;)ge[Mt].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(ge){const Mt=this.nzConfigService.getConfigForComponent(ur)||{},Tn=new M.X_({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:vn(ge.nzCloseOnNavigation,Mt.nzCloseOnNavigation,!0),direction:vn(ge.nzDirection,Mt.nzDirection,this.directionality.value)});return vn(ge.nzMask,Mt.nzMask,!0)&&(Tn.backdropClass=Nn),this.overlay.create(Tn)}attachModalContainer(ge,Mt){const zn=B.zs3.create({parent:Mt&&Mt.nzViewContainerRef&&Mt.nzViewContainerRef.injector||this.injector,providers:[{provide:M.Iu,useValue:ge},{provide:ut,useValue:Mt}]}),Mr=new G.C5("confirm"===Mt.nzModalType?kt:St,Mt.nzViewContainerRef,zn);return ge.attach(Mr).instance}attachModalContent(ge,Mt,Tn,zn){const pr=new _n(Tn,zn,Mt);if(ge instanceof B.Rgc)Mt.attachTemplatePortal(new G.UE(ge,null,{$implicit:zn.nzComponentParams,modalRef:pr}));else if((0,Ae.DX)(ge)&&"string"!=typeof ge){const Mr=this.createInjector(pr,zn),Pr=Mt.attachComponentPortal(new G.C5(ge,zn.nzViewContainerRef,Mr));(function bn(Ge,Wt){Object.assign(Ge,Wt)})(Pr.instance,zn.nzComponentParams),pr.componentInstance=Pr.instance}else Mt.attachStringContent();return pr}createInjector(ge,Mt){return B.zs3.create({parent:Mt&&Mt.nzViewContainerRef&&Mt.nzViewContainerRef.injector||this.injector,providers:[{provide:_n,useValue:ge}]})}confirmFactory(ge={},Mt){return"nzIconType"in ge||(ge.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[Mt]),"nzCancelText"in ge||(ge.nzCancelText=null),this.confirm(ge,Mt)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(B.LFG(M.aV),B.LFG(B.zs3),B.LFG(gt.jY),B.LFG(Ge,12),B.LFG(wt.Is,8))},Ge.\u0275prov=B.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),$e=(()=>{class Ge{}return Ge.\u0275fac=function(ge){return new(ge||Ge)},Ge.\u0275mod=B.oAB({type:Ge}),Ge.\u0275inj=B.cJS({providers:[jn],imports:[[ot.ez,wt.vT,M.U8,w.T,G.eL,fn.YI,ue.sL,Yt.PV,Sn,Xt.g,Sn]]}),Ge})()}},An=>{An(An.s=7628)}]);