"use strict";(self.webpackChunkTS24AppWeb=self.webpackChunkTS24AppWeb||[]).push([[708],{1708:(E,_,s)=>{s.d(_,{P:()=>A});var h=s(1963),u=s(857),c=s(8306),p=s(9690),g=s(9646),o=s(3900),n=s(8505),a=s(5e3);let A=(()=>{class l{constructor(e){this.srv=e}get cuser(){return this.srv.inj.get(u.a)}getUrlApi(e){let r=this.cuser.read().id;return this.srv.config().read().fixUrl(`ag-grid/${r}/${e}`)}getByAgCode(e,r,t){let i=this.getUrlApi(`get-by-code/${e}/${r}`);return this.srv.client().sendGet(i)}getByAgAll(e){let r=this.getUrlApi(`get-ag-all/${e}`);return this.srv.client().sendGet(r).pipe((0,o.w)(t=>(this.cuser.read().assignAgType(e,t).saveBy(this.srv.shared()),(0,g.of)(t))))}getByAgType(e){let r=this.getUrlApi(`get-by-type/${e}`);return this.srv.client().sendGet(r).pipe((0,n.b)(t=>(0,g.of)(this.cuser.read().assignAgType(e,t).saveBy(this.srv.shared()).getAgType(e))))}createOrUpdate(e){let r=this.getUrlApi("create-or-update");return this.srv.client().sendPost(r,e).pipe((0,n.b)(t=>{let i=this.cuser.read();i.grid_config[t.grid_type].grid_field[t.grid_code]=t,i.saveBy(this.srv.shared())}))}deleteField(e,r){let t=this.getUrlApi(`delete-by-code/${e}/${r}`);return this.srv.client().sendDelete(t)}getColumnAgFromCache(e,r=!0){return new c.y(t=>{let i=this.cuser.read().getAgType(e);(0,p.gS)(i)?r?this.getByAgType(e).subscribe(d=>t.next(d),d=>t.error(d),()=>t.complete()):t.error({msg:` Kh\xf4ng t\xecm th\u1ea5y [${e}]`}):(t.next(i),t.complete())})}}return l.\u0275fac=function(e){return new(e||l)(a.LFG(h.X))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);